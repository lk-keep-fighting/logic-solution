"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[701],{44668:function(U,f,t){t.d(f,{Z:function(){return C}});var D=t(56159),o=t(87363),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},O=P,M=t(45288),m=function(r,c){return o.createElement(M.Z,(0,D.Z)({},r,{ref:c,icon:O}))},C=o.forwardRef(m)},31120:function(U,f,t){t.d(f,{Z:function(){return C}});var D=t(56159),o=t(87363),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},O=P,M=t(45288),m=function(r,c){return o.createElement(M.Z,(0,D.Z)({},r,{ref:c,icon:O}))},C=o.forwardRef(m)},23542:function(U,f,t){t.d(f,{Z:function(){return V}});var D=t(57213),o=t.n(D),P=t(788),O=t(63466),M=t(21140),m=t(52510),C=t(54306),j=t.n(C),r=t(97944),c=t(83195),R=t(75904),W=t(47503),y=t(87363),Z=t.n(y),u=t(84191),N=t(49425),E=t(94744),d=t(33130),X=null,K=function(i){var e=(0,r.Ik)(),z=(0,y.useContext)(c.r),n=z.logic;(0,y.useEffect)(function(){if(n){var h,s,v,l,L=E.y.getJsonByParams((h=n.variables)!==null&&h!==void 0?h:[]),b=(0,u.k)("_var",L),x=E.y.getJsonByParams((s=n.params)!==null&&s!==void 0?s:[]),$=(0,u.k)("_par",x),w=E.y.getJsonByParams((v=n.returns)!==null&&v!==void 0?v:[]),q=(0,u.k)("_ret",w),tt=E.y.getJsonByParams((l=n.envs)!==null&&l!==void 0?l:[]),et=(0,u.k)("_env",tt);e==null||e.languages.typescript.javascriptDefaults.addExtraLib(b,"var.ts"),e==null||e.languages.typescript.javascriptDefaults.addExtraLib($,"input.ts"),e==null||e.languages.typescript.javascriptDefaults.addExtraLib(q,"return.ts"),e==null||e.languages.typescript.javascriptDefaults.addExtraLib(et,"env.ts"),e==null||e.languages.typescript.javascriptDefaults.addExtraLib("let _lastRet:{}","lastRet.ts")}return function(){var G;console.log("effect dispose"),e==null||(G=e.current)===null||G===void 0||G.dispose()}},[n==null?void 0:n.params,n==null?void 0:n.variables,n==null?void 0:n.returns,n==null?void 0:n.envs]);var H=(0,y.useState)(!1),g=j()(H,2),I=g[0],p=g[1];return(0,d.jsx)("div",{style:{width:"100%"},children:I?(0,d.jsx)(W.Z,{title:"js\u7F16\u8F91\u5668",centered:!0,width:1200,bodyStyle:{height:"80vh"},open:I,footer:null,onCancel:function(){return p(!1)},children:(0,d.jsx)(r.ML,o()(o()({theme:"vs-dark",defaultValue:i.value,defaultLanguage:i.language,options:{minimap:{enabled:!1}}},i),{},{height:"100%"}))}):(0,d.jsxs)("div",{children:[(0,d.jsx)(r.ML,o()({className:"editorByLoader",theme:"vs-dark",defaultValue:i.value,defaultLanguage:i.language,onMount:function(s){var v;(v=s.getAction("editor.action.formatDocument"))===null||v===void 0||v.run(),s.setValue(s.getValue())},options:{minimap:{enabled:!1}},height:500},i)),(0,d.jsx)(R.ZP,{size:"small",type:"text",icon:(0,d.jsx)(N.Z,{}),style:{position:"absolute",top:0,right:0,margin:"10px",color:"whitesmoke"},onClick:function(){return p(!0)}})]})})},A=Z().memo(K),Y=null,S=function(i){return(0,d.jsx)(A,o()(o()({},i),{},{language:"json"}))},a=S,Q=null,k=function(i){return(0,d.jsx)(A,o()(o()({},i),{},{language:"javascript"}))},J=k,B=t(16414),T=function(i){return(0,y.useEffect)(function(){r._m.config({monaco:B})},[]),(0,d.jsx)(P.ZP,o()({widgets:{json:a,js:J}},i))},F=T,V=T||F},62963:function(U,f,t){t.r(f),t.d(f,{default:function(){return Q}});var D=t(25359),o=t.n(D),P=t(49811),O=t.n(P),M=t(54306),m=t.n(M),C=t(43702),j=t(40767),r=t(46464),c=t(75904),R=t(58856),W=t(60986),y=t(77682),Z=t(98306),u=t(87363),N=t.n(u),E=t(61719),d=t(31120),X=t(47068),K=t(44668),A=t(39220),Y=t(23542),S=t(788),a=t(33130);function Q(k){var J=(0,u.useState)([]),B=m()(J,2),T=B[0],F=B[1],V=(0,u.useState)(!1),_=m()(V,2),i=_[0],e=_[1],z=(0,u.useState)(!1),n=m()(z,2),H=n[0],g=n[1],I=(0,S.cI)(),p=(0,u.useCallback)(function(){g(!0),(0,E.XY)().then(function(s){F(s.result.items),g(!1)}).catch(function(s){C.ZP.error(s.message),g(!1)})},[]),h=[{key:"btn",title:"\u64CD\u4F5C",dataIndex:"id",width:"100px",render:function(v,l){return(0,a.jsxs)(j.Z,{children:[(0,a.jsx)(Z.rU,{to:"/assets/logic/i/".concat(l.id,"/edit"),target:"_blank",children:(0,a.jsx)(d.Z,{})}),(0,a.jsx)(X.Z,{style:{color:"red"},onClick:function(){r.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u6B64\u4E1A\u52A1\u903B\u8F91\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){(0,E.dS)(l.id).then(function(x){p()})}})}})]})}},{key:"name",title:"\u4E1A\u52A1\u903B\u8F91\u540D\u79F0",width:"200px",dataIndex:"name"},{key:"module",title:"\u6A21\u5757\u540D",width:"200px",dataIndex:"module"},{key:"path",title:"path",dataIndex:"id",render:function(v,l){return(0,a.jsxs)("span",{children:["/logic/v1/run-api/".concat(l.id),(0,a.jsx)(c.ZP,{icon:(0,a.jsx)(K.Z,{}),type:"text",onClick:function(){navigator.clipboard.writeText("/logic/v1/run-api/".concat(l.id))}})]})}},{key:"id",title:"ID",dataIndex:"id"}];return(0,u.useEffect)(function(){p()},[]),(0,a.jsx)(R.Z,{children:(0,a.jsxs)(R.Z.Content,{children:[(0,a.jsx)(W.Z,{style:{marginBottom:"5px"},children:(0,a.jsx)(c.ZP,{type:"primary",icon:(0,a.jsx)(A.Z,{}),style:{margin:"5px"},onClick:function(){return e(!0)},children:"\u65B0\u5EFA\u7F16\u6392"})}),(0,a.jsx)(y.Z,{loading:H,columns:h,dataSource:T}),(0,a.jsx)(r.Z,{open:i,footer:!1,title:"\u65B0\u5EFA\u7F16\u6392",onCancel:function(){return e(!1)},children:(0,a.jsx)(Y.Z,{style:{margin:"10px"},form:I,schema:{type:"object",properties:{id:{title:"\u552F\u4E00\u7F16\u53F7",type:"string",widget:"input"},module:{title:"\u6A21\u5757\u540D",type:"string",widget:"input"},name:{title:"\u4E1A\u52A1\u540D\u79F0",type:"string",widget:"input"}}},footer:function(){return(0,a.jsx)(c.ZP,{type:"primary",style:{width:"200px"},onClick:O()(o()().mark(function v(){var l,L;return o()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return l=I.getValues(),g(!0),e(!1),x.next=5,(0,E._5)(l);case 5:L=x.sent,g(!1),p();case 8:case"end":return x.stop()}},v)})),children:"\u4FDD\u5B58"})}})})]})})}}}]);
