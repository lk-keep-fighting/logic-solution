"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[403],{32182:function(B,v,e){e.d(v,{Z:function(){return j}});var Z=e(56159),n=e(87363),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},c=w,A=e(32484),m=function(y,x){return n.createElement(A.Z,(0,Z.Z)({},y,{ref:x,icon:c}))},j=n.forwardRef(m)},24172:function(B,v,e){e.r(v),e.d(v,{default:function(){return Q}});var Z=e(25359),n=e.n(Z),w=e(49811),c=e.n(w),A=e(54306),m=e.n(A),j=e(52001),S=e(81021),y=e(52192),x=e(69624),G=e(1353),J=e(25232),M=e(87845),g=e(87363),I=e(70517);function _(r){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function r(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",axios.post("/api/form/apis/query",{ids:[s]}).then(function(i){var u=i.data.result.items[0].configJson;return JSON.parse(u)}));case 1:case"end":return t.stop()}},r)})),O.apply(this,arguments)}function P(r,s){return C.apply(this,arguments)}function C(){return C=c()(n()().mark(function r(s,l){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",I.Z.post("/api/form/apis/add",{id:s,name:l}).then(function(u){var f=u.data.result;return f}));case 1:case"end":return i.stop()}},r)})),C.apply(this,arguments)}function H(r){return E.apply(this,arguments)}function E(){return E=c()(n()().mark(function r(s){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I.Z.delete("/api/form/apis/delete/".concat(s)).then(function(i){return i.data.result}));case 1:case"end":return t.stop()}},r)})),E.apply(this,arguments)}function N(){return R.apply(this,arguments)}function R(){return R=c()(n()().mark(function r(){var s,l,t=arguments;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s=t.length>0&&t[0]!==void 0?t[0]:1,l=t.length>1&&t[1]!==void 0?t[1]:10,u.abrupt("return",I.Z.post("/api/form/apis/query",{page:s,pageSize:l}).then(function(f){return f.data}));case 3:case"end":return u.stop()}},r)})),R.apply(this,arguments)}var U=e(32182),V=e(11165),k=e(83132),K=e(69947),a=e(33130);function Q(r){var s=(0,g.useState)([]),l=m()(s,2),t=l[0],i=l[1],u=(0,g.useState)(!1),f=m()(u,2),W=f[0],z=f[1],X=(0,g.useState)(!1),$=m()(X,2),Y=$[0],h=$[1],D=(0,K.cI)(),L=(0,g.useCallback)(function(){h(!0),N().then(function(o){i(o.result.items),h(!1)}).catch(function(o){j.ZP.error(o.message),h(!1)})},[]),b=[{key:"btn",title:"\u64CD\u4F5C",dataIndex:"id",width:"100px",render:function(T,d){return(0,a.jsxs)(S.Z,{children:[(0,a.jsx)(U.Z,{}),(0,a.jsx)(V.Z,{style:{color:"red"},onClick:function(){y.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u6B64Api\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){H(d.id).then(function(p){L()})}})}})]})}},{key:"system",title:"\u7CFB\u7EDF\u540D",width:"200px",dataIndex:"system"},{key:"path",title:"\u8DEF\u5F84",width:"300px",dataIndex:"path"},{key:"method",title:"method",width:"100px",dataIndex:"method"},{key:"swagger_id",title:"\u5173\u8054swagger",width:"200px",dataIndex:"swagger_id",render:function(T,d){return(0,a.jsx)(S.Z,{children:(0,a.jsx)(M.rU,{to:"/assets/swagger/i/".concat(d.swaggerId,"/ui"),target:"_blank",children:d.swagger_id})})}},{key:"id",title:"ID",dataIndex:"id"}];return(0,g.useEffect)(function(){L()},[]),(0,a.jsx)(x.Z,{children:(0,a.jsxs)(x.Z.Content,{children:[(0,a.jsx)(G.Z,{loading:Y,columns:b,dataSource:t}),(0,a.jsx)(y.Z,{open:W,footer:!1,title:"\u65B0\u5EFA\u7F16\u6392",onCancel:function(){return z(!1)},children:(0,a.jsx)(k.Z,{style:{margin:"10px"},form:D,schema:{type:"object",properties:{id:{title:"\u552F\u4E00\u7F16\u53F7",type:"string",widget:"input"},name:{title:"\u4E1A\u52A1\u540D\u79F0",type:"string",widget:"input"}}},footer:function(){return(0,a.jsx)(J.ZP,{type:"primary",style:{width:"200px"},onClick:c()(n()().mark(function T(){var d,F;return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return d=D.getValues(),h(!0),z(!1),p.next=5,P(d.id,d.name);case 5:F=p.sent,h(!1),L();case 8:case"end":return p.stop()}},T)})),children:"\u4FDD\u5B58"})}})})]})})}}}]);
