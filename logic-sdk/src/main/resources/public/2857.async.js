!(function(){var kq=Object.defineProperty,wq=Object.defineProperties;var _q=Object.getOwnPropertyDescriptors;var sP=Object.getOwnPropertySymbols;var tq=Object.prototype.hasOwnProperty,nq=Object.prototype.propertyIsEnumerable;var eq=(Tn,bn,Ve)=>bn in Tn?kq(Tn,bn,{enumerable:!0,configurable:!0,writable:!0,value:Ve}):Tn[bn]=Ve,te=(Tn,bn)=>{for(var Ve in bn||(bn={}))tq.call(bn,Ve)&&eq(Tn,Ve,bn[Ve]);if(sP)for(var Ve of sP(bn))nq.call(bn,Ve)&&eq(Tn,Ve,bn[Ve]);return Tn},pt=(Tn,bn)=>wq(Tn,_q(bn));var d_=(Tn,bn)=>{var Ve={};for(var Pn in Tn)tq.call(Tn,Pn)&&bn.indexOf(Pn)<0&&(Ve[Pn]=Tn[Pn]);if(Tn!=null&&sP)for(var Pn of sP(Tn))bn.indexOf(Pn)<0&&nq.call(Tn,Pn)&&(Ve[Pn]=Tn[Pn]);return Ve};var f_=(Tn,bn,Ve)=>new Promise((Pn,Ao)=>{var So=yn=>{try{Qe(Ve.next(yn))}catch(An){Ao(An)}},Xn=yn=>{try{Qe(Ve.throw(yn))}catch(An){Ao(An)}},Qe=yn=>yn.done?Pn(yn.value):Promise.resolve(yn.value).then(So,Xn);Qe((Ve=Ve.apply(Tn,bn)).next())});(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[2857],{12857:function(Tn,bn,Ve){"use strict";Ve.r(bn),Ve.d(bn,{default:function(){return kn}});var Pn=Ve(76977),Ao=Ve(87363),So=Ve.n(Ao),Xn=Ve(89366),Qe=Ve.n(Xn),yn=Ve(46075),An=Ve.n(yn),Ln=Ve(74848),zo=Ve.n(Ln),dn=Ve(73973),en=Ve.n(dn),Wt=Ve(80076),ln=Ve.n(Wt),ot=Ve(92126),Rt=Ve.n(ot),Ot=Ve(19550),W=Ve.n(Ot),ft=Ve(37869),Fo=Ve.n(ft),ht=Ve(18763),H=Ve.n(ht),at=Ve(32511),Sn=Ve.n(at),Jt=Ve(72961),$e=Ve.n(Jt),ce=Ve(36719),Ro=Ve.n(ce),Se=Ve(23756),De=Ve.n(Se),E=Ve(31792),gn=Ve.n(E),rt=Ve(65704),Hn=Ve.n(rt),tn=Ve(4795),et=Ve.n(tn),uo=Ve(35323),Yo=Ve.n(uo),Ct=Ve(52184),vn=Ve.n(Ct),Re=Ve(6817),it=Ve.n(Re),F=Ve(47828),Xo=Ve.n(F),no=Ve(73276),lt=Ve.n(no),bt=Ve(24701),Ft=Ve.n(bt),ee=Ve(60527),he=Ve.n(ee),we=Ve(91301),ae=Ve.n(we),Ne=Ve(49858),Pe=Ve.n(Ne),Ye=Ve(81812),We=Ve.n(Ye),J=Ve(84321),xe=Ve.n(J),Le=Ve(51562),Mt=Ve.n(Le),Zn=Ve(25169),On=Ve.n(Zn),Nn=Ve(45288),Un=Ve.n(Nn),$o=Ve(76299),to=Ve.n($o),Jn=Ve(12287),ao=Ve.n(Jn),kn=function(co){(0,Pn.ZT)(Zo,co);function Zo(){var Jo=co!==null&&co.apply(this,arguments)||this;return Jo.unmounted=!1,Jo.editorInitialized=!1,Jo.elementRef=So().createRef(),Jo}return Zo.prototype.componentDidMount=function(){return(0,Pn.mG)(this,void 0,void 0,function(){var Jo,as,xo,wr,xt=this;return(0,Pn.Jh)(this,function(Oo){switch(Oo.label){case 0:return Jo=this.props.locale,as=this.props.config||{},xo=as.onLoaded,wr=(0,Pn._T)(as,["onLoaded"]),this.config=(0,Pn.pi)((0,Pn.pi)({inline:!1,skin:!1,content_css:!1,height:400,language:!Jo||Jo==="zh-CN"?"zh_CN":"en",branding:!1,plugins:["advlist","autolink","autoresize","link","image","lists","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","nonbreaking","table","emoticons","template","help","quickbars"],toolbar:"undo redo | blocks | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | preview media | fontfamily fontsize forecolor backcolor emoticons | print help",quickbars_selection_toolbar:"bold italic | link h2 h3 blockquote",quickbars_insert_toolbar:"quickimage quicktable",menu:{file:{title:"File",items:"newdocument restoredraft | preview | print "},edit:{title:"Edit",items:"undo redo | cut copy paste | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontsize align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"code wordcount"},table:{title:"Table",items:"inserttable | cell row column | tableprops deletetable"},help:{title:"Help",items:"help"}},paste_data_images:!0,content_style:"[data-mce-bogus] video {display:none;}"},wr),{target:this.elementRef.current,readOnly:this.props.disabled,promotion:!1,setup:function(Js){xt.editor=Js,Js.on("init",function(_r){xt.editorInitialized=!0,xt.initEditor(_r,Js)})}}),[4,xo==null?void 0:xo(Qe())];case 1:return Oo.sent(),this.unmounted||Qe().init(this.config),[2]}})})},Zo.prototype.componentDidUpdate=function(Jo){var as,xo=this.props;xo.model!==Jo.model&&xo.model!==this.currentContent&&this.editorInitialized&&((as=this.editor)===null||as===void 0||as.setContent(xo.model||""))},Zo.prototype.componentWillUnmount=function(){Qe().remove(this.editor),this.unmounted=!0},Zo.prototype.initEditor=function(Jo,as){var xo=this,wr=this.props,xt=wr.model,Oo=wr.onModelChange,Js=wr.outputFormat,_r=wr.onFocus,Pr=wr.onBlur,qr=xt||"";as.setContent(qr),Oo&&as.on("change keyup setcontent",function(Cs){var Jr=as.getContent({format:Js});Jr!==xo.currentContent&&(xo.currentContent=Jr,Oo(Jr))}),_r&&as.on("focus",_r),Pr&&as.on("blur",Pr)},Zo.prototype.render=function(){return So().createElement("textarea",{ref:this.elementRef})},Zo.defaultProps={outputFormat:"html"},Zo}(So().Component);Qe().addI18n("zh_CN",{Redo:"\u91CD\u505A",Undo:"\u64A4\u9500",Cut:"\u526A\u5207",Copy:"\u590D\u5236",Paste:"\u7C98\u8D34","Select all":"\u5168\u9009","New document":"\u65B0\u6587\u4EF6",Ok:"\u786E\u5B9A",Cancel:"\u53D6\u6D88","Visual aids":"\u7F51\u683C\u7EBF",Bold:"\u7C97\u4F53",Italic:"\u659C\u4F53",Underline:"\u4E0B\u5212\u7EBF",Strikethrough:"\u5220\u9664\u7EBF",Superscript:"\u4E0A\u6807",Subscript:"\u4E0B\u6807","Clear formatting":"\u6E05\u9664\u683C\u5F0F","Align left":"\u5DE6\u8FB9\u5BF9\u9F50","Align center":"\u4E2D\u95F4\u5BF9\u9F50","Align right":"\u53F3\u8FB9\u5BF9\u9F50",Justify:"\u4E24\u7AEF\u5BF9\u9F50","Bullet list":"\u9879\u76EE\u7B26\u53F7","Numbered list":"\u7F16\u53F7\u5217\u8868","Decrease indent":"\u51CF\u5C11\u7F29\u8FDB","Increase indent":"\u589E\u52A0\u7F29\u8FDB",Close:"\u5173\u95ED",Formats:"\u683C\u5F0F","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"\u4F60\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u6253\u5F00\u526A\u8D34\u677F\uFF0C\u8BF7\u4F7F\u7528Ctrl+X/C/V\u7B49\u5FEB\u6377\u952E\u3002",Headers:"\u6807\u9898","Header 1":"\u6807\u98981","Header 2":"\u6807\u98982","Header 3":"\u6807\u98983","Header 4":"\u6807\u98984","Header 5":"\u6807\u98985","Header 6":"\u6807\u98986",Headings:"\u6807\u9898","Heading 1":"\u6807\u98981","Heading 2":"\u6807\u98982","Heading 3":"\u6807\u98983","Heading 4":"\u6807\u98984","Heading 5":"\u6807\u98985","Heading 6":"\u6807\u98986",Preformatted:"\u9884\u5148\u683C\u5F0F\u5316\u7684",Div:"Div",Pre:"Pre",Code:"\u4EE3\u7801",Paragraph:"\u6BB5\u843D",Blockquote:"\u5F15\u6587\u533A\u5757",Inline:"\u6587\u672C",Blocks:"\u57FA\u5757","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"\u5F53\u524D\u4E3A\u7EAF\u6587\u672C\u7C98\u8D34\u6A21\u5F0F\uFF0C\u518D\u6B21\u70B9\u51FB\u53EF\u4EE5\u56DE\u5230\u666E\u901A\u7C98\u8D34\u6A21\u5F0F\u3002",Fonts:"\u5B57\u4F53","Font Sizes":"\u5B57\u53F7",Class:"\u7C7B\u578B","Browse for an image":"\u6D4F\u89C8\u56FE\u50CF",OR:"\u6216","Drop an image here":"\u62D6\u653E\u4E00\u5F20\u56FE\u50CF\u81F3\u6B64",Upload:"\u4E0A\u4F20",Block:"\u5757",Align:"\u5BF9\u9F50",Default:"\u9ED8\u8BA4",Circle:"\u7A7A\u5FC3\u5706",Disc:"\u5B9E\u5FC3\u5706",Square:"\u65B9\u5757","Lower Alpha":"\u5C0F\u5199\u82F1\u6587\u5B57\u6BCD","Lower Greek":"\u5C0F\u5199\u5E0C\u814A\u5B57\u6BCD","Lower Roman":"\u5C0F\u5199\u7F57\u9A6C\u5B57\u6BCD","Upper Alpha":"\u5927\u5199\u82F1\u6587\u5B57\u6BCD","Upper Roman":"\u5927\u5199\u7F57\u9A6C\u5B57\u6BCD","Anchor...":"\u951A\u70B9...",Name:"\u540D\u79F0",Id:"\u6807\u8BC6\u7B26","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"\u6807\u8BC6\u7B26\u5E94\u8BE5\u4EE5\u5B57\u6BCD\u5F00\u5934\uFF0C\u540E\u8DDF\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u7834\u6298\u53F7\u3001\u70B9\u3001\u5192\u53F7\u6216\u4E0B\u5212\u7EBF\u3002","You have unsaved changes are you sure you want to navigate away?":"\u4F60\u8FD8\u6709\u6587\u6863\u5C1A\u672A\u4FDD\u5B58\uFF0C\u786E\u5B9A\u8981\u79BB\u5F00\uFF1F","Restore last draft":"\u6062\u590D\u4E0A\u6B21\u7684\u8349\u7A3F","Special character...":"\u7279\u6B8A\u5B57\u7B26...","Source code":"\u6E90\u4EE3\u7801","Insert/Edit code sample":"\u63D2\u5165/\u7F16\u8F91\u4EE3\u7801\u793A\u4F8B",Language:"\u8BED\u8A00","Code sample...":"\u793A\u4F8B\u4EE3\u7801...","Color Picker":"\u9009\u8272\u5668",R:"R",G:"G",B:"B","Left to right":"\u4ECE\u5DE6\u5230\u53F3","Right to left":"\u4ECE\u53F3\u5230\u5DE6","Emoticons...":"\u8868\u60C5\u7B26\u53F7...","Metadata and Document Properties":"\u5143\u6570\u636E\u548C\u6587\u6863\u5C5E\u6027",Title:"\u6807\u9898",Keywords:"\u5173\u952E\u8BCD",Description:"\u63CF\u8FF0",Robots:"\u673A\u5668\u4EBA",Author:"\u4F5C\u8005",Encoding:"\u7F16\u7801",Fullscreen:"\u5168\u5C4F",Action:"\u64CD\u4F5C",Shortcut:"\u5FEB\u6377\u952E",Help:"\u5E2E\u52A9",Address:"\u5730\u5740","Focus to menubar":"\u79FB\u52A8\u7126\u70B9\u5230\u83DC\u5355\u680F","Focus to toolbar":"\u79FB\u52A8\u7126\u70B9\u5230\u5DE5\u5177\u680F","Focus to element path":"\u79FB\u52A8\u7126\u70B9\u5230\u5143\u7D20\u8DEF\u5F84","Focus to contextual toolbar":"\u79FB\u52A8\u7126\u70B9\u5230\u4E0A\u4E0B\u6587\u83DC\u5355","Insert link (if link plugin activated)":"\u63D2\u5165\u94FE\u63A5 (\u5982\u679C\u94FE\u63A5\u63D2\u4EF6\u5DF2\u6FC0\u6D3B)","Save (if save plugin activated)":"\u4FDD\u5B58(\u5982\u679C\u4FDD\u5B58\u63D2\u4EF6\u5DF2\u6FC0\u6D3B)","Find (if searchreplace plugin activated)":"\u67E5\u627E(\u5982\u679C\u67E5\u627E\u66FF\u6362\u63D2\u4EF6\u5DF2\u6FC0\u6D3B)","Plugins installed ({0}):":"\u5DF2\u5B89\u88C5\u63D2\u4EF6 ({0}):","Premium plugins:":"\u4F18\u79C0\u63D2\u4EF6\uFF1A","Learn more...":"\u4E86\u89E3\u66F4\u591A...","You are using {0}":"\u4F60\u6B63\u5728\u4F7F\u7528 {0}",Plugins:"\u63D2\u4EF6","Handy Shortcuts":"\u5FEB\u6377\u952E","Horizontal line":"\u6C34\u5E73\u5206\u5272\u7EBF","Insert/edit image":"\u63D2\u5165/\u7F16\u8F91\u56FE\u7247","Image description":"\u56FE\u7247\u63CF\u8FF0",Source:"\u5730\u5740",Dimensions:"\u5927\u5C0F","Constrain proportions":"\u4FDD\u6301\u7EB5\u6A2A\u6BD4",General:"\u666E\u901A",Advanced:"\u9AD8\u7EA7",Style:"\u6837\u5F0F","Vertical space":"\u5782\u76F4\u8FB9\u8DDD","Horizontal space":"\u6C34\u5E73\u8FB9\u8DDD",Border:"\u8FB9\u6846","Insert image":"\u63D2\u5165\u56FE\u7247","Image...":"\u56FE\u7247...","Image list":"\u56FE\u7247\u5217\u8868","Rotate counterclockwise":"\u9006\u65F6\u9488\u65CB\u8F6C","Rotate clockwise":"\u987A\u65F6\u9488\u65CB\u8F6C","Flip vertically":"\u5782\u76F4\u7FFB\u8F6C","Flip horizontally":"\u6C34\u5E73\u7FFB\u8F6C","Edit image":"\u7F16\u8F91\u56FE\u7247","Image options":"\u56FE\u7247\u9009\u9879","Zoom in":"\u653E\u5927","Zoom out":"\u7F29\u5C0F",Crop:"\u88C1\u526A",Resize:"\u8C03\u6574\u5927\u5C0F",Orientation:"\u65B9\u5411",Brightness:"\u4EAE\u5EA6",Sharpen:"\u9510\u5316",Contrast:"\u5BF9\u6BD4\u5EA6","Color levels":"\u989C\u8272\u5C42\u6B21",Gamma:"\u4F3D\u9A6C\u503C",Invert:"\u53CD\u8F6C",Apply:"\u5E94\u7528",Back:"\u540E\u9000","Insert date/time":"\u63D2\u5165\u65E5\u671F/\u65F6\u95F4","Date/time":"\u65E5\u671F/\u65F6\u95F4","Insert/Edit Link":"\u63D2\u5165/\u7F16\u8F91\u94FE\u63A5","Insert/edit link":"\u63D2\u5165/\u7F16\u8F91\u94FE\u63A5","Text to display":"\u663E\u793A\u6587\u5B57",Url:"\u5730\u5740","Open link in...":"\u94FE\u63A5\u6253\u5F00\u4F4D\u7F6E...","Current window":"\u5F53\u524D\u7A97\u53E3",None:"\u65E0","New window":"\u5728\u65B0\u7A97\u53E3\u6253\u5F00","Remove link":"\u5220\u9664\u94FE\u63A5",Anchors:"\u951A\u70B9","Link...":"\u94FE\u63A5...","Paste or type a link":"\u7C98\u8D34\u6216\u8F93\u5165\u94FE\u63A5","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"\u4F60\u6240\u586B\u5199\u7684URL\u5730\u5740\u4E3A\u90AE\u4EF6\u5730\u5740\uFF0C\u9700\u8981\u52A0\u4E0Amailto:\u524D\u7F00\u5417\uFF1F","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"\u4F60\u6240\u586B\u5199\u7684URL\u5730\u5740\u5C5E\u4E8E\u5916\u90E8\u94FE\u63A5\uFF0C\u9700\u8981\u52A0\u4E0Ahttp://:\u524D\u7F00\u5417\uFF1F","Link list":"\u94FE\u63A5\u5217\u8868","Insert video":"\u63D2\u5165\u89C6\u9891","Insert/edit video":"\u63D2\u5165/\u7F16\u8F91\u89C6\u9891","Insert/edit media":"\u63D2\u5165/\u7F16\u8F91\u5A92\u4F53","Alternative source":"\u955C\u50CF","Alternative source URL":"\u66FF\u4EE3\u6765\u6E90\u7F51\u5740","Media poster (Image URL)":"\u5C01\u9762(\u56FE\u7247\u5730\u5740)","Paste your embed code below:":"\u5C06\u5185\u5D4C\u4EE3\u7801\u7C98\u8D34\u5728\u4E0B\u9762:",Embed:"\u5185\u5D4C","Media...":"\u591A\u5A92\u4F53...","Nonbreaking space":"\u4E0D\u95F4\u65AD\u7A7A\u683C","Page break":"\u5206\u9875\u7B26","Paste as text":"\u7C98\u8D34\u4E3A\u6587\u672C",Preview:"\u9884\u89C8","Print...":"\u6253\u5370...",Save:"\u4FDD\u5B58",Find:"\u67E5\u627E","Replace with":"\u66FF\u6362\u4E3A",Replace:"\u66FF\u6362","Replace all":"\u5168\u90E8\u66FF\u6362",Previous:"\u4E0A\u4E00\u4E2A",Next:"\u4E0B\u4E00\u4E2A","Find and replace...":"\u67E5\u627E\u5E76\u66FF\u6362...","Could not find the specified string.":"\u672A\u627E\u5230\u641C\u7D22\u5185\u5BB9.","Match case":"\u533A\u5206\u5927\u5C0F\u5199","Find whole words only":"\u5168\u5B57\u5339\u914D","Spell check":"\u62FC\u5199\u68C0\u67E5",Ignore:"\u5FFD\u7565","Ignore all":"\u5168\u90E8\u5FFD\u7565",Finish:"\u5B8C\u6210","Add to Dictionary":"\u6DFB\u52A0\u5230\u5B57\u5178","Insert table":"\u63D2\u5165\u8868\u683C","Table properties":"\u8868\u683C\u5C5E\u6027","Delete table":"\u5220\u9664\u8868\u683C",Cell:"\u5355\u5143\u683C",Row:"\u884C",Column:"\u5217","Cell properties":"\u5355\u5143\u683C\u5C5E\u6027","Merge cells":"\u5408\u5E76\u5355\u5143\u683C","Split cell":"\u62C6\u5206\u5355\u5143\u683C","Insert row before":"\u5728\u4E0A\u65B9\u63D2\u5165","Insert row after":"\u5728\u4E0B\u65B9\u63D2\u5165","Delete row":"\u5220\u9664\u884C","Row properties":"\u884C\u5C5E\u6027","Cut row":"\u526A\u5207\u884C","Copy row":"\u590D\u5236\u884C","Paste row before":"\u7C98\u8D34\u5230\u4E0A\u65B9","Paste row after":"\u7C98\u8D34\u5230\u4E0B\u65B9","Insert column before":"\u5728\u5DE6\u4FA7\u63D2\u5165","Insert column after":"\u5728\u53F3\u4FA7\u63D2\u5165","Delete column":"\u5220\u9664\u5217",Cols:"\u5217",Rows:"\u884C",Width:"\u5BBD",Height:"\u9AD8","Cell spacing":"\u5355\u5143\u683C\u5916\u95F4\u8DDD","Cell padding":"\u5355\u5143\u683C\u5185\u8FB9\u8DDD","Show caption":"\u663E\u793A\u6807\u9898",Left:"\u5DE6\u5BF9\u9F50",Center:"\u5C45\u4E2D",Right:"\u53F3\u5BF9\u9F50","Cell type":"\u5355\u5143\u683C\u7C7B\u578B",Scope:"\u8303\u56F4",Alignment:"\u5BF9\u9F50\u65B9\u5F0F","H Align":"\u6C34\u5E73\u5BF9\u9F50","V Align":"\u5782\u76F4\u5BF9\u9F50",Top:"\u9876\u90E8\u5BF9\u9F50",Middle:"\u5782\u76F4\u5C45\u4E2D",Bottom:"\u5E95\u90E8\u5BF9\u9F50","Header cell":"\u8868\u5934\u5355\u5143\u683C","Row group":"\u884C\u7EC4","Column group":"\u5217\u7EC4","Row type":"\u884C\u7C7B\u578B",Header:"\u8868\u5934",Body:"\u8868\u4F53",Footer:"\u8868\u5C3E","Border color":"\u8FB9\u6846\u989C\u8272","Insert template...":"\u63D2\u5165\u6A21\u677F...",Templates:"\u6A21\u677F",Template:"\u6A21\u677F","Text color":"\u6587\u5B57\u989C\u8272","Background color":"\u80CC\u666F\u8272","Custom...":"\u81EA\u5B9A\u4E49...","Custom color":"\u81EA\u5B9A\u4E49\u989C\u8272","No color":"\u65E0","Remove color":"\u79FB\u9664\u989C\u8272","Table of Contents":"\u5185\u5BB9\u5217\u8868","Show blocks":"\u663E\u793A\u533A\u5757\u8FB9\u6846","Show invisible characters":"\u663E\u793A\u4E0D\u53EF\u89C1\u5B57\u7B26","Word count":"\u5B57\u6570",Count:"\u8BA1\u6570",Document:"\u6587\u6863",Selection:"\u9009\u62E9",Words:"\u5355\u8BCD","Words: {0}":"\u5B57\u6570\uFF1A{0}","{0} words":"{0} \u5B57",File:"\u6587\u4EF6",Edit:"\u7F16\u8F91",Insert:"\u63D2\u5165",View:"\u89C6\u56FE",Format:"\u683C\u5F0F",Table:"\u8868\u683C",Tools:"\u5DE5\u5177","Powered by {0}":"\u7531{0}\u9A71\u52A8","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"\u5728\u7F16\u8F91\u533A\u6309ALT-F9\u6253\u5F00\u83DC\u5355\uFF0C\u6309ALT-F10\u6253\u5F00\u5DE5\u5177\u680F\uFF0C\u6309ALT-0\u67E5\u770B\u5E2E\u52A9","Image title":"\u56FE\u7247\u6807\u9898","Border width":"\u8FB9\u6846\u5BBD\u5EA6","Border style":"\u8FB9\u6846\u6837\u5F0F",Error:"\u9519\u8BEF",Warn:"\u8B66\u544A",Valid:"\u6709\u6548","To open the popup, press Shift+Enter":"\u6309Shitf+Enter\u952E\u6253\u5F00\u5BF9\u8BDD\u6846","Rich Text Area. Press ALT-0 for help.":"\u7F16\u8F91\u533A\u3002\u6309Alt+0\u952E\u6253\u5F00\u5E2E\u52A9\u3002","System Font":"\u7CFB\u7EDF\u5B57\u4F53","Failed to upload image: {0}":"\u56FE\u7247\u4E0A\u4F20\u5931\u8D25: {0}","Failed to load plugin: {0} from url {1}":"\u63D2\u4EF6\u52A0\u8F7D\u5931\u8D25: {0} \u6765\u81EA\u94FE\u63A5 {1}","Failed to load plugin url: {0}":"\u63D2\u4EF6\u52A0\u8F7D\u5931\u8D25 \u94FE\u63A5: {0}","Failed to initialize plugin: {0}":"\u63D2\u4EF6\u521D\u59CB\u5316\u5931\u8D25: {0}",example:"\u793A\u4F8B",Search:"\u641C\u7D22",All:"\u5168\u90E8",Currency:"\u8D27\u5E01",Text:"\u6587\u5B57",Quotations:"\u5F15\u7528",Mathematical:"\u6570\u5B66","Extended Latin":"\u62C9\u4E01\u8BED\u6269\u5145",Symbols:"\u7B26\u53F7",Arrows:"\u7BAD\u5934","User Defined":"\u81EA\u5B9A\u4E49","dollar sign":"\u7F8E\u5143\u7B26\u53F7","currency sign":"\u8D27\u5E01\u7B26\u53F7","euro-currency sign":"\u6B27\u5143\u7B26\u53F7","colon sign":"\u5192\u53F7","cruzeiro sign":"\u514B\u9C81\u8D5B\u7F57\u5E01\u7B26\u53F7","french franc sign":"\u6CD5\u90CE\u7B26\u53F7","lira sign":"\u91CC\u62C9\u7B26\u53F7","mill sign":"\u5BC6\u5C14\u7B26\u53F7","naira sign":"\u5948\u62C9\u7B26\u53F7","peseta sign":"\u6BD4\u585E\u5854\u7B26\u53F7","rupee sign":"\u5362\u6BD4\u7B26\u53F7","won sign":"\u97E9\u5143\u7B26\u53F7","new sheqel sign":"\u65B0\u8C22\u514B\u5C14\u7B26\u53F7","dong sign":"\u8D8A\u5357\u76FE\u7B26\u53F7","kip sign":"\u8001\u631D\u57FA\u666E\u7B26\u53F7","tugrik sign":"\u56FE\u683C\u91CC\u514B\u7B26\u53F7","drachma sign":"\u5FB7\u62C9\u514B\u9A6C\u7B26\u53F7","german penny symbol":"\u5FB7\u56FD\u4FBF\u58EB\u7B26\u53F7","peso sign":"\u6BD4\u7D22\u7B26\u53F7","guarani sign":"\u74DC\u62C9\u5C3C\u7B26\u53F7","austral sign":"\u6FB3\u5143\u7B26\u53F7","hryvnia sign":"\u683C\u91CC\u592B\u5C3C\u4E9A\u7B26\u53F7","cedi sign":"\u585E\u5730\u7B26\u53F7","livre tournois sign":"\u91CC\u5F17\u5F17\u5C14\u7B26\u53F7","spesmilo sign":"spesmilo\u7B26\u53F7","tenge sign":"\u575A\u6208\u7B26\u53F7","indian rupee sign":"\u5370\u5EA6\u5362\u6BD4","turkish lira sign":"\u571F\u8033\u5176\u91CC\u62C9","nordic mark sign":"\u5317\u6B27\u9A6C\u514B","manat sign":"\u9A6C\u7EB3\u7279\u7B26\u53F7","ruble sign":"\u5362\u5E03\u7B26\u53F7","yen character":"\u65E5\u5143\u5B57\u6837","yuan character":"\u4EBA\u6C11\u5E01\u5143\u5B57\u6837","yuan character, in hong kong and taiwan":"\u5143\u5B57\u6837\uFF08\u6E2F\u53F0\u5730\u533A\uFF09","yen/yuan character variant one":"\u5143\u5B57\u6837\uFF08\u5927\u5199\uFF09","Loading emoticons...":"\u52A0\u8F7D\u8868\u60C5\u7B26\u53F7...","Could not load emoticons":"\u4E0D\u80FD\u52A0\u8F7D\u8868\u60C5\u7B26\u53F7",People:"\u4EBA\u7C7B","Animals and Nature":"\u52A8\u7269\u548C\u81EA\u7136","Food and Drink":"\u98DF\u7269\u548C\u996E\u54C1",Activity:"\u6D3B\u52A8","Travel and Places":"\u65C5\u6E38\u548C\u5730\u70B9",Objects:"\u7269\u4EF6",Flags:"\u65D7\u5E1C",Characters:"\u5B57\u7B26","Characters (no spaces)":"\u5B57\u7B26(\u65E0\u7A7A\u683C)","{0} characters":"{0} \u4E2A\u5B57\u7B26","Error: Form submit field collision.":"\u9519\u8BEF: \u8868\u5355\u63D0\u4EA4\u5B57\u6BB5\u51B2\u7A81\u3002","Error: No form element found.":"\u9519\u8BEF: \u6CA1\u6709\u8868\u5355\u63A7\u4EF6\u3002",Update:"\u66F4\u65B0","Color swatch":"\u989C\u8272\u6837\u672C",Turquoise:"\u9752\u7EFF\u8272",Green:"\u7EFF\u8272",Blue:"\u84DD\u8272",Purple:"\u7D2B\u8272","Navy Blue":"\u6D77\u519B\u84DD","Dark Turquoise":"\u6DF1\u84DD\u7EFF\u8272","Dark Green":"\u6DF1\u7EFF\u8272","Medium Blue":"\u4E2D\u84DD\u8272","Medium Purple":"\u4E2D\u7D2B\u8272","Midnight Blue":"\u6DF1\u84DD\u8272",Yellow:"\u9EC4\u8272",Orange:"\u6A59\u8272",Red:"\u7EA2\u8272","Light Gray":"\u6D45\u7070\u8272",Gray:"\u7070\u8272","Dark Yellow":"\u6697\u9EC4\u8272","Dark Orange":"\u6DF1\u6A59\u8272","Dark Red":"\u6DF1\u7EA2\u8272","Medium Gray":"\u4E2D\u7070\u8272","Dark Gray":"\u6DF1\u7070\u8272","Light Green":"\u6D45\u7EFF\u8272","Light Yellow":"\u6D45\u9EC4\u8272","Light Red":"\u6D45\u7EA2\u8272","Light Purple":"\u6D45\u7D2B\u8272","Light Blue":"\u6D45\u84DD\u8272","Dark Purple":"\u6DF1\u7D2B\u8272","Dark Blue":"\u6DF1\u84DD\u8272",Black:"\u9ED1\u8272",White:"\u767D\u8272","Switch to or from fullscreen mode":"\u5207\u6362\u5168\u5C4F\u6A21\u5F0F","Open help dialog":"\u6253\u5F00\u5E2E\u52A9\u5BF9\u8BDD\u6846",history:"\u5386\u53F2",styles:"\u6837\u5F0F",formatting:"\u683C\u5F0F\u5316",alignment:"\u5BF9\u9F50",indentation:"\u7F29\u8FDB","permanent pen":"\u8BB0\u53F7\u7B14",comments:"\u5907\u6CE8","Format Painter":"\u683C\u5F0F\u5237","Insert/edit iframe":"\u63D2\u5165/\u7F16\u8F91\u6846\u67B6",Capitalization:"\u5927\u5199",lowercase:"\u5C0F\u5199",UPPERCASE:"\u5927\u5199","Title Case":"\u9996\u5B57\u6BCD\u5927\u5199","Permanent Pen Properties":"\u6C38\u4E45\u7B14\u5C5E\u6027","Permanent pen properties...":"\u6C38\u4E45\u7B14\u5C5E\u6027...",Font:"\u5B57\u4F53",Size:"\u5B57\u53F7","More...":"\u66F4\u591A...","Spellcheck Language":"\u62FC\u5199\u68C0\u67E5\u8BED\u8A00","Select...":"\u9009\u62E9...",Preferences:"\u9996\u9009\u9879",Yes:"\u662F",No:"\u5426","Keyboard Navigation":"\u952E\u76D8\u6307\u5F15",Version:"\u7248\u672C",Anchor:"\u951A\u70B9","Special character":"\u7279\u6B8A\u7B26\u53F7","Code sample":"\u4EE3\u7801\u793A\u4F8B",Color:"\u989C\u8272",Emoticons:"\u8868\u60C5","Document properties":"\u6587\u6863\u5C5E\u6027",Image:"\u56FE\u7247","Insert link":"\u63D2\u5165\u94FE\u63A5",Target:"\u6253\u5F00\u65B9\u5F0F",Link:"\u94FE\u63A5",Poster:"\u5C01\u9762",Media:"\u5A92\u4F53",Print:"\u6253\u5370",Prev:"\u4E0A\u4E00\u4E2A","Find and replace":"\u67E5\u627E\u548C\u66FF\u6362","Whole words":"\u5168\u5B57\u5339\u914D",Spellcheck:"\u62FC\u5199\u68C0\u67E5",Caption:"\u6807\u9898","Insert template":"\u63D2\u5165\u6A21\u677F"})},79236:function(){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},46075:function(Tn,bn,Ve){Ve(79236)},73973:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.ModelManager");const bn=(l,f,p)=>{var y;return p(l,f.prototype)?!0:((y=l.constructor)===null||y===void 0?void 0:y.name)===f.name},Ve=l=>{const f=typeof l;return l===null?"null":f==="object"&&Array.isArray(l)?"array":f==="object"&&bn(l,String,(p,y)=>y.isPrototypeOf(p))?"string":f},Pn=l=>f=>Ve(f)===l,Ao=l=>f=>typeof f===l,So=l=>f=>l===f,Xn=Pn("string"),Qe=Pn("object"),yn=Pn("array"),An=So(null),Ln=Ao("boolean"),zo=So(void 0),dn=l=>l==null,en=l=>!dn(l),Wt=Ao("function"),ln=Ao("number"),ot=()=>{},Rt=(l,f)=>(...p)=>l(f.apply(null,p)),Ot=(l,f)=>p=>l(f(p)),W=l=>()=>l,ft=l=>l,Fo=(l,f)=>l===f;function ht(l,...f){return(...p)=>{const y=f.concat(p);return l.apply(null,y)}}const H=l=>f=>!l(f),at=l=>()=>{throw new Error(l)},Sn=l=>l(),Jt=W(!1),$e=W(!0);class ce{constructor(f,p){this.tag=f,this.value=p}static some(f){return new ce(!0,f)}static none(){return ce.singletonNone}fold(f,p){return this.tag?p(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?ce.some(f(this.value)):ce.none()}bind(f){return this.tag?f(this.value):ce.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:ce.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f!=null?f:"Called getOrDie on None")}static from(f){return en(f)?ce.some(f):ce.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ce.singletonNone=new ce(!1);const Ro=Array.prototype.slice,Se=Array.prototype.indexOf,De=Array.prototype.push,E=(l,f)=>Se.call(l,f),gn=(l,f)=>E(l,f)>-1,rt=(l,f)=>{for(let p=0,y=l.length;p<y;p++){const C=l[p];if(f(C,p))return!0}return!1},Hn=(l,f)=>{const p=[];for(let y=0;y<l;y++)p.push(f(y));return p},tn=(l,f)=>{const p=l.length,y=new Array(p);for(let C=0;C<p;C++){const O=l[C];y[C]=f(O,C)}return y},et=(l,f)=>{for(let p=0,y=l.length;p<y;p++){const C=l[p];f(C,p)}},uo=(l,f)=>{for(let p=l.length-1;p>=0;p--){const y=l[p];f(y,p)}},Yo=(l,f)=>{const p=[],y=[];for(let C=0,O=l.length;C<O;C++){const $=l[C];(f($,C)?p:y).push($)}return{pass:p,fail:y}},Ct=(l,f)=>{const p=[];for(let y=0,C=l.length;y<C;y++){const O=l[y];f(O,y)&&p.push(O)}return p},vn=(l,f,p)=>(uo(l,(y,C)=>{p=f(p,y,C)}),p),Re=(l,f,p)=>(et(l,(y,C)=>{p=f(p,y,C)}),p),it=(l,f,p)=>{for(let y=0,C=l.length;y<C;y++){const O=l[y];if(f(O,y))return ce.some(O);if(p(O,y))break}return ce.none()},F=(l,f)=>it(l,f,Jt),Xo=(l,f)=>{for(let p=0,y=l.length;p<y;p++){const C=l[p];if(f(C,p))return ce.some(p)}return ce.none()},no=l=>{const f=[];for(let p=0,y=l.length;p<y;++p){if(!yn(l[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+l);De.apply(f,l[p])}return f},lt=(l,f)=>no(tn(l,f)),bt=(l,f)=>{for(let p=0,y=l.length;p<y;++p){const C=l[p];if(f(C,p)!==!0)return!1}return!0},Ft=l=>{const f=Ro.call(l,0);return f.reverse(),f},ee=(l,f)=>{const p={};for(let y=0,C=l.length;y<C;y++){const O=l[y];p[String(O)]=f(O,y)}return p},he=(l,f)=>{const p=Ro.call(l,0);return p.sort(f),p},we=(l,f)=>f>=0&&f<l.length?ce.some(l[f]):ce.none(),ae=l=>we(l,0),Ne=l=>we(l,l.length-1),Pe=(l,f)=>{for(let p=0;p<l.length;p++){const y=f(l[p],p);if(y.isSome())return y}return ce.none()},Ye=Object.keys,We=Object.hasOwnProperty,J=(l,f)=>{const p=Ye(l);for(let y=0,C=p.length;y<C;y++){const O=p[y],$=l[O];f($,O)}},xe=(l,f)=>Le(l,(p,y)=>({k:y,v:f(p,y)})),Le=(l,f)=>{const p={};return J(l,(y,C)=>{const O=f(y,C);p[O.k]=O.v}),p},Mt=l=>(f,p)=>{l[p]=f},Zn=(l,f,p,y)=>{J(l,(C,O)=>{(f(C,O)?p:y)(C,O)})},On=(l,f)=>{const p={};return Zn(l,f,Mt(p),ot),p},Nn=(l,f)=>{const p=[];return J(l,(y,C)=>{p.push(f(y,C))}),p},Un=l=>Nn(l,ft),$o=(l,f)=>to(l,f)?ce.from(l[f]):ce.none(),to=(l,f)=>We.call(l,f),Jn=(l,f)=>to(l,f)&&l[f]!==void 0&&l[f]!==null,ao=l=>{for(const f in l)if(We.call(l,f))return!1;return!0},kn=typeof window!="undefined"?window:Function("return this;")(),co=(l,f)=>{let p=f!=null?f:kn;for(let y=0;y<l.length&&p!==void 0&&p!==null;++y)p=p[l[y]];return p},Zo=(l,f)=>{const p=l.split(".");return co(p,f)},Jo=(l,f)=>Zo(l,f),as=(l,f)=>{const p=Jo(l,f);if(p==null)throw new Error(l+" not available on this browser");return p},xo=Object.getPrototypeOf,wr=l=>as("HTMLElement",l),xt=l=>{const f=Zo("ownerDocument.defaultView",l);return Qe(l)&&(wr(f).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(xo(l).constructor.name))},Oo=8,Js=9,_r=11,Pr=1,qr=3,Cs=l=>l.dom.nodeName.toLowerCase(),Jr=l=>l.dom.nodeType,Hr=l=>f=>Jr(f)===l,fs=l=>Jr(l)===Oo||Cs(l)==="#comment",qn=l=>cr(l)&&xt(l.dom),cr=Hr(Pr),Ae=Hr(qr),Xe=Hr(Js),Yt=Hr(_r),xn=l=>f=>cr(f)&&Cs(f)===l,po=(l,f,p)=>{if(Xn(p)||Ln(p)||ln(p))l.setAttribute(f,p+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",p,":: Element ",l),new Error("Attribute value was not simple")},ss=(l,f,p)=>{po(l.dom,f,p)},fr=(l,f)=>{const p=l.dom;J(f,(y,C)=>{po(p,C,y)})},Qs=(l,f)=>{J(f,(p,y)=>{p.fold(()=>{le(l,y)},C=>{po(l.dom,y,C)})})},er=(l,f)=>{const p=l.dom.getAttribute(f);return p===null?void 0:p},ie=(l,f)=>ce.from(er(l,f)),le=(l,f)=>{l.dom.removeAttribute(f)},Ge=l=>Re(l.dom.attributes,(f,p)=>(f[p.name]=p.value,f),{}),ct=(l,f)=>{const y=(f||document).createElement("div");if(y.innerHTML=l,!y.hasChildNodes()||y.childNodes.length>1){const C="HTML does not have a single root node";throw console.error(C,l),new Error(C)}return vo(y.childNodes[0])},zn=(l,f)=>{const y=(f||document).createElement(l);return vo(y)},oo=(l,f)=>{const y=(f||document).createTextNode(l);return vo(y)},vo=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},ke={fromHtml:ct,fromTag:zn,fromText:oo,fromDom:vo,fromPoint:(l,f,p)=>ce.from(l.dom.elementFromPoint(f,p)).map(vo)},ko=(l,f)=>{const p=l.dom;if(p.nodeType!==Pr)return!1;{const y=p;if(y.matches!==void 0)return y.matches(f);if(y.msMatchesSelector!==void 0)return y.msMatchesSelector(f);if(y.webkitMatchesSelector!==void 0)return y.webkitMatchesSelector(f);if(y.mozMatchesSelector!==void 0)return y.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},fe=l=>l.nodeType!==Pr&&l.nodeType!==Js&&l.nodeType!==_r||l.childElementCount===0,ge=(l,f)=>{const p=f===void 0?document:f.dom;return fe(p)?[]:tn(p.querySelectorAll(l),ke.fromDom)},yt=(l,f)=>{const p=f===void 0?document:f.dom;return fe(p)?ce.none():ce.from(p.querySelector(l)).map(ke.fromDom)},Et=(l,f)=>l.dom===f.dom,nn=(l,f)=>{const p=l.dom,y=f.dom;return p===y?!1:p.contains(y)},Gn=ko,Rn=l=>ke.fromDom(l.dom.ownerDocument),Mn=l=>Xe(l)?l:Rn(l),$n=l=>ke.fromDom(Mn(l).dom.documentElement),so=l=>ke.fromDom(Mn(l).dom.defaultView),es=l=>ce.from(l.dom.parentNode).map(ke.fromDom),Us=l=>ce.from(l.dom.parentElement).map(ke.fromDom),Ra=(l,f)=>{const p=Wt(f)?f:Jt;let y=l.dom;const C=[];for(;y.parentNode!==null&&y.parentNode!==void 0;){const O=y.parentNode,$=ke.fromDom(O);if(C.push($),p($)===!0)break;y=O}return C},Ha=l=>ce.from(l.dom.previousSibling).map(ke.fromDom),ic=l=>ce.from(l.dom.nextSibling).map(ke.fromDom),wo=l=>tn(l.dom.childNodes,ke.fromDom),ms=(l,f)=>{const p=l.dom.childNodes;return ce.from(p[f]).map(ke.fromDom)},Ws=l=>ms(l,0),Qr=(l,f)=>{es(l).each(y=>{y.dom.insertBefore(f.dom,l.dom)})},ra=(l,f)=>{ic(l).fold(()=>{es(l).each(C=>{Ps(C,f)})},y=>{Qr(y,f)})},ea=(l,f)=>{Ws(l).fold(()=>{Ps(l,f)},y=>{l.dom.insertBefore(f.dom,y.dom)})},Ps=(l,f)=>{l.dom.appendChild(f.dom)},Fu=(l,f,p)=>{ms(l,p).fold(()=>{Ps(l,f)},y=>{Qr(y,f)})},Mi=(l,f)=>{Qr(l,f),Ps(f,l)},zs=(l,f)=>{et(f,(p,y)=>{const C=y===0?l:f[y-1];ra(C,p)})},Ma=(l,f)=>{et(f,p=>{Ps(l,p)})},ma=l=>{l.dom.textContent="",et(wo(l),f=>{Br(f)})},Br=l=>{const f=l.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},pi=l=>{const f=wo(l);f.length>0&&zs(l,f),Br(l)},Dc=(l,f)=>ke.fromDom(l.dom.cloneNode(f)),aa=l=>Dc(l,!1),Uc=l=>Dc(l,!0),zc=(l,f)=>{const p=ke.fromTag(f),y=Ge(l);return fr(p,y),p},Yi=(l,f)=>{const p=zc(l,f),y=wo(Uc(l));return Ma(p,y),p},Ni=(l,f)=>{const p=zc(l,f);ra(l,p);const y=wo(l);return Ma(p,y),Br(l),p},ti=["tfoot","thead","tbody","colgroup"],Va=l=>gn(ti,l),Wc=(l,f)=>({rows:l,columns:f}),hi=(l,f)=>({row:l,column:f}),Rc=(l,f,p)=>({element:l,rowspan:f,colspan:p}),gl=(l,f,p,y)=>({element:l,rowspan:f,colspan:p,isNew:y}),Z=(l,f,p,y,C,O)=>({element:l,rowspan:f,colspan:p,row:y,column:C,isLocked:O}),pe=(l,f,p)=>({element:l,cells:f,section:p}),Oe=(l,f,p,y)=>({element:l,cells:f,section:p,isNew:y}),qe=(l,f,p)=>({element:l,isNew:f,isLocked:p}),Pt=(l,f,p,y)=>({element:l,cells:f,section:p,isNew:y}),io=(l,f,p,y)=>({startRow:l,startCol:f,finishRow:p,finishCol:y}),Bs=(l,f,p)=>({element:l,colspan:f,column:p}),js=(l,f)=>({element:l,columns:f}),Ls=l=>Yt(l)&&en(l.dom.host),mr=Wt(Element.prototype.attachShadow)&&Wt(Node.prototype.getRootNode),gs=W(mr),Cr=mr?l=>ke.fromDom(l.dom.getRootNode()):Mn,ni=l=>{const f=Cr(l);return Ls(f)?ce.some(f):ce.none()},bi=l=>ke.fromDom(l.dom.host),pn=l=>{if(gs()&&en(l.target)){const f=ke.fromDom(l.target);if(cr(f)&&$u(f)&&l.composed&&l.composedPath){const p=l.composedPath();if(p)return ae(p)}}return ce.from(l.target)},$u=l=>en(l.dom.shadowRoot),yr=l=>{const f=Ae(l)?l.dom.parentNode:l.dom;if(f==null||f.ownerDocument===null)return!1;const p=f.ownerDocument;return ni(ke.fromDom(f)).fold(()=>p.body.contains(f),Ot(yr,bi))},P=()=>Y(ke.fromDom(document)),Y=l=>{const f=l.dom.body;if(f==null)throw new Error("Body is not available yet");return ke.fromDom(f)},re=(l,f,p)=>Ct(Ra(l,p),f),Ke=(l,f)=>Ct(wo(l),f),on=(l,f)=>{let p=[];return et(wo(l),y=>{f(y)&&(p=p.concat([y])),p=p.concat(on(y,f))}),p},qo=(l,f,p)=>re(l,y=>ko(y,f),p),Dn=(l,f)=>Ke(l,p=>ko(p,f)),gr=(l,f)=>ge(f,l);var Dt=(l,f,p,y,C)=>l(p,y)?ce.some(p):Wt(C)&&C(p)?ce.none():f(p,y,C);const Zs=(l,f,p)=>{let y=l.dom;const C=Wt(p)?p:Jt;for(;y.parentNode;){y=y.parentNode;const O=ke.fromDom(y);if(f(O))return ce.some(O);if(C(O))break}return ce.none()},Ja=(l,f,p)=>Dt((C,O)=>O(C),Zs,l,f,p),zr=(l,f)=>{const p=C=>f(ke.fromDom(C));return F(l.dom.childNodes,p).map(ke.fromDom)},ca=(l,f)=>{const p=y=>{for(let C=0;C<y.childNodes.length;C++){const O=ke.fromDom(y.childNodes[C]);if(f(O))return ce.some(O);const $=p(y.childNodes[C]);if($.isSome())return $}return ce.none()};return p(l.dom)},Pi=(l,f,p)=>Zs(l,y=>ko(y,f),p),q=(l,f)=>zr(l,p=>ko(p,f)),ue=(l,f)=>yt(f,l),Fe=(l,f,p)=>Dt((C,O)=>ko(C,O),Pi,l,f,p),kt=(l,f,p=Fo)=>l.exists(y=>p(y,f)),un=l=>{const f=[],p=y=>{f.push(y)};for(let y=0;y<l.length;y++)l[y].each(p);return f},ns=(l,f)=>l!=null?f(l):ce.none(),Sr=(l,f)=>l?ce.some(f):ce.none(),Ca=(l,f,p)=>f===""||l.length>=f.length&&l.substr(p,p+f.length)===f,cs=(l,f,p=0,y)=>{const C=l.indexOf(f,p);return C!==-1?zo(y)?!0:C+f.length<=y:!1},Gr=(l,f)=>Ca(l,f,0),Vr=(l,f)=>Ca(l,f,l.length-f.length),Qa=(l=>f=>f.replace(l,""))(/^\s+|\s+$/g),pl=l=>l.length>0,qs=l=>{const f=parseFloat(l);return isNaN(f)?ce.none():ce.some(f)},ir=l=>l.style!==void 0&&Wt(l.style.getPropertyValue),la=(l,f,p)=>{if(!Xn(p))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",p,":: Element ",l),new Error("CSS value must be a string: "+p);ir(l)&&l.style.setProperty(f,p)},ep=(l,f)=>{ir(l)&&l.style.removeProperty(f)},Ar=(l,f,p)=>{const y=l.dom;la(y,f,p)},lc=(l,f)=>{const p=l.dom;J(f,(y,C)=>{la(p,C,y)})},ec=(l,f)=>{const p=l.dom,C=window.getComputedStyle(p).getPropertyValue(f);return C===""&&!yr(l)?tp(p,f):C},tp=(l,f)=>ir(l)?l.style.getPropertyValue(f):"",cu=(l,f)=>{const p=l.dom,y=tp(p,f);return ce.from(y).filter(C=>C.length>0)},jc=(l,f)=>{const p=l.dom;ep(p,f),kt(ie(l,"style").map(Qa),"")&&le(l,"style")},iu=(l,f)=>{const p=l.dom,y=f.dom;ir(p)&&ir(y)&&(y.style.cssText=p.style.cssText)},Gs=(l,f,p=0)=>ie(l,f).map(y=>parseInt(y,10)).getOr(p),Xi=(l,f)=>Gs(l,f,1),kc=l=>xn("col")(l)?Gs(l,"span",1)>1:Xi(l,"colspan")>1,hl=l=>Xi(l,"rowspan")>1,Kr=(l,f)=>parseInt(ec(l,f),10),ta=W(10),Zc=W(10),lu=(l,f)=>Iu(l,f,$e),Iu=(l,f,p)=>lt(wo(l),y=>ko(y,f)?p(y)?[y]:[]:Iu(y,f,p)),Yf=(l,f,p=Jt)=>{if(p(f))return ce.none();if(gn(l,Cs(f)))return ce.some(f);const y=C=>ko(C,"table")||p(C);return Pi(f,l.join(","),y)},Gd=(l,f)=>Yf(["td","th"],l,f),uc=l=>lu(l,"th,td"),Kd=l=>ko(l,"colgroup")?Dn(l,"col"):lt(hd(l),f=>Dn(f,"col")),Mc=(l,f)=>Fe(l,"table",f),bl=l=>lu(l,"tr"),hd=l=>Mc(l).fold(W([]),f=>Dn(f,"colgroup")),$l=(l,f)=>tn(l,p=>{if(Cs(p)==="colgroup"){const y=tn(Kd(p),C=>{const O=Gs(C,"span",1);return Rc(C,1,O)});return pe(p,y,"colgroup")}else{const y=tn(uc(p),C=>{const O=Gs(C,"rowspan",1),$=Gs(C,"colspan",1);return Rc(C,O,$)});return pe(p,y,f(p))}}),Yd=l=>es(l).map(f=>{const p=Cs(f);return Va(p)?p:"tbody"}).getOr("tbody"),Lu=l=>{const f=bl(l),y=[...hd(l),...f];return $l(y,Yd)},Vm=(l,f)=>$l(l,()=>f),yl=l=>{let f=!1,p;return(...y)=>(f||(f=!0,p=l.apply(null,y)),p)},Um=(l,f,p,y)=>{const C=l.isiOS()&&/ipad/i.test(p)===!0,O=l.isiOS()&&!C,$=l.isiOS()||l.isAndroid(),j=$||y("(pointer:coarse)"),ne=C||!O&&$&&y("(min-device-width:768px)"),be=O||$&&!ne,Be=f.isSafari()&&l.isiOS()&&/safari/i.test(p)===!1,Tt=!be&&!ne&&!Be;return{isiPad:W(C),isiPhone:W(O),isTablet:W(ne),isPhone:W(be),isTouch:W(j),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:W(Be),isDesktop:W(Tt)}},Xd=(l,f)=>{for(let p=0;p<l.length;p++){const y=l[p];if(y.test(f))return y}},Xf=(l,f)=>{const p=Xd(l,f);if(!p)return{major:0,minor:0};const y=C=>Number(f.replace(p,"$"+C));return de(y(1),y(2))},Hu=(l,f)=>{const p=String(f).toLowerCase();return l.length===0?Wm():Xf(l,p)},Wm=()=>de(0,0),de=(l,f)=>({major:l,minor:f}),Vu={nu:de,detect:Hu,unknown:Wm},Bi=(l,f)=>Pe(f.brands,p=>{const y=p.brand.toLowerCase();return F(l,C=>{var O;return y===((O=C.brand)===null||O===void 0?void 0:O.toLowerCase())}).map(C=>({current:C.name,version:Vu.nu(parseInt(p.version,10),0)}))}),Jf=(l,f)=>{const p=String(f).toLowerCase();return F(l,y=>y.search(p))},np=(l,f)=>Jf(l,f).map(p=>{const y=Vu.detect(p.versionRegexes,f);return{current:p.name,version:y}}),vh=(l,f)=>Jf(l,f).map(p=>{const y=Vu.detect(p.versionRegexes,f);return{current:p.name,version:y}}),Rs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,dc=l=>f=>cs(f,l),vl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:l=>cs(l,"edge/")&&cs(l,"chrome")&&cs(l,"safari")&&cs(l,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rs],search:l=>cs(l,"chrome")&&!cs(l,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:l=>cs(l,"msie")||cs(l,"trident")},{name:"Opera",versionRegexes:[Rs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:dc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:dc("firefox")},{name:"Safari",versionRegexes:[Rs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:l=>(cs(l,"safari")||cs(l,"mobile/"))&&cs(l,"applewebkit")}],yi=[{name:"Windows",search:dc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:l=>cs(l,"iphone")||cs(l,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:dc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:dc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:dc("linux"),versionRegexes:[]},{name:"Solaris",search:dc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:dc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:dc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],jm={browsers:W(vl),oses:W(yi)},Uu="Edge",qc="Chromium",bd="IE",Jd="Opera",kh="Firefox",vi="Safari",Qd=()=>Qf({current:void 0,version:Vu.unknown()}),Qf=l=>{const f=l.current,p=l.version,y=C=>()=>f===C;return{current:f,version:p,isEdge:y(Uu),isChromium:y(qc),isIE:y(bd),isOpera:y(Jd),isFirefox:y(kh),isSafari:y(vi)}},Nc={unknown:Qd,nu:Qf,edge:W(Uu),chromium:W(qc),ie:W(bd),opera:W(Jd),firefox:W(kh),safari:W(vi)},Ua="Windows",uu="iOS",yd="Android",Fi="Linux",Gc="macOS",Zm="Solaris",op="FreeBSD",Wu="ChromeOS",em=()=>tm({current:void 0,version:Vu.unknown()}),tm=l=>{const f=l.current,p=l.version,y=C=>()=>f===C;return{current:f,version:p,isWindows:y(Ua),isiOS:y(uu),isAndroid:y(yd),isMacOS:y(Gc),isLinux:y(Fi),isSolaris:y(Zm),isFreeBSD:y(op),isChromeOS:y(Wu)}},kl={unknown:em,nu:tm,windows:W(Ua),ios:W(uu),android:W(yd),linux:W(Fi),macos:W(Gc),solaris:W(Zm),freebsd:W(op),chromeos:W(Wu)},wh={detect:(l,f,p)=>{const y=jm.browsers(),C=jm.oses(),O=f.bind(ne=>Bi(y,ne)).orThunk(()=>np(y,l)).fold(Nc.unknown,Nc.nu),$=vh(C,l).fold(kl.unknown,kl.nu),j=Um($,O,l,p);return{browser:O,os:$,deviceType:j}}},sp=l=>window.matchMedia(l).matches;let Gm=yl(()=>wh.detect(navigator.userAgent,ce.from(navigator.userAgentData),sp));const ef=()=>Gm(),nm=(l,f)=>{const p=(j,ne)=>{if(!ln(ne)&&!ne.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+ne);const be=j.dom;ir(be)&&(be.style[l]=ne+"px")},y=j=>{const ne=f(j);if(ne<=0||ne===null){const be=ec(j,l);return parseFloat(be)||0}return ne},C=y,O=(j,ne)=>Re(ne,(be,Be)=>{const Tt=ec(j,Be),fn=Tt===void 0?0:parseInt(Tt,10);return isNaN(fn)?be:be+fn},0);return{set:p,get:y,getOuter:C,aggregate:O,max:(j,ne,be)=>{const Be=O(j,be);return ne>Be?ne-Be:0}}},ju=(l,f)=>qs(l).getOr(f),Or=(l,f,p)=>ju(ec(l,f),p),Ur=(l,f,p,y)=>{const C=Or(l,`padding-${p}`,0),O=Or(l,`padding-${y}`,0),$=Or(l,`border-${p}-width`,0),j=Or(l,`border-${y}-width`,0);return f-C-O-$-j},Kc=(l,f)=>{const p=l.dom,y=p.getBoundingClientRect().width||p.offsetWidth;return f==="border-box"?y:Ur(l,y,"left","right")},Km=l=>Or(l,"height",l.dom.offsetHeight),A=l=>Or(l,"width",l.dom.offsetWidth),R=l=>Kc(l,"content-box"),U=nm("width",l=>l.dom.offsetWidth),me=l=>U.get(l),ve=l=>U.getOuter(l),Gt=R,$t=A,Do=(l,f,p)=>{const y=l.cells,C=y.slice(0,f),O=y.slice(f),$=C.concat(p).concat(O);return Yr(l,$)},Mo=(l,f,p)=>Do(l,f,[p]),Eo=(l,f,p)=>{const y=l.cells;y[f]=p},Yr=(l,f)=>Pt(l.element,f,l.section,l.isNew),wc=(l,f)=>{const p=l.cells,y=tn(p,f);return Pt(l.element,y,l.section,l.isNew)},Xr=(l,f)=>l.cells[f],Rr=(l,f)=>Xr(l,f).element,$i=l=>l.cells.length,Na=l=>{const f=Yo(l,p=>p.section==="colgroup");return{rows:f.fail,cols:f.pass}},rp=(l,f,p)=>{const y=tn(l.cells,p);return Pt(f(l.element),y,l.section,!0)},Ym="data-snooker-locked-cols",ua=l=>ie(l,Ym).bind(f=>ce.from(f.match(/\d+/g))).map(f=>ee(f,$e)),Wa=l=>{const f=Re(Na(l).rows,(y,C)=>(et(C.cells,(O,$)=>{O.isLocked&&(y[$]=!0)}),y),{}),p=Nn(f,(y,C)=>parseInt(C,10));return he(p)},Il=(l,f)=>l+","+f,om=(l,f,p)=>ce.from(l.access[Il(f,p)]),Sa=(l,f,p)=>{const y=_h(l,C=>p(f,C.element));return y.length>0?ce.some(y[0]):ce.none()},_h=(l,f)=>{const p=lt(l.all,y=>y.cells);return Ct(p,f)},ky=l=>{const f={};let p=0;return et(l.cells,y=>{const C=y.colspan;Hn(C,O=>{const $=p+O;f[$]=Bs(y.element,C,$)}),p+=C}),f},rr=l=>{const f={},p=[],C=ae(l).map(an=>an.element).bind(Mc).bind(ua).getOr({});let O=0,$=0,j=0;const{pass:ne,fail:be}=Yo(l,an=>an.section==="colgroup");et(be,an=>{const wt=[];et(an.cells,cn=>{let vt=0;for(;f[Il(j,vt)]!==void 0;)vt++;const In=Jn(C,vt.toString()),Po=Z(cn.element,cn.rowspan,cn.colspan,j,vt,In);for(let Qo=0;Qo<cn.colspan;Qo++)for(let Ir=0;Ir<cn.rowspan;Ir++){const Fa=j+Ir,Oa=vt+Qo,ui=Il(Fa,Oa);f[ui]=Po,$=Math.max($,Oa+1)}wt.push(Po)}),O++,p.push(pe(an.element,wt,an.section)),j++});const{columns:Be,colgroups:Tt}=Ne(ne).map(an=>{const wt=ky(an);return{colgroups:[js(an.element,Un(wt))],columns:wt}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Wc(O,$),access:f,all:p,columns:Be,colgroups:Tt}},rs={fromTable:l=>{const f=Lu(l);return rr(f)},generate:rr,getAt:om,findItem:Sa,filterItems:_h,justCells:l=>lt(l.all,f=>f.cells),justColumns:l=>Un(l.columns),hasColumns:l=>Ye(l.columns).length>0,getColumnAt:(l,f)=>ce.from(l.columns[f])},nf=(l,f=$e)=>{const p=l.grid,y=Hn(p.columns,ft),C=Hn(p.rows,ft);return tn(y,O=>Ch(()=>lt(C,be=>rs.getAt(l,be,O).filter(Be=>Be.column===O).toArray()),be=>be.colspan===1&&f(be.element),()=>rs.getAt(l,0,O)))},Ch=(l,f,p)=>{const y=l();return F(y,f).orThunk(()=>ce.from(y[0]).orThunk(p)).map($=>$.element)},Sh=l=>{const f=l.grid,p=Hn(f.rows,ft),y=Hn(f.columns,ft);return tn(p,C=>Ch(()=>lt(y,ne=>rs.getAt(l,C,ne).filter(be=>be.row===C).fold(W([]),be=>[be])),ne=>ne.rowspan===1,()=>rs.getAt(l,C,0)))},m_=(l,f)=>{if(f<0||f>=l.length-1)return ce.none();const p=l[f].fold(()=>{const C=Ft(l.slice(0,f));return Pe(C,(O,$)=>O.map(j=>({value:j,delta:$+1})))},C=>ce.some({value:C,delta:0})),y=l[f+1].fold(()=>{const C=l.slice(f+1);return Pe(C,(O,$)=>O.map(j=>({value:j,delta:$+1})))},C=>ce.some({value:C,delta:1}));return p.bind(C=>y.map(O=>{const $=O.delta+C.delta;return Math.abs(O.value-C.value)/$}))},wy=(l,f)=>p=>ap(p)==="rtl"?f:l,ap=l=>ec(l,"direction")==="rtl"?"rtl":"ltr",xh=nm("height",l=>{const f=l.dom;return yr(l)?f.getBoundingClientRect().height:f.offsetHeight}),Xm=l=>xh.get(l),of=l=>xh.getOuter(l),sm=Km,_y=(l,f)=>({left:l,top:f,translate:(y,C)=>_y(l+y,f+C)}),wl=_y,Vv=l=>{const f=l.getBoundingClientRect();return wl(f.left,f.top)},rm=(l,f)=>l!==void 0?l:f!==void 0?f:0,Ji=l=>{const f=l.dom.ownerDocument,p=f.body,y=f.defaultView,C=f.documentElement;if(p===l.dom)return wl(p.offsetLeft,p.offsetTop);const O=rm(y==null?void 0:y.pageYOffset,C.scrollTop),$=rm(y==null?void 0:y.pageXOffset,C.scrollLeft),j=rm(C.clientTop,p.clientTop),ne=rm(C.clientLeft,p.clientLeft);return Eh(l).translate($-ne,O-j)},Eh=l=>{const f=l.dom,y=f.ownerDocument.body;return y===f?wl(y.offsetLeft,y.offsetTop):yr(l)?Vv(f):wl(0,0)},Th=(l,f)=>({row:l,y:f}),Ah=(l,f)=>({col:l,x:f}),cp=l=>Ji(l).left+ve(l),Oh=l=>Ji(l).left,Dh=(l,f)=>Ah(l,Oh(f)),zh=(l,f)=>Ah(l,cp(f)),ja=l=>Ji(l).top,Uv=(l,f)=>Th(l,ja(f)),vr=(l,f)=>Th(l,ja(f)+of(f)),eo=(l,f,p)=>{if(p.length===0)return[];const y=tn(p.slice(1),(O,$)=>O.map(j=>l($,j))),C=p[p.length-1].map(O=>f(p.length-1,O));return y.concat([C])},fu=l=>-l,wn={delta:ft,positions:l=>eo(Uv,vr,l),edge:ja},Zu=wy({delta:ft,edge:Oh,positions:l=>eo(Dh,zh,l)},{delta:fu,edge:cp,positions:l=>eo(zh,Dh,l)}),si={delta:(l,f)=>Zu(f).delta(l,f),positions:(l,f)=>Zu(f).positions(l,f),edge:l=>Zu(l).edge(l)},am={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},mu=(()=>{const l="[0-9]+",p="[eE]"+("[+-]?"+l),y="\\.",C=j=>`(?:${j})?`,$=`[+-]?(?:${["Infinity",l+y+C(l)+C(p),y+l+C(p),l+C(p)].join("|")})`;return new RegExp(`^(${$})(.*)$`)})(),tc=(l,f)=>rt(f,p=>rt(am[p],y=>l===y)),Qi=(l,f)=>ce.from(mu.exec(l)).bind(y=>{const C=Number(y[1]),O=y[2];return tc(O,f)?ce.some({value:C,unit:O}):ce.none()}),Jm=/(\d+(\.\d+)?)%/,ip=/(\d+(\.\d+)?)px|em/,It=xn("col"),Rh=(l,f,p)=>{const y=Us(l).getOrThunk(()=>Y(Rn(l)));return f(l)/p(y)*100},rf=(l,f)=>{Ar(l,"width",f+"px")},qu=(l,f)=>{Ar(l,"width",f+"%")},Cl=(l,f)=>{Ar(l,"height",f+"px")},lp=l=>sm(l)+"px",na=(l,f,p,y)=>{const C=Mc(l).map(O=>{const $=p(O);return Math.floor(f/100*$)}).getOr(f);return y(l,C),C},Wr=(l,f,p,y)=>{const C=parseFloat(l);return Vr(l,"%")&&Cs(f)!=="table"?na(f,C,p,y):C},nc=l=>{const f=lp(l);return f?Wr(f,l,Xm,Cl):Xm(l)},As=(l,f,p)=>{const y=p(l),C=Xi(l,f);return y/C},gu=(l,f)=>cu(l,f).orThunk(()=>ie(l,f).map(p=>p+"px")),fc=l=>gu(l,"width"),Sl=l=>gu(l,"height"),mc=l=>Rh(l,me,Gt),_c=l=>It(l)?me(l):$t(l),up=l=>As(l,"rowspan",nc),_t=l=>fc(l).bind(p=>Qi(p,["fixed","relative","empty"])),pr=(l,f,p)=>{Ar(l,"width",f+p)},Mh=l=>me(l)+"px",ga=l=>Rh(l,me,Gt)+"%",kd=l=>fc(l).exists(f=>Jm.test(f)),dp=l=>fc(l).exists(f=>ip.test(f)),ki=l=>fc(l).isNone(),Cy=W(Jm),Gu=xn("col"),Sy=l=>fc(l).getOrThunk(()=>_c(l)+"px"),Ii=l=>Sl(l).getOrThunk(()=>up(l)+"px"),Hs=l=>tn(rs.justColumns(l),f=>ce.from(f.element)),pu=l=>{const f=ef().browser,p=f.isChromium()||f.isFirefox();return Gu(l)?p:!0},af=(l,f,p,y,C,O)=>l.filter(y).fold(()=>O(m_(p,f)),$=>C($)),Cc=(l,f,p,y)=>{const C=nf(l),O=rs.hasColumns(l)?Hs(l):C,$=[ce.some(si.edge(f))].concat(tn(si.positions(C,f),ne=>ne.map(be=>be.x))),j=H(kc);return tn(O,(ne,be)=>af(ne,be,$,j,Be=>{if(pu(Be))return p(Be);{const Tt=ns(C[be],ft);return af(Tt,be,$,j,fn=>y(ce.some(me(fn))),y)}},y))},Nh=l=>l.map(f=>f+"px").getOr(""),cf=(l,f)=>Cc(l,f,Sy,Nh),xy=(l,f,p)=>Cc(l,f,mc,y=>y.fold(()=>p.minCellWidth(),C=>C/p.pixelWidth()*100)),xa=(l,f,p)=>Cc(l,f,_c,y=>y.getOrThunk(p.minCellWidth)),Li=(l,f,p,y,C)=>{const O=Sh(l),$=[ce.some(p.edge(f))].concat(tn(p.positions(O,f),j=>j.map(ne=>ne.y)));return tn(O,(j,ne)=>af(j,ne,$,H(hl),y,C))},Ie=(l,f,p)=>Li(l,f,p,up,y=>y.getOrThunk(Zc)),Yc=(l,f,p)=>Li(l,f,p,Ii,Nh),wi=(l,f)=>()=>yr(l)?f(l):parseFloat(cu(l,"width").getOr("0")),Hi=l=>{const f=wi(l,me),p=W(0);return{width:f,pixelWidth:f,getWidths:(C,O)=>xa(C,l,O),getCellDelta:p,singleColumnWidth:W([0]),minCellWidth:p,setElementWidth:ot,adjustTableWidth:ot,isRelative:!0,label:"none"}},Vi=l=>{const f=wi(l,ne=>parseFloat(ga(ne))),p=wi(l,me);return{width:f,pixelWidth:p,getWidths:(ne,be)=>xy(ne,l,be),getCellDelta:ne=>ne/p()*100,singleColumnWidth:(ne,be)=>[100-ne],minCellWidth:()=>ta()/p()*100,setElementWidth:qu,adjustTableWidth:ne=>{const be=f(),Be=ne/100*be,Tt=be+Be;qu(l,Tt)},isRelative:!0,label:"percent"}},Ea=l=>{const f=wi(l,me);return{width:f,pixelWidth:f,getWidths:($,j)=>xa($,l,j),getCellDelta:ft,singleColumnWidth:($,j)=>[Math.max(ta(),$+j)-$],minCellWidth:ta,setElementWidth:rf,adjustTableWidth:$=>{const j=f()+$;rf(l,j)},isRelative:!1,label:"pixel"}},Za=(l,f)=>Cy().exec(f)!==null?Vi(l):Ea(l),_i={getTableSize:l=>fc(l).fold(()=>Hi(l),p=>Za(l,p)),pixelSize:Ea,percentageSize:Vi,noneSize:Hi},Ph=(l,f,p,y,C,O)=>({minRow:l,minCol:f,maxRow:p,maxCol:y,allCells:C,selectedCells:O}),bo=(l,f)=>{const p=l.grid.columns;let C=l.grid.rows,O=p,$=0,j=0;const ne=[],be=[];return J(l.access,Be=>{if(ne.push(Be),f(Be)){be.push(Be);const Tt=Be.row,fn=Tt+Be.rowspan-1,an=Be.column,wt=an+Be.colspan-1;Tt<C?C=Tt:fn>$&&($=fn),an<O?O=an:wt>j&&(j=wt)}}),Ph(C,O,$,j,ne,be)},w=(l,f,p)=>{const y=l[p].element,C=ke.fromTag("td");Ps(C,ke.fromTag("br")),(f?Ps:ea)(y,C)},x=(l,f,p,y)=>{const C=Ct(l,j=>j.section!=="colgroup"),O=f.grid.columns,$=f.grid.rows;for(let j=0;j<$;j++){let ne=!1;for(let be=0;be<O;be++)j<p.minRow||j>p.maxRow||be<p.minCol||be>p.maxCol||(rs.getAt(f,j,be).filter(y).isNone()?w(C,ne,j):ne=!0)}},L=(l,f,p,y)=>{J(p.columns,$=>{($.column<f.minCol||$.column>f.maxCol)&&Br($.element)});const C=Ct(lu(l,"tr"),$=>$.dom.childElementCount===0);et(C,Br),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&et(lu(l,"th,td"),$=>{le($,"rowspan"),le($,"colspan")}),le(l,Ym),le(l,"data-snooker-col-series"),_i.getTableSize(l).adjustTableWidth(y)},G=(l,f,p,y)=>{if(y.minCol===0&&f.grid.columns===y.maxCol+1)return 0;const C=xa(f,l,p),O=Re(C,(be,Be)=>be+Be,0),ne=Re(C.slice(y.minCol,y.maxCol+1),(be,Be)=>be+Be,0)/O*p.pixelWidth()-p.pixelWidth();return p.getCellDelta(ne)},_e=(l,f)=>{const p=fn=>ko(fn.element,f),y=Uc(l),C=Lu(y),O=_i.getTableSize(l),$=rs.generate(C),j=bo($,p),ne="th:not("+f+"),td:not("+f+")",be=Iu(y,"th,td",fn=>ko(fn,ne));et(be,Br),x(C,$,j,p);const Be=rs.fromTable(l),Tt=G(l,Be,O,j);return L(y,j,$,Tt),y},st="\xA0",rn=((l,f)=>{const p=O=>{if(!l(O))throw new Error("Can only get "+f+" value of a "+f+" node");return y(O).getOr("")},y=O=>l(O)?ce.from(O.dom.nodeValue):ce.none();return{get:p,getOption:y,set:(O,$)=>{if(!l(O))throw new Error("Can only set raw "+f+" value of a "+f+" node");O.dom.nodeValue=$}}})(Ae,"text"),_o=l=>rn.get(l),No=l=>rn.getOption(l),xr=(l,f)=>rn.set(l,f),Ss=l=>Cs(l)==="img"?1:No(l).fold(()=>wo(l).length,f=>f.length),Fs=l=>No(l).filter(f=>f.trim().length!==0||f.indexOf(st)>-1).isSome(),ri=l=>qn(l)&&er(l,"contenteditable")==="false",el=["img","br"],xl=l=>Fs(l)||gn(el,Cs(l))||ri(l),hu=l=>ca(l,xl),Ku=l=>lf(l,xl),lf=(l,f)=>{const p=y=>{const C=wo(y);for(let O=C.length-1;O>=0;O--){const $=C[O];if(f($))return ce.some($);const j=p($);if(j.isSome())return j}return ce.none()};return p(l)},wd={scope:["row","col"]},uf=l=>()=>{const f=ke.fromTag("td",l.dom);return Ps(f,ke.fromTag("br",l.dom)),f},df=l=>()=>ke.fromTag("col",l.dom),pa=l=>()=>ke.fromTag("colgroup",l.dom),Ui=l=>()=>ke.fromTag("tr",l.dom),Qm=(l,f,p)=>{const y=Yi(l,f);return J(p,(C,O)=>{C===null?le(y,O):ss(y,O,C)}),y},ff=l=>l,Ns=(l,f,p)=>hu(l).map(C=>{const O=p.join(","),$=qo(C,O,j=>Et(j,l));return vn($,(j,ne)=>{const be=aa(ne);return Ps(j,be),be},f)}).getOr(f),Ks=(l,f)=>{J(wd,(p,y)=>ie(l,y).filter(C=>gn(p,C)).each(C=>ss(f,y,C)))},qa=(l,f,p)=>{const y=($,j)=>{iu($.element,j),jc(j,"height"),$.colspan!==1&&jc(j,"width")},C=$=>{const j=ke.fromTag(Cs($.element),f.dom),ne=p.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),be=ne.length>0?Ns($.element,j,ne):j;return Ps(be,ke.fromTag("br")),y($,j),Ks($.element,j),l($.element,j),j};return{col:$=>{const j=ke.fromTag(Cs($.element),f.dom);return y($,j),l($.element,j),j},colgroup:pa(f),row:Ui(f),cell:C,replace:Qm,colGap:df(f),gap:uf(f)}},ai=l=>({col:df(l),colgroup:pa(l),row:Ui(l),cell:uf(l),replace:ff,colGap:df(l),gap:uf(l)}),Bh=(l,f)=>{const y=(f||document).createElement("div");return y.innerHTML=l,wo(ke.fromDom(y))},gc=l=>tn(l,ke.fromDom),Pc=l=>f=>f.options.get(l),_d="100%",bu=l=>{var f;const p=l.dom,y=(f=p.getParent(l.selection.getStart(),p.isBlock))!==null&&f!==void 0?f:l.getBody();return Gt(ke.fromDom(y))+"px"},Jx=(l,f)=>ng(l)||!tl(l)?f:um(l)?pt(te({},f),{width:bu(l)}):pt(te({},f),{width:_d}),eg=(l,f)=>ng(l)||tl(l)?f:um(l)?pt(te({},f),{width:bu(l)}):pt(te({},f),{width:_d}),tg=l=>{const f=l.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:p=>{const y=gn(["section","cells","sectionCells","auto"],p);return y?{value:p,valid:y}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:p=>{const y=gn(["preservetable","resizetable"],p);return y?{value:p,valid:y}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},im=l=>ce.from(l.options.get("table_clone_elements")),lm=l=>{const f=l.options.get("object_resizing");return gn(f.split(","),"table")},fp=Pc("table_header_type"),Wv=Pc("table_column_resizing"),jv=l=>Wv(l)==="preservetable",ha=l=>Wv(l)==="resizetable",Ey=Pc("table_sizing_mode"),Yu=l=>Ey(l)==="relative",um=l=>Ey(l)==="fixed",ng=l=>Ey(l)==="responsive",Cd=Pc("table_resize_bars"),tl=Pc("table_style_by_css"),Fh=Pc("table_merge_content_on_paste"),$h=l=>{const f=l.options,p=f.get("table_default_attributes");return f.isSet("table_default_attributes")?p:eg(l,p)},Qx=l=>{const f=l.options,p=f.get("table_default_styles");return f.isSet("table_default_styles")?p:Jx(l,p)},ba=Pc("table_use_colgroups"),og=l=>Fe(l,"[contenteditable]"),dm=(l,f=!1)=>yr(l)?l.dom.isContentEditable:og(l).fold(W(f),p=>Ty(p)==="true"),Ty=l=>l.dom.contentEditable,Ih=l=>ke.fromDom(l.getBody()),mf=l=>f=>Et(f,Ih(l)),Xu=l=>{le(l,"data-mce-style");const f=p=>le(p,"data-mce-style");et(uc(l),f),et(Kd(l),f),et(bl(l),f)},Ll=l=>ke.fromDom(l.selection.getStart()),sg=l=>l.getBoundingClientRect().width,fm=l=>l.getBoundingClientRect().height,Ay=(l,f)=>{const p=l.dom.getStyle(f,"width")||l.dom.getAttrib(f,"width");return ce.from(p).filter(pl)},Oy=l=>/^(\d+(\.\d+)?)%$/.test(l),Zv=l=>/^(\d+(\.\d+)?)px$/.test(l),mp=l=>Ja(l,xn("table")).exists(dm),Dy=(l,f)=>{const p=f.column,y=f.column+f.colspan-1,C=f.row,O=f.row+f.rowspan-1;return p<=l.finishCol&&y>=l.startCol&&C<=l.finishRow&&O>=l.startRow},zy=(l,f)=>f.column>=l.startCol&&f.column+f.colspan-1<=l.finishCol&&f.row>=l.startRow&&f.row+f.rowspan-1<=l.finishRow,mm=(l,f)=>{let p=!0;const y=ht(zy,f);for(let C=f.startRow;C<=f.finishRow;C++)for(let O=f.startCol;O<=f.finishCol;O++)p=p&&rs.getAt(l,C,O).exists(y);return p?ce.some(f):ce.none()},qv=(l,f)=>io(Math.min(l.row,f.row),Math.min(l.column,f.column),Math.max(l.row+l.rowspan-1,f.row+f.rowspan-1),Math.max(l.column+l.colspan-1,f.column+f.colspan-1)),Ds=(l,f,p)=>{const y=rs.findItem(l,f,Et),C=rs.findItem(l,p,Et);return y.bind(O=>C.map($=>qv(O,$)))},lo=(l,f,p)=>Ds(l,f,p).bind(y=>mm(l,y)),gm=(l,f,p,y)=>rs.findItem(l,f,Et).bind(C=>{const O=p>0?C.row+C.rowspan-1:C.row,$=y>0?C.column+C.colspan-1:C.column;return rs.getAt(l,O+p,$+y).map(ne=>ne.element)}),Ry=(l,f,p)=>Ds(l,f,p).map(y=>{const C=rs.filterItems(l,ht(Dy,y));return tn(C,O=>O.element)}),Lh=(l,f)=>{const p=(y,C)=>nn(C,y);return rs.findItem(l,f,p).map(y=>y.element)},eE=(l,f,p)=>Mc(l).bind(y=>{const C=My(y);return gm(C,l,f,p)}),Gv=(l,f,p)=>{const y=My(l);return Ry(y,f,p)},Er=(l,f,p,y,C)=>{const O=My(l),$=Et(l,p)?ce.some(f):Lh(O,f),j=Et(l,C)?ce.some(y):Lh(O,y);return $.bind(ne=>j.bind(be=>Ry(O,ne,be)))},Kv=(l,f,p)=>{const y=My(l);return lo(y,f,p)},My=rs.fromTable;var Yv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],St=()=>{const l=be=>ke.fromDom(be.dom.cloneNode(!1)),f=be=>Mn(be).dom,p=be=>cr(be)?Cs(be)==="body"?!0:gn(Yv,Cs(be)):!1,y=be=>cr(be)?gn(["br","img","hr","input"],Cs(be)):!1,C=be=>cr(be)&&er(be,"contenteditable")==="false",O=(be,Be)=>be.dom.compareDocumentPosition(Be.dom),$=(be,Be)=>{const Tt=Ge(be);fr(Be,Tt)},j=be=>{const Be=Cs(be);return gn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Be)},ne=be=>cr(be)?ie(be,"lang"):ce.none();return{up:W({selector:Pi,closest:Fe,predicate:Zs,all:Ra}),down:W({selector:gr,predicate:on}),styles:W({get:ec,getRaw:cu,set:Ar,remove:jc}),attrs:W({get:er,set:ss,remove:le,copyTo:$}),insert:W({before:Qr,after:ra,afterAll:zs,append:Ps,appendAll:Ma,prepend:ea,wrap:Mi}),remove:W({unwrap:pi,remove:Br}),create:W({nu:ke.fromTag,clone:l,text:ke.fromText}),query:W({comparePosition:O,prevSibling:Ha,nextSibling:ic}),property:W({children:wo,name:Cs,parent:es,document:f,isText:Ae,isComment:fs,isElement:cr,isSpecial:j,getLanguage:ne,getText:_o,setText:xr,isBoundary:p,isEmptyTag:y,isNonEditable:C}),eq:Et,is:Gn}};const Ny=(l,f,p,y)=>{const C=p[0],O=p.slice(1);return y(l,f,C,O)},tE=(l,f,p)=>p.length>0?Ny(l,f,p,Py):ce.none(),Py=(l,f,p,y)=>{const C=f(l,p);return vn(y,(O,$)=>{const j=f(l,$);return nE(l,O,j)},C)},nE=(l,f,p)=>f.bind(y=>p.filter(ht(l.eq,y))),pm=(l,f)=>ht(l.eq,f),Xv=(l,f,p,y=Jt)=>{const C=[f].concat(l.up().all(f)),O=[p].concat(l.up().all(p)),$=Be=>Xo(Be,y).fold(()=>Be,fn=>Be.slice(0,fn+1)),j=$(C),ne=$(O),be=F(j,Be=>rt(ne,pm(l,Be)));return{firstpath:j,secondpath:ne,shared:be}},Sd=tE,By=Xv,rg=St(),Dr=(l,f)=>Sd(rg,(p,y)=>l(y),f),xd=(l,f,p)=>By(rg,l,f,p),gf=l=>Pi(l,"table"),yu=(l,f,p)=>{const y=C=>O=>p!==void 0&&p(O)||Et(O,C);return Et(l,f)?ce.some({boxes:ce.some([l]),start:l,finish:f}):gf(l).bind(C=>gf(f).bind(O=>{if(Et(C,O))return ce.some({boxes:Gv(C,l,f),start:l,finish:f});if(nn(C,O)){const $=qo(f,"td,th",y(C)),j=$.length>0?$[$.length-1]:f;return ce.some({boxes:Er(C,l,C,f,O),start:l,finish:j})}else if(nn(O,C)){const $=qo(l,"td,th",y(O)),j=$.length>0?$[$.length-1]:l;return ce.some({boxes:Er(O,l,C,f,O),start:l,finish:j})}else return xd(l,f).shared.bind($=>Fe($,"table",p).bind(j=>{const ne=qo(f,"td,th",y(j)),be=ne.length>0?ne[ne.length-1]:f,Be=qo(l,"td,th",y(j)),Tt=Be.length>0?Be[Be.length-1]:l;return ce.some({boxes:Er(j,l,C,f,O),start:Tt,finish:be})}))}))},Jv=(l,f)=>{const p=gr(l,f);return p.length>0?ce.some(p):ce.none()},Fy=(l,f)=>F(l,p=>ko(p,f)),pf=(l,f,p)=>ue(l,f).bind(y=>ue(l,p).bind(C=>Dr(gf,[y,C]).map(O=>({first:y,last:C,table:O})))),g_=(l,f)=>Pi(l,"table").bind(p=>ue(p,f).bind(y=>yu(y,l).bind(C=>C.boxes.map(O=>({boxes:O,start:C.start,finish:C.finish}))))),oE=(l,f,p,y,C)=>Fy(l,C).bind(O=>eE(O,f,p).bind($=>g_($,y))),Qv=(l,f)=>Jv(l,f),e0=(l,f,p)=>pf(l,f,p).bind(y=>{const C=ne=>Et(l,ne),O="thead,tfoot,tbody,table",$=Pi(y.first,O,C),j=Pi(y.last,O,C);return $.bind(ne=>j.bind(be=>Et(ne,be)?Kv(y.table,y.first,y.last):ce.none()))}),hm=ft,$O=l=>{const f=(y,C)=>ie(y,C).exists(O=>parseInt(O,10)>1),p=y=>f(y,"rowspan")||f(y,"colspan");return l.length>0&&bt(l,p)?ce.some(l):ce.none()},bm=(l,f,p)=>f.length<=1?ce.none():e0(l,p.firstSelectedSelector,p.lastSelectedSelector).map(y=>({bounds:y,cells:f})),pc="data-mce-selected",t0="td["+pc+"],th["+pc+"]",Bn="["+pc+"]",n0="data-mce-first-selected",sE="td["+n0+"],th["+n0+"]",o0="data-mce-last-selected",p_="td["+o0+"],th["+o0+"]",rE=Bn,hf={selected:pc,selectedSelector:t0,firstSelected:n0,firstSelectedSelector:sE,lastSelected:o0,lastSelectedSelector:p_},ym=(l,f,p)=>({element:p,mergable:bm(f,l,hf),unmergable:$O(l),selection:hm(l)}),bf=(l,f,p)=>({element:l,clipboard:f,generators:p}),Hh=(l,f,p,y)=>({selection:hm(l),clipboard:p,generators:y}),El=l=>Mc(l).bind(f=>Qv(f,hf.firstSelectedSelector)).fold(W(l),f=>f[0]),$y=l=>(f,p)=>{const y=Cs(f),C=y==="col"||y==="colgroup"?El(f):f;return Fe(C,l,p)},h_=$y("th,td,caption"),gp=$y("th,td"),Hl=l=>gc(l.model.table.getSelectedCells()),s0=l=>Ct(Hl(l),f=>ko(f,hf.selectedSelector)),Ju=l=>Mc(l[0]).map(f=>{const p=_e(f,rE);return Xu(p),[p]}),Iy=(l,f)=>tn(f,p=>l.selection.serializer.serialize(p.dom,{})).join(""),aE=l=>tn(l,f=>f.dom.innerText).join(""),b_=(l,f)=>{l.on("BeforeGetContent",p=>{const y=C=>{p.preventDefault(),Ju(C).each(O=>{p.content=p.format==="text"?aE(O):Iy(l,O)})};if(p.selection===!0){const C=s0(l);C.length>=1&&y(C)}}),l.on("BeforeSetContent",p=>{if(p.selection===!0&&p.paste===!0){const y=Hl(l);ae(y).each(C=>{Mc(C).each(O=>{const $=Ct(Bh(p.content),ne=>Cs(ne)!=="meta"),j=xn("table");if(Fh(l)&&$.length===1&&j($[0])){p.preventDefault();const ne=ke.fromDom(l.getDoc()),be=ai(ne),Be=bf(C,$[0],be);f.pasteCells(O,Be).each(()=>{l.focus()})}})})}})},vm=(l,f)=>({element:l,offset:f}),vu=(l,f,p)=>l.property().isText(f)&&l.property().getText(f).trim().length===0||l.property().isComment(f)?p(f).bind(y=>vu(l,y,p).orThunk(()=>ce.some(y))):ce.none(),Wi=(l,f)=>l.property().isText(f)?l.property().getText(f).length:l.property().children(f).length,Ly=(l,f)=>{const p=vu(l,f,l.query().prevSibling).getOr(f);if(l.property().isText(p))return vm(p,Wi(l,p));const y=l.property().children(p);return y.length>0?Ly(l,y[y.length-1]):vm(p,Wi(l,p))},cE=Ly,iE=St(),Hy=l=>cE(iE,l),nl=(l,f)=>{kc(l)||_t(l).each(y=>{const C=y.value/2;pr(l,C,y.unit),pr(f,C,y.unit)})},Vy=l=>tn(l,W(0)),pp=(l,f,p,y,C)=>C(l.slice(0,f)).concat(y).concat(C(l.slice(p))),y_=l=>(f,p,y,C)=>{if(l(y)){const O=Math.max(C,f[p]-Math.abs(y)),$=Math.abs(O-f[p]);return y>=0?$:-$}else return y},Ed=y_(l=>l<0),r0=y_($e),v_=()=>{const l=(j,ne,be,Be,Tt)=>{const fn=Ed(j,ne,Be,Tt);return pp(j,ne,be+1,[fn,0],Vy)},f=(j,ne,be,Be)=>{const Tt=(100+be)/100,fn=Math.max(Be,(j[ne]+be)/Tt);return tn(j,(an,wt)=>(wt===ne?fn:an/Tt)-an)},p=(j,ne,be,Be,Tt,fn)=>fn?f(j,ne,Be,Tt):l(j,ne,be,Be,Tt);return{resizeTable:(j,ne)=>j(ne),clampTableDelta:Ed,calcLeftEdgeDeltas:p,calcMiddleDeltas:(j,ne,be,Be,Tt,fn,an)=>p(j,be,Be,Tt,fn,an),calcRightEdgeDeltas:(j,ne,be,Be,Tt,fn)=>{if(fn)return f(j,be,Be,Tt);{const an=Ed(j,be,Be,Tt);return Vy(j.slice(0,be)).concat([an])}},calcRedestributedWidths:(j,ne,be,Be)=>{if(Be){const fn=(ne+be)/ne,an=tn(j,wt=>wt/fn);return{delta:fn*100-100,newSizes:an}}else return{delta:be,newSizes:j}}}},ag=()=>{const l=($,j,ne,be,Be)=>{const Tt=be>=0?ne:j,fn=r0($,Tt,be,Be);return pp($,j,ne+1,[fn,-fn],Vy)};return{resizeTable:($,j,ne)=>{ne&&$(j)},clampTableDelta:($,j,ne,be,Be)=>{if(Be){if(ne>=0)return ne;{const Tt=Re($,(fn,an)=>fn+an-be,0);return Math.max(-Tt,ne)}}else return Ed($,j,ne,be)},calcLeftEdgeDeltas:l,calcMiddleDeltas:($,j,ne,be,Be,Tt)=>l($,ne,be,Be,Tt),calcRightEdgeDeltas:($,j,ne,be,Be,Tt)=>{if(Tt)return Vy($);{const fn=be/$.length;return tn($,W(fn))}},calcRedestributedWidths:($,j,ne,be)=>({delta:0,newSizes:$})}},a0=l=>rs.fromTable(l).grid,km=xn("th"),Vh=l=>bt(l,f=>km(f.element)),hp=(l,f)=>l&&f?"sectionCells":l?"section":"cells",c0=l=>{const f=l.section==="thead",p=kt(i0(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:f||p?{type:"header",subType:hp(f,p)}:{type:"body"}},i0=l=>{const f=Ct(l,p=>km(p.element));return f.length===0?ce.some("td"):f.length===l.length?ce.some("th"):ce.none()},k_=l=>{const f=tn(l,C=>c0(C).type),p=gn(f,"header"),y=gn(f,"footer");if(!p&&!y)return ce.some("body");{const C=gn(f,"body");return p&&!C&&!y?ce.some("header"):!p&&!C&&y?ce.some("footer"):ce.none()}},lE=l=>Pe(l.all,f=>{const p=c0(f);return p.type==="header"?ce.from(p.subType):ce.none()}),Ys=(l,f,p)=>qe(p(l.element,f),!0,l.isLocked),l0=(l,f)=>l.section!==f?Pt(l.element,l.cells,f,l.isNew):l,w_=()=>({transformRow:l0,transformCell:(l,f,p)=>{const y=p(l.element,f),C=Cs(y)!=="td"?Ni(y,"td"):y;return qe(C,l.isNew,l.isLocked)}}),__=()=>({transformRow:l0,transformCell:Ys}),Uh=()=>({transformRow:(l,f)=>l0(l,f==="thead"?"tbody":f),transformCell:Ys}),Pa={getTableSectionType:(l,f)=>{const p=rs.fromTable(l);switch(lE(p).getOr(f)){case"section":return w_();case"sectionCells":return __();case"cells":return Uh()}},section:w_,sectionCells:__,cells:Uh,fallback:()=>({transformRow:ft,transformCell:Ys})},Wh=(l,f,p,y)=>{p===y?le(l,f):ss(l,f,p)},bp=(l,f,p)=>{Ne(Dn(l,f)).fold(()=>ea(l,p),y=>ra(y,p))},C_=(l,f)=>{const p=q(l,f).getOrThunk(()=>{const y=ke.fromTag(f,Rn(l).dom);return f==="thead"?bp(l,"caption,colgroup",y):f==="colgroup"?bp(l,"caption",y):Ps(l,y),y});return ma(p),p},jh=(l,f)=>{const p=[],y=[],C=an=>tn(an,wt=>{wt.isNew&&p.push(wt.element);const cn=wt.element;return ma(cn),et(wt.cells,vt=>{vt.isNew&&y.push(vt.element),Wh(vt.element,"colspan",vt.colspan,1),Wh(vt.element,"rowspan",vt.rowspan,1),Ps(cn,vt.element)}),cn}),O=an=>lt(an,wt=>tn(wt.cells,cn=>(Wh(cn.element,"span",cn.colspan,1),cn.element))),$=(an,wt)=>{const cn=C_(l,wt),In=(wt==="colgroup"?O:C)(an);Ma(cn,In)},j=an=>{q(l,an).each(Br)},ne=(an,wt)=>{an.length>0?$(an,wt):j(wt)},be=[],Be=[],Tt=[],fn=[];return et(f,an=>{switch(an.section){case"thead":be.push(an);break;case"tbody":Be.push(an);break;case"tfoot":Tt.push(an);break;case"colgroup":fn.push(an);break}}),ne(fn,"colgroup"),ne(be,"thead"),ne(Be,"tbody"),ne(Tt,"tfoot"),{newRows:p,newCells:y}},u0=l=>tn(l,f=>{const p=aa(f.element);return et(f.cells,y=>{const C=Uc(y.element);Wh(C,"colspan",y.colspan,1),Wh(C,"rowspan",y.rowspan,1),Ps(p,C)}),p}),ya=(l,f)=>tn(l,p=>Xr(p,f)),IO=(l,f)=>l[f],oa=(l,f)=>{if(l.length===0)return 0;const p=l[0];return Xo(l,C=>!f(p.element,C.element)).getOr(l.length)},ol=(l,f,p,y)=>{const C=IO(l,f),O=C.section==="colgroup",$=oa(C.cells.slice(p),y),j=O?1:oa(ya(l.slice(f),p),y);return{colspan:$,rowspan:j}},yf=(l,f)=>{const p=tn(l,C=>tn(C.cells,Jt)),y=(C,O,$,j)=>{for(let ne=C;ne<C+$;ne++)for(let be=O;be<O+j;be++)p[ne][be]=!0};return tn(l,(C,O)=>{const $=lt(C.cells,(j,ne)=>{if(p[O][ne]===!1){const be=ol(l,O,ne,f);return y(O,ne,be.rowspan,be.colspan),[gl(j.element,be.rowspan,be.colspan,j.isNew)]}else return[]});return Oe(C.element,$,C.section,C.isNew)})},Ci=(l,f,p)=>{const y=[];et(l.colgroups,C=>{const O=[];for(let $=0;$<l.grid.columns;$++){const j=rs.getColumnAt(l,$).map(ne=>qe(ne.element,p,!1)).getOrThunk(()=>qe(f.colGap(),!0,!1));O.push(j)}y.push(Pt(C.element,O,"colgroup",p))});for(let C=0;C<l.grid.rows;C++){const O=[];for(let ne=0;ne<l.grid.columns;ne++){const be=rs.getAt(l,C,ne).map(Be=>qe(Be.element,p,Be.isLocked)).getOrThunk(()=>qe(f.gap(),!0,!1));O.push(be)}const $=l.all[C],j=Pt($.element,O,$.section,p);y.push(j)}return y},dE=(l,f)=>Ci(l,f,!1),d0=l=>yf(l,Et),Vl=(l,f)=>Pe(l.all,p=>F(p.cells,y=>Et(f,y.element))),va=(l,f,p)=>{const y=tn(f.selection,O=>Gd(O).bind($=>Vl(l,$)).filter(p)),C=un(y);return Sr(C.length>0,C)},Ta=(l,f,p,y,C)=>(O,$,j,ne)=>{const be=rs.fromTable(O),Be=ce.from(ne==null?void 0:ne.section).getOrThunk(Pa.fallback);return f(be,$).map(fn=>{const an=dE(be,j),wt=l(an,fn,Et,C(j),Be),cn=Wa(wt.grid),vt=d0(wt.grid);return{info:fn,grid:vt,cursor:wt.cursor,lockedColumns:cn}}).bind(fn=>{const an=jh(O,fn.grid),wt=ce.from(ne==null?void 0:ne.sizing).getOrThunk(()=>_i.getTableSize(O)),cn=ce.from(ne==null?void 0:ne.resize).getOrThunk(ag);return p(O,fn.grid,fn.info,{sizing:wt,resize:cn,section:Be}),y(O),le(O,Ym),fn.lockedColumns.length>0&&ss(O,Ym,fn.lockedColumns.join(",")),ce.some({cursor:fn.cursor,newRows:an.newRows,newCells:an.newCells})})},fE=(l,f)=>Gd(f.element).bind(p=>Vl(l,p).map(y=>pt(te({},y),{generators:f.generators,clipboard:f.clipboard}))),Qu=(l,f)=>va(l,f,$e).map(p=>({cells:p,generators:f.generators,clipboard:f.clipboard})),Zh=(l,f)=>f.mergable,Uy=(l,f)=>f.unmergable,Ul=(l,f)=>va(l,f,$e),sl=(l,f)=>va(l,f,p=>!p.isLocked),cg=(l,f)=>Vl(l,f).exists(p=>!p.isLocked),yp=(l,f)=>bt(f,p=>cg(l,p)),qh=(l,f)=>Zh(l,f).filter(p=>yp(l,p.cells)),Gh=(l,f)=>Uy(l,f).filter(p=>yp(l,p)),S_=(l,f,p,y)=>{const C=Na(l).rows;if(C.length===0)return l;for(let O=f.startRow;O<=f.finishRow;O++)for(let $=f.startCol;$<=f.finishCol;$++){const j=C[O],ne=Xr(j,$).isLocked;Eo(j,$,qe(y(),!1,ne))}return l},f0=(l,f,p,y)=>{const C=Na(l).rows;let O=!0;for(let $=0;$<C.length;$++)for(let j=0;j<$i(C[0]);j++){const ne=C[$],be=Xr(ne,j),Be=be.element,Tt=p(Be,f);Tt&&!O?Eo(ne,j,qe(y(),!0,be.isLocked)):Tt&&(O=!1)}return l},mE=(l,f)=>Re(l,(p,y)=>rt(p,C=>f(C.element,y.element))?p:p.concat([y]),[]),x_=(l,f,p,y)=>(f>0&&f<l[0].cells.length&&et(l,C=>{const O=C.cells[f-1];let $=0;const j=y();for(;C.cells.length>f+$&&p(O.element,C.cells[f+$].element);)Eo(C,f+$,qe(j,!0,C.cells[f+$].isLocked)),$++}),l),E_=(l,f,p,y)=>{const C=Na(l).rows;if(f>0&&f<C.length){const O=C[f-1].cells,$=mE(O,p);et($,j=>{let ne=ce.none();for(let be=f;be<C.length;be++)for(let Be=0;Be<$i(C[0]);Be++){const Tt=C[be],fn=Xr(Tt,Be);p(fn.element,j.element)&&(ne.isNone()&&(ne=ce.some(y())),ne.each(wt=>{Eo(Tt,Be,qe(wt,!0,fn.isLocked))}))}})}return l},m0=l=>{const f=O=>O(l),p=W(l),y=()=>C,C={tag:!0,inner:l,fold:(O,$)=>$(l),isValue:$e,isError:Jt,map:O=>Wy.value(O(l)),mapError:y,bind:f,exists:f,forall:f,getOr:p,or:y,getOrThunk:p,orThunk:y,getOrDie:p,each:O=>{O(l)},toOptional:()=>ce.some(l)};return C},T_=l=>{const f=()=>p,p={tag:!1,inner:l,fold:(y,C)=>y(l),isValue:Jt,isError:$e,map:f,mapError:y=>Wy.error(y(l)),bind:f,exists:Jt,forall:$e,getOr:ft,or:ft,getOrThunk:Sn,orThunk:Sn,getOrDie:at(String(l)),each:ot,toOptional:ce.none};return p},Wy={value:m0,error:T_,fromOption:(l,f)=>l.fold(()=>T_(f),m0)},A_=(l,f,p)=>{if(l.row>=f.length||l.column>$i(f[0]))return Wy.error("invalid start address out of table bounds, row: "+l.row+", column: "+l.column);const y=f.slice(l.row),C=y[0].cells.slice(l.column),O=$i(p[0]),$=p.length;return Wy.value({rowDelta:y.length-$,colDelta:C.length-O})},Fr=(l,f)=>{const p=$i(l[0]),y=$i(f[0]);return{rowDelta:0,colDelta:p-y}},g0=(l,f)=>{const p=l.length,y=f.length;return{rowDelta:p-y,colDelta:0}},p0=(l,f,p,y)=>{const C=f.section==="colgroup"?p.col:p.cell;return Hn(l,O=>qe(C(),!0,y(O)))},O_=(l,f,p,y)=>{const C=l[l.length-1];return l.concat(Hn(f,()=>{const O=C.section==="colgroup"?p.colgroup:p.row,$=rp(C,O,ft),j=p0($.cells.length,$,p,ne=>to(y,ne.toString()));return Yr($,j)}))},vf=(l,f,p,y)=>tn(l,C=>{const O=p0(f,C,p,Jt);return Do(C,y,O)}),Bc=(l,f,p)=>tn(l,y=>Re(p,(C,O)=>{const $=p0(1,y,f,$e)[0];return Mo(C,O,$)},y)),Si=(l,f,p)=>{const y=f.colDelta<0?vf:ft,C=f.rowDelta<0?O_:ft,O=Wa(l),$=$i(l[0]),j=rt(O,Be=>Be===$-1),ne=y(l,Math.abs(f.colDelta),p,j?$-1:$),be=Wa(ne);return C(ne,Math.abs(f.rowDelta),p,ee(be,$e))},D_=(l,f,p,y)=>{const C=Xr(l[f],p),O=ht(y,C.element),$=l[f];return l.length>1&&$i($)>1&&(p>0&&O(Rr($,p-1))||p<$.cells.length-1&&O(Rr($,p+1))||f>0&&O(Rr(l[f-1],p))||f<l.length-1&&O(Rr(l[f+1],p)))},h0=(l,f,p,y,C,O)=>{const $=l.row,j=l.column,ne=p.length,be=$i(p[0]),Be=$+ne,Tt=j+be+O.length,fn=ee(O,$e);for(let an=$;an<Be;an++){let wt=0;for(let cn=j;cn<Tt;cn++){if(fn[cn]){wt++;continue}D_(f,an,cn,C)&&f0(f,Rr(f[an],cn),C,y.cell);const vt=cn-j-wt,In=Xr(p[an-$],vt),Po=In.element,Qo=y.replace(Po);Eo(f[an],cn,qe(Qo,!0,In.isLocked))}}return f},wm=(l,f,p)=>{const y=$i(f[0]),C=Na(f).cols.length+l.row,O=Hn(y-l.column,j=>j+l.column),$=F(O,j=>bt(p,ne=>ne!==j)).getOr(y-1);return{row:C,column:$}},ig=(l,f,p)=>Ct(p,y=>y>=l.column&&y<=$i(f[0])+l.column),lg=(l,f,p,y,C)=>{const O=Wa(f),$=wm(l,f,O),j=Na(p).rows,ne=ig($,j,O);return A_($,f,j).map(Be=>{const Tt=pt(te({},Be),{colDelta:Be.colDelta-ne.length}),fn=Si(f,Tt,y),an=Wa(fn),wt=ig($,j,an);return h0($,fn,j,y,C,wt)})},jy=(l,f,p,y,C)=>{x_(f,l,C,y.cell);const O=g0(p,f),$=Si(p,O,y),j=g0(f,$),ne=Si(f,j,y);return tn(ne,(be,Be)=>Do(be,l,$[Be].cells))},kf=(l,f,p,y,C)=>{E_(f,l,C,y.cell);const O=Wa(f),$=Fr(f,p),j=pt(te({},$),{colDelta:$.colDelta-O.length}),ne=Si(f,j,y),{cols:be,rows:Be}=Na(ne),Tt=Wa(ne),fn=Fr(p,f),an=pt(te({},fn),{colDelta:fn.colDelta+Tt.length}),wt=Bc(p,y,Tt),cn=Si(wt,an,y);return[...be,...Be.slice(0,l),...cn,...Be.slice(l,Be.length)]},Zy=(l,f,p,y)=>rp(l,C=>y(C,p),f),jr=(l,f,p,y,C)=>{const{rows:O,cols:$}=Na(l),j=O.slice(0,f),ne=O.slice(f),be=Zy(O[p],(Be,Tt)=>f>0&&f<O.length&&y(Rr(O[f-1],Tt),Rr(O[f],Tt))?Xr(O[f],Tt):qe(C(Be.element,y),!0,Be.isLocked),y,C);return[...$,...j,be,...ne]},rl=(l,f,p,y,C,O,$)=>{if(p==="colgroup"||!y){const j=Xr(l,C);return qe($(j.element,O),!0,!1)}else return Xr(l,f)},vp=(l,f,p,y,C)=>tn(l,O=>{const $=f>0&&f<$i(O)&&y(Rr(O,f-1),Rr(O,f)),j=rl(O,f,O.section,$,p,y,C);return Mo(O,f,j)}),gE=(l,f)=>lt(l,p=>{const y=p.cells,C=vn(f,(O,$)=>$>=0&&$<O.length?O.slice(0,$).concat(O.slice($+1)):O,y);return C.length>0?[Pt(p.element,C,p.section,p.isNew)]:[]}),b0=(l,f,p)=>{const{rows:y,cols:C}=Na(l);return[...C,...y.slice(0,f),...y.slice(p+1)]},pE=(l,f,p,y)=>Rr(l[f],p)!==void 0&&f>0&&y(Rr(l[f-1],p),Rr(l[f],p)),ug=(l,f,p)=>f>0&&p(Rr(l,f-1),Rr(l,f)),kp=(l,f,p,y)=>pE(l,f,p,y)||ug(l[f],p,y),Wl=(l,f)=>bt(f,ft)&&Vh(l.cells)?$e:(y,C,O)=>!(Cs(y.element)==="th"&&f[O]),y0=(l,f)=>bt(f,ft)&&Vh(l)?$e:(y,C,O)=>!(Cs(y.element)==="th"&&f[C]),z_=(l,f,p,y)=>{const C=$=>$==="row"?hl(f):kc(f),O=$=>C($)?`${$}group`:$;return l?km(f)?O(p):null:y&&km(f)?O(p==="row"?"col":"row"):null},R_=(l,f)=>(p,y,C)=>ce.some(z_(l,p.element,"col",f[C])),hE=(l,f)=>(p,y)=>ce.some(z_(l,p.element,"row",f[y])),M_=(l,f,p)=>qe(p(l.element,f),!0,l.isLocked),qy=(l,f,p,y,C,O,$)=>{const j=ne=>rt(f,be=>p(ne.element,be.element));return tn(l,(ne,be)=>wc(ne,(Be,Tt)=>{if(j(Be)){const fn=$(Be,be,Tt)?C(Be,p,y):Be;return O(fn,be,Tt).each(an=>{Qs(fn.element,{scope:ce.from(an)})}),fn}else return Be}))},Gy=(l,f,p)=>lt(l,(y,C)=>kp(l,C,f,p)?[]:[Xr(y,f)]),N_=(l,f,p)=>{const y=l[f];return lt(y.cells,(C,O)=>kp(l,f,O,p)?[]:[C])},v0=(l,f,p,y,C)=>{const O=Na(l).rows,$=lt(f,Be=>Gy(O,Be,y)),j=tn(O,Be=>Vh(Be.cells)),ne=y0($,j),be=hE(p,j);return qy(l,$,y,C,M_,be,ne)},dg=(l,f,p,y,C,O,$)=>{const{cols:j,rows:ne}=Na(l),be=ne[f[0]],Be=lt(f,vt=>N_(ne,vt,C)),Tt=tn(be.cells,(vt,In)=>Vh(Gy(ne,In,C))),fn=[...ne];et(f,vt=>{fn[vt]=$.transformRow(ne[vt],p)});const an=[...j,...fn],wt=Wl(be,Tt),cn=R_(y,Tt);return qy(an,Be,C,O,$.transformCell,cn,wt)},P_=(l,f,p,y)=>{const C=Na(l).rows,O=tn(f,$=>Xr(C[$.row],$.column));return qy(l,O,p,y,M_,ce.none,$e)},wf={generate:l=>{if(!yn(l))throw new Error("cases must be an array");if(l.length===0)throw new Error("there must be at least one case");const f=[],p={};return et(l,(y,C)=>{const O=Ye(y);if(O.length!==1)throw new Error("one and only one name per case");const $=O[0],j=y[$];if(p[$]!==void 0)throw new Error("duplicate key detected:"+$);if($==="cata")throw new Error("cannot have a case named cata (sorry)");if(!yn(j))throw new Error("case arguments must be an array");f.push($),p[$]=(...ne)=>{const be=ne.length;if(be!==j.length)throw new Error("Wrong number of arguments to case "+$+". Expected "+j.length+" ("+j+"), got "+be);return{fold:(...Tt)=>{if(Tt.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+Tt.length);return Tt[C].apply(null,ne)},match:Tt=>{const fn=Ye(Tt);if(f.length!==fn.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+fn.join(","));if(!bt(f,wt=>gn(fn,wt)))throw new Error("Not all branches were specified when using match. Specified: "+fn.join(", ")+`
Required: `+f.join(", "));return Tt[$].apply(null,ne)},log:Tt=>{console.log(Tt,{constructors:f,constructor:$,params:ne})}}}}),p}},Kh=wf.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),al=te({},Kh),wp=(l,f)=>l.length===0?al.none():l.length===1?al.only(0):f===0?al.left(0,1):f===l.length-1?al.right(f-1,f):f>0&&f<l.length-1?al.middle(f-1,f,f+1):al.none(),vs=(l,f,p,y,C)=>{const O=l.slice(0),$=wp(l,f),j=W(tn(O,W(0))),ne=fn=>y.singleColumnWidth(O[fn],p),be=(fn,an)=>C.calcLeftEdgeDeltas(O,fn,an,p,y.minCellWidth(),y.isRelative),Be=(fn,an,wt)=>C.calcMiddleDeltas(O,fn,an,wt,p,y.minCellWidth(),y.isRelative),Tt=(fn,an)=>C.calcRightEdgeDeltas(O,fn,an,p,y.minCellWidth(),y.isRelative);return $.fold(j,ne,be,Be,Tt)},xi=(l,f,p)=>{let y=0;for(let C=l;C<f;C++)y+=p[C]!==void 0?p[C]:0;return y},_f=(l,f)=>{const p=rs.justCells(l);return tn(p,y=>{const C=xi(y.column,y.column+y.colspan,f);return{element:y.element,width:C,colspan:y.colspan}})},k0=(l,f)=>{const p=rs.justColumns(l);return tn(p,(y,C)=>({element:y.element,width:f[C],colspan:y.colspan}))},Mr=(l,f)=>{const p=rs.justCells(l);return tn(p,y=>{const C=xi(y.row,y.row+y.rowspan,f);return{element:y.element,height:C,rowspan:y.rowspan}})},w0=(l,f)=>tn(l.all,(p,y)=>({element:p.element,height:f[y]})),Cf=l=>vn(l,(f,p)=>f+p,0),Aa=(l,f)=>rs.hasColumns(l)?k0(l,f):_f(l,f),Ad=(l,f,p)=>{const y=Aa(l,f);et(y,C=>{p.setElementWidth(C.element,C.width)})},ut=(l,f,p,y,C)=>{const O=rs.fromTable(l),$=C.getCellDelta(f),j=C.getWidths(O,C),ne=p===O.grid.columns-1,be=y.clampTableDelta(j,p,$,C.minCellWidth(),ne),Be=vs(j,p,be,C,y),Tt=tn(Be,(fn,an)=>fn+j[an]);Ad(O,Tt,C),y.resizeTable(C.adjustTableWidth,be,ne)},Yy=(l,f,p,y)=>{const C=rs.fromTable(l),O=Ie(C,l,y),$=tn(O,(Be,Tt)=>p===Tt?Math.max(f+Be,Zc()):Be),j=Mr(C,$),ne=w0(C,$);et(ne,Be=>{Cl(Be.element,Be.height)}),et(j,Be=>{Cl(Be.element,Be.height)});const be=Cf($);Cl(l,be)},bE=(l,f,p,y,C)=>{const O=rs.generate(f),$=y.getWidths(O,y),j=y.pixelWidth(),{newSizes:ne,delta:be}=C.calcRedestributedWidths($,j,p.pixelDelta,y.isRelative);Ad(O,ne,y),y.adjustTableWidth(be)},Xy=(l,f,p,y)=>{const C=rs.generate(f),O=y.getWidths(C,y);Ad(C,O,y)},Od=l=>Re(l,(p,y)=>rt(p,O=>O.column===y.column)?p:p.concat([y]),[]).sort((p,y)=>p.column-y.column),Tl=xn("col"),Yh=xn("colgroup"),Jy=l=>Cs(l)==="tr"||Yh(l),_0=l=>{const f=Gs(l,"colspan",1),p=Gs(l,"rowspan",1);return{element:l,colspan:f,rowspan:p}},Qy=(l,f=_0)=>{const p=j=>Tl(j.element)?l.col(j):l.cell(j),y=j=>Yh(j.element)?l.colgroup(j):l.row(j),C=j=>{if(Jy(j))return y({element:j});{const ne=j,be=p(f(ne));return O=ce.some({item:ne,replacement:be}),be}};let O=ce.none();return{getOrInit:(j,ne)=>O.fold(()=>C(j),be=>ne(j,be.item)?be.replacement:C(j))}},B_=l=>f=>{const p=[],y=($,j)=>F(p,ne=>j(ne.item,$)),C=$=>{const j=l==="td"?{scope:null}:{},ne=f.replace($,l,j);return p.push({item:$,sub:ne}),ne};return{replaceOrInit:($,j)=>{if(Jy($)||Tl($))return $;{const ne=$;return y(ne,j).fold(()=>C(ne),be=>j($,be.item)?be.sub:C(ne))}}}},_m=l=>ie(l,"scope").map(f=>f.substr(0,3)),ji={modification:Qy,transform:B_,merging:l=>({unmerge:y=>{const C=_m(y);return C.each(O=>ss(y,"scope",O)),()=>{const O=l.cell({element:y,colspan:1,rowspan:1});return jc(O,"width"),jc(y,"width"),C.each($=>ss(O,"scope",$)),O}},merge:y=>{const C=()=>{const O=un(tn(y,_m));if(O.length===0)return ce.none();{const $=O[0],j=["row","col"];return rt(O,be=>be!==$&&gn(j,be))?ce.none():ce.from($)}};return jc(y[0],"width"),C().fold(()=>le(y[0],"scope"),O=>ss(y[0],"scope",O+"group")),W(y[0])}})},Fc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],F_=(l,f)=>{const p=l.property().name(f);return gn(["ol","ul"],p)},Cm=(l,f)=>{const p=l.property().name(f);return gn(Fc,p)},$_=(l,f)=>gn(["br","img","hr","input"],l.property().name(f)),Xh=St(),fg=l=>Cm(Xh,l),C0=l=>F_(Xh,l),e1=l=>$_(Xh,l),I_=l=>{const f=xn("br"),p=ne=>bt(ne,be=>f(be)||Ae(be)&&_o(be).trim().length===0),y=ne=>Cs(ne)==="li"||Zs(ne,C0).isSome(),C=ne=>ic(ne).map(be=>fg(be)?!0:e1(be)?Cs(be)!=="img":!1).getOr(!1),O=ne=>Ku(ne).bind(be=>{const Be=C(be);return es(be).map(Tt=>Be===!0||y(Tt)||f(be)||fg(Tt)&&!Et(ne,Tt)?[]:[ke.fromTag("br")])}).getOr([]),j=(()=>{const ne=lt(l,be=>{const Be=wo(be);return p(Be)?[]:Be.concat(O(be))});return ne.length===0?[ke.fromTag("br")]:ne})();ma(l[0]),Ma(l[0],j)},t1=l=>dm(l,!0),S0=l=>{uc(l).length===0&&Br(l)},Ga=(l,f)=>({grid:l,cursor:f}),Sc=l=>Pe(l,f=>Pe(f.cells,p=>{const y=p.element;return Sr(t1(y),y)})),Zi=(l,f,p)=>{var y,C;const O=Na(l).rows;return ce.from((C=(y=O[f])===null||y===void 0?void 0:y.cells[p])===null||C===void 0?void 0:C.element).filter(t1).orThunk(()=>Sc(O))},$r=(l,f,p)=>{const y=Zi(l,f,p);return Ga(l,y)},xc=l=>Re(l,(p,y)=>rt(p,O=>O.row===y.row)?p:p.concat([y]),[]).sort((p,y)=>p.row-y.row),hc=(l,f,p,y)=>{const C=f[0].row,O=xc(f),$=vn(O,(j,ne)=>({grid:jr(j.grid,C,ne.row+j.delta,p,y.getOrInit),delta:j.delta+1}),{grid:l,delta:0}).grid;return $r($,C,f[0].column)},n1=(l,f,p,y)=>{const C=xc(f),O=C[C.length-1],$=O.row+O.rowspan,j=vn(C,(ne,be)=>jr(ne,$,be.row,p,y.getOrInit),l);return $r(j,$,f[0].column)},o1=(l,f,p,y)=>{const C=f.details,O=Od(C),$=O[0].column,j=vn(O,(ne,be)=>({grid:vp(ne.grid,$,be.column+ne.delta,p,y.getOrInit),delta:ne.delta+1}),{grid:l,delta:0}).grid;return $r(j,C[0].row,$)},L_=(l,f,p,y)=>{const C=f.details,O=C[C.length-1],$=O.column+O.colspan,j=Od(C),ne=vn(j,(be,Be)=>vp(be,$,Be.column,p,y.getOrInit),l);return $r(ne,C[0].row,$)},s1=(l,f,p,y)=>{const C=Od(f),O=tn(C,j=>j.column),$=v0(l,O,!0,p,y.replaceOrInit);return $r($,f[0].row,f[0].column)},x0=(l,f,p,y)=>{const C=P_(l,f,p,y.replaceOrInit);return $r(C,f[0].row,f[0].column)},E0=(l,f,p,y)=>{const C=Od(f),O=tn(C,j=>j.column),$=v0(l,O,!1,p,y.replaceOrInit);return $r($,f[0].row,f[0].column)},H_=(l,f,p,y)=>{const C=P_(l,f,p,y.replaceOrInit);return $r(C,f[0].row,f[0].column)},$c=(l,f)=>(p,y,C,O,$)=>{const j=xc(y),ne=tn(j,Be=>Be.row),be=dg(p,ne,l,f,C,O.replaceOrInit,$);return $r(be,y[0].row,y[0].column)},HO=$c("thead",!0),Sf=$c("tbody",!1),yE=$c("tfoot",!1),vE=(l,f,p,y)=>{const C=Od(f.details),O=gE(l,tn(C,j=>j.column)),$=O.length>0?O[0].cells.length-1:0;return $r(O,C[0].row,Math.min(C[0].column,$))},kE=(l,f,p,y)=>{const C=xc(f),O=b0(l,C[0].row,C[C.length-1].row),$=O.length>0?O.length-1:0;return $r(O,Math.min(f[0].row,$),f[0].column)},T0=(l,f,p,y)=>{const C=f.cells;I_(C);const O=S_(l,f.bounds,p,y.merge(C));return Ga(O,ce.from(C[0]))},V_=(l,f,p,y)=>{const O=vn(f,($,j)=>f0($,j,p,y.unmerge(j)),l);return Ga(O,ce.from(f[0]))},U_=(l,f,p,y)=>{const O=((ne,be)=>{const Be=rs.fromTable(ne);return Ci(Be,be,!0)})(f.clipboard,f.generators),$=hi(f.row,f.column);return lg($,l,O,f.generators,p).fold(()=>Ga(l,ce.some(f.element)),ne=>$r(ne,f.row,f.column))},r1=(l,f,p)=>{const y=Vm(l,p.section),C=rs.generate(y);return Ci(C,f,!0)},W_=(l,f,p,y)=>{const C=Na(l).rows,O=f.cells[0].column,$=C[f.cells[0].row],j=r1(f.clipboard,f.generators,$),ne=jy(O,l,j,f.generators,p);return $r(ne,f.cells[0].row,f.cells[0].column)},j_=(l,f,p,y)=>{const C=Na(l).rows,O=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,$=C[f.cells[0].row],j=r1(f.clipboard,f.generators,$),ne=jy(O,l,j,f.generators,p);return $r(ne,f.cells[0].row,f.cells[0].column)},Vt=(l,f,p,y)=>{const C=Na(l).rows,O=f.cells[0].row,$=C[O],j=r1(f.clipboard,f.generators,$),ne=kf(O,l,j,f.generators,p);return $r(ne,f.cells[0].row,f.cells[0].column)},wE=(l,f,p,y)=>{const C=Na(l).rows,O=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,$=C[f.cells[0].row],j=r1(f.clipboard,f.generators,$),ne=kf(O,l,j,f.generators,p);return $r(ne,f.cells[0].row,f.cells[0].column)},Ec=(l,f)=>{const p=rs.fromTable(l);return Ul(p,f).bind(C=>{const O=C[C.length-1],$=C[0].column,j=O.column+O.colspan,ne=no(tn(p.all,be=>Ct(be.cells,Be=>Be.column>=$&&Be.column<j)));return i0(ne)}).getOr("")},_E=(l,f)=>{const p=rs.fromTable(l);return Ul(p,f).bind(i0).getOr("")},A0=(l,f)=>{const p=rs.fromTable(l);return Ul(p,f).bind(C=>{const O=C[C.length-1],$=C[0].row,j=O.row+O.rowspan,ne=p.all.slice($,j);return k_(ne)}).getOr("")},En=(l,f,p,y)=>Xy(l,f,p,y.sizing),Xc=(l,f,p,y)=>bE(l,f,p,y.sizing,y.resize),Z_=(l,f)=>rt(f,p=>p.column===0&&p.isLocked),q_=(l,f)=>rt(f,p=>p.column+p.colspan>=l.grid.columns&&p.isLocked),Zl=(l,f)=>{const p=nf(l),y=Od(f);return Re(y,(C,O)=>{const j=p[O.column].map(ve).getOr(0);return C+j},0)},a1=l=>(f,p)=>Ul(f,p).filter(y=>!(l?Z_:q_)(f,y)).map(y=>({details:y,pixelDelta:Zl(f,y)})),_p=(l,f)=>sl(l,f).map(p=>({details:p,pixelDelta:-Zl(l,p)})),ed=l=>(f,p)=>Qu(f,p).filter(y=>!(l?Z_:q_)(f,y.cells)),ql=ji.transform("th"),mg=ji.transform("td"),ku=Ta(hc,Ul,ot,ot,ji.modification),ci=Ta(n1,Ul,ot,ot,ji.modification),Cp=Ta(o1,a1(!0),Xc,ot,ji.modification),O0=Ta(L_,a1(!1),Xc,ot,ji.modification),G_=Ta(vE,_p,Xc,S0,ji.modification),K_=Ta(kE,Ul,ot,S0,ji.modification),D0=Ta(s1,sl,ot,ot,ql),CE=Ta(E0,sl,ot,ot,mg),z0=Ta(HO,sl,ot,ot,ql),Y_=Ta(Sf,sl,ot,ot,mg),SE=Ta(yE,sl,ot,ot,mg),X_=Ta(x0,sl,ot,ot,ql),xE=Ta(H_,sl,ot,ot,mg),EE=Ta(T0,qh,En,ot,ji.merging),R0=Ta(V_,Gh,En,ot,ji.merging),TE=Ta(U_,fE,En,ot,ji.modification),J_=Ta(W_,ed(!0),ot,ot,ji.modification),AE=Ta(j_,ed(!1),ot,ot,ji.modification),Sp=Ta(Vt,Qu,ot,ot,ji.modification),Q_=Ta(wE,Qu,ot,ot,ji.modification),OE=Ec,e2=_E,DE=A0,t2=(l,f)=>l.dispatch("NewRow",{node:f}),c1=(l,f)=>l.dispatch("NewCell",{node:f}),Sm=(l,f,p)=>{l.dispatch("TableModified",pt(te({},p),{table:f}))},xp=(l,f,p,y,C)=>{l.dispatch("TableSelectionChange",{cells:f,start:p,finish:y,otherCells:C})},Nr=l=>{l.dispatch("TableSelectionClear")},M0=(l,f,p,y,C)=>{l.dispatch("ObjectResizeStart",{target:f,width:p,height:y,origin:C})},Ei=(l,f,p,y,C)=>{l.dispatch("ObjectResized",{target:f,width:p,height:y,origin:C})},Ep={structure:!1,style:!0},oc={structure:!0,style:!1},n2={structure:!0,style:!0},Dd=(l,f)=>Yu(l)?_i.percentageSize(f):um(l)?_i.pixelSize(f):_i.getTableSize(f),zE=(l,f,p)=>{const y=fi=>Cs(Ih(fi))==="table",C=fi=>!y(l)||a0(fi).rows>1,O=fi=>!y(l)||a0(fi).columns>1,$=im(l),j=ha(l)?ot:nl,ne=fi=>{switch(fp(l)){case"section":return Pa.section();case"sectionCells":return Pa.sectionCells();case"cells":return Pa.cells();default:return Pa.getTableSectionType(fi,"section")}},be=(fi,Eb)=>Eb.cursor.fold(()=>{const Tb=uc(fi);return ae(Tb).filter(yr).map(rd=>{p.clearSelectedCells(fi.dom);const yc=l.dom.createRng();return yc.selectNode(rd.dom),l.selection.setRng(yc),ss(rd,"data-mce-selected","1"),yc})},Tb=>{const rd=Hy(Tb),yc=l.dom.createRng();return yc.setStart(rd.element.dom,rd.offset),yc.setEnd(rd.element.dom,rd.offset),l.selection.setRng(yc),p.clearSelectedCells(fi.dom),ce.some(yc)}),Be=(fi,Eb,Tb,rd)=>(yc,Ok,cC=!1)=>{Xu(yc);const iC=ke.fromDom(l.getDoc()),lC=qa(Tb,iC,$),UT={sizing:Dd(l,yc),resize:ha(l)?v_():ag(),section:ne(yc)};return Eb(yc)?fi(yc,Ok,lC,UT).bind(Dk=>{f.refresh(yc.dom),et(Dk.newRows,Ab=>{t2(l,Ab.dom)}),et(Dk.newCells,Ab=>{c1(l,Ab.dom)});const WT=be(yc,Dk);return yr(yc)&&(Xu(yc),cC||Sm(l,yc.dom,rd)),WT.map(Ab=>({rng:Ab,effect:rd}))}):ce.none()},Tt=Be(K_,C,ot,oc),fn=Be(G_,O,ot,oc),an=Be(ku,$e,ot,oc),wt=Be(ci,$e,ot,oc),cn=Be(Cp,$e,j,oc),vt=Be(O0,$e,j,oc),In=Be(EE,$e,ot,oc),Po=Be(R0,$e,ot,oc),Qo=Be(J_,$e,ot,oc),Ir=Be(AE,$e,ot,oc),Fa=Be(Sp,$e,ot,oc),Oa=Be(Q_,$e,ot,oc),ui=Be(TE,$e,ot,n2),Eg=Be(X_,$e,ot,oc),xb=Be(xE,$e,ot,oc),U1=Be(D0,$e,ot,oc),W1=Be(CE,$e,ot,oc),lr=Be(z0,$e,ot,oc),di=Be(Y_,$e,ot,oc),Ai=Be(SE,$e,ot,oc);return{deleteRow:Tt,deleteColumn:fn,insertRowsBefore:an,insertRowsAfter:wt,insertColumnsBefore:cn,insertColumnsAfter:vt,mergeCells:In,unmergeCells:Po,pasteColsBefore:Qo,pasteColsAfter:Ir,pasteRowsBefore:Fa,pasteRowsAfter:Oa,pasteCells:ui,makeCellsHeader:Eg,unmakeCellsHeader:xb,makeColumnsHeader:U1,unmakeColumnsHeader:W1,makeRowsHeader:lr,makeRowsBody:di,makeRowsFooter:Ai,getTableRowType:DE,getTableCellType:e2,getTableColType:OE}},i1=(l,f,p)=>{const y=Gs(l,f,1);p===1||y<=1?le(l,f):ss(l,f,Math.min(p,y))},o2=(l,f)=>p=>{const y=p.column+p.colspan-1,C=p.column;return y>=l&&C<f},Jh=(l,f,p)=>{if(rs.hasColumns(l)){const y=Ct(rs.justColumns(l),o2(f,p)),C=tn(y,$=>{const j=Uc($.element);return i1(j,"span",p-f),j}),O=ke.fromTag("colgroup");return Ma(O,C),[O]}else return[]},RE=(l,f,p)=>tn(l.all,y=>{const C=Ct(y.cells,o2(f,p)),O=tn(C,j=>{const ne=Uc(j.element);return i1(ne,"colspan",p-f),ne}),$=ke.fromTag("tr");return Ma($,O),$}),ME=(l,f)=>{const p=rs.fromTable(l);return sl(p,f).map(C=>{const O=C[C.length-1],$=C[0].column,j=O.column+O.colspan,ne=Jh(p,$,j),be=RE(p,$,j);return[...ne,...be]})},NE=(l,f,p)=>{const y=rs.fromTable(l);return Ul(y,f).bind(O=>{const $=Ci(y,p,!1),ne=Na($).rows.slice(O[0].row,O[O.length-1].row+O[O.length-1].rowspan),be=lt(ne,Tt=>{const fn=Ct(Tt.cells,an=>!an.isLocked);return fn.length>0?[pt(te({},Tt),{cells:fn})]:[]}),Be=d0(be);return Sr(Be.length>0,Be)}).map(O=>u0(O))},Qh=wf.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),s2=(l,f,p)=>{const y=p.substring(0,p.length-l.length),C=parseFloat(y);return y===C.toString()?f(C):Qh.invalid(p)},N0=l=>Vr(l,"%")?s2("%",Qh.percent,l):Vr(l,"px")?s2("px",Qh.pixels,l):Qh.invalid(l),gg=pt(te({},Qh),{from:N0}),PE=(l,f)=>tn(l,p=>gg.from(p).fold(()=>p,C=>C/f*100+"%",C=>C+"%")),BE=(l,f,p)=>{const y=p/f;return tn(l,C=>gg.from(C).fold(()=>C,$=>$*y+"px",$=>$/100*p+"px"))},FE=(l,f)=>{const p=l.fold(()=>W(""),y=>{const C=y/f;return W(C+"px")},()=>{const y=100/f;return W(y+"%")});return Hn(f,p)},r2=(l,f,p)=>l.fold(()=>f,y=>BE(f,p,y),y=>PE(f,p)),P0=(l,f,p)=>{const y=gg.from(p),C=bt(l,O=>O==="0px")?FE(y,l.length):r2(y,l,f);return l1(C)},xf=(l,f)=>l.length===0?f:vn(l,(p,y)=>gg.from(y).fold(W(0),ft,ft)+p,0),a2=(l,f)=>{const p=Math.floor(l);return{value:p+f,remainder:l-p}},c2=(l,f)=>gg.from(l).fold(W(l),p=>p+f+"px",p=>p+f+"%"),l1=l=>{if(l.length===0)return l;const f=vn(l,(y,C)=>{const O=gg.from(C).fold(()=>({value:C,remainder:0}),$=>a2($,"px"),$=>({value:$+"%",remainder:0}));return{output:[O.value].concat(y.output),remainder:y.remainder+O.remainder}},{output:[],remainder:0}),p=f.output;return p.slice(0,p.length-1).concat([c2(p[p.length-1],Math.round(f.remainder))])},$E=gg.from,Ef=(l,f,p)=>{et(f,y=>{const C=l.slice(y.column,y.colspan+y.column),O=xf(C,ta());Ar(y.element,"width",O+p)})},u1=(l,f,p)=>{et(f,(y,C)=>{const O=xf([l[C]],ta());Ar(y.element,"width",O+p)})},d1=(l,f,p,y)=>{et(p,C=>{const O=l.slice(C.row,C.rowspan+C.row),$=xf(O,Zc());Ar(C.element,"height",$+y)}),et(f,(C,O)=>{Ar(C.element,"height",l[O])})},eb=l=>$E(l).fold(W("px"),W("px"),W("%")),i2=(l,f,p)=>{const y=rs.fromTable(l),C=y.all,O=rs.justCells(y),$=rs.justColumns(y);f.each(j=>{const ne=eb(j),be=me(l),Be=cf(y,l),Tt=P0(Be,be,j);rs.hasColumns(y)?u1(Tt,$,ne):Ef(Tt,O,ne),Ar(l,"width",j)}),p.each(j=>{const ne=eb(j),be=Xm(l),Be=Yc(y,l,wn),Tt=P0(Be,be,j);d1(Tt,C,O,ne),Ar(l,"height",j)})},zd=kd,f1=dp,l2=ki,td=l=>{le(l,"width")},xm=l=>{const f=ga(l);i2(l,ce.some(f),ce.none()),td(l)},B0=l=>{const f=Mh(l);i2(l,ce.some(f),ce.none()),td(l)},u2=l=>{jc(l,"width");const f=Kd(l),p=f.length>0?f:uc(l);et(p,y=>{jc(y,"width"),td(y)}),td(l)},m1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},IE=()=>ke.fromTag("th"),d2=()=>ke.fromTag("td"),LE=()=>ke.fromTag("col"),HE=(l,f,p,y)=>{const C=ke.fromTag("tr");for(let O=0;O<l;O++){const $=y<f||O<p?IE():d2();O<p&&ss($,"scope","row"),y<f&&ss($,"scope","col"),Ps($,ke.fromTag("br")),Ps(C,$)}return C},f2=l=>{const f=ke.fromTag("colgroup");return Hn(l,()=>Ps(f,LE())),f},m2=(l,f,p,y)=>Hn(l,C=>HE(f,p,y,C)),g2=(l,f,p,y,C,O=m1)=>{const $=ke.fromTag("table"),j=C!=="cells";lc($,O.styles),fr($,O.attributes),O.colGroups&&Ps($,f2(f));const ne=Math.min(l,p);if(j&&p>0){const an=ke.fromTag("thead");Ps($,an);const cn=m2(p,f,C==="sectionCells"?ne:0,y);Ma(an,cn)}const be=ke.fromTag("tbody");Ps($,be);const Be=j?l-ne:l,fn=m2(Be,f,j?0:p,y);return Ma(be,fn),$},VE=l=>l.dom.innerHTML,UE=l=>{const f=ke.fromTag("div"),p=ke.fromDom(l.dom.cloneNode(!0));return Ps(f,p),VE(f)},WE=(l,f)=>{l.selection.select(f.dom,!0),l.selection.collapse(!0)},p2=(l,f)=>{ue(f,"td,th").each(ht(WE,l))},F0=(l,f)=>{et(gr(f,"tr"),p=>{t2(l,p.dom),et(gr(p,"th,td"),y=>{c1(l,y.dom)})})},$0=l=>Xn(l)&&l.indexOf("%")!==-1,jE=(l,f,p,y,C)=>{const O=Qx(l),$={styles:O,attributes:$h(l),colGroups:ba(l)};return l.undoManager.ignore(()=>{const j=g2(p,f,C,y,fp(l),$);ss(j,"data-mce-id","__mce");const ne=UE(j);l.insertContent(ne),l.addVisual()}),ue(Ih(l),'table[data-mce-id="__mce"]').map(j=>(um(l)?B0(j):ng(l)?u2(j):(Yu(l)||$0(O.width))&&xm(j),Xu(j),le(j,"data-mce-id"),F0(l,j),p2(l,j),j.dom)).getOrNull()},ZE=(l,f,p,y={})=>{const C=O=>ln(O)&&O>0;if(C(f)&&C(p)){const O=y.headerRows||0,$=y.headerColumns||0;return jE(l,p,f,$,O)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var g1=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const h2="x-tinymce/dom-table-",p1=h2+"rows",tb=h2+"columns",h1=l=>{const f=g1.FakeClipboardItem(l);g1.write([f])},I0=l=>{var f;const p=(f=g1.read())!==null&&f!==void 0?f:[];return Pe(p,y=>ce.from(y.getType(l)))},b2=l=>{I0(l).isSome()&&g1.clear()},y2=l=>{l.fold(qE,f=>h1({[p1]:f}))},L0=()=>I0(p1),qE=()=>b2(p1),v2=l=>{l.fold(GE,f=>h1({[tb]:f}))},nb=()=>I0(tb),GE=()=>b2(tb),b1=l=>h_(Ll(l),mf(l)).filter(mp),k2=l=>gp(Ll(l),mf(l)).filter(mp),w2=(l,f)=>{const p=mf(l),y=()=>b1(l).each(vt=>{Mc(vt,p).filter(H(p)).each(In=>{const Po=ke.fromText("");if(ra(In,Po),Br(In),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{const Qo=l.dom.createRng();Qo.setStart(Po.dom,0),Qo.setEnd(Po.dom,0),l.selection.setRng(Qo),l.nodeChanged()}})}),C=vt=>b1(l).each(In=>{ng(l)||um(l)||Yu(l)||Mc(In,p).each(Qo=>{vt==="relative"&&!zd(Qo)?xm(Qo):vt==="fixed"&&!f1(Qo)?B0(Qo):vt==="responsive"&&!l2(Qo)&&u2(Qo),Xu(Qo),Sm(l,Qo.dom,oc)})}),O=vt=>Mc(vt,p),$=vt=>k2(l).bind(In=>O(In).map(Po=>vt(Po,In))),j=(vt,In)=>{$(Po=>{l.formatter.toggle("tableclass",{value:In},Po.dom),Sm(l,Po.dom,Ep)})},ne=(vt,In)=>{$(Po=>{const Qo=Hl(l),Fa=bt(Qo,Oa=>l.formatter.match("tablecellclass",{value:In},Oa.dom))?l.formatter.remove:l.formatter.apply;et(Qo,Oa=>Fa("tablecellclass",{value:In},Oa.dom)),Sm(l,Po.dom,Ep)})},be=()=>{b1(l).each(vt=>{Mc(vt,p).each(In=>{q(In,"caption").fold(()=>{const Po=ke.fromTag("caption");Ps(Po,ke.fromText("Caption")),Fu(In,Po,0),l.selection.setCursorLocation(Po.dom,0)},Po=>{xn("caption")(vt)&&yt("td",In).each(Qo=>l.selection.setCursorLocation(Qo.dom,0)),Br(Po)}),Sm(l,In.dom,oc)})})},Be=vt=>{l.focus()},Tt=(vt,In=!1)=>$((Po,Qo)=>{const Ir=ym(Hl(l),Po,Qo);vt(Po,Ir,In).each(Be)}),fn=()=>$((vt,In)=>{const Po=ym(Hl(l),vt,In),Qo=qa(ot,ke.fromDom(l.getDoc()),ce.none());return NE(vt,Po,Qo)}),an=()=>$((vt,In)=>{const Po=ym(Hl(l),vt,In);return ME(vt,Po)}),wt=(vt,In)=>In().each(Po=>{const Qo=tn(Po,Ir=>Uc(Ir));$((Ir,Fa)=>{const Oa=ai(ke.fromDom(l.getDoc())),ui=Hh(Hl(l),Fa,Qo,Oa);vt(Ir,ui).each(Be)})}),cn=vt=>(In,Po)=>$o(Po,"type").each(Qo=>{Tt(vt(Qo),Po.no_events)});J({mceTableSplitCells:()=>Tt(f.unmergeCells),mceTableMergeCells:()=>Tt(f.mergeCells),mceTableInsertRowBefore:()=>Tt(f.insertRowsBefore),mceTableInsertRowAfter:()=>Tt(f.insertRowsAfter),mceTableInsertColBefore:()=>Tt(f.insertColumnsBefore),mceTableInsertColAfter:()=>Tt(f.insertColumnsAfter),mceTableDeleteCol:()=>Tt(f.deleteColumn),mceTableDeleteRow:()=>Tt(f.deleteRow),mceTableCutCol:()=>an().each(vt=>{v2(vt),Tt(f.deleteColumn)}),mceTableCutRow:()=>fn().each(vt=>{y2(vt),Tt(f.deleteRow)}),mceTableCopyCol:()=>an().each(vt=>v2(vt)),mceTableCopyRow:()=>fn().each(vt=>y2(vt)),mceTablePasteColBefore:()=>wt(f.pasteColsBefore,nb),mceTablePasteColAfter:()=>wt(f.pasteColsAfter,nb),mceTablePasteRowBefore:()=>wt(f.pasteRowsBefore,L0),mceTablePasteRowAfter:()=>wt(f.pasteRowsAfter,L0),mceTableDelete:y,mceTableCellToggleClass:ne,mceTableToggleClass:j,mceTableToggleCaption:be,mceTableSizingMode:(vt,In)=>C(In),mceTableCellType:cn(vt=>vt==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:cn(vt=>vt==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:cn(vt=>{switch(vt){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(vt,In)=>l.addCommand(In,vt)),l.addCommand("mceInsertTable",(vt,In)=>{ZE(l,In.rows,In.columns,In.options)}),l.addCommand("mceTableApplyCellStyle",(vt,In)=>{const Po=Fa=>"tablecell"+Fa.toLowerCase().replace("-","");if(!Qe(In))return;const Qo=Ct(Hl(l),mp);if(Qo.length===0)return;const Ir=On(In,(Fa,Oa)=>l.formatter.has(Po(Oa))&&Xn(Fa));ao(Ir)||(J(Ir,(Fa,Oa)=>{const ui=Po(Oa);et(Qo,Eg=>{Fa===""?l.formatter.remove(ui,{value:null},Eg.dom,!0):l.formatter.apply(ui,{value:Fa},Eg.dom)})}),O(Qo[0]).each(Fa=>Sm(l,Fa.dom,Ep)))})},_2=(l,f)=>{const p=mf(l),y=C=>gp(Ll(l)).bind(O=>Mc(O,p).map($=>{const j=ym(Hl(l),$,O);return C($,j)})).getOr("");J({mceTableRowType:()=>y(f.getTableRowType),mceTableCellType:()=>y(f.getTableCellType),mceTableColType:()=>y(f.getTableColType)},(C,O)=>l.addQueryValueHandler(O,C))},y1=wf.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),KE=(l,f,p,y)=>l.fold(f,p,y),ob=l=>l.fold(ft,ft,ft),YE=y1.before,XE=y1.on,C2=y1.after,Ka={before:YE,on:XE,after:C2,cata:KE,getStart:ob},Tp={create:(l,f)=>({selection:l,kill:f})},QE=(l,f)=>{const p=l.document.createRange();return p.selectNode(f.dom),p},sb=(l,f)=>{const p=l.document.createRange();return H0(p,f),p},H0=(l,f)=>l.selectNodeContents(f.dom),eT=(l,f)=>{f.fold(p=>{l.setStartBefore(p.dom)},(p,y)=>{l.setStart(p.dom,y)},p=>{l.setStartAfter(p.dom)})},tT=(l,f)=>{f.fold(p=>{l.setEndBefore(p.dom)},(p,y)=>{l.setEnd(p.dom,y)},p=>{l.setEndAfter(p.dom)})},V0=(l,f,p)=>{const y=l.document.createRange();return eT(y,f),tT(y,p),y},Em=(l,f,p,y,C)=>{const O=l.document.createRange();return O.setStart(f.dom,p),O.setEnd(y.dom,C),O},Ap=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}),Ti=l=>{const f=l.getClientRects(),p=f.length>0?f[0]:l.getBoundingClientRect();return p.width>0||p.height>0?ce.some(p).map(Ap):ce.none()},pg=wf.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),S2=(l,f,p)=>f(ke.fromDom(p.startContainer),p.startOffset,ke.fromDom(p.endContainer),p.endOffset),x2=(l,f)=>f.match({domRange:p=>({ltr:W(p),rtl:ce.none}),relative:(p,y)=>({ltr:yl(()=>V0(l,p,y)),rtl:yl(()=>ce.some(V0(l,y,p)))}),exact:(p,y,C,O)=>({ltr:yl(()=>Em(l,p,y,C,O)),rtl:yl(()=>ce.some(Em(l,C,O,p,y)))})}),U0=(l,f)=>{const p=f.ltr();return p.collapsed?f.rtl().filter(C=>C.collapsed===!1).map(C=>pg.rtl(ke.fromDom(C.endContainer),C.endOffset,ke.fromDom(C.startContainer),C.startOffset)).getOrThunk(()=>S2(l,pg.ltr,p)):S2(l,pg.ltr,p)},W0=(l,f)=>{const p=x2(l,f);return U0(l,p)},j0=(l,f)=>W0(l,f).match({ltr:(y,C,O,$)=>{const j=l.document.createRange();return j.setStart(y.dom,C),j.setEnd(O.dom,$),j},rtl:(y,C,O,$)=>{const j=l.document.createRange();return j.setStart(O.dom,$),j.setEnd(y.dom,C),j}});pg.ltr,pg.rtl;const rb={create:(l,f,p,y)=>({start:l,soffset:f,finish:p,foffset:y})},Tm={create:(l,f,p,y)=>({start:Ka.on(l,f),finish:Ka.on(p,y)})},ab=(l,f)=>{const p=j0(l,f);return rb.create(ke.fromDom(p.startContainer),p.startOffset,ke.fromDom(p.endContainer),p.endOffset)},nd=Tm.create,oT=(l,f,p,y,C,O,$)=>Et(p,C)&&y===O?ce.none():Fe(p,"td,th",f).bind(j=>Fe(C,"td,th",f).bind(ne=>Rd(l,f,j,ne,$))),Rd=(l,f,p,y,C)=>Et(p,y)?ce.none():yu(p,y,f).bind(O=>{const $=O.boxes.getOr([]);return $.length>1?(C(l,$,O.start,O.finish),ce.some(Tp.create(ce.some(nd(p,0,p,Ss(p))),!0))):ce.none()}),wu=(l,f,p,y,C)=>{const O=$=>(C.clearBeforeUpdate(p),C.selectRange(p,$.boxes,$.start,$.finish),$.boxes);return oE(y,l,f,C.firstSelectedSelector,C.lastSelectedSelector).map(O)},Op=(l,f)=>({item:l,mode:f}),Z0=(l,f,p,y=Dp)=>l.property().parent(f).map(C=>Op(C,y)),Dp=(l,f,p,y=Tf)=>p.sibling(l,f).map(C=>Op(C,y)),Tf=(l,f,p,y=Tf)=>{const C=l.property().children(f);return p.first(C).map($=>Op($,y))},zp=[{current:Z0,next:Dp,fallback:ce.none()},{current:Dp,next:Tf,fallback:ce.some(Z0)},{current:Tf,next:Tf,fallback:ce.some(Dp)}],hg=(l,f,p,y,C=zp)=>F(C,$=>$.current===p).bind($=>$.current(l,f,y,$.next).orThunk(()=>$.fallback.bind(j=>hg(l,f,j,y)))),bg={left:()=>({sibling:(p,y)=>p.query().prevSibling(y),first:p=>p.length>0?ce.some(p[p.length-1]):ce.none()}),right:()=>({sibling:(p,y)=>p.query().nextSibling(y),first:p=>p.length>0?ce.some(p[0]):ce.none()})},yg=(l,f,p,y,C,O)=>hg(l,f,y,C).bind(j=>O(j.item)?ce.none():p(j.item)?ce.some(j.item):yg(l,j.item,p,j.mode,C,O)),T2=(l,f,p,y)=>yg(l,f,p,Dp,bg.left(),y),k1=(l,f,p,y)=>yg(l,f,p,Dp,bg.right(),y),Rp=l=>f=>l.property().children(f).length===0,bc=(l,f,p)=>od(l,f,Rp(l),p),sT=(l,f,p)=>G0(l,f,Rp(l),p),od=T2,G0=k1,Mp=St(),vg=(l,f)=>bc(Mp,l,f),K0=(l,f)=>sT(Mp,l,f),w1=(l,f,p)=>od(Mp,l,f,p),rT=(l,f,p)=>G0(Mp,l,f,p),A2=(l,f,p)=>Zs(l,f,p).isSome(),cb=wf.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),O2=(l,f,p)=>{const y=l.getRect(f),C=l.getRect(p);return C.right>y.left&&C.left<y.right},D2=l=>Fe(l,"tr"),Af=(l,f,p,y,C,O,$)=>Fe(y,"td,th",$).bind(j=>Fe(f,"td,th",$).map(ne=>Et(j,ne)?Et(y,j)&&Ss(j)===C?O(ne):cb.none("in same cell"):Dr(D2,[j,ne]).fold(()=>O2(l,ne,j)?cb.success():O(ne),be=>O(ne)))).getOr(cb.none("default")),aT=(l,f,p,y,C)=>l.fold(f,p,y,C),ib=pt(te({},cb),{verify:Af,cata:aT}),z2=(l,f,p,y)=>({parent:l,children:f,element:p,index:y}),Jc=l=>es(l).bind(f=>{const p=wo(f);return _1(p,l).map(y=>z2(f,p,l,y))}),_1=(l,f)=>Xo(l,ht(Et,f)),kg=xn("br"),wg=(l,f,p)=>f(l,p).bind(y=>Ae(y)&&_o(y).trim().length===0?wg(y,f,p):ce.some(y)),Al=(l,f,p)=>p.traverse(f).orThunk(()=>wg(f,p.gather,l)).map(p.relative),Am=(l,f)=>ms(l,f).filter(kg).orThunk(()=>ms(l,f-1).filter(kg)),Y0=(l,f,p,y)=>Am(f,p).bind(C=>y.traverse(C).fold(()=>wg(C,y.gather,l).map(y.relative),O=>Jc(O).map($=>Ka.on($.parent,$.index)))),Np=(l,f,p,y)=>(kg(f)?Al(l,f,y):Y0(l,f,p,y)).map(O=>({start:O,finish:O})),qi=l=>ib.cata(l,f=>ce.none(),()=>ce.none(),f=>ce.some(vm(f,0)),f=>ce.some(vm(f,Ss(f)))),ii=(l,f)=>({left:l.left,top:l.top+f,right:l.right,bottom:l.bottom+f}),ka=(l,f)=>({left:l.left,top:l.top-f,right:l.right,bottom:l.bottom-f}),Ol=(l,f,p)=>({left:l.left+f,top:l.top+p,right:l.right+f,bottom:l.bottom+p}),C1=l=>l.top,Ic=l=>l.bottom,Om=(l,f,p)=>p>=0&&p<Ss(f)?l.getRangedRect(f,p,f,p+1):p>0?l.getRangedRect(f,p-1,f,p):ce.none(),Pp=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom}),lb=(l,f)=>ce.some(l.getRect(f)),X0=(l,f,p)=>cr(f)?lb(l,f).map(Pp):Ae(f)?Om(l,f,p).map(Pp):ce.none(),J0=(l,f)=>cr(f)?lb(l,f).map(Pp):Ae(f)?l.getRangedRect(f,0,f,Ss(f)).map(Pp):ce.none(),Of=5,ub=100,sd=wf.generate([{none:[]},{retry:["caret"]}]),cT=(l,f)=>l.left<f.left||Math.abs(f.right-l.left)<1||l.left>f.right,Q0=(l,f,p)=>Ja(f,fg).fold(Jt,y=>J0(l,y).exists(C=>cT(p,C))),R2=(l,f,p,y,C)=>{const O=ii(C,Of);return Math.abs(p.bottom-y.bottom)<1||p.top>C.bottom?sd.retry(O):p.top===C.bottom?sd.retry(ii(C,1)):Q0(l,f,C)?sd.retry(Ol(O,Of,0)):sd.none()},M2={point:C1,adjuster:(l,f,p,y,C)=>{const O=ka(C,Of);return Math.abs(p.top-y.top)<1||p.bottom<C.top?sd.retry(O):p.bottom===C.top?sd.retry(ka(C,1)):Q0(l,f,C)?sd.retry(Ol(O,Of,0)):sd.none()},move:ka,gather:vg},N2={point:Ic,adjuster:R2,move:ii,gather:K0},ek=(l,f,p)=>l.elementFromPoint(f,p).filter(y=>Cs(y)==="table").isSome(),tk=(l,f,p,y,C)=>nk(l,f,p,f.move(y,Of),C),nk=(l,f,p,y,C)=>C===0?ce.some(y):ek(l,y.left,f.point(y))?tk(l,f,p,y,C-1):l.situsFromPoint(y.left,f.point(y)).bind(O=>O.start.fold(ce.none,$=>J0(l,$).bind(j=>f.adjuster(l,$,j,p,y).fold(ce.none,ne=>nk(l,f,p,ne,C-1))).orThunk(()=>ce.some(y)),ce.none)),P2=(l,f,p)=>l.point(f)>p.getInnerHeight()?ce.some(l.point(f)-p.getInnerHeight()):l.point(f)<0?ce.some(-l.point(f)):ce.none(),B2=(l,f,p)=>{const y=l.move(p,Of),C=nk(f,l,p,y,ub).getOr(y);return P2(l,C,f).fold(()=>f.situsFromPoint(C.left,l.point(C)),O=>(f.scrollBy(0,O),f.situsFromPoint(C.left,l.point(C)-O)))},F2={tryUp:ht(B2,M2),tryDown:ht(B2,N2),getJumpSize:W(Of)},iT=20,lT=(l,f,p)=>l.getSelection().bind(y=>Np(f,y.finish,y.foffset,p).fold(()=>ce.some(vm(y.finish,y.foffset)),C=>{const O=l.fromSitus(C),$=ib.verify(l,y.finish,y.foffset,O.finish,O.foffset,p.failure,f);return qi($)})),Dl=(l,f,p,y,C,O)=>O===0?ce.none():Gl(l,f,p,y,C).bind($=>{const j=l.fromSitus($),ne=ib.verify(l,p,y,j.finish,j.foffset,C.failure,f);return ib.cata(ne,()=>ce.none(),()=>ce.some($),be=>Et(p,be)&&y===0?uT(l,p,y,ka,C):Dl(l,f,be,0,C,O-1),be=>Et(p,be)&&y===Ss(be)?uT(l,p,y,ii,C):Dl(l,f,be,Ss(be),C,O-1))}),uT=(l,f,p,y,C)=>X0(l,f,p).bind(O=>ps(l,C,y(O,F2.getJumpSize()))),ps=(l,f,p)=>{const y=ef().browser;return y.isChromium()||y.isSafari()||y.isFirefox()?f.retry(l,p):ce.none()},Gl=(l,f,p,y,C)=>X0(l,p,y).bind(O=>ps(l,C,O)),Dm=(l,f,p)=>lT(l,f,p).bind(y=>Dl(l,f,y.element,y.offset,p,iT).map(l.fromSitus)),ok=(l,f)=>A2(l,p=>es(p).exists(y=>Et(y,f))),$2=(l,f,p,y,C)=>Fe(y,"td,th",f).bind(O=>Fe(O,"table",f).bind($=>ok(C,$)?Dm(l,f,p).bind(j=>Fe(j.finish,"td,th",f).map(ne=>({start:O,finish:ne,range:j}))):ce.none())),Bp=(l,f,p,y,C,O)=>O(y,f).orThunk(()=>$2(l,f,p,y,C).map($=>{const j=$.range;return Tp.create(ce.some(nd(j.start,j.soffset,j.finish,j.foffset)),!0)})),dT=(l,f)=>Fe(l,"tr",f).bind(p=>Fe(p,"table",f).bind(y=>{const C=gr(y,"tr");return Et(p,C[0])?w1(y,O=>Ku(O).isSome(),f).map(O=>{const $=Ss(O);return Tp.create(ce.some(nd(O,$,O,$)),!0)}):ce.none()})),sk=(l,f)=>Fe(l,"tr",f).bind(p=>Fe(p,"table",f).bind(y=>{const C=gr(y,"tr");return Et(p,C[C.length-1])?rT(y,O=>hu(O).isSome(),f).map(O=>Tp.create(ce.some(nd(O,0,O,0)),!0)):ce.none()})),S1=(l,f,p,y,C,O,$)=>$2(l,p,y,C,O).bind(j=>Rd(f,p,j.start,j.finish,$)),db=l=>{let f=l;return{get:()=>f,set:C=>{f=C}}},fT=l=>{const f=db(ce.none()),p=()=>f.get().each(l);return{clear:()=>{p(),f.set(ce.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:j=>{p(),f.set(ce.some(j))}}},rk=()=>{const l=fT(ot),f=p=>l.get().each(p);return pt(te({},l),{on:f})},x1=(l,f)=>Fe(l,"td,th",f),ak=l=>Us(l).exists(dm),UO=(l,f,p,y)=>{const C=rk(),O=C.clear,$=Be=>{C.on(Tt=>{y.clearBeforeUpdate(f),x1(Be.target,p).each(fn=>{yu(Tt,fn,p).each(an=>{const wt=an.boxes.getOr([]);if(wt.length===1){const cn=wt[0],vt=Ty(cn)==="false",In=kt(og(Be.target),cn,Et);vt&&In&&(y.selectRange(f,wt,cn,cn),l.selectContents(cn))}else wt.length>1&&(y.selectRange(f,wt,an.start,an.finish),l.selectContents(fn))})})})};return{clearstate:O,mousedown:Be=>{y.clear(f),x1(Be.target,p).filter(ak).each(C.set)},mouseover:Be=>{$(Be)},mouseup:Be=>{$(Be),O()}}},I2={traverse:ic,gather:K0,relative:Ka.before,retry:F2.tryDown,failure:ib.failedDown},ck={traverse:Ha,gather:vg,relative:Ka.before,retry:F2.tryUp,failure:ib.failedUp},Fp=l=>f=>f===l,fb=Fp(38),zm=Fp(40),Md=l=>l>=37&&l<=40,L2={isBackward:Fp(37),isForward:Fp(39)},mT={isBackward:Fp(39),isForward:Fp(37)},H2=l=>{const f=l!==void 0?l.dom:document,p=f.body.scrollLeft||f.documentElement.scrollLeft,y=f.body.scrollTop||f.documentElement.scrollTop;return wl(p,y)},ik=(l,f,p)=>{const C=(p!==void 0?p.dom:document).defaultView;C&&C.scrollBy(l,f)},$p=wf.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),lk=l=>$p.exact(l.start,l.soffset,l.finish,l.foffset),E1=l=>l.match({domRange:f=>ke.fromDom(f.startContainer),relative:(f,p)=>Ka.getStart(f),exact:(f,p,y,C)=>f}),uk=$p.domRange,V2=$p.relative,mb=$p.exact,dk=l=>{const f=E1(l);return so(f)},gT=rb.create,_u={domRange:uk,relative:V2,exact:mb,exactFromRange:lk,getWin:dk,range:gT},U2=(l,f,p)=>{var y,C;return ce.from((C=(y=l.dom).caretPositionFromPoint)===null||C===void 0?void 0:C.call(y,f,p)).bind(O=>{if(O.offsetNode===null)return ce.none();const $=l.dom.createRange();return $.setStart(O.offsetNode,O.offset),$.collapse(),ce.some($)})},pT=(l,f,p)=>{var y,C;return ce.from((C=(y=l.dom).caretRangeFromPoint)===null||C===void 0?void 0:C.call(y,f,p))},hn=(()=>document.caretPositionFromPoint?U2:document.caretRangeFromPoint?pT:ce.none)(),Ya=(l,f,p)=>{const y=ke.fromDom(l.document);return hn(y,f,p).map(C=>rb.create(ke.fromDom(C.startContainer),C.startOffset,ke.fromDom(C.endContainer),C.endOffset))},Cu=(l,f)=>{const p=Cs(l);return p==="input"?Ka.after(l):gn(["br","img"],p)?f===0?Ka.before(l):Ka.after(l):Ka.on(l,f)},sc=(l,f)=>{const p=l.fold(Ka.before,Cu,Ka.after),y=f.fold(Ka.before,Cu,Ka.after);return _u.relative(p,y)},Su=(l,f,p,y)=>{const C=Cu(l,f),O=Cu(p,y);return _u.relative(C,O)},W2=(l,f,p,y)=>{const O=Rn(l).dom.createRange();return O.setStart(l.dom,f),O.setEnd(p.dom,y),O},gb=(l,f,p,y)=>{const C=W2(l,f,p,y),O=Et(l,p)&&f===y;return C.collapsed&&!O},Kl=l=>ce.from(l.getSelection()),T1=(l,f)=>{Kl(l).each(p=>{p.removeAllRanges(),p.addRange(f)})},pb=(l,f,p,y,C)=>{const O=Em(l,f,p,y,C);T1(l,O)},hb=(l,f,p,y,C,O)=>{f.collapse(p.dom,y),f.extend(C.dom,O)},fk=(l,f)=>W0(l,f).match({ltr:(p,y,C,O)=>{pb(l,p,y,C,O)},rtl:(p,y,C,O)=>{Kl(l).each($=>{if($.setBaseAndExtent)$.setBaseAndExtent(p.dom,y,C.dom,O);else if($.extend)try{hb(l,$,p,y,C,O)}catch(j){pb(l,C,O,p,y)}else pb(l,C,O,p,y)})}}),bb=(l,f,p,y,C)=>{const O=Su(f,p,y,C);fk(l,O)},A1=(l,f,p)=>{const y=sc(f,p);fk(l,y)},mk=l=>{if(l.rangeCount>0){const f=l.getRangeAt(0),p=l.getRangeAt(l.rangeCount-1);return ce.some(rb.create(ke.fromDom(f.startContainer),f.startOffset,ke.fromDom(p.endContainer),p.endOffset))}else return ce.none()},hT=l=>{if(l.anchorNode===null||l.focusNode===null)return mk(l);{const f=ke.fromDom(l.anchorNode),p=ke.fromDom(l.focusNode);return gb(f,l.anchorOffset,p,l.focusOffset)?ce.some(rb.create(f,l.anchorOffset,p,l.focusOffset)):mk(l)}},xu=(l,f,p=!0)=>{const C=(p?sb:QE)(l,f);T1(l,C)},O1=l=>Kl(l).filter(f=>f.rangeCount>0).bind(hT),yb=l=>O1(l).map(f=>_u.exact(f.start,f.soffset,f.finish,f.foffset)),cl=(l,f)=>{const p=j0(l,f);return Ti(p)},Ba=(l,f,p)=>Ya(l,f,p),gk=l=>{Kl(l).each(f=>f.removeAllRanges())},vb=l=>({elementFromPoint:(vt,In)=>ke.fromPoint(ke.fromDom(l.document),vt,In),getRect:vt=>vt.dom.getBoundingClientRect(),getRangedRect:(vt,In,Po,Qo)=>{const Ir=_u.exact(vt,In,Po,Qo);return cl(l,Ir)},getSelection:()=>yb(l).map(vt=>ab(l,vt)),fromSitus:vt=>{const In=_u.relative(vt.start,vt.finish);return ab(l,In)},situsFromPoint:(vt,In)=>Ba(l,vt,In).map(Po=>Tm.create(Po.start,Po.soffset,Po.finish,Po.foffset)),clearSelection:()=>{gk(l)},collapseSelection:(vt=!1)=>{yb(l).each(In=>In.fold(Po=>Po.collapse(vt),(Po,Qo)=>{const Ir=vt?Po:Qo;A1(l,Ir,Ir)},(Po,Qo,Ir,Fa)=>{const Oa=vt?Po:Ir,ui=vt?Qo:Fa;bb(l,Oa,ui,Oa,ui)}))},setSelection:vt=>{bb(l,vt.start,vt.soffset,vt.finish,vt.foffset)},setRelativeSelection:(vt,In)=>{A1(l,vt,In)},selectNode:vt=>{xu(l,vt,!1)},selectContents:vt=>{xu(l,vt)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>H2(ke.fromDom(l.document)).top,scrollBy:(vt,In)=>{ik(vt,In,ke.fromDom(l.document))}}),zl=(l,f)=>({rows:l,cols:f}),kb=(l,f,p,y)=>{const C=vb(l),O=UO(C,f,p,y);return{clearstate:O.clearstate,mousedown:O.mousedown,mouseover:O.mouseover,mouseup:O.mouseup}},pk=l=>Ja(l,qn).exists(dm),hk=(l,f)=>pk(l)||pk(f),bT=(l,f,p,y)=>{const C=vb(l),O=()=>(y.clear(f),ce.none());return{keydown:(ne,be,Be,Tt,fn,an)=>{const wt=ne.raw,cn=wt.which,vt=wt.shiftKey===!0;return Jv(f,y.selectedSelector).fold(()=>(Md(cn)&&!vt&&y.clearBeforeUpdate(f),Md(cn)&&vt&&!hk(be,Tt)?ce.none:zm(cn)&&vt?ht(S1,C,f,p,I2,Tt,be,y.selectRange):fb(cn)&&vt?ht(S1,C,f,p,ck,Tt,be,y.selectRange):zm(cn)?ht(Bp,C,p,I2,Tt,be,sk):fb(cn)?ht(Bp,C,p,ck,Tt,be,dT):ce.none),Po=>{const Qo=Ir=>()=>Pe(Ir,Oa=>wu(Oa.rows,Oa.cols,f,Po,y)).fold(()=>pf(f,y.firstSelectedSelector,y.lastSelectedSelector).map(Oa=>{const ui=zm(cn)||an.isForward(cn)?Ka.after:Ka.before;return C.setRelativeSelection(Ka.on(Oa.first,0),ui(Oa.table)),y.clear(f),Tp.create(ce.none(),!0)}),Oa=>ce.some(Tp.create(ce.none(),!0)));return Md(cn)&&vt&&!hk(be,Tt)?ce.none:zm(cn)&&vt?Qo([zl(1,0)]):fb(cn)&&vt?Qo([zl(-1,0)]):an.isBackward(cn)&&vt?Qo([zl(0,-1),zl(-1,0)]):an.isForward(cn)&&vt?Qo([zl(0,1),zl(1,0)]):Md(cn)&&!vt?O:ce.none})()},keyup:(ne,be,Be,Tt,fn)=>Jv(f,y.selectedSelector).fold(()=>{const an=ne.raw,wt=an.which;return an.shiftKey===!0&&Md(wt)&&hk(be,Tt)?oT(f,p,be,Be,Tt,fn,y.selectRange):ce.none()},ce.none)}},j2=(l,f,p,y)=>{const C=vb(l);return(O,$)=>{y.clearBeforeUpdate(f),yu(O,$,p).each(j=>{const ne=j.boxes.getOr([]);y.selectRange(f,ne,j.start,j.finish),C.selectContents($),C.collapseSelection()})}},wb=(l,f)=>{const p=er(l,f);return p===void 0||p===""?[]:p.split(" ")},Z2=(l,f,p)=>{const C=wb(l,f).concat([p]);return ss(l,f,C.join(" ")),!0},yT=(l,f,p)=>{const y=Ct(wb(l,f),C=>C!==p);return y.length>0?ss(l,f,y.join(" ")):le(l,f),!1},Rm=l=>l.dom.classList!==void 0,Lc=l=>wb(l,"class"),Yl=(l,f)=>Z2(l,"class",f),Rl=(l,f)=>yT(l,"class",f),il=(l,f)=>{Rm(l)?l.dom.classList.add(f):Yl(l,f)},D1=l=>{(Rm(l)?l.dom.classList:Lc(l)).length===0&&le(l,"class")},_g=(l,f)=>{Rm(l)?l.dom.classList.remove(f):Rl(l,f),D1(l)},Df=(l,f)=>Rm(l)&&l.dom.classList.contains(f),vT=(l,f)=>{et(f,p=>{_g(l,p)})},bk=l=>f=>{il(f,l)},kT=l=>f=>{vT(f,l)},K2={byClass:l=>{const f=bk(l.selected),p=kT([l.selected,l.lastSelected,l.firstSelected]),y=O=>{const $=gr(O,l.selectedSelector);et($,p)};return{clearBeforeUpdate:y,clear:y,selectRange:(O,$,j,ne)=>{y(O),et($,f),il(j,l.firstSelected),il(ne,l.lastSelected)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}},byAttr:(l,f,p)=>{const y=ne=>{le(ne,l.selected),le(ne,l.firstSelected),le(ne,l.lastSelected)},C=ne=>{ss(ne,l.selected,"1")},O=ne=>{$(ne),p()},$=ne=>{const be=gr(ne,`${l.selectedSelector},${l.firstSelectedSelector},${l.lastSelectedSelector}`);et(be,y)};return{clearBeforeUpdate:$,clear:O,selectRange:(ne,be,Be,Tt)=>{O(ne),et(be,C),ss(Be,l.firstSelected,"1"),ss(Tt,l.lastSelected,"1"),f(be,Be,Tt)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}}},z1=(l,f,p,y)=>{switch(l.tag){case"none":return f();case"single":return y(l.element);case"multiple":return p(l.elements)}},yk=()=>({tag:"none"}),hr=l=>({tag:"multiple",elements:l}),zf=l=>({tag:"single",element:l}),Ip=(l,f,p)=>({get:()=>Qv(l(),p).fold(()=>f().fold(yk,zf),hr)}),vk=(l,f)=>{const p=l.slice(0,f[f.length-1].row+1),y=d0(p);return lt(y,C=>{const O=C.cells.slice(0,f[f.length-1].column+1);return tn(O,$=>$.element)})},Y2=(l,f)=>{const p=l.slice(f[0].row+f[0].rowspan-1,l.length),y=d0(p);return lt(y,C=>{const O=C.cells.slice(f[0].column+f[0].colspan-1,C.cells.length);return tn(O,$=>$.element)})},kk=(l,f,p)=>{const y=rs.fromTable(l);return Ul(y,f).map(O=>{const $=Ci(y,p,!1),{rows:j}=Na($),ne=vk(j,O),be=Y2(j,O);return{upOrLeftCells:ne,downOrRightCells:be}})},X2=(l,f,p,y,C,O,$)=>({target:l,x:f,y:p,stop:y,prevent:C,kill:O,raw:$}),R1=l=>{const f=ke.fromDom(pn(l).getOr(l.target)),p=()=>l.stopPropagation(),y=()=>l.preventDefault(),C=Rt(y,p);return X2(f,l.clientX,l.clientY,p,y,C,l)},wT=(l,f)=>p=>{l(p)&&f(R1(p))},_T=(l,f,p,y,C)=>{const O=wT(p,y);return l.dom.addEventListener(f,O,C),{unbind:ht(CT,l,f,O,C)}},J2=(l,f,p,y)=>_T(l,f,p,y,!1),CT=(l,f,p,y)=>{l.dom.removeEventListener(f,p,y)},wk=$e,Lp=(l,f,p)=>J2(l,f,wk,p),Hp=R1,M1=l=>!Df(ke.fromDom(l.target),"ephox-snooker-resizer-bar"),Q2=(l,f)=>{const p=Ip(()=>ke.fromDom(l.getBody()),()=>gp(Ll(l),mf(l)),hf.selectedSelector),y=(ne,be,Be)=>{Mc(be).each(fn=>{const an=im(l),wt=qa(ot,ke.fromDom(l.getDoc()),an),cn=Hl(l),vt=kk(fn,{selection:cn},wt);xp(l,ne,be,Be,vt)})},C=()=>Nr(l),O=K2.byAttr(hf,y,C);return l.on("init",ne=>{const be=l.getWin(),Be=Ih(l),Tt=mf(l),fn=()=>{const lr=l.selection,di=ke.fromDom(lr.getStart()),Ai=ke.fromDom(lr.getEnd());Dr(Mc,[di,Ai]).fold(()=>O.clear(Be),ot)},an=kb(be,Be,Tt,O),wt=bT(be,Be,Tt,O),cn=j2(be,Be,Tt,O),vt=lr=>lr.raw.shiftKey===!0;l.on("TableSelectorChange",lr=>cn(lr.start,lr.finish));const In=(lr,di)=>{vt(lr)&&(di.kill&&lr.kill(),di.selection.each(Ai=>{const Tu=_u.relative(Ai.start,Ai.finish),Oi=j0(be,Tu);l.selection.setRng(Oi)}))},Po=lr=>{const di=Hp(lr);if(di.raw.shiftKey&&Md(di.raw.which)){const Ai=l.selection.getRng(),Tu=ke.fromDom(Ai.startContainer),Oi=ke.fromDom(Ai.endContainer);wt.keyup(di,Tu,Ai.startOffset,Oi,Ai.endOffset).each(Tg=>{In(di,Tg)})}},Qo=lr=>{const di=Hp(lr);f.hide();const Ai=l.selection.getRng(),Tu=ke.fromDom(Ai.startContainer),Oi=ke.fromDom(Ai.endContainer),Tg=wy(L2,mT)(ke.fromDom(l.selection.getStart()));wt.keydown(di,Tu,Ai.startOffset,Oi,Ai.endOffset,Tg).each(fi=>{In(di,fi)}),f.show()},Ir=lr=>lr.button===0,Fa=lr=>lr.buttons===void 0?!0:(lr.buttons&1)!==0,Oa=lr=>{an.clearstate()},ui=lr=>{Ir(lr)&&M1(lr)&&an.mousedown(Hp(lr))},Eg=lr=>{Fa(lr)&&M1(lr)&&an.mouseover(Hp(lr))},xb=lr=>{Ir(lr)&&M1(lr)&&an.mouseup(Hp(lr))},W1=(()=>{const lr=db(ke.fromDom(Be)),di=db(0);return{touchEnd:Tu=>{const Oi=ke.fromDom(Tu.target);if(xn("td")(Oi)||xn("th")(Oi)){const Tg=lr.get(),fi=di.get();Et(Tg,Oi)&&Tu.timeStamp-fi<300&&(Tu.preventDefault(),cn(Oi,Oi))}lr.set(Oi),di.set(Tu.timeStamp)}}})();l.on("dragstart",Oa),l.on("mousedown",ui),l.on("mouseover",Eg),l.on("mouseup",xb),l.on("touchend",W1.touchEnd),l.on("keyup",Po),l.on("keydown",Qo),l.on("NodeChange",fn)}),l.on("PreInit",()=>{l.serializer.addTempAttr(hf.firstSelected),l.serializer.addTempAttr(hf.lastSelected)}),{getSelectedCells:()=>z1(p.get(),W([]),ne=>tn(ne,be=>be.dom),ne=>[ne.dom]),clearSelectedCells:ne=>O.clear(ke.fromDom(ne))}},Xl=l=>{let f=[];return{bind:O=>{if(O===void 0)throw new Error("Event bind error: undefined handler");f.push(O)},unbind:O=>{f=Ct(f,$=>$!==O)},trigger:(...O)=>{const $={};et(l,(j,ne)=>{$[j]=O[ne]}),et(f,j=>{j($)})}}},Hc=l=>{const f=xe(l,y=>({bind:y.bind,unbind:y.unbind})),p=xe(l,y=>y.trigger);return{registry:f,trigger:p}},Qc=(l,f)=>{let p=null;const y=()=>{An(p)||(clearTimeout(p),p=null)};return{cancel:y,throttle:(...O)=>{y(),p=setTimeout(()=>{p=null,l.apply(null,O)},f)}}},Nd=l=>l.slice(0).sort(),ST=(l,f)=>{throw new Error("All required keys ("+Nd(l).join(", ")+") were not specified. Specified keys were: "+Nd(f).join(", ")+".")},xT=l=>{throw new Error("Unsupported keys for object: "+Nd(l).join(", "))},ET=(l,f)=>{if(!yn(f))throw new Error("The "+l+" fields must be an array. Was: "+f+".");et(f,p=>{if(!Xn(p))throw new Error("The value "+p+" in the "+l+" fields was not a string.")})},ks=(l,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+Nd(l).join(", ")+") were not.")},TT=l=>{const f=Nd(l);F(f,(y,C)=>C<f.length-1&&y===f[C+1]).each(y=>{throw new Error("The field: "+y+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},eC=(l,f)=>N1(l,f,{validate:Wt,label:"function"}),N1=(l,f,p)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return ET("required",f),TT(f),y=>{const C=Ye(y);bt(f,j=>gn(C,j))||ST(f,C),l(f,C);const $=Ct(f,j=>!p.validate(y[j],j));return $.length>0&&ks($,p.label),y}},AT=(l,f)=>{const p=Ct(f,y=>!gn(l,y));p.length>0&&xT(p)},Cn=l=>eC(AT,l),Cg=Cn(["compare","extract","mutate","sink"]),OT=Cn(["element","start","stop","destroy"]),tC=Cn(["forceDrop","drop","move","delayDrop"]),P1=()=>{let l=ce.none();const f=()=>{l=ce.none()},p=(O,$)=>{const j=l.map(ne=>O.compare(ne,$));return l=ce.some($),j},y=(O,$)=>{$.extract(O).each(ne=>{p($,ne).each(Be=>{C.trigger.move(Be)})})},C=Hc({move:Xl(["info"])});return{onEvent:y,reset:f,events:C.registry}},_b=()=>{const l=Hc({move:Xl(["info"])});return{onEvent:ot,reset:ot,events:l.registry}},_k=()=>{const l=_b(),f=P1();let p=l;return{on:()=>{p.reset(),p=f},off:()=>{p.reset(),p=l},isOn:()=>p===f,onEvent:(j,ne)=>{p.onEvent(j,ne)},events:f.events}},Ck=(l,f,p)=>{let y=!1;const C=Hc({start:Xl([]),stop:Xl([])}),O=_k(),$=()=>{wt.stop(),O.isOn()&&(O.off(),C.trigger.stop())},j=Qc($,200),ne=vt=>{wt.start(vt),O.on(),C.trigger.start()},be=vt=>{j.cancel(),O.onEvent(vt,f)};O.events.move.bind(vt=>{f.mutate(l,vt.info)});const Be=()=>{y=!0},Tt=()=>{y=!1},fn=()=>y,an=vt=>(...In)=>{y&&vt.apply(null,In)},wt=f.sink(tC({forceDrop:$,drop:an($),move:an(be),delayDrop:an(j.throttle)}),p),cn=()=>{wt.destroy()};return{element:wt.element,go:ne,on:Be,off:Tt,isActive:fn,destroy:cn,events:C.registry}},DT=l=>{const f=l.replace(/\./g,"-");return{resolve:y=>f+"-"+y}},nC=DT("ephox-dragster").resolve,oC=l=>{const f=te({layerClass:nC("blocker")},l),p=ke.fromTag("div");return ss(p,"role","presentation"),lc(p,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),il(p,nC("blocker")),il(p,f.layerClass),{element:W(p),destroy:()=>{Br(p)}}};var MT=Cg({compare:(l,f)=>wl(f.left-l.left,f.top-l.top),extract:l=>ce.some(wl(l.x,l.y)),sink:(l,f)=>{const p=oC(f),y=Lp(p.element(),"mousedown",l.forceDrop),C=Lp(p.element(),"mouseup",l.drop),O=Lp(p.element(),"mousemove",l.move),$=Lp(p.element(),"mouseout",l.delayDrop),j=()=>{p.destroy(),C.unbind(),O.unbind(),$.unbind(),y.unbind()},ne=Be=>{Ps(Be,p.element())},be=()=>{Br(p.element())};return OT({element:p.element,start:ne,stop:be,destroy:j})},mutate:(l,f)=>{l.mutate(f.left,f.top)}});const jO=(l,f={})=>{var p;const y=(p=f.mode)!==null&&p!==void 0?p:MT;return Ck(l,y,f)},F1=DT("ephox-snooker").resolve,NT=()=>{const l=Hc({drag:Xl(["xDelta","yDelta"])});return{mutate:(p,y)=>{l.trigger.drag(p,y)},events:l.registry}},PT=()=>{const l=Hc({drag:Xl(["xDelta","yDelta","target"])});let f=ce.none();const p=NT();return p.events.drag.bind(O=>{f.each($=>{l.trigger.drag(O.xDelta,O.yDelta,$)})}),{assign:O=>{f=ce.some(O)},get:()=>f,mutate:p.mutate,events:l.registry}},BT=(l,f,p,y,C)=>{const O=ke.fromTag("div");return lc(O,{position:"absolute",left:f-y/2+"px",top:p+"px",height:C+"px",width:y+"px"}),fr(O,{"data-column":l,role:"presentation"}),O},Sb=(l,f,p,y,C)=>{const O=ke.fromTag("div");return lc(O,{position:"absolute",left:f+"px",top:p-C/2+"px",height:C+"px",width:y+"px"}),fr(O,{"data-row":l,role:"presentation"}),O},Sk=F1("resizer-bar"),sC=F1("resizer-rows"),xk=F1("resizer-cols"),Ek=7,rC=(l,f)=>lt(l.all,(p,y)=>f(p.element)?[y]:[]),Rf=(l,f)=>{const p=[];return Hn(l.grid.columns,y=>{rs.getColumnAt(l,y).map(O=>O.element).forall(f)&&p.push(y)}),Ct(p,y=>{const C=rs.filterItems(l,O=>O.column===y);return bt(C,O=>f(O.element))})},Vp=l=>{const f=gr(l.parent(),"."+Sk);et(f,Br)},Tk=(l,f,p)=>{const y=l.origin();et(f,C=>{C.each(O=>{const $=p(y,O);il($,Sk),Ps(l.parent(),$)})})},FT=(l,f,p,y)=>{Tk(l,f,(C,O)=>{const $=BT(O.col,O.x-C.left,p.top-C.top,Ek,y);return il($,xk),$})},$T=(l,f,p,y)=>{Tk(l,f,(C,O)=>{const $=Sb(O.row,p.left-C.left,O.y-C.top,y,Ek);return il($,sC),$})},$s=(l,f,p,y,C)=>{const O=Ji(p),$=f.isResizable,j=y.length>0?wn.positions(y,p):[],ne=j.length>0?rC(l,$):[],be=Ct(j,(an,wt)=>rt(ne,cn=>wt===cn));$T(f,be,O,ve(p));const Be=C.length>0?si.positions(C,p):[],Tt=Be.length>0?Rf(l,$):[],fn=Ct(Be,(an,wt)=>rt(Tt,cn=>wt===cn));FT(f,fn,O,of(p))},Ak=(l,f)=>{if(Vp(l),l.isResizable(f)){const p=rs.fromTable(f),y=Sh(p),C=nf(p);$s(p,l,f,y,C)}},Pd=(l,f)=>{const p=gr(l.parent(),"."+Sk);et(p,f)},Bd=l=>{Pd(l,f=>{Ar(f,"display","none")})},Mf=l=>{Pd(l,f=>{Ar(f,"display","block")})},li=l=>Df(l,sC),$1=l=>Df(l,xk),Up=F1("resizer-bar-dragging"),I1=l=>{const f=PT(),p=jO(f,{});let y=ce.none();const C=(wt,cn)=>ce.from(er(wt,cn));f.events.drag.bind(wt=>{C(wt.target,"data-row").each(cn=>{const vt=Kr(wt.target,"top");Ar(wt.target,"top",vt+wt.yDelta+"px")}),C(wt.target,"data-column").each(cn=>{const vt=Kr(wt.target,"left");Ar(wt.target,"left",vt+wt.xDelta+"px")})});const O=(wt,cn)=>{const vt=Kr(wt,cn),In=Gs(wt,"data-initial-"+cn,0);return vt-In};p.events.stop.bind(()=>{f.get().each(wt=>{y.each(cn=>{C(wt,"data-row").each(vt=>{const In=O(wt,"top");le(wt,"data-initial-top"),an.trigger.adjustHeight(cn,In,parseInt(vt,10))}),C(wt,"data-column").each(vt=>{const In=O(wt,"left");le(wt,"data-initial-left"),an.trigger.adjustWidth(cn,In,parseInt(vt,10))}),Ak(l,cn)})})});const $=(wt,cn)=>{an.trigger.startAdjust(),f.assign(wt),ss(wt,"data-initial-"+cn,Kr(wt,cn)),il(wt,Up),Ar(wt,"opacity","0.2"),p.go(l.parent())},j=Lp(l.parent(),"mousedown",wt=>{li(wt.target)&&$(wt.target,"top"),$1(wt.target)&&$(wt.target,"left")}),ne=wt=>Et(wt,l.view()),be=wt=>Fe(wt,"table",ne).filter(dm),Be=Lp(l.view(),"mouseover",wt=>{be(wt.target).fold(()=>{yr(wt.target)&&Vp(l)},cn=>{p.isActive()&&(y=ce.some(cn),Ak(l,cn))})}),Tt=()=>{j.unbind(),Be.unbind(),p.destroy(),Vp(l)},fn=wt=>{Ak(l,wt)},an=Hc({adjustHeight:Xl(["table","delta","row"]),adjustWidth:Xl(["table","delta","column"]),startAdjust:Xl([])});return{destroy:Tt,refresh:fn,on:p.on,off:p.off,hideBars:ht(Bd,l),showBars:ht(Mf,l),events:an.registry}},IT={create:(l,f,p)=>{const y=wn,C=si,O=I1(l),$=Hc({beforeResize:Xl(["table","type"]),afterResize:Xl(["table","type"]),startDrag:Xl([])});return O.events.adjustHeight.bind(j=>{const ne=j.table;$.trigger.beforeResize(ne,"row");const be=y.delta(j.delta,ne);Yy(ne,be,j.row,y),$.trigger.afterResize(ne,"row")}),O.events.startAdjust.bind(j=>{$.trigger.startDrag()}),O.events.adjustWidth.bind(j=>{const ne=j.table;$.trigger.beforeResize(ne,"col");const be=C.delta(j.delta,ne),Be=p(ne);ut(ne,be,j.column,f,Be),$.trigger.afterResize(ne,"col")}),{on:O.on,off:O.off,refreshBars:O.refresh,hideBars:O.hideBars,showBars:O.showBars,destroy:O.destroy,events:$.registry}}},ws={only:(l,f)=>{const p=Xe(l)?$n(l):l;return{parent:W(p),view:W(l),origin:W(wl(0,0)),isResizable:f}},detached:(l,f,p)=>{const y=()=>Ji(f);return{parent:W(f),view:W(l),origin:y,isResizable:p}},body:(l,f,p)=>({parent:W(f),view:W(l),origin:W(wl(0,0)),isResizable:p})},Eu=()=>{const l=ke.fromTag("div");return lc(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ps(P(),l),l},Wp=(l,f)=>l.inline?ws.body(ke.fromDom(l.getBody()),Eu(),f):ws.only(ke.fromDom(l.getDoc()),f),HT=(l,f)=>{l.inline&&Br(f.parent())},xg=l=>en(l)&&l.nodeName==="TABLE",xs="bar-",VT=l=>er(l,"data-mce-resize")!=="false",L1=l=>{const f=rs.fromTable(l);rs.hasColumns(f)||et(uc(l),p=>{const y=ec(p,"width");Ar(p,"width",y),le(p,"width")})},H1=l=>{const f=rk(),p=rk(),y=rk();let C,O;const $=wt=>Dd(l,wt),j=()=>jv(l)?ag():v_(),ne=wt=>a0(wt).columns,be=(wt,cn,vt)=>{const In=Vr(cn,"e");if(O===""&&xm(wt),vt!==C&&O!==""){Ar(wt,"width",O);const Po=j(),Qo=$(wt),Ir=jv(l)||In?ne(wt)-1:0;ut(wt,vt-C,Ir,Po,Qo)}else if(Oy(O)){const Po=parseFloat(O.replace("%","")),Qo=vt*Po/C;Ar(wt,"width",Qo+"%")}Zv(O)&&L1(wt)},Be=()=>{p.on(wt=>{wt.destroy()}),y.on(wt=>{HT(l,wt)})};return l.on("init",()=>{const wt=Wp(l,VT);if(y.set(wt),lm(l)&&Cd(l)){const cn=j(),vt=IT.create(wt,cn,$);vt.on(),vt.events.startDrag.bind(In=>{f.set(l.selection.getRng())}),vt.events.beforeResize.bind(In=>{const Po=In.table.dom;M0(l,Po,sg(Po),fm(Po),xs+In.type)}),vt.events.afterResize.bind(In=>{const Po=In.table,Qo=Po.dom;Xu(Po),f.on(Ir=>{l.selection.setRng(Ir),l.focus()}),Ei(l,Qo,sg(Qo),fm(Qo),xs+In.type),l.undoManager.add()}),p.set(vt)}}),l.on("ObjectResizeStart",wt=>{const cn=wt.target;if(xg(cn)){const vt=ke.fromDom(cn);et(l.dom.select(".mce-clonedresizable"),In=>{l.dom.addClass(In,"mce-"+Wv(l)+"-columns")}),!f1(vt)&&um(l)?B0(vt):!zd(vt)&&Yu(l)&&xm(vt),l2(vt)&&Gr(wt.origin,xs)&&xm(vt),C=wt.width,O=ng(l)?"":Ay(l,cn).getOr("")}}),l.on("ObjectResized",wt=>{const cn=wt.target;if(xg(cn)){const vt=ke.fromDom(cn),In=wt.origin;Gr(In,"corner-")&&be(vt,In,wt.width),Xu(vt),Sm(l,vt.dom,Ep)}}),l.on("SwitchMode",()=>{p.on(wt=>{l.mode.isReadOnly()?wt.hideBars():wt.showBars()})}),l.on("dragstart dragend",wt=>{p.on(cn=>{wt.type==="dragstart"?(cn.hideBars(),cn.off()):(cn.on(),cn.showBars())})}),l.on("remove",()=>{Be()}),{refresh:wt=>{p.on(cn=>cn.refreshBars(ke.fromDom(wt)))},hide:()=>{p.on(wt=>wt.hideBars())},show:()=>{p.on(wt=>wt.showBars())}}},V1=l=>{tg(l);const f=H1(l),p=Q2(l,f),y=zE(l,f,p);return w2(l,y),_2(l,y),b_(l,y),{getSelectedCells:p.getSelectedCells,clearSelectedCells:p.clearSelectedCells}},Nf=l=>({table:V1(l)});var Fd=()=>{Tn.add("dom",Nf)};Fd()})()},80076:function(Tn,bn,Ve){Ve(24353)},24353:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(Se,De,E)=>{const gn=De==="UL"?"InsertUnorderedList":"InsertOrderedList";Se.execCommand(gn,!1,E===!1?null:{"list-style-type":E})},Ve=Se=>{Se.addCommand("ApplyUnorderedListStyle",(De,E)=>{bn(Se,"UL",E["list-style-type"])}),Se.addCommand("ApplyOrderedListStyle",(De,E)=>{bn(Se,"OL",E["list-style-type"])})},Pn=Se=>De=>De.options.get(Se),Ao=Se=>{const De=Se.options.register;De("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),De("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},So=Pn("advlist_number_styles"),Xn=Pn("advlist_bullet_styles"),Qe=Se=>Se==null,yn=Se=>!Qe(Se);var An=tinymce.util.Tools.resolve("tinymce.util.Tools");class Ln{constructor(De,E){this.tag=De,this.value=E}static some(De){return new Ln(!0,De)}static none(){return Ln.singletonNone}fold(De,E){return this.tag?E(this.value):De()}isSome(){return this.tag}isNone(){return!this.tag}map(De){return this.tag?Ln.some(De(this.value)):Ln.none()}bind(De){return this.tag?De(this.value):Ln.none()}exists(De){return this.tag&&De(this.value)}forall(De){return!this.tag||De(this.value)}filter(De){return!this.tag||De(this.value)?this:Ln.none()}getOr(De){return this.tag?this.value:De}or(De){return this.tag?this:De}getOrThunk(De){return this.tag?this.value:De()}orThunk(De){return this.tag?this:De()}getOrDie(De){if(this.tag)return this.value;throw new Error(De!=null?De:"Called getOrDie on None")}static from(De){return yn(De)?Ln.some(De):Ln.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(De){this.tag&&De(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ln.singletonNone=new Ln(!1);const zo=(Se,De,E)=>{for(let gn=0,rt=Se.length;gn<rt;gn++){const Hn=Se[gn];if(De(Hn,gn))return Ln.some(Hn);if(E(Hn,gn))break}return Ln.none()},dn=Se=>/\btox\-/.test(Se.className),en=(Se,De)=>Se.dom.isChildOf(De,Se.getBody()),Wt=Se=>De=>yn(De)&&Se.test(De.nodeName),ln=Wt(/^(OL|UL|DL)$/),ot=Wt(/^(TH|TD)$/),Rt=(Se,De,E)=>zo(De,gn=>ln(gn)&&!dn(gn),ot).exists(gn=>gn.nodeName===E&&en(Se,gn)),Ot=Se=>{const De=Se.dom.getParent(Se.selection.getNode(),"ol,ul"),E=Se.dom.getStyle(De,"listStyleType");return Ln.from(E)},W=(Se,De)=>De!==null&&!Se.dom.isEditable(De),ft=(Se,De)=>{const E=Se.dom.getParent(De,"ol,ul,dl");return W(Se,E)&&Se.selection.isEditable()},Fo=(Se,De)=>{const E=Se.selection.getNode();return De({parents:Se.dom.getParents(E),element:E}),Se.on("NodeChange",De),()=>Se.off("NodeChange",De)},ht=Se=>Se.replace(/\-/g," ").replace(/\b\w/g,De=>De.toUpperCase()),H=Se=>Qe(Se)||Se==="default"?"":Se,at=(Se,De)=>E=>{const gn=(Hn,tn)=>{const et=Hn.selection.getStart(!0);E.setActive(Rt(Hn,tn,De)),E.setEnabled(!ft(Hn,et)&&Hn.selection.isEditable())};return Fo(Se,Hn=>gn(Se,Hn.parents))},Sn=(Se,De,E,gn,rt,Hn)=>{Se.ui.registry.addSplitButton(De,{tooltip:E,icon:rt==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:tn=>{const et=An.map(Hn,uo=>{const Yo=rt==="OL"?"num":"bull",Ct=uo==="disc"||uo==="decimal"?"default":uo,vn=H(uo),Re=ht(uo);return{type:"choiceitem",value:vn,icon:"list-"+Yo+"-"+Ct,text:Re}});tn(et)},onAction:()=>Se.execCommand(gn),onItemAction:(tn,et)=>{bn(Se,rt,et)},select:tn=>Ot(Se).map(uo=>tn===uo).getOr(!1),onSetup:at(Se,rt)})},Jt=(Se,De,E,gn,rt,Hn)=>{Se.ui.registry.addToggleButton(De,{active:!1,tooltip:E,icon:rt==="OL"?"ordered-list":"unordered-list",onSetup:at(Se,rt),onAction:()=>Se.queryCommandState(gn)||Hn===""?Se.execCommand(gn):bn(Se,rt,Hn)})},$e=(Se,De,E,gn,rt,Hn)=>{Hn.length>1?Sn(Se,De,E,gn,rt,Hn):Jt(Se,De,E,gn,rt,H(Hn[0]))},ce=Se=>{$e(Se,"numlist","Numbered list","InsertOrderedList","OL",So(Se)),$e(Se,"bullist","Bullet list","InsertUnorderedList","UL",Xn(Se))};var Ro=()=>{Tn.add("advlist",Se=>{Se.hasPlugin("lists")?(Ao(Se),ce(Se),Ve(Se)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};Ro()})()},23756:function(Tn,bn,Ve){Ve(77113)},77113:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager"),bn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ve=tinymce.util.Tools.resolve("tinymce.util.Tools");const Pn=Se=>De=>De.options.get(Se),Ao=Se=>{const De=Se.options.register;De("allow_html_in_named_anchor",{processor:"boolean",default:!1})},So=Pn("allow_html_in_named_anchor"),Xn="a:not([href])",Qe=Se=>!Se,yn=Se=>Se.getAttribute("id")||Se.getAttribute("name")||"",An=Se=>Se.nodeName.toLowerCase()==="a",Ln=Se=>An(Se)&&!Se.getAttribute("href")&&yn(Se)!=="",zo=Se=>Ln(Se)&&!Se.firstChild,dn=Se=>{const De=Se.dom;bn(De).walk(Se.selection.getRng(),E=>{Ve.each(E,gn=>{zo(gn)&&De.remove(gn,!1)})})},en=Se=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Se),Wt=Se=>Se.dom.getParent(Se.selection.getStart(),Xn),ln=Se=>{const De=Wt(Se);return De?yn(De):""},ot=(Se,De)=>{Se.undoManager.transact(()=>{So(Se)||Se.selection.collapse(!0),Se.selection.isCollapsed()?Se.insertContent(Se.dom.createHTML("a",{id:De})):(dn(Se),Se.formatter.remove("namedAnchor",void 0,void 0,!0),Se.formatter.apply("namedAnchor",{value:De}),Se.addVisual())})},Rt=(Se,De,E)=>{E.removeAttribute("name"),E.id=De,Se.addVisual(),Se.undoManager.add()},Ot=(Se,De)=>{const E=Wt(Se);E?Rt(Se,De,E):ot(Se,De),Se.focus()},W=(Se,De)=>en(De)?(Ot(Se,De),!0):(Se.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),ft=Se=>{const De=ln(Se);Se.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:De},onSubmit:E=>{W(Se,E.getData().id)&&E.close()}})},Fo=Se=>{Se.addCommand("mceAnchor",()=>{ft(Se)})},ht=Se=>Qe(Se.attr("href"))&&!Qe(Se.attr("id")||Se.attr("name")),H=Se=>ht(Se)&&!Se.firstChild,at=Se=>De=>{for(let E=0;E<De.length;E++){const gn=De[E];H(gn)&&gn.attr("contenteditable",Se)}},Sn=Se=>{Se.on("PreInit",()=>{Se.parser.addNodeFilter("a",at("false")),Se.serializer.addNodeFilter("a",at(null))})},Jt=Se=>{Se.formatter.register("namedAnchor",{inline:"a",selector:Xn,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(De,E,gn)=>Ln(De)})},$e=Se=>De=>{const E=()=>{De.setEnabled(Se.selection.isEditable())};return Se.on("NodeChange",E),E(),()=>{Se.off("NodeChange",E)}},ce=Se=>{const De=()=>Se.execCommand("mceAnchor");Se.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:De,onSetup:E=>{const gn=Se.selection.selectorChangedWithUnbind("a:not([href])",E.setActive).unbind,rt=$e(Se)(E);return()=>{gn(),rt()}}}),Se.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:De,onSetup:$e(Se)})};var Ro=()=>{Tn.add("anchor",Se=>{Ao(Se),Sn(Se),Fo(Se),ce(Se),Se.on("PreInit",()=>{Jt(Se)})})};Ro()})()},92126:function(Tn,bn,Ve){Ve(86975)},86975:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,Ve=Ct=>vn=>vn.options.get(Ct),Pn=Ct=>{const vn=Ct.options.register;vn("autolink_pattern",{processor:"regexp",default:new RegExp("^"+bn().source+"$","i")}),vn("link_default_target",{processor:"string"}),vn("link_default_protocol",{processor:"string",default:"https"})},Ao=Ve("autolink_pattern"),So=Ve("link_default_target"),Xn=Ve("link_default_protocol"),Qe=Ve("allow_unsafe_link_target"),yn=(Ct,vn,Re)=>{var it;return Re(Ct,vn.prototype)?!0:((it=Ct.constructor)===null||it===void 0?void 0:it.name)===vn.name},An=Ct=>{const vn=typeof Ct;return Ct===null?"null":vn==="object"&&Array.isArray(Ct)?"array":vn==="object"&&yn(Ct,String,(Re,it)=>it.isPrototypeOf(Re))?"string":vn},Ln=Ct=>vn=>An(vn)===Ct,zo=Ct=>vn=>Ct===vn,dn=Ln("string"),en=zo(void 0),Wt=Ct=>Ct==null,ln=Ct=>!Wt(Ct),ot=Ct=>vn=>!Ct(vn),Rt=Object.hasOwnProperty,Ot=(Ct,vn)=>Rt.call(Ct,vn),W=(Ct,vn,Re)=>vn===""||Ct.length>=vn.length&&Ct.substr(Re,Re+vn.length)===vn,ft=(Ct,vn,Re=0,it)=>{const F=Ct.indexOf(vn,Re);return F!==-1?en(it)?!0:F+vn.length<=it:!1},Fo=(Ct,vn)=>W(Ct,vn,0),ht="\uFEFF",H=Ct=>Ct===ht,at=Ct=>Ct.replace(/\uFEFF/g,"");var Sn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const Jt=Ct=>Ct.nodeType===3,$e=Ct=>Ct.nodeType===1,ce=Ct=>/^[(\[{ \u00a0]$/.test(Ct),Ro=Ct=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Ct),Se=Ct=>/[?!,.;:]/.test(Ct),De=(Ct,vn,Re)=>{for(let it=vn-1;it>=0;it--){const F=Ct.charAt(it);if(!H(F)&&Re(F))return it}return-1},E=(Ct,vn)=>{let Re=Ct,it=vn;for(;$e(Re)&&Re.childNodes[it];)Re=Re.childNodes[it],it=Jt(Re)?Re.data.length:Re.childNodes.length;return{container:Re,offset:it}},gn=(Ct,vn)=>{var Re;const it=Ct.schema.getVoidElements(),F=Ao(Ct),{dom:Xo,selection:no}=Ct;if(Xo.getParent(no.getNode(),"a[href]")!==null)return null;const lt=no.getRng(),bt=Sn(Xo,J=>Xo.isBlock(J)||Ot(it,J.nodeName.toLowerCase())||Xo.getContentEditable(J)==="false"),{container:Ft,offset:ee}=E(lt.endContainer,lt.endOffset),he=(Re=Xo.getParent(Ft,Xo.isBlock))!==null&&Re!==void 0?Re:Xo.getRoot(),we=bt.backwards(Ft,ee+vn,(J,xe)=>{const Le=J.data,Mt=De(Le,xe,ot(ce));return Mt===-1||Se(Le[Mt])?Mt:Mt+1},he);if(!we)return null;let ae=we.container;const Ne=bt.backwards(we.container,we.offset,(J,xe)=>{ae=J;const Le=De(J.data,xe,ce);return Le===-1?Le:Le+1},he),Pe=Xo.createRng();Ne?Pe.setStart(Ne.container,Ne.offset):Pe.setStart(ae,0),Pe.setEnd(we.container,we.offset);const We=at(Pe.toString()).match(F);if(We){let J=We[0];return Fo(J,"www.")?J=Xn(Ct)+"://"+J:ft(J,"@")&&!Ro(J)&&(J="mailto:"+J),{rng:Pe,url:J}}else return null},rt=(Ct,vn)=>{const{dom:Re,selection:it}=Ct,{rng:F,url:Xo}=vn,no=it.getBookmark();it.setRng(F);const lt="createlink",bt={command:lt,ui:!1,value:Xo};if(!Ct.dispatch("BeforeExecCommand",bt).isDefaultPrevented()){Ct.getDoc().execCommand(lt,!1,Xo),Ct.dispatch("ExecCommand",bt);const ee=So(Ct);if(dn(ee)){const he=it.getNode();Re.setAttrib(he,"target",ee),ee==="_blank"&&!Qe(Ct)&&Re.setAttrib(he,"rel","noopener")}}it.moveToBookmark(no),Ct.nodeChanged()},Hn=Ct=>{const vn=gn(Ct,-1);ln(vn)&&rt(Ct,vn)},tn=Hn,et=Ct=>{const vn=gn(Ct,0);ln(vn)&&rt(Ct,vn)},uo=Ct=>{Ct.on("keydown",vn=>{vn.keyCode===13&&!vn.isDefaultPrevented()&&et(Ct)}),Ct.on("keyup",vn=>{vn.keyCode===32?Hn(Ct):(vn.keyCode===48&&vn.shiftKey||vn.keyCode===221)&&tn(Ct)})};var Yo=()=>{Tn.add("autolink",Ct=>{Pn(Ct),uo(Ct)})};Yo()})()},19550:function(Tn,bn,Ve){Ve(24991)},24991:function(){(function(){"use strict";const Tn=W=>{let ft=W;return{get:()=>ft,set:H=>{ft=H}}};var bn=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ve=W=>()=>W;var Pn=tinymce.util.Tools.resolve("tinymce.Env");const Ao=W=>W.dispatch("ResizeEditor"),So=W=>ft=>ft.options.get(W),Xn=W=>{const ft=W.options.register;ft("autoresize_overflow_padding",{processor:"number",default:1}),ft("autoresize_bottom_margin",{processor:"number",default:50})},Qe=So("min_height"),yn=So("max_height"),An=So("autoresize_overflow_padding"),Ln=So("autoresize_bottom_margin"),zo=W=>W.plugins.fullscreen&&W.plugins.fullscreen.isFullscreen(),dn=(W,ft)=>{const Fo=W.getBody();Fo&&(Fo.style.overflowY=ft?"":"hidden",ft||(Fo.scrollTop=0))},en=(W,ft,Fo,ht)=>{var H;const at=parseInt((H=W.getStyle(ft,Fo,ht))!==null&&H!==void 0?H:"",10);return isNaN(at)?0:at},Wt=W=>{if((W==null?void 0:W.type.toLowerCase())==="setcontent"){const ft=W;return ft.selection===!0||ft.paste===!0}else return!1},ln=(W,ft,Fo,ht)=>{var H;const at=W.dom,Sn=W.getDoc();if(!Sn)return;if(zo(W)){dn(W,!0);return}const Jt=Sn.documentElement,$e=ht?ht():An(W),ce=(H=Qe(W))!==null&&H!==void 0?H:W.getElement().offsetHeight;let Ro=ce;const Se=en(at,Jt,"margin-top",!0),De=en(at,Jt,"margin-bottom",!0);let E=Jt.offsetHeight+Se+De+$e;E<0&&(E=0);const gn=W.getContainer().offsetHeight,rt=W.getContentAreaContainer().offsetHeight,Hn=gn-rt;E+Hn>ce&&(Ro=E+Hn);const tn=yn(W);if(tn&&Ro>tn?(Ro=tn,dn(W,!0)):dn(W,!1),Ro!==ft.get()){const et=Ro-ft.get();if(at.setStyle(W.getContainer(),"height",Ro+"px"),ft.set(Ro),Ao(W),Pn.browser.isSafari()&&(Pn.os.isMacOS()||Pn.os.isiOS())){const uo=W.getWin();uo.scrollTo(uo.pageXOffset,uo.pageYOffset)}W.hasFocus()&&Wt(Fo)&&W.selection.scrollIntoView(),(Pn.browser.isSafari()||Pn.browser.isChromium())&&et<0&&ln(W,ft,Fo,ht)}},ot=(W,ft)=>{let Fo=()=>Ln(W),ht,H;W.on("init",at=>{ht=0;const Sn=An(W),Jt=W.dom;Jt.setStyles(W.getDoc().documentElement,{height:"auto"}),Pn.browser.isEdge()||Pn.browser.isIE()?Jt.setStyles(W.getBody(),{paddingLeft:Sn,paddingRight:Sn,"min-height":0}):Jt.setStyles(W.getBody(),{paddingLeft:Sn,paddingRight:Sn}),ln(W,ft,at,Fo),ht+=1}),W.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",at=>{if(ht===1)H=W.getContainer().offsetHeight,ln(W,ft,at,Fo),ht+=1;else if(ht===2){const Sn=H<W.getContainer().offsetHeight;if(Sn){const Jt=W.dom,$e=W.getDoc();Jt.setStyles($e.documentElement,{"min-height":0}),Jt.setStyles(W.getBody(),{"min-height":"inherit"})}Fo=Sn?Ve(0):Fo,ht+=1}else ln(W,ft,at,Fo)})},Rt=(W,ft)=>{W.addCommand("mceAutoResize",()=>{ln(W,ft)})};var Ot=()=>{bn.add("autoresize",W=>{if(Xn(W),W.options.isSet("resize")||W.options.set("resize",!1),!W.inline){const ft=Tn(0);Rt(W,ft),ot(W,ft)}})};Ot()})()},72961:function(Tn,bn,Ve){Ve(14759)},14759:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(ee,he)=>ee.dispatch("insertCustomChar",{chr:he}),Ve=(ee,he)=>{const we=bn(ee,he).chr;ee.execCommand("mceInsertContent",!1,we)},Pn=(ee,he,we)=>{var ae;return we(ee,he.prototype)?!0:((ae=ee.constructor)===null||ae===void 0?void 0:ae.name)===he.name},Ao=ee=>{const he=typeof ee;return ee===null?"null":he==="object"&&Array.isArray(ee)?"array":he==="object"&&Pn(ee,String,(we,ae)=>ae.isPrototypeOf(we))?"string":he},So=ee=>he=>Ao(he)===ee,Xn=ee=>he=>typeof he===ee,Qe=ee=>he=>ee===he,yn=So("array"),An=Qe(null),Ln=Qe(void 0),zo=ee=>ee==null,dn=ee=>!zo(ee),en=Xn("function"),ln=(ee=>()=>ee)(!1);class ot{constructor(he,we){this.tag=he,this.value=we}static some(he){return new ot(!0,he)}static none(){return ot.singletonNone}fold(he,we){return this.tag?we(this.value):he()}isSome(){return this.tag}isNone(){return!this.tag}map(he){return this.tag?ot.some(he(this.value)):ot.none()}bind(he){return this.tag?he(this.value):ot.none()}exists(he){return this.tag&&he(this.value)}forall(he){return!this.tag||he(this.value)}filter(he){return!this.tag||he(this.value)?this:ot.none()}getOr(he){return this.tag?this.value:he}or(he){return this.tag?this:he}getOrThunk(he){return this.tag?this.value:he()}orThunk(he){return this.tag?this:he()}getOrDie(he){if(this.tag)return this.value;throw new Error(he!=null?he:"Called getOrDie on None")}static from(he){return dn(he)?ot.some(he):ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(he){this.tag&&he(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ot.singletonNone=new ot(!1);const Rt=Array.prototype.push,Ot=(ee,he)=>{const we=ee.length,ae=new Array(we);for(let Ne=0;Ne<we;Ne++){const Pe=ee[Ne];ae[Ne]=he(Pe,Ne)}return ae},W=(ee,he)=>{for(let we=0,ae=ee.length;we<ae;we++){const Ne=ee[we];he(Ne,we)}},ft=(ee,he,we)=>{for(let ae=0,Ne=ee.length;ae<Ne;ae++){const Pe=ee[ae];if(he(Pe,ae))return ot.some(Pe);if(we(Pe,ae))break}return ot.none()},Fo=(ee,he)=>ft(ee,he,ln),ht=ee=>{const he=[];for(let we=0,ae=ee.length;we<ae;++we){if(!yn(ee[we]))throw new Error("Arr.flatten item "+we+" was not an array, input: "+ee);Rt.apply(he,ee[we])}return he},H=(ee,he)=>ht(Ot(ee,he));var at=tinymce.util.Tools.resolve("tinymce.util.Tools");const Sn=ee=>he=>he.options.get(ee),Jt=ee=>{const he=ee.options.register,we=ae=>en(ae)||yn(ae);he("charmap",{processor:we}),he("charmap_append",{processor:we})},$e=Sn("charmap"),ce=Sn("charmap_append"),Ro=at.isArray,Se="User Defined",De=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],E=ee=>at.grep(ee,he=>Ro(he)&&he.length===2),gn=ee=>Ro(ee)?E(ee):typeof ee=="function"?ee():[],rt=(ee,he)=>{const we=$e(ee);we&&(he=[{name:Se,characters:gn(we)}]);const ae=ce(ee);if(ae){const Ne=at.grep(he,Pe=>Pe.name===Se);return Ne.length?(Ne[0].characters=[...Ne[0].characters,...gn(ae)],he):he.concat({name:Se,characters:gn(ae)})}return he},Hn=ee=>{const he=rt(ee,De());return he.length>1?[{name:"All",characters:H(he,we=>we.characters)}].concat(he):he},tn=ee=>({getCharMap:()=>Hn(ee),insertChar:ae=>{Ve(ee,ae)}}),et=ee=>{let he=ee;return{get:()=>he,set:Ne=>{he=Ne}}},uo=(ee,he)=>{let we=null;const ae=()=>{An(we)||(clearTimeout(we),we=null)};return{cancel:ae,throttle:(...Pe)=>{ae(),we=setTimeout(()=>{we=null,ee.apply(null,Pe)},he)}}},Yo=(ee,he,we=0,ae)=>{const Ne=ee.indexOf(he,we);return Ne!==-1?Ln(ae)?!0:Ne+he.length<=ae:!1},Ct=String.fromCodePoint,vn=(ee,he,we)=>Yo(Ct(ee).toLowerCase(),we)?!0:Yo(he.toLowerCase(),we)||Yo(he.toLowerCase().replace(/\s+/g,""),we),Re=(ee,he)=>{const we=[],ae=he.toLowerCase();return W(ee.characters,Ne=>{vn(Ne[0],Ne[1],ae)&&we.push(Ne)}),Ot(we,Ne=>({text:Ne[1],value:Ct(Ne[0]),icon:Ct(Ne[0])}))},it="pattern",F=(ee,he)=>{const we=()=>[{label:"Search",type:"input",name:it},{type:"collection",name:"results"}],ae=()=>Ot(he,Nn=>({title:Nn.name,name:Nn.name,items:we()})),Ne=()=>({type:"panel",items:we()}),Pe=()=>({type:"tabpanel",tabs:ae()}),Ye=he.length===1?et(Se):et("All"),We=(Nn,Un)=>{Fo(he,$o=>$o.name===Ye.get()).each($o=>{const to=Re($o,Un);Nn.setData({results:to})})},xe=uo(Nn=>{const Un=Nn.getData().pattern;We(Nn,Un)},40),Le=he.length===1?Ne():Pe(),Mt={pattern:"",results:Re(he[0],"")},Zn={title:"Special Character",size:"normal",body:Le,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Mt,onAction:(Nn,Un)=>{Un.name==="results"&&(Ve(ee,Un.value),Nn.close())},onTabChange:(Nn,Un)=>{Ye.set(Un.newTabName),xe.throttle(Nn)},onChange:(Nn,Un)=>{Un.name===it&&xe.throttle(Nn)}};ee.windowManager.open(Zn).focus(it)},Xo=(ee,he)=>{ee.addCommand("mceShowCharmap",()=>{F(ee,he)})},no=(ee,he)=>{ee.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(we,ae)=>new Promise((Ne,Pe)=>{Ne(Re(he,we))}),onAction:(we,ae,Ne)=>{ee.selection.setRng(ae),ee.insertContent(Ne),we.hide()}})},lt=ee=>he=>{const we=()=>{he.setEnabled(ee.selection.isEditable())};return ee.on("NodeChange",we),we(),()=>{ee.off("NodeChange",we)}},bt=ee=>{const he=()=>ee.execCommand("mceShowCharmap");ee.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:he,onSetup:lt(ee)}),ee.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:he,onSetup:lt(ee)})};var Ft=()=>{Tn.add("charmap",ee=>{Jt(ee);const he=Hn(ee);return Xo(ee,he),bt(ee),no(ee,he[0]),tn(ee)})};Ft()})()},4795:function(Tn,bn,Ve){Ve(83175)},83175:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(Qe,yn)=>{Qe.focus(),Qe.undoManager.transact(()=>{Qe.setContent(yn)}),Qe.selection.setCursorLocation(),Qe.nodeChanged()},Ve=Qe=>Qe.getContent({source_view:!0}),Pn=Qe=>{const yn=Ve(Qe);Qe.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:yn},onSubmit:An=>{bn(Qe,An.getData().code),An.close()}})},Ao=Qe=>{Qe.addCommand("mceCodeEditor",()=>{Pn(Qe)})},So=Qe=>{const yn=()=>Qe.execCommand("mceCodeEditor");Qe.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:yn}),Qe.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:yn})};var Xn=()=>{Tn.add("code",Qe=>(Ao(Qe),So(Qe),{}))};Xn()})()},84321:function(Tn,bn,Ve){Ve(29508)},51562:function(){window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"\u{1F600}",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"\u{1F62C}",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"\u{1F601}",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"\u{1F602}",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"\u{1F923}",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"\u{1F973}",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"\u{1F603}",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"\u{1F604}",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"\u{1F605}",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"\u{1F606}",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"\u{1F607}",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"\u{1F609}",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"\u{1F60A}",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"\u{1F642}",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"\u{1F643}",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"\u263A\uFE0F",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"\u{1F60B}",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"\u{1F60C}",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"\u{1F60D}",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"\u{1F970}",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\u{1F618}",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"\u{1F617}",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"\u{1F619}",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"\u{1F61A}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"\u{1F61C}",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"\u{1F92A}",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"\u{1F928}",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"\u{1F9D0}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"\u{1F61D}",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"\u{1F61B}",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"\u{1F911}",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"\u{1F913}",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"\u{1F60E}",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"\u{1F929}",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"\u{1F921}",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"\u{1F920}",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"\u{1F917}",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"\u{1F60F}",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"\u{1F636}",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"\u{1F610}",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"\u{1F611}",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"\u{1F612}",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"\u{1F644}",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"\u{1F914}",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"\u{1F925}",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"\u{1F92D}",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"\u{1F92B}",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"\u{1F92C}",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"\u{1F92F}",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"\u{1F633}",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"\u{1F61E}",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"\u{1F61F}",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"\u{1F620}",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"\u{1F621}",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"\u{1F614}",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"\u{1F615}",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"\u{1F641}",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"\u2639",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"\u{1F623}",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"\u{1F616}",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"\u{1F62B}",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"\u{1F629}",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"\u{1F97A}",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"\u{1F624}",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"\u{1F62E}",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"\u{1F631}",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"\u{1F628}",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"\u{1F630}",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"\u{1F62F}",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"\u{1F626}",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"\u{1F627}",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"\u{1F622}",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"\u{1F625}",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"\u{1F924}",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"\u{1F62A}",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"\u{1F613}",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"\u{1F975}",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"\u{1F976}",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"\u{1F62D}",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"\u{1F635}",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"\u{1F632}",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"\u{1F910}",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"\u{1F922}",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"\u{1F927}",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"\u{1F92E}",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"\u{1F637}",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"\u{1F912}",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"\u{1F915}",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"\u{1F974}",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"\u{1F634}",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"\u{1F4A4}",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"\u{1F4A9}",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"\u{1F608}",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"\u{1F47F}",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"\u{1F479}",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"\u{1F47A}",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"\u{1F480}",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"\u{1F47B}",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"\u{1F47D}",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"\u{1F916}",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"\u{1F63A}",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"\u{1F638}",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"\u{1F639}",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"\u{1F63B}",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"\u{1F63C}",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"\u{1F63D}",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"\u{1F640}",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"\u{1F63F}",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"\u{1F63E}",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"\u{1F932}",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"\u{1F64C}",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"\u{1F44F}",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"\u{1F44B}",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"\u{1F919}",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"\u{1F44D}",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"\u{1F44E}",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"\u{1F44A}",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"\u270A",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"\u{1F91B}",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"\u{1F91C}",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"\u270C",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"\u{1F44C}",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"\u270B",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"\u{1F91A}",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"\u{1F450}",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"\u{1F4AA}",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"\u{1F64F}",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"\u{1F9B6}",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"\u{1F9B5}",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"\u{1F91D}",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"\u261D",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"\u{1F446}",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"\u{1F447}",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"\u{1F448}",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"\u{1F449}",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"\u{1F595}",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"\u{1F590}",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"\u{1F91F}",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"\u{1F918}",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"\u{1F91E}",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"\u{1F596}",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"\u270D",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"\u{1F933}",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"\u{1F485}",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"\u{1F444}",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"\u{1F9B7}",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"\u{1F445}",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"\u{1F442}",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"\u{1F443}",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"\u{1F441}",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"\u{1F440}",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"\u{1F9E0}",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"\u{1F464}",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"\u{1F465}",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"\u{1F5E3}",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"\u{1F476}",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"\u{1F9D2}",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"\u{1F466}",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"\u{1F467}",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"\u{1F9D1}",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"\u{1F468}",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"\u{1F469}",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"\u{1F471}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"\u{1F471}",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"\u{1F9D4}",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"\u{1F9D3}",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"\u{1F474}",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"\u{1F475}",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"\u{1F472}",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"\u{1F9D5}",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"\u{1F473}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"\u{1F473}",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"\u{1F46E}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"\u{1F46E}",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"\u{1F477}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"\u{1F477}",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"\u{1F482}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"\u{1F482}",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"\u{1F575}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"\u{1F575}",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"\u{1F469}\u200D\u2695\uFE0F",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"\u{1F468}\u200D\u2695\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"\u{1F469}\u200D\u{1F33E}",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"\u{1F468}\u200D\u{1F33E}",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"\u{1F469}\u200D\u{1F373}",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"\u{1F468}\u200D\u{1F373}",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"\u{1F469}\u200D\u{1F393}",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"\u{1F468}\u200D\u{1F393}",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"\u{1F469}\u200D\u{1F3A4}",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"\u{1F468}\u200D\u{1F3A4}",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"\u{1F469}\u200D\u{1F3EB}",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"\u{1F468}\u200D\u{1F3EB}",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"\u{1F469}\u200D\u{1F3ED}",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"\u{1F468}\u200D\u{1F3ED}",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"\u{1F469}\u200D\u{1F4BB}",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"\u{1F468}\u200D\u{1F4BB}",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"\u{1F469}\u200D\u{1F4BC}",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"\u{1F468}\u200D\u{1F4BC}",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"\u{1F469}\u200D\u{1F527}",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"\u{1F468}\u200D\u{1F527}",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"\u{1F469}\u200D\u{1F52C}",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"\u{1F468}\u200D\u{1F52C}",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"\u{1F469}\u200D\u{1F3A8}",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"\u{1F468}\u200D\u{1F3A8}",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"\u{1F469}\u200D\u{1F692}",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"\u{1F468}\u200D\u{1F692}",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"\u{1F469}\u200D\u2708\uFE0F",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"\u{1F468}\u200D\u2708\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"\u{1F469}\u200D\u{1F680}",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"\u{1F468}\u200D\u{1F680}",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"\u{1F469}\u200D\u2696\uFE0F",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"\u{1F468}\u200D\u2696\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"\u{1F9B8}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"\u{1F9B8}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"\u{1F9B9}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"\u{1F9B9}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"\u{1F936}",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"\u{1F385}",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"\u{1F9D9}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"\u{1F9D9}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"\u{1F9DD}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"\u{1F9DD}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"\u{1F9DB}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"\u{1F9DB}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"\u{1F9DF}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"\u{1F9DF}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"\u{1F9DE}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"\u{1F9DE}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"\u{1F9DC}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"\u{1F9DC}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"\u{1F9DA}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"\u{1F9DA}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"\u{1F47C}",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"\u{1F930}",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"\u{1F931}",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"\u{1F478}",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"\u{1F934}",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"\u{1F470}",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"\u{1F935}",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"\u{1F3C3}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"\u{1F3C3}",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"\u{1F6B6}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"\u{1F6B6}",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"\u{1F483}",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"\u{1F57A}",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"\u{1F46F}",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"\u{1F46F}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"\u{1F46B}",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"\u{1F46C}",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"\u{1F46D}",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"\u{1F647}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"\u{1F647}",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"\u{1F926}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"\u{1F926}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"\u{1F937}",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"\u{1F937}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"\u{1F481}",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"\u{1F481}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"\u{1F645}",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"\u{1F645}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"\u{1F646}",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"\u{1F646}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"\u{1F64B}",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"\u{1F64B}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"\u{1F64E}",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"\u{1F64E}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"\u{1F64D}",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"\u{1F64D}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"\u{1F487}",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"\u{1F487}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"\u{1F486}",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"\u{1F486}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"\u{1F9D6}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"\u{1F9D6}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F491}",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F48F}",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"\u{1F46A}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"\u{1F469}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"\u{1F469}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"\u{1F468}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"\u{1F468}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"\u{1F9F6}",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"\u{1F9F5}",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"\u{1F9E5}",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"\u{1F97C}",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"\u{1F45A}",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"\u{1F455}",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"\u{1F456}",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"\u{1F454}",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"\u{1F457}",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"\u{1F459}",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"\u{1F458}",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"\u{1F484}",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"\u{1F48B}",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"\u{1F463}",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"\u{1F97F}",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"\u{1F460}",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"\u{1F461}",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"\u{1F462}",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"\u{1F45E}",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"\u{1F45F}",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"\u{1F97E}",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"\u{1F9E6}",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"\u{1F9E4}",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"\u{1F9E3}",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"\u{1F452}",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"\u{1F3A9}",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"\u{1F9E2}",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"\u26D1",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"\u{1F393}",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"\u{1F451}",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"\u{1F392}",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"\u{1F9F3}",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"\u{1F45D}",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"\u{1F45B}",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"\u{1F45C}",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"\u{1F4BC}",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"\u{1F453}",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"\u{1F576}",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"\u{1F97D}",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"\u{1F48D}",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"\u{1F302}",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"\u{1F436}",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"\u{1F431}",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"\u{1F42D}",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"\u{1F439}",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"\u{1F430}",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"\u{1F98A}",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"\u{1F43B}",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"\u{1F43C}",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"\u{1F428}",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"\u{1F42F}",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"\u{1F981}",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\u{1F42E}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"\u{1F437}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"\u{1F43D}",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"\u{1F438}",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"\u{1F991}",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"\u{1F419}",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"\u{1F990}",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"\u{1F435}",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"\u{1F98D}",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"\u{1F648}",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"\u{1F649}",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"\u{1F64A}",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"\u{1F412}",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"\u{1F414}",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"\u{1F427}",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"\u{1F426}",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"\u{1F424}",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"\u{1F423}",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"\u{1F425}",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"\u{1F986}",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"\u{1F985}",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"\u{1F989}",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"\u{1F987}",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"\u{1F43A}",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"\u{1F417}",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"\u{1F434}",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"\u{1F984}",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"\u{1F41D}",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"\u{1F41B}",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"\u{1F98B}",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"\u{1F40C}",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"\u{1F41E}",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"\u{1F41C}",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"\u{1F997}",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"\u{1F577}",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"\u{1F982}",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"\u{1F980}",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"\u{1F40D}",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"\u{1F98E}",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"\u{1F996}",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"\u{1F995}",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"\u{1F422}",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"\u{1F420}",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"\u{1F41F}",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"\u{1F421}",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"\u{1F42C}",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"\u{1F988}",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"\u{1F433}",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"\u{1F40B}",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"\u{1F40A}",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"\u{1F406}",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"\u{1F993}",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"\u{1F405}",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"\u{1F403}",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"\u{1F402}",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"\u{1F404}",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"\u{1F98C}",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"\u{1F42A}",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"\u{1F42B}",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"\u{1F992}",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"\u{1F418}",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"\u{1F98F}",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"\u{1F410}",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"\u{1F40F}",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"\u{1F411}",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"\u{1F40E}",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"\u{1F416}",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"\u{1F400}",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"\u{1F401}",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"\u{1F413}",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"\u{1F983}",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"\u{1F54A}",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"\u{1F415}",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"\u{1F429}",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"\u{1F408}",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"\u{1F407}",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"\u{1F43F}",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"\u{1F994}",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"\u{1F99D}",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"\u{1F999}",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"\u{1F99B}",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"\u{1F998}",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"\u{1F9A1}",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"\u{1F9A2}",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"\u{1F99A}",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"\u{1F99C}",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"\u{1F99E}",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"\u{1F99F}",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"\u{1F43E}",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"\u{1F409}",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"\u{1F432}",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"\u{1F335}",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"\u{1F384}",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"\u{1F332}",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"\u{1F333}",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"\u{1F334}",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"\u{1F331}",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"\u{1F33F}",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"\u2618",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"\u{1F340}",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"\u{1F38D}",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"\u{1F38B}",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"\u{1F343}",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"\u{1F342}",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"\u{1F341}",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"\u{1F33E}",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"\u{1F33A}",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"\u{1F33B}",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"\u{1F339}",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"\u{1F940}",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"\u{1F337}",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"\u{1F33C}",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"\u{1F338}",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"\u{1F490}",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"\u{1F344}",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"\u{1F330}",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"\u{1F383}",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"\u{1F41A}",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"\u{1F578}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"\u{1F30E}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"\u{1F30D}",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"\u{1F30F}",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"\u{1F315}",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"\u{1F316}",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F317}",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F318}",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F311}",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F312}",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F313}",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"\u{1F314}",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31A}",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31D}",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31B}",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"\u{1F31C}",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"\u{1F31E}",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"\u{1F319}",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"\u2B50",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"\u{1F31F}",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"\u{1F4AB}",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"\u2728",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"\u2604",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"\u2600\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"\u{1F324}",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"\u26C5",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"\u{1F325}",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"\u{1F326}",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"\u2601\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"\u{1F327}",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"\u26C8",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"\u{1F329}",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"\u26A1",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"\u{1F525}",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"\u{1F4A5}",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"\u2744\uFE0F",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"\u{1F328}",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"\u26C4",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"\u2603",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"\u{1F32C}",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"\u{1F4A8}",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"\u{1F32A}",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"\u{1F32B}",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"\u2602",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"\u2614",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"\u{1F4A7}",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"\u{1F4A6}",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"\u{1F30A}",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"\u{1F34F}",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"\u{1F34E}",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"\u{1F350}",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"\u{1F34A}",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"\u{1F34B}",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"\u{1F34C}",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"\u{1F349}",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"\u{1F347}",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"\u{1F353}",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"\u{1F348}",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"\u{1F352}",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"\u{1F351}",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"\u{1F34D}",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"\u{1F965}",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"\u{1F95D}",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"\u{1F96D}",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"\u{1F951}",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"\u{1F966}",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"\u{1F345}",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"\u{1F346}",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"\u{1F952}",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"\u{1F955}",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"\u{1F336}",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"\u{1F954}",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"\u{1F33D}",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"\u{1F96C}",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"\u{1F360}",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"\u{1F95C}",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"\u{1F36F}",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"\u{1F950}",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"\u{1F35E}",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"\u{1F956}",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"\u{1F96F}",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"\u{1F968}",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"\u{1F9C0}",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"\u{1F95A}",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"\u{1F953}",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"\u{1F969}",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"\u{1F95E}",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"\u{1F357}",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"\u{1F356}",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"\u{1F9B4}",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"\u{1F364}",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"\u{1F373}",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"\u{1F354}",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"\u{1F35F}",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"\u{1F959}",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"\u{1F32D}",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"\u{1F355}",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"\u{1F96A}",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"\u{1F96B}",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"\u{1F35D}",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"\u{1F32E}",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"\u{1F32F}",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"\u{1F957}",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"\u{1F958}",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"\u{1F35C}",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"\u{1F372}",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"\u{1F365}",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"\u{1F960}",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"\u{1F363}",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"\u{1F371}",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"\u{1F35B}",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"\u{1F359}",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"\u{1F35A}",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"\u{1F358}",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"\u{1F362}",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"\u{1F361}",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"\u{1F367}",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"\u{1F368}",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"\u{1F366}",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"\u{1F967}",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"\u{1F370}",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"\u{1F9C1}",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"\u{1F96E}",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"\u{1F382}",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"\u{1F36E}",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"\u{1F36C}",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"\u{1F36D}",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"\u{1F36B}",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"\u{1F37F}",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"\u{1F95F}",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"\u{1F369}",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"\u{1F36A}",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"\u{1F95B}",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\u{1F37A}",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"\u{1F37B}",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"\u{1F942}",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"\u{1F377}",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"\u{1F943}",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"\u{1F378}",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"\u{1F379}",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"\u{1F37E}",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"\u{1F376}",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"\u{1F375}",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"\u{1F964}",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"\u2615",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"\u{1F37C}",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"\u{1F9C2}",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"\u{1F944}",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"\u{1F374}",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"\u{1F37D}",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"\u{1F963}",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"\u{1F961}",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"\u{1F962}",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"\u26BD",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"\u{1F3C0}",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"\u{1F3C8}",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"\u26BE",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"\u{1F94E}",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"\u{1F3BE}",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"\u{1F3D0}",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"\u{1F3C9}",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"\u{1F94F}",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"\u{1F3B1}",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"\u26F3",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"\u{1F3CC}",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"\u{1F3D3}",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"\u{1F3F8}",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"\u{1F945}",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"\u{1F3D2}",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"\u{1F3D1}",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"\u{1F94D}",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"\u{1F3CF}",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"\u{1F3BF}",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"\u26F7",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"\u{1F3C2}",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"\u{1F93A}",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"\u{1F93C}\u200D\u2640\uFE0F",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"\u{1F93C}\u200D\u2642\uFE0F",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"\u{1F938}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"\u{1F938}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"\u{1F93E}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"\u{1F93E}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"\u26F8",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"\u{1F94C}",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"\u{1F6F9}",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"\u{1F6F7}",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"\u{1F3F9}",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"\u{1F3A3}",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"\u{1F94A}",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"\u{1F94B}",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"\u{1F6A3}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"\u{1F6A3}",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"\u{1F9D7}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"\u{1F9D7}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"\u{1F3CA}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"\u{1F3CA}",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"\u{1F93D}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"\u{1F93D}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"\u{1F9D8}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"\u{1F9D8}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"\u{1F3C4}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"\u{1F3C4}",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"\u{1F6C0}",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"\u26F9\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"\u26F9",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"\u{1F3CB}",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"\u{1F6B4}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"\u{1F6B4}",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"\u{1F6B5}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"\u{1F6B5}",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"\u{1F3C7}",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"\u{1F574}",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"\u{1F3C6}",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"\u{1F3BD}",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"\u{1F3C5}",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"\u{1F396}",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"\u{1F947}",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"\u{1F948}",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"\u{1F949}",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"\u{1F397}",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"\u{1F3F5}",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"\u{1F3AB}",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"\u{1F39F}",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"\u{1F3AD}",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"\u{1F3A8}",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"\u{1F3AA}",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\u{1F939}\u200D\u2640\uFE0F",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"\u{1F939}\u200D\u2642\uFE0F",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"\u{1F3A4}",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"\u{1F3A7}",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"\u{1F3BC}",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"\u{1F3B9}",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"\u{1F941}",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"\u{1F3B7}",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"\u{1F3BA}",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"\u{1F3B8}",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"\u{1F3BB}",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"\u{1F3AC}",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"\u{1F3AE}",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"\u{1F47E}",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"\u{1F3AF}",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"\u{1F3B2}",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"\u265F",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"\u{1F3B0}",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"\u{1F9E9}",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"\u{1F3B3}",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"\u{1F697}",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"\u{1F695}",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"\u{1F699}",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"\u{1F68C}",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"\u{1F68E}",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"\u{1F3CE}",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"\u{1F693}",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"\u{1F691}",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"\u{1F692}",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"\u{1F690}",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"\u{1F69A}",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"\u{1F69B}",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"\u{1F69C}",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"\u{1F6F4}",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"\u{1F3CD}",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"\u{1F6B2}",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"\u{1F6F5}",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"\u{1F6A8}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"\u{1F694}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"\u{1F68D}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"\u{1F698}",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"\u{1F696}",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"\u{1F6A1}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"\u{1F6A0}",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"\u{1F69F}",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"\u{1F683}",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"\u{1F68B}",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"\u{1F69D}",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"\u{1F684}",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"\u{1F685}",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"\u{1F688}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"\u{1F69E}",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"\u{1F682}",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"\u{1F686}",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"\u{1F687}",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"\u{1F68A}",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"\u{1F689}",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"\u{1F6F8}",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"\u{1F681}",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"\u{1F6E9}",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"\u2708\uFE0F",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"\u{1F6EB}",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"\u{1F6EC}",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"\u26F5",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"\u{1F6E5}",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"\u{1F6A4}",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"\u26F4",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"\u{1F6F3}",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"\u{1F680}",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"\u{1F6F0}",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"\u{1F4BA}",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"\u{1F6F6}",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"\u2693",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"\u{1F6A7}",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"\u26FD",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"\u{1F68F}",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"\u{1F6A6}",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"\u{1F6A5}",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"\u{1F3C1}",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"\u{1F6A2}",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"\u{1F3A1}",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"\u{1F3A2}",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"\u{1F3A0}",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"\u{1F3D7}",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"\u{1F301}",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"\u{1F5FC}",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"\u{1F3ED}",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"\u26F2",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"\u{1F391}",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"\u26F0",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"\u{1F3D4}",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"\u{1F5FB}",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"\u{1F30B}",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"\u{1F5FE}",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"\u{1F3D5}",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"\u26FA",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"\u{1F3DE}",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"\u{1F6E3}",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"\u{1F6E4}",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"\u{1F305}",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"\u{1F304}",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"\u{1F3DC}",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"\u{1F3D6}",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"\u{1F3DD}",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"\u{1F307}",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"\u{1F306}",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"\u{1F3D9}",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"\u{1F303}",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"\u{1F309}",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"\u{1F30C}",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"\u{1F320}",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"\u{1F387}",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"\u{1F386}",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"\u{1F308}",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"\u{1F3D8}",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"\u{1F3F0}",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"\u{1F3EF}",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"\u{1F3DF}",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"\u{1F5FD}",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"\u{1F3E0}",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"\u{1F3E1}",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"\u{1F3DA}",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"\u{1F3E2}",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"\u{1F3EC}",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"\u{1F3E3}",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"\u{1F3E4}",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"\u{1F3E5}",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"\u{1F3E6}",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"\u{1F3E8}",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"\u{1F3EA}",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"\u{1F3EB}",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"\u{1F3E9}",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"\u{1F492}",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"\u{1F3DB}",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"\u26EA",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"\u{1F54C}",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"\u{1F54D}",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"\u{1F54B}",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"\u26E9",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"\u231A",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"\u{1F4F1}",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"\u{1F4F2}",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"\u{1F4BB}",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"\u2328",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"\u{1F5A5}",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"\u{1F5A8}",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"\u{1F5B1}",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"\u{1F5B2}",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"\u{1F579}",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"\u{1F5DC}",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"\u{1F4BD}",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"\u{1F4BE}",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"\u{1F4BF}",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"\u{1F4C0}",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"\u{1F4FC}",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"\u{1F4F7}",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"\u{1F4F8}",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"\u{1F4F9}",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"\u{1F3A5}",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"\u{1F4FD}",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"\u{1F39E}",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"\u{1F4DE}",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"\u260E\uFE0F",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"\u{1F4DF}",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"\u{1F4E0}",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"\u{1F4FA}",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"\u{1F4FB}",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"\u{1F399}",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"\u{1F39A}",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"\u{1F39B}",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"\u{1F9ED}",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"\u23F1",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"\u23F2",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"\u23F0",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"\u{1F570}",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"\u23F3",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"\u231B",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"\u{1F4E1}",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"\u{1F50B}",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"\u{1F50C}",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"\u{1F4A1}",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"\u{1F526}",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"\u{1F56F}",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"\u{1F9EF}",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"\u{1F5D1}",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"\u{1F6E2}",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"\u{1F4B8}",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"\u{1F4B5}",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"\u{1F4B4}",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"\u{1F4B6}",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"\u{1F4B7}",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"\u{1F4B0}",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"\u{1F4B3}",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"\u{1F48E}",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"\u2696",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"\u{1F9F0}",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"\u{1F527}",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"\u{1F528}",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"\u2692",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"\u{1F6E0}",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"\u26CF",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"\u{1F529}",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"\u2699",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"\u{1F9F1}",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"\u26D3",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"\u{1F9F2}",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"\u{1F52B}",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"\u{1F4A3}",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"\u{1F9E8}",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"\u{1F52A}",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"\u{1F5E1}",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"\u2694",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"\u{1F6E1}",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"\u{1F6AC}",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"\u2620",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"\u26B0",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"\u26B1",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"\u{1F3FA}",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"\u{1F52E}",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"\u{1F4FF}",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"\u{1F9FF}",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"\u{1F488}",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"\u2697",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"\u{1F52D}",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"\u{1F52C}",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"\u{1F573}",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"\u{1F48A}",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"\u{1F489}",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"\u{1F9EC}",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"\u{1F9A0}",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"\u{1F9EB}",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"\u{1F9EA}",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"\u{1F321}",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"\u{1F9F9}",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"\u{1F9FA}",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"\u{1F9FB}",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"\u{1F3F7}",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"\u{1F516}",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"\u{1F6BD}",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"\u{1F6BF}",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"\u{1F6C1}",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"\u{1F9FC}",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"\u{1F9FD}",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"\u{1F9F4}",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"\u{1F511}",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"\u{1F5DD}",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"\u{1F6CB}",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"\u{1F6CC}",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"\u{1F6CF}",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"\u{1F6AA}",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"\u{1F6CE}",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"\u{1F9F8}",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"\u{1F5BC}",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"\u{1F5FA}",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"\u26F1",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"\u{1F5FF}",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"\u{1F6CD}",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"\u{1F6D2}",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"\u{1F388}",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"\u{1F38F}",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"\u{1F380}",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"\u{1F381}",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"\u{1F38A}",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"\u{1F389}",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"\u{1F38E}",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"\u{1F390}",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"\u{1F38C}",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"\u{1F3EE}",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"\u{1F9E7}",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"\u2709\uFE0F",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"\u{1F4E9}",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"\u{1F4E8}",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"\u{1F4E7}",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"\u{1F48C}",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"\u{1F4EE}",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"\u{1F4EA}",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"\u{1F4EB}",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"\u{1F4EC}",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"\u{1F4ED}",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"\u{1F4E6}",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"\u{1F4EF}",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"\u{1F4E5}",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"\u{1F4E4}",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"\u{1F4DC}",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"\u{1F4C3}",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"\u{1F4D1}",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"\u{1F9FE}",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"\u{1F4CA}",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"\u{1F4C8}",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"\u{1F4C9}",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"\u{1F4C4}",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"\u{1F4C5}",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"\u{1F4C6}",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"\u{1F5D3}",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"\u{1F4C7}",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"\u{1F5C3}",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"\u{1F5F3}",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"\u{1F5C4}",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"\u{1F4CB}",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"\u{1F5D2}",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"\u{1F4C1}",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"\u{1F4C2}",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"\u{1F5C2}",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"\u{1F5DE}",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"\u{1F4F0}",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"\u{1F4D3}",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"\u{1F4D5}",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"\u{1F4D7}",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"\u{1F4D8}",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"\u{1F4D9}",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"\u{1F4D4}",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"\u{1F4D2}",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"\u{1F4DA}",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"\u{1F4D6}",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"\u{1F9F7}",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"\u{1F517}",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"\u{1F4CE}",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"\u{1F587}",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"\u2702\uFE0F",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"\u{1F4D0}",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"\u{1F4CF}",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"\u{1F9EE}",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"\u{1F4CC}",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"\u{1F4CD}",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"\u{1F6A9}",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"\u{1F3F3}",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"\u{1F3F4}",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"\u{1F3F3}\uFE0F\u200D\u{1F308}",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"\u{1F510}",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"\u{1F512}",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"\u{1F513}",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"\u{1F50F}",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"\u{1F58A}",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"\u{1F58B}",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"\u2712\uFE0F",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"\u{1F4DD}",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"\u270F\uFE0F",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"\u{1F58D}",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"\u{1F58C}",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"\u{1F50D}",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"\u{1F50E}",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"\u2764\uFE0F",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F9E1}",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49B}",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49A}",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F499}",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F49C}",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"\u{1F5A4}",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"\u{1F494}",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"\u2763",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"\u{1F495}",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"\u{1F49E}",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"\u{1F493}",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"\u{1F497}",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"\u{1F496}",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"\u{1F498}",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"\u{1F49D}",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"\u{1F49F}",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"\u262E",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"\u271D",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"\u262A",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\u{1F549}",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"\u2638",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"\u2721",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"\u{1F52F}",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"\u{1F54E}",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"\u262F",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"\u2626",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"\u{1F6D0}",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"\u26CE",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u2648",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"\u2649",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264A",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264B",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u264C",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u264D",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u264E",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"\u264F",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u2650",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"\u2651",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"\u2652",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"\u2653",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"\u{1F194}",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"\u269B",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"\u{1F233}",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"\u{1F239}",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"\u2622",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"\u2623",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"\u{1F4F4}",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"\u{1F4F3}",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"\u{1F236}",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"\u{1F21A}",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"\u{1F238}",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"\u{1F23A}",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"\u{1F237}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"\u2734\uFE0F",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"\u{1F19A}",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"\u{1F251}",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"\u{1F4AE}",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"\u{1F250}",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"\u3299\uFE0F",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"\u3297\uFE0F",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"\u{1F234}",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"\u{1F235}",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"\u{1F232}",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"\u{1F170}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"\u{1F171}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"\u{1F18E}",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"\u{1F191}",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"\u{1F17E}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"\u{1F198}",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"\u26D4",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"\u{1F4DB}",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"\u{1F6AB}",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"\u274C",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"\u2B55",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"\u{1F6D1}",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"\u{1F4A2}",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"\u2668\uFE0F",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"\u{1F6B7}",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"\u{1F6AF}",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"\u{1F6B3}",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"\u{1F6B1}",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"\u{1F51E}",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"\u{1F4F5}",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"\u2757",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"\u2755",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"\u2753",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"\u2754",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"\u203C\uFE0F",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"\u2049\uFE0F",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"\u{1F4AF}",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"\u{1F505}",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"\u{1F506}",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"\u{1F531}",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"\u269C",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"\u303D\uFE0F",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"\u26A0\uFE0F",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"\u{1F6B8}",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"\u{1F530}",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"\u267B\uFE0F",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"\u{1F22F}",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"\u{1F4B9}",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"\u2747\uFE0F",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"\u2733\uFE0F",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"\u274E",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"\u2705",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"\u{1F4A0}",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"\u{1F300}",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"\u27BF",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"\u{1F310}",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"\u24C2\uFE0F",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"\u{1F3E7}",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"\u{1F202}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"\u{1F6C2}",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"\u{1F6C3}",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"\u{1F6C4}",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"\u{1F6C5}",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"\u267F",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"\u{1F6AD}",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"\u{1F6BE}",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"\u{1F17F}\uFE0F",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"\u{1F6B0}",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"\u{1F6B9}",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"\u{1F6BA}",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"\u{1F6BC}",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"\u{1F6BB}",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"\u{1F6AE}",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"\u{1F3A6}",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"\u{1F4F6}",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"\u{1F201}",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"\u{1F196}",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"\u{1F197}",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"\u{1F199}",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"\u{1F192}",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"\u{1F195}",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"\u{1F193}",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"\u{1F51F}",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*\u20E3",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"\u{1F522}",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"\u23CF\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"\u25B6\uFE0F",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"\u23F8",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"\u23ED",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"\u23F9",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"\u23FA",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"\u23EF",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"\u23EE",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"\u23E9",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"\u23EA",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"\u{1F500}",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"\u{1F501}",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"\u{1F502}",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"\u25C0\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"\u{1F53C}",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"\u{1F53D}",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"\u23EB",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"\u23EC",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"\u27A1\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"\u2B05\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"\u2B06\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"\u2B07\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"\u2197\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"\u2198\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"\u2199\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"\u2196\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"\u2195\uFE0F",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"\u2194\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"\u{1F504}",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"\u21AA\uFE0F",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"\u21A9\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"\u2934\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"\u2935\uFE0F",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#\uFE0F\u20E3",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"\u2139\uFE0F",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"\u{1F524}",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"\u{1F521}",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"\u{1F520}",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"\u{1F523}",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"\u{1F3B5}",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"\u{1F3B6}",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"\u3030\uFE0F",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"\u27B0",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"\u2714\uFE0F",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"\u{1F503}",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"\u2795",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"\u2796",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"\u2797",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"\u2716\uFE0F",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"\u267E",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"\u{1F4B2}",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"\u{1F4B1}",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"\xA9\uFE0F",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"\xAE\uFE0F",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"\u2122\uFE0F",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"\u{1F51A}",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"\u{1F519}",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"\u{1F51B}",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"\u{1F51D}",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"\u{1F51C}",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"\u2611\uFE0F",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"\u{1F518}",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"\u26AA",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"\u26AB",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"\u{1F534}",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"\u{1F535}",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F538}",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F539}",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F536}",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"\u{1F537}",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"\u{1F53A}",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"\u25AA\uFE0F",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"\u25AB\uFE0F",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"\u2B1B",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"\u2B1C",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"\u{1F53B}",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"\u25FC\uFE0F",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"\u25FB\uFE0F",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"\u25FE",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"\u25FD",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"\u{1F532}",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"\u{1F533}",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"\u{1F508}",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"\u{1F509}",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"\u{1F50A}",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"\u{1F507}",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"\u{1F4E3}",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"\u{1F4E2}",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"\u{1F514}",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"\u{1F515}",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"\u{1F0CF}",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"\u{1F004}",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"\u2660\uFE0F",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"\u2663\uFE0F",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"\u2665\uFE0F",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"\u2666\uFE0F",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"\u{1F3B4}",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"\u{1F4AD}",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"\u{1F5EF}",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"\u{1F4AC}",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"\u{1F5E8}",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"\u{1F550}",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"\u{1F551}",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"\u{1F552}",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"\u{1F553}",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"\u{1F554}",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"\u{1F555}",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"\u{1F556}",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"\u{1F557}",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"\u{1F558}",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"\u{1F559}",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"\u{1F55A}",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"\u{1F55B}",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"\u{1F55C}",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"\u{1F55D}",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"\u{1F55E}",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"\u{1F55F}",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"\u{1F560}",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"\u{1F561}",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"\u{1F562}",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"\u{1F563}",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"\u{1F564}",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"\u{1F565}",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"\u{1F566}",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"\u{1F567}",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["\xC5land","islands","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"\u{1F1E8}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["cura\xE7ao","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"\u{1F1E9}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"\u{1F1EA}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"\u{1F1EB}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"\u{1F1E9}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"\u{1F1ED}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"\u{1F1EE}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"\u{1F1EF}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"\u{1F1EF}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"\u{1F1FD}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F6}",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"\u{1F1FE}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"\u{1F1EB}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"\u{1F1F2}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"\u{1F1F0}\u{1F1F5}",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"\u{1F1F3}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"\u{1F1F4}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"\u{1F1F6}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["r\xE9union","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barth\xE9lemy","flag","nation","country","banner"],char:"\u{1F1E7}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"\u{1F1F0}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"\u{1F1F5}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"\u{1F1FC}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"\u{1F1F7}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FD}",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"\u{1F1EC}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"\u{1F1F0}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"\u{1F1F1}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1E9}",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"\u{1F1E8}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"\u{1F1F8}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EF}",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F1}",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F0}",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F4}",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F9}",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F7}",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1E8}",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"\u{1F1F9}\u{1F1FB}",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1EC}",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"\u{1F1E6}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"\u{1F1EC}\u{1F1E7}",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1F8}",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EE}",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1FE}",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"\u{1F1FA}\u{1F1FF}",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1FA}",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1E6}",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"\u{1F1FB}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"\u{1F1FC}\u{1F1EB}",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"\u{1F1EA}\u{1F1ED}",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"\u{1F1FE}\u{1F1EA}",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1F2}",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"\u{1F1FF}\u{1F1FC}",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"\u{1F1FA}\u{1F1F3}",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"\u{1F3F4}\u200D\u2620\uFE0F",fitzpatrick_scale:!1,category:"flags"}})},29508:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=Ne=>Pe=>Ne===Pe,Ve=bn(null),Pn=bn(void 0),Ao=Ne=>Ne==null,So=Ne=>!Ao(Ne),Xn=()=>{},yn=(Ne=>()=>Ne)(!1);class An{constructor(Pe,Ye){this.tag=Pe,this.value=Ye}static some(Pe){return new An(!0,Pe)}static none(){return An.singletonNone}fold(Pe,Ye){return this.tag?Ye(this.value):Pe()}isSome(){return this.tag}isNone(){return!this.tag}map(Pe){return this.tag?An.some(Pe(this.value)):An.none()}bind(Pe){return this.tag?Pe(this.value):An.none()}exists(Pe){return this.tag&&Pe(this.value)}forall(Pe){return!this.tag||Pe(this.value)}filter(Pe){return!this.tag||Pe(this.value)?this:An.none()}getOr(Pe){return this.tag?this.value:Pe}or(Pe){return this.tag?this:Pe}getOrThunk(Pe){return this.tag?this.value:Pe()}orThunk(Pe){return this.tag?this:Pe()}getOrDie(Pe){if(this.tag)return this.value;throw new Error(Pe!=null?Pe:"Called getOrDie on None")}static from(Pe){return So(Pe)?An.some(Pe):An.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Pe){this.tag&&Pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}An.singletonNone=new An(!1);const Ln=(Ne,Pe)=>{for(let Ye=0,We=Ne.length;Ye<We;Ye++){const J=Ne[Ye];if(Pe(J,Ye))return!0}return!1},zo=(Ne,Pe)=>{const Ye=Ne.length,We=new Array(Ye);for(let J=0;J<Ye;J++){const xe=Ne[J];We[J]=Pe(xe,J)}return We},dn=(Ne,Pe)=>{for(let Ye=0,We=Ne.length;Ye<We;Ye++){const J=Ne[Ye];Pe(J,Ye)}},en=Ne=>{let Pe=Ne;return{get:()=>Pe,set:J=>{Pe=J}}},Wt=(Ne,Pe)=>{let Ye=null;const We=()=>{Ve(Ye)||(clearTimeout(Ye),Ye=null)};return{cancel:We,throttle:(...xe)=>{We(),Ye=setTimeout(()=>{Ye=null,Ne.apply(null,xe)},Pe)}}},ln=(Ne,Pe)=>{Ne.insertContent(Pe)},ot=Object.keys,Rt=Object.hasOwnProperty,Ot=(Ne,Pe)=>{const Ye=ot(Ne);for(let We=0,J=Ye.length;We<J;We++){const xe=Ye[We],Le=Ne[xe];Pe(Le,xe)}},W=(Ne,Pe)=>ft(Ne,(Ye,We)=>({k:We,v:Pe(Ye,We)})),ft=(Ne,Pe)=>{const Ye={};return Ot(Ne,(We,J)=>{const xe=Pe(We,J);Ye[xe.k]=xe.v}),Ye},Fo=(Ne,Pe)=>Rt.call(Ne,Pe),at=(Ne=>(...Pe)=>{if(Pe.length===0)throw new Error("Can't merge zero objects");const Ye={};for(let We=0;We<Pe.length;We++){const J=Pe[We];for(const xe in J)Fo(J,xe)&&(Ye[xe]=Ne(Ye[xe],J[xe]))}return Ye})((Ne,Pe)=>Pe),Sn=Ne=>{const Pe=en(An.none()),Ye=()=>Pe.get().each(Ne);return{clear:()=>{Ye(),Pe.set(An.none())},isSet:()=>Pe.get().isSome(),get:()=>Pe.get(),set:Mt=>{Ye(),Pe.set(An.some(Mt))}}},Jt=()=>{const Ne=Sn(Xn),Pe=Ye=>Ne.get().each(Ye);return pt(te({},Ne),{on:Pe})},$e=(Ne,Pe,Ye)=>Pe===""||Ne.length>=Pe.length&&Ne.substr(Ye,Ye+Pe.length)===Pe,ce=(Ne,Pe,Ye=0,We)=>{const J=Ne.indexOf(Pe,Ye);return J!==-1?Pn(We)?!0:J+Pe.length<=We:!1},Ro=(Ne,Pe)=>$e(Ne,Pe,0);var Se=tinymce.util.Tools.resolve("tinymce.Resource");const De="tinymce.plugins.emoticons",E=Ne=>Pe=>Pe.options.get(Ne),gn=(Ne,Pe)=>{const Ye=Ne.options.register;Ye("emoticons_database",{processor:"string",default:"emojis"}),Ye("emoticons_database_url",{processor:"string",default:`${Pe}/js/${rt(Ne)}${Ne.suffix}.js`}),Ye("emoticons_database_id",{processor:"string",default:De}),Ye("emoticons_append",{processor:"object",default:{}}),Ye("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},rt=E("emoticons_database"),Hn=E("emoticons_database_url"),tn=E("emoticons_database_id"),et=E("emoticons_append"),uo=E("emoticons_images_url"),Yo="All",Ct={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},vn=(Ne,Pe)=>Fo(Ne,Pe)?Ne[Pe]:Pe,Re=Ne=>{const Pe=et(Ne);return W(Pe,Ye=>te({keywords:[],category:"user"},Ye))},it=(Ne,Pe,Ye)=>{const We=Jt(),J=Jt(),xe=uo(Ne),Le=to=>Ro(to.char,"<img")?to.char.replace(/src="([^"]+)"/,(Jn,ao)=>`src="${xe}${ao}"`):to.char,Mt=to=>{const Jn={},ao=[];Ot(to,(kn,co)=>{const Zo={title:co,keywords:kn.keywords,char:Le(kn),category:vn(Ct,kn.category)},Jo=Jn[Zo.category]!==void 0?Jn[Zo.category]:[];Jn[Zo.category]=Jo.concat([Zo]),ao.push(Zo)}),We.set(Jn),J.set(ao)};Ne.on("init",()=>{Se.load(Ye,Pe).then(to=>{const Jn=Re(Ne);Mt(at(to,Jn))},to=>{console.log(`Failed to load emojis: ${to}`),We.set({}),J.set([])})});const Zn=to=>to===Yo?On():We.get().bind(Jn=>An.from(Jn[to])).getOr([]),On=()=>J.get().getOr([]),Nn=()=>[Yo].concat(ot(We.get().getOr({}))),Un=()=>$o()?Promise.resolve(!0):new Promise((to,Jn)=>{let ao=15;const kn=setInterval(()=>{$o()?(clearInterval(kn),to(!0)):(ao--,ao<0&&(console.log("Could not load emojis from url: "+Pe),clearInterval(kn),Jn(!1)))},100)}),$o=()=>We.isSet()&&J.isSet();return{listCategories:Nn,hasLoaded:$o,waitForLoad:Un,listAll:On,listCategory:Zn}},F=(Ne,Pe)=>ce(Ne.title.toLowerCase(),Pe)||Ln(Ne.keywords,Ye=>ce(Ye.toLowerCase(),Pe)),Xo=(Ne,Pe,Ye)=>{const We=[],J=Pe.toLowerCase(),xe=Ye.fold(()=>yn,Le=>Mt=>Mt>=Le);for(let Le=0;Le<Ne.length&&!((Pe.length===0||F(Ne[Le],J))&&(We.push({value:Ne[Le].char,text:Ne[Le].title,icon:Ne[Le].char}),xe(We.length)));Le++);return We},no="pattern",lt=(Ne,Pe)=>{const Ye={pattern:"",results:Xo(Pe.listAll(),"",An.some(300))},We=en(Yo),J=Nn=>{const Un=Nn.getData(),$o=We.get(),to=Pe.listCategory($o),Jn=Xo(to,Un[no],$o===Yo?An.some(300):An.none());Nn.setData({results:Jn})},xe=Wt(Nn=>{J(Nn)},200),Le={label:"Search",type:"input",name:no},Mt={type:"collection",name:"results"},Zn=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:zo(Pe.listCategories(),Un=>({title:Un,name:Un,items:[Le,Mt]}))},initialData:Ye,onTabChange:(Un,$o)=>{We.set($o.newTabName),xe.throttle(Un)},onChange:xe.throttle,onAction:(Un,$o)=>{$o.name==="results"&&(ln(Ne,$o.value),Un.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),On=Ne.windowManager.open(Zn());On.focus(no),Pe.hasLoaded()||(On.block("Loading emojis..."),Pe.waitForLoad().then(()=>{On.redial(Zn()),xe.throttle(On),On.focus(no),On.unblock()}).catch(Nn=>{On.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),On.focus(no),On.unblock()}))},bt=(Ne,Pe)=>{Ne.addCommand("mceEmoticons",()=>lt(Ne,Pe))},Ft=Ne=>{Ne.on("PreInit",()=>{Ne.parser.addAttributeFilter("data-emoticon",Pe=>{dn(Pe,Ye=>{Ye.attr("data-mce-resize","false"),Ye.attr("data-mce-placeholder","1")})})})},ee=(Ne,Pe)=>{Ne.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Ye,We)=>Pe.waitForLoad().then(()=>{const J=Pe.listAll();return Xo(J,Ye,An.some(We))}),onAction:(Ye,We,J)=>{Ne.selection.setRng(We),Ne.insertContent(J),Ye.hide()}})},he=Ne=>Pe=>{const Ye=()=>{Pe.setEnabled(Ne.selection.isEditable())};return Ne.on("NodeChange",Ye),Ye(),()=>{Ne.off("NodeChange",Ye)}},we=Ne=>{const Pe=()=>Ne.execCommand("mceEmoticons");Ne.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Pe,onSetup:he(Ne)}),Ne.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Pe,onSetup:he(Ne)})};var ae=()=>{Tn.add("emoticons",(Ne,Pe)=>{gn(Ne,Pe);const Ye=Hn(Ne),We=tn(Ne),J=it(Ne,Ye,We);bt(Ne,J),we(Ne),ee(Ne,J),Ft(Ne)})};ae()})()},35323:function(Tn,bn,Ve){Ve(75177)},75177:function(){(function(){"use strict";const Tn=q=>{let ue=q;return{get:()=>ue,set:un=>{ue=un}}};var bn=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ve=q=>({isFullscreen:()=>q.get()!==null}),Pn=(q,ue,Fe)=>{var kt;return Fe(q,ue.prototype)?!0:((kt=q.constructor)===null||kt===void 0?void 0:kt.name)===ue.name},Ao=q=>{const ue=typeof q;return q===null?"null":ue==="object"&&Array.isArray(q)?"array":ue==="object"&&Pn(q,String,(Fe,kt)=>kt.isPrototypeOf(Fe))?"string":ue},So=q=>ue=>Ao(ue)===q,Xn=q=>ue=>typeof ue===q,Qe=q=>ue=>q===ue,yn=So("string"),An=So("array"),Ln=Qe(null),zo=Xn("boolean"),dn=Qe(void 0),en=q=>q==null,Wt=q=>!en(q),ln=Xn("function"),ot=Xn("number"),Rt=()=>{},Ot=(q,ue)=>(...Fe)=>q(ue.apply(null,Fe)),W=(q,ue)=>Fe=>q(ue(Fe)),ft=q=>()=>q;function Fo(q,...ue){return(...Fe)=>{const kt=ue.concat(Fe);return q.apply(null,kt)}}const ht=ft(!1),H=ft(!0);class at{constructor(ue,Fe){this.tag=ue,this.value=Fe}static some(ue){return new at(!0,ue)}static none(){return at.singletonNone}fold(ue,Fe){return this.tag?Fe(this.value):ue()}isSome(){return this.tag}isNone(){return!this.tag}map(ue){return this.tag?at.some(ue(this.value)):at.none()}bind(ue){return this.tag?ue(this.value):at.none()}exists(ue){return this.tag&&ue(this.value)}forall(ue){return!this.tag||ue(this.value)}filter(ue){return!this.tag||ue(this.value)?this:at.none()}getOr(ue){return this.tag?this.value:ue}or(ue){return this.tag?this:ue}getOrThunk(ue){return this.tag?this.value:ue()}orThunk(ue){return this.tag?this:ue()}getOrDie(ue){if(this.tag)return this.value;throw new Error(ue!=null?ue:"Called getOrDie on None")}static from(ue){return Wt(ue)?at.some(ue):at.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ue){this.tag&&ue(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}at.singletonNone=new at(!1);const Sn=q=>{const ue=Tn(at.none()),Fe=()=>ue.get().each(q);return{clear:()=>{Fe(),ue.set(at.none())},isSet:()=>ue.get().isSome(),get:()=>ue.get(),set:Ca=>{Fe(),ue.set(at.some(Ca))}}},Jt=()=>Sn(q=>q.unbind()),$e=()=>{const q=Sn(Rt),ue=Fe=>q.get().each(Fe);return pt(te({},q),{on:ue})},ce=(q,ue)=>{let Fe=null;return{cancel:()=>{Ln(Fe)||(clearTimeout(Fe),Fe=null)},throttle:(...ns)=>{Ln(Fe)&&(Fe=setTimeout(()=>{Fe=null,q.apply(null,ns)},ue))}}},Ro=Array.prototype.push,Se=(q,ue)=>{const Fe=q.length,kt=new Array(Fe);for(let un=0;un<Fe;un++){const ns=q[un];kt[un]=ue(ns,un)}return kt},De=(q,ue)=>{for(let Fe=0,kt=q.length;Fe<kt;Fe++){const un=q[Fe];ue(un,Fe)}},E=(q,ue)=>{const Fe=[];for(let kt=0,un=q.length;kt<un;kt++){const ns=q[kt];ue(ns,kt)&&Fe.push(ns)}return Fe},gn=(q,ue,Fe)=>{for(let kt=0,un=q.length;kt<un;kt++){const ns=q[kt];if(ue(ns,kt))return at.some(ns);if(Fe(ns,kt))break}return at.none()},rt=(q,ue)=>gn(q,ue,ht),Hn=q=>{const ue=[];for(let Fe=0,kt=q.length;Fe<kt;++Fe){if(!An(q[Fe]))throw new Error("Arr.flatten item "+Fe+" was not an array, input: "+q);Ro.apply(ue,q[Fe])}return ue},tn=(q,ue)=>Hn(Se(q,ue)),et=(q,ue)=>ue>=0&&ue<q.length?at.some(q[ue]):at.none(),uo=q=>et(q,0),Yo=(q,ue)=>{for(let Fe=0;Fe<q.length;Fe++){const kt=ue(q[Fe],Fe);if(kt.isSome())return kt}return at.none()},Ct=Object.keys,vn=(q,ue)=>{const Fe=Ct(q);for(let kt=0,un=Fe.length;kt<un;kt++){const ns=Fe[kt],Sr=q[ns];ue(Sr,ns)}},Re=(q,ue,Fe=0,kt)=>{const un=q.indexOf(ue,Fe);return un!==-1?dn(kt)?!0:un+ue.length<=kt:!1},it=q=>q.style!==void 0&&ln(q.style.getPropertyValue),F=(q,ue)=>{const kt=(ue||document).createElement("div");if(kt.innerHTML=q,!kt.hasChildNodes()||kt.childNodes.length>1){const un="HTML does not have a single root node";throw console.error(un,q),new Error(un)}return lt(kt.childNodes[0])},Xo=(q,ue)=>{const kt=(ue||document).createElement(q);return lt(kt)},no=(q,ue)=>{const kt=(ue||document).createTextNode(q);return lt(kt)},lt=q=>{if(q==null)throw new Error("Node cannot be null or undefined");return{dom:q}},Ft={fromHtml:F,fromTag:Xo,fromText:no,fromDom:lt,fromPoint:(q,ue,Fe)=>at.from(q.dom.elementFromPoint(ue,Fe)).map(lt)};typeof window!="undefined"||Function("return this;")();const ee=9,he=11,we=1,ae=3,Ne=q=>q.dom.nodeType,Pe=q=>ue=>Ne(ue)===q,Ye=Pe(we),We=Pe(ae),J=Pe(ee),xe=Pe(he),Le=(q,ue)=>{const Fe=q.dom;if(Fe.nodeType!==we)return!1;{const kt=Fe;if(kt.matches!==void 0)return kt.matches(ue);if(kt.msMatchesSelector!==void 0)return kt.msMatchesSelector(ue);if(kt.webkitMatchesSelector!==void 0)return kt.webkitMatchesSelector(ue);if(kt.mozMatchesSelector!==void 0)return kt.mozMatchesSelector(ue);throw new Error("Browser lacks native selectors")}},Mt=q=>q.nodeType!==we&&q.nodeType!==ee&&q.nodeType!==he||q.childElementCount===0,Zn=(q,ue)=>{const Fe=ue===void 0?document:ue.dom;return Mt(Fe)?[]:Se(Fe.querySelectorAll(q),Ft.fromDom)},On=(q,ue)=>q.dom===ue.dom,Nn=q=>Ft.fromDom(q.dom.ownerDocument),Un=q=>J(q)?q:Nn(q),$o=q=>at.from(q.dom.parentNode).map(Ft.fromDom),to=(q,ue)=>{const Fe=ln(ue)?ue:ht;let kt=q.dom;const un=[];for(;kt.parentNode!==null&&kt.parentNode!==void 0;){const ns=kt.parentNode,Sr=Ft.fromDom(ns);if(un.push(Sr),Fe(Sr)===!0)break;kt=ns}return un},Jn=q=>{const ue=Fe=>E(Fe,kt=>!On(q,kt));return $o(q).map(ao).map(ue).getOr([])},ao=q=>Se(q.dom.childNodes,Ft.fromDom),kn=q=>xe(q)&&Wt(q.dom.host),co=ln(Element.prototype.attachShadow)&&ln(Node.prototype.getRootNode),Zo=ft(co),Jo=co?q=>Ft.fromDom(q.dom.getRootNode()):Un,as=q=>{const ue=Jo(q);return kn(ue)?at.some(ue):at.none()},xo=q=>Ft.fromDom(q.dom.host),wr=q=>{if(Zo()&&Wt(q.target)){const ue=Ft.fromDom(q.target);if(Ye(ue)&&xt(ue)&&q.composed&&q.composedPath){const Fe=q.composedPath();if(Fe)return uo(Fe)}}return at.from(q.target)},xt=q=>Wt(q.dom.shadowRoot),Oo=q=>{const ue=We(q)?q.dom.parentNode:q.dom;if(ue==null||ue.ownerDocument===null)return!1;const Fe=ue.ownerDocument;return as(Ft.fromDom(ue)).fold(()=>Fe.body.contains(ue),W(Oo,xo))},Js=q=>{const ue=q.dom.body;if(ue==null)throw new Error("Body is not available yet");return Ft.fromDom(ue)},_r=(q,ue,Fe)=>{if(yn(Fe)||zo(Fe)||ot(Fe))q.setAttribute(ue,Fe+"");else throw console.error("Invalid call to Attribute.set. Key ",ue,":: Value ",Fe,":: Element ",q),new Error("Attribute value was not simple")},Pr=(q,ue,Fe)=>{_r(q.dom,ue,Fe)},qr=(q,ue)=>{const Fe=q.dom.getAttribute(ue);return Fe===null?void 0:Fe},Cs=(q,ue)=>{q.dom.removeAttribute(ue)},Jr=(q,ue,Fe)=>{if(!yn(Fe))throw console.error("Invalid call to CSS.set. Property ",ue,":: Value ",Fe,":: Element ",q),new Error("CSS value must be a string: "+Fe);it(q)&&q.style.setProperty(ue,Fe)},Hr=(q,ue)=>{const Fe=q.dom;vn(ue,(kt,un)=>{Jr(Fe,un,kt)})},fs=(q,ue)=>{const Fe=q.dom,un=window.getComputedStyle(Fe).getPropertyValue(ue);return un===""&&!Oo(q)?qn(Fe,ue):un},qn=(q,ue)=>it(q)?q.style.getPropertyValue(ue):"",cr=(q,ue,Fe,kt,un,ns,Sr)=>({target:q,x:ue,y:Fe,stop:kt,prevent:un,kill:ns,raw:Sr}),Ae=q=>{const ue=Ft.fromDom(wr(q).getOr(q.target)),Fe=()=>q.stopPropagation(),kt=()=>q.preventDefault(),un=Ot(kt,Fe);return cr(ue,q.clientX,q.clientY,Fe,kt,un,q)},Xe=(q,ue)=>Fe=>{q(Fe)&&ue(Ae(Fe))},Yt=(q,ue,Fe,kt,un)=>{const ns=Xe(Fe,kt);return q.dom.addEventListener(ue,ns,un),{unbind:Fo(po,q,ue,ns,un)}},xn=(q,ue,Fe,kt)=>Yt(q,ue,Fe,kt,!1),po=(q,ue,Fe,kt)=>{q.dom.removeEventListener(ue,Fe,kt)},ss=H,fr=(q,ue,Fe)=>xn(q,ue,ss,Fe),Qs=q=>{let ue=!1,Fe;return(...kt)=>(ue||(ue=!0,Fe=q.apply(null,kt)),Fe)},er=(q,ue,Fe,kt)=>{const un=q.isiOS()&&/ipad/i.test(Fe)===!0,ns=q.isiOS()&&!un,Sr=q.isiOS()||q.isAndroid(),Ca=Sr||kt("(pointer:coarse)"),cs=un||!ns&&Sr&&kt("(min-device-width:768px)"),Gr=ns||Sr&&!cs,Vr=ue.isSafari()&&q.isiOS()&&/safari/i.test(Fe)===!1,ia=!Gr&&!cs&&!Vr;return{isiPad:ft(un),isiPhone:ft(ns),isTablet:ft(cs),isPhone:ft(Gr),isTouch:ft(Ca),isAndroid:q.isAndroid,isiOS:q.isiOS,isWebView:ft(Vr),isDesktop:ft(ia)}},ie=(q,ue)=>{for(let Fe=0;Fe<q.length;Fe++){const kt=q[Fe];if(kt.test(ue))return kt}},le=(q,ue)=>{const Fe=ie(q,ue);if(!Fe)return{major:0,minor:0};const kt=un=>Number(ue.replace(Fe,"$"+un));return zn(kt(1),kt(2))},Ge=(q,ue)=>{const Fe=String(ue).toLowerCase();return q.length===0?ct():le(q,Fe)},ct=()=>zn(0,0),zn=(q,ue)=>({major:q,minor:ue}),oo={nu:zn,detect:Ge,unknown:ct},vo=(q,ue)=>Yo(ue.brands,Fe=>{const kt=Fe.brand.toLowerCase();return rt(q,un=>{var ns;return kt===((ns=un.brand)===null||ns===void 0?void 0:ns.toLowerCase())}).map(un=>({current:un.name,version:oo.nu(parseInt(Fe.version,10),0)}))}),tr=(q,ue)=>{const Fe=String(ue).toLowerCase();return rt(q,kt=>kt.search(Fe))},ke=(q,ue)=>tr(q,ue).map(Fe=>{const kt=oo.detect(Fe.versionRegexes,ue);return{current:Fe.name,version:kt}}),ko=(q,ue)=>tr(q,ue).map(Fe=>{const kt=oo.detect(Fe.versionRegexes,ue);return{current:Fe.name,version:kt}}),fe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ge=q=>ue=>Re(ue,q),yt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:q=>Re(q,"edge/")&&Re(q,"chrome")&&Re(q,"safari")&&Re(q,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fe],search:q=>Re(q,"chrome")&&!Re(q,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:q=>Re(q,"msie")||Re(q,"trident")},{name:"Opera",versionRegexes:[fe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ge("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ge("firefox")},{name:"Safari",versionRegexes:[fe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:q=>(Re(q,"safari")||Re(q,"mobile/"))&&Re(q,"applewebkit")}],Et=[{name:"Windows",search:ge("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:q=>Re(q,"iphone")||Re(q,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ge("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ge("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ge("linux"),versionRegexes:[]},{name:"Solaris",search:ge("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ge("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ge("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],nn={browsers:ft(yt),oses:ft(Et)},Gn="Edge",Rn="Chromium",Mn="IE",$n="Opera",so="Firefox",es="Safari",Us=()=>Ra({current:void 0,version:oo.unknown()}),Ra=q=>{const ue=q.current,Fe=q.version,kt=un=>()=>ue===un;return{current:ue,version:Fe,isEdge:kt(Gn),isChromium:kt(Rn),isIE:kt(Mn),isOpera:kt($n),isFirefox:kt(so),isSafari:kt(es)}},Ha={unknown:Us,nu:Ra,edge:ft(Gn),chromium:ft(Rn),ie:ft(Mn),opera:ft($n),firefox:ft(so),safari:ft(es)},ic="Windows",wo="iOS",ms="Android",Ws="Linux",Qr="macOS",ra="Solaris",ea="FreeBSD",Ps="ChromeOS",Fu=()=>Mi({current:void 0,version:oo.unknown()}),Mi=q=>{const ue=q.current,Fe=q.version,kt=un=>()=>ue===un;return{current:ue,version:Fe,isWindows:kt(ic),isiOS:kt(wo),isAndroid:kt(ms),isMacOS:kt(Qr),isLinux:kt(Ws),isSolaris:kt(ra),isFreeBSD:kt(ea),isChromeOS:kt(Ps)}},zs={unknown:Fu,nu:Mi,windows:ft(ic),ios:ft(wo),android:ft(ms),linux:ft(Ws),macos:ft(Qr),solaris:ft(ra),freebsd:ft(ea),chromeos:ft(Ps)},ma={detect:(q,ue,Fe)=>{const kt=nn.browsers(),un=nn.oses(),ns=ue.bind(cs=>vo(kt,cs)).orThunk(()=>ke(kt,q)).fold(Ha.unknown,Ha.nu),Sr=ko(un,q).fold(zs.unknown,zs.nu),Ca=er(Sr,ns,q,Fe);return{browser:ns,os:Sr,deviceType:Ca}}},Br=q=>window.matchMedia(q).matches;let pi=Qs(()=>ma.detect(navigator.userAgent,at.from(navigator.userAgentData),Br));const Dc=()=>pi(),aa=(q,ue)=>({left:q,top:ue,translate:(kt,un)=>aa(q+kt,ue+un)}),Uc=aa,zc=q=>{const ue=q!==void 0?q.dom:document,Fe=ue.body.scrollLeft||ue.documentElement.scrollLeft,kt=ue.body.scrollTop||ue.documentElement.scrollTop;return Uc(Fe,kt)},Yi=q=>{const ue=q===void 0?window:q;return Dc().browser.isFirefox()?at.none():at.from(ue.visualViewport)},Ni=(q,ue,Fe,kt)=>({x:q,y:ue,width:Fe,height:kt,right:q+Fe,bottom:ue+kt}),ti=q=>{const ue=q===void 0?window:q,Fe=ue.document,kt=zc(Ft.fromDom(Fe));return Yi(ue).fold(()=>{const un=ue.document.documentElement,ns=un.clientWidth,Sr=un.clientHeight;return Ni(kt.left,kt.top,ns,Sr)},un=>Ni(Math.max(un.pageLeft,kt.left),Math.max(un.pageTop,kt.top),un.width,un.height))},Va=(q,ue,Fe)=>Yi(Fe).map(kt=>{const un=ns=>ue(Ae(ns));return kt.addEventListener(q,un),{unbind:()=>kt.removeEventListener(q,un)}}).getOrThunk(()=>({unbind:Rt}));var Wc=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),hi=tinymce.util.Tools.resolve("tinymce.Env");const Rc=(q,ue)=>{q.dispatch("FullscreenStateChanged",{state:ue}),q.dispatch("ResizeEditor")},gl=q=>ue=>ue.options.get(q),Z=q=>{const ue=q.options.register;ue("fullscreen_native",{processor:"boolean",default:!1})},pe=gl("fullscreen_native"),Oe=q=>{const ue=Ft.fromDom(q.getElement());return as(ue).map(xo).getOrThunk(()=>Js(Nn(ue)))},qe=q=>q.fullscreenElement!==void 0?q.fullscreenElement:q.msFullscreenElement!==void 0?q.msFullscreenElement:q.webkitFullscreenElement!==void 0?q.webkitFullscreenElement:null,Pt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",io=q=>{const ue=q.dom;ue.requestFullscreen?ue.requestFullscreen():ue.msRequestFullscreen?ue.msRequestFullscreen():ue.webkitRequestFullScreen&&ue.webkitRequestFullScreen()},Bs=q=>{const ue=q.dom;ue.exitFullscreen?ue.exitFullscreen():ue.msExitFullscreen?ue.msExitFullscreen():ue.webkitCancelFullScreen&&ue.webkitCancelFullScreen()},js=q=>q.dom===qe(Nn(q).dom),Ls=(q,ue,Fe)=>E(to(q,Fe),ue),mr=(q,ue)=>E(Jn(q),ue),gs=q=>Zn(q),Cr=(q,ue,Fe)=>Ls(q,kt=>Le(kt,ue),Fe),ni=(q,ue)=>mr(q,Fe=>Le(Fe,ue)),bi="data-ephox-mobile-fullscreen-style",pn="display:none!important;",$u="position:absolute!important;",yr="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",P="background-color:rgb(255,255,255)!important;",Y=hi.os.isAndroid(),re=q=>{const ue=fs(q,"background-color");return ue!==void 0&&ue!==""?"background-color:"+ue+"!important":P},Ke=(q,ue,Fe)=>{const kt=Gr=>ni(Gr,"*:not(.tox-silver-sink)"),un=Gr=>Vr=>{const ia=qr(Vr,"style"),Qa=ia===void 0?"no-styles":ia.trim();Qa!==Gr&&(Pr(Vr,bi,Qa),Hr(Vr,q.parseStyle(Gr)))},ns=Cr(ue,"*"),Sr=tn(ns,kt),Ca=re(Fe);De(Sr,un(pn)),De(ns,un($u+yr+Ca)),un((Y===!0?"":$u)+yr+Ca)(ue)},on=q=>{const ue=gs("["+bi+"]");De(ue,Fe=>{const kt=qr(Fe,bi);kt&&kt!=="no-styles"?Hr(Fe,q.parseStyle(kt)):Cs(Fe,"style"),Cs(Fe,bi)})},qo=Wc.DOM,Dn=()=>ti(window),gr=q=>window.scrollTo(q.x,q.y),Dt=Yi().fold(()=>({bind:Rt,unbind:Rt}),q=>{const ue=$e(),Fe=Jt(),kt=Jt(),un=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ns=()=>{window.requestAnimationFrame(()=>{ue.on(Gr=>Hr(Gr,{top:q.offsetTop+"px",left:q.offsetLeft+"px",height:q.height+"px",width:q.width+"px"}))})},Sr=ce(()=>{un(),ns()},50);return{bind:Gr=>{ue.set(Gr),Sr.throttle(),Fe.set(Va("resize",Sr.throttle)),kt.set(Va("scroll",Sr.throttle))},unbind:()=>{ue.on(()=>{Fe.clear(),kt.clear()}),ue.clear()}}}),Zs=(q,ue)=>{const Fe=document.body,kt=document.documentElement,un=q.getContainer(),ns=Ft.fromDom(un),Sr=Oe(q),Ca=ue.get(),cs=Ft.fromDom(q.getBody()),Gr=hi.deviceType.isTouch(),Vr=un.style,ia=q.iframeElement,Qa=ia==null?void 0:ia.style,pl=ir=>{ir(Fe,"tox-fullscreen"),ir(kt,"tox-fullscreen"),ir(un,"tox-fullscreen"),as(ns).map(la=>xo(la).dom).each(la=>{ir(la,"tox-fullscreen"),ir(la,"tox-shadowhost")})},qs=()=>{Gr&&on(q.dom),pl(qo.removeClass),Dt.unbind(),at.from(ue.get()).each(ir=>ir.fullscreenChangeHandler.unbind())};if(Ca)Ca.fullscreenChangeHandler.unbind(),pe(q)&&js(Sr)&&Bs(Nn(Sr)),Qa.width=Ca.iframeWidth,Qa.height=Ca.iframeHeight,Vr.width=Ca.containerWidth,Vr.height=Ca.containerHeight,Vr.top=Ca.containerTop,Vr.left=Ca.containerLeft,qs(),gr(Ca.scrollPos),ue.set(null),Rc(q,!1),q.off("remove",qs);else{const ir=fr(Nn(Sr),Pt(),ep=>{pe(q)&&!js(Sr)&&ue.get()!==null&&Zs(q,ue)}),la={scrollPos:Dn(),containerWidth:Vr.width,containerHeight:Vr.height,containerTop:Vr.top,containerLeft:Vr.left,iframeWidth:Qa.width,iframeHeight:Qa.height,fullscreenChangeHandler:ir};Gr&&Ke(q.dom,ns,cs),Qa.width=Qa.height="100%",Vr.width=Vr.height="",pl(qo.addClass),Dt.bind(ns),q.on("remove",qs),ue.set(la),pe(q)&&io(Sr),Rc(q,!0)}},Ja=(q,ue)=>{q.addCommand("mceFullScreen",()=>{Zs(q,ue)})},zr=(q,ue)=>Fe=>{Fe.setActive(ue.get()!==null);const kt=un=>Fe.setActive(un.state);return q.on("FullscreenStateChanged",kt),()=>q.off("FullscreenStateChanged",kt)},ca=(q,ue)=>{const Fe=()=>q.execCommand("mceFullScreen");q.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:Fe,onSetup:zr(q,ue)}),q.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:Fe,onSetup:zr(q,ue)})};var Pi=()=>{bn.add("fullscreen",q=>{const ue=Tn(null);return q.inline||(Z(q),Ja(q,ue),ca(q,ue),q.addShortcut("Meta+Shift+F","","mceFullScreen")),Ve(ue)})};Pi()})()},73276:function(Tn,bn,Ve){Ve(21386)},12287:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.de",`<h1>Grundlagen der Tastaturnavigation</h1>

<dl>
  <dt>Fokus auf Men\xFCleiste</dt>
  <dd>Windows oder Linux: ALT+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Fokus auf Symbolleiste</dt>
  <dd>Windows oder Linux: ALT+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Fokus auf Fu\xDFzeile</dt>
  <dd>Windows oder Linux: ALT+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Fokus auf kontextbezogene Symbolleiste</dt>
  <dd>Windows, Linux oder macOS: STRG+F9
</dl>

<p>Die Navigation beginnt beim ersten Benutzeroberfl\xE4chenelement, welches hervorgehoben ist. Falls sich das erste Element im Pfad der Fu\xDFzeile befindet,
  ist es unterstrichen.</p>

<h1>Zwischen Abschnitten der Benutzeroberfl\xE4che navigieren</h1>

<p>Um von einem Abschnitt der Benutzeroberfl\xE4che zum n\xE4chsten zu wechseln, dr\xFCcken Sie <strong>TAB</strong>.</p>

<p>Um von einem Abschnitt der Benutzeroberfl\xE4che zum vorherigen zu wechseln, dr\xFCcken Sie <strong>UMSCHALT+TAB</strong>.</p>

<p>Die Abschnitte der Benutzeroberfl\xE4che haben folgende <strong>TAB</strong>-Reihenfolge:

<ol>
  <li>Men\xFCleiste</li>
  <li>Einzelne Gruppen der Symbolleiste</li>
  <li>Randleiste</li>
  <li>Elementpfad in der Fu\xDFzeile</li>
  <li>Umschaltfl\xE4che \u201EW\xF6rter z\xE4hlen\u201C in der Fu\xDFzeile</li>
  <li>Branding-Link in der Fu\xDFzeile</li>
  <li>Editor-Ziehpunkt zur Gr\xF6\xDFen\xE4nderung in der Fu\xDFzeile</li>
</ol>

<p>Falls ein Abschnitt der Benutzeroberfl\xE4chen nicht vorhanden ist, wird er \xFCbersprungen.</p>

<p>Wenn in der Fu\xDFzeile die Tastaturnavigation fokussiert ist und keine Randleiste angezeigt wird, wechselt der Fokus durch Dr\xFCcken von <strong>UMSCHALT+TAB</strong>
  zur ersten Gruppe der Symbolleiste, nicht zur letzten.

<h1>Innerhalb von Abschnitten der Benutzeroberfl\xE4che navigieren</h1>

<p>Um von einem Element der Benutzeroberfl\xE4che zum n\xE4chsten zu wechseln, dr\xFCcken Sie die entsprechende <strong>Pfeiltaste</strong>.</p>

<p>Die Pfeiltasten <strong>Links</strong> und <strong>Rechts</strong></p>

<ul>
  <li>wechseln zwischen Men\xFCs in der Men\xFCleiste.</li>
  <li>\xF6ffnen das Untermen\xFC eines Men\xFCs.</li>
  <li>wechseln zwischen Schaltfl\xE4chen in einer Gruppe der Symbolleiste.</li>
  <li>wechseln zwischen Elementen im Elementpfad der Fu\xDFzeile.</li>
</ul>

<p>Die Pfeiltasten <strong>Abw\xE4rts</strong> und <strong>Aufw\xE4rts</strong>

<ul>
  <li>wechseln zwischen Men\xFCelementen in einem Men\xFC.</li>
  <li>wechseln zwischen Elementen in einem Popupmen\xFC der Symbolleiste.</li>
</ul>

<p>Die <strong>Pfeiltasten</strong> rotieren innerhalb des fokussierten Abschnitts der Benutzeroberfl\xE4che.</p>

<p>Um ein ge\xF6ffnetes Men\xFC, ein ge\xF6ffnetes Untermen\xFC oder ein ge\xF6ffnetes Popupmen\xFC zu schlie\xDFen, dr\xFCcken Sie die <strong>ESC</strong>-Taste.

<p>Wenn sich der aktuelle Fokus ganz oben in einem bestimmten Abschnitt der Benutzeroberfl\xE4che befindet, wird durch Dr\xFCcken der <strong>ESC</strong>-Taste auch
  die Tastaturnavigation beendet.</p>

<h1>Ein Men\xFCelement oder eine Symbolleistenschaltfl\xE4che ausf\xFChren</h1>

<p>Wenn das gew\xFCnschte Men\xFCelement oder die gew\xFCnschte Symbolleistenschaltfl\xE4che hervorgehoben ist, dr\xFCcken Sie <strong>Zur\xFCck</strong>, <strong>Eingabe</strong>
  oder die <strong>Leertaste</strong>, um das Element auszuf\xFChren.

<h1>In Dialogfeldern ohne Registerkarten navigieren</h1>

<p>In Dialogfeldern ohne Registerkarten ist beim \xD6ffnen eines Dialogfelds die erste interaktive Komponente fokussiert.</p>

<p>Navigieren Sie zwischen den interaktiven Komponenten eines Dialogfelds, indem Sie <strong>TAB</strong> oder <strong>UMSCHALT+TAB</strong> dr\xFCcken.</p>

<h1>In Dialogfeldern mit Registerkarten navigieren</h1>

<p>In Dialogfeldern mit Registerkarten ist beim \xD6ffnen eines Dialogfelds die erste Schaltfl\xE4che eines Registerkartenmen\xFCs fokussiert.</p>

<p>Navigieren Sie zwischen den interaktiven Komponenten auf dieser Registerkarte des Dialogfelds, indem Sie <strong>TAB</strong> oder
  <strong>UMSCHALT+TAB</strong> dr\xFCcken.</p>

<p>Wechseln Sie zu einer anderen Registerkarte des Dialogfelds, indem Sie den Fokus auf das Registerkartenmen\xFC legen und dann die entsprechende <strong>Pfeiltaste</strong>
  dr\xFCcken, um durch die verf\xFCgbaren Registerkarten zu rotieren.</p>
`)},76299:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer\u2019s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.

<p>If the current focus is at the \u2018top\u2019 of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`)},45288:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.zh_CN",`<h1>\u5F00\u59CB\u952E\u76D8\u5BFC\u822A</h1>

<dl>
  <dt>\u805A\u7126\u4E8E\u83DC\u5355\u680F</dt>
  <dd>Windows \u6216 Linux\uFF1AAlt+F9</dd>
  <dd>macOS\uFF1A&#x2325;F9</dd>
  <dt>\u805A\u7126\u4E8E\u5DE5\u5177\u680F</dt>
  <dd>Windows \u6216 Linux\uFF1AAlt+F10</dd>
  <dd>macOS\uFF1A&#x2325;F10</dd>
  <dt>\u805A\u7126\u4E8E\u9875\u811A</dt>
  <dd>Windows \u6216 Linux\uFF1AAlt+F11</dd>
  <dd>macOS\uFF1A&#x2325;F11</dd>
  <dt>\u805A\u7126\u4E8E\u4E0A\u4E0B\u6587\u5DE5\u5177\u680F</dt>
  <dd>Windows\u3001Linux \u6216 macOS\uFF1ACtrl+F9
</dl>

<p>\u5BFC\u822A\u5C06\u5728\u7B2C\u4E00\u4E2A UI \u9879\u4E0A\u5F00\u59CB\uFF0C\u5176\u4E2D\u7A81\u51FA\u663E\u793A\u8BE5\u9879\uFF0C\u6216\u8005\u5BF9\u4E8E\u9875\u811A\u5143\u7D20\u8DEF\u5F84\u4E2D\u7684\u7B2C\u4E00\u9879\uFF0C\u5C06\u4E3A\u5176\u6DFB\u52A0\u4E0B\u5212\u7EBF\u3002</p>

<h1>\u5728 UI \u90E8\u5206\u4E4B\u95F4\u5BFC\u822A</h1>

<p>\u8981\u4ECE\u4E00\u4E2A UI \u90E8\u5206\u79FB\u81F3\u4E0B\u4E00\u4E2A\uFF0C\u8BF7\u6309 <strong>Tab</strong>\u3002</p>

<p>\u8981\u4ECE\u4E00\u4E2A UI \u90E8\u5206\u79FB\u81F3\u4E0A\u4E00\u4E2A\uFF0C\u8BF7\u6309 <strong>Shift+Tab</strong>\u3002</p>

<p>\u8FD9\u4E9B UI \u90E8\u5206\u7684 <strong>Tab</strong> \u987A\u5E8F\u4E3A\uFF1A

<ol>
  <li>\u83DC\u5355\u680F</li>
  <li>\u6BCF\u4E2A\u5DE5\u5177\u680F\u7EC4</li>
  <li>\u8FB9\u680F</li>
  <li>\u9875\u811A\u4E2D\u7684\u5143\u7D20\u8DEF\u5F84</li>
  <li>\u9875\u811A\u4E2D\u7684\u5B57\u6570\u5207\u6362\u6309\u94AE</li>
  <li>\u9875\u811A\u4E2D\u7684\u54C1\u724C\u94FE\u63A5</li>
  <li>\u9875\u811A\u4E2D\u7684\u7F16\u8F91\u5668\u8C03\u6574\u5927\u5C0F\u56FE\u67C4</li>
</ol>

<p>\u5982\u679C\u4E0D\u5B58\u5728\u67D0\u4E2A UI \u90E8\u5206\uFF0C\u5219\u8DF3\u8FC7\u5B83\u3002</p>

<p>\u5982\u679C\u952E\u76D8\u5BFC\u822A\u7126\u70B9\u5728\u9875\u811A\uFF0C\u5E76\u4E14\u6CA1\u6709\u53EF\u89C1\u7684\u8FB9\u680F\uFF0C\u5219\u6309 <strong>Shift+Tab</strong> \u5C06\u7126\u70B9\u79FB\u81F3\u7B2C\u4E00\u4E2A\u5DE5\u5177\u680F\u7EC4\u800C\u975E\u6700\u540E\u4E00\u4E2A\u3002

<h1>\u5728 UI \u90E8\u5206\u5185\u5BFC\u822A</h1>

<p>\u8981\u4ECE\u4E00\u4E2A UI \u5143\u7D20\u79FB\u81F3\u4E0B\u4E00\u4E2A\uFF0C\u8BF7\u6309\u76F8\u5E94\u7684<strong>\u7BAD\u5934</strong>\u952E\u3002</p>

<p><strong>\u5DE6</strong>\u548C<strong>\u53F3</strong>\u7BAD\u5934\u952E</p>

<ul>
  <li>\u5728\u83DC\u5355\u680F\u4E2D\u7684\u83DC\u5355\u4E4B\u95F4\u79FB\u52A8\u3002</li>
  <li>\u6253\u5F00\u83DC\u5355\u4E2D\u7684\u5B50\u83DC\u5355\u3002</li>
  <li>\u5728\u5DE5\u5177\u680F\u7EC4\u4E2D\u7684\u6309\u94AE\u4E4B\u95F4\u79FB\u52A8\u3002</li>
  <li>\u5728\u9875\u811A\u7684\u5143\u7D20\u8DEF\u5F84\u4E2D\u7684\u5404\u9879\u4E4B\u95F4\u79FB\u52A8\u3002</li>
</ul>

<p><strong>\u4E0B</strong>\u548C<strong>\u4E0A</strong>\u7BAD\u5934\u952E

<ul>
  <li>\u5728\u83DC\u5355\u4E2D\u7684\u83DC\u5355\u9879\u4E4B\u95F4\u79FB\u52A8\u3002</li>
  <li>\u5728\u5DE5\u5177\u680F\u5F39\u51FA\u83DC\u5355\u4E2D\u7684\u5404\u9879\u4E4B\u95F4\u79FB\u52A8\u3002</li>
</ul>

<p><strong>\u7BAD\u5934</strong>\u952E\u5728\u5177\u6709\u7126\u70B9\u7684 UI \u90E8\u5206\u5185\u5FAA\u73AF\u3002</p>

<p>\u8981\u5173\u95ED\u6253\u5F00\u7684\u83DC\u5355\u3001\u6253\u5F00\u7684\u5B50\u83DC\u5355\u6216\u6253\u5F00\u7684\u5F39\u51FA\u83DC\u5355\uFF0C\u8BF7\u6309 <strong>Esc</strong> \u952E\u3002

<p>\u5982\u679C\u5F53\u524D\u7684\u7126\u70B9\u5728\u7279\u5B9A UI \u90E8\u5206\u7684\u201C\u9876\u90E8\u201D\uFF0C\u5219\u6309 <strong>Esc</strong> \u952E\u8FD8\u5C06\u5B8C\u5168\u9000\u51FA\u952E\u76D8\u5BFC\u822A\u3002</p>

<h1>\u6267\u884C\u83DC\u5355\u9879\u6216\u5DE5\u5177\u680F\u6309\u94AE</h1>

<p>\u5F53\u7A81\u51FA\u663E\u793A\u6240\u9700\u7684\u83DC\u5355\u9879\u6216\u5DE5\u5177\u680F\u6309\u94AE\u65F6\uFF0C\u6309 <strong>Return</strong>\u3001<strong>Enter</strong> \u6216<strong>\u7A7A\u683C</strong>\u4EE5\u6267\u884C\u8BE5\u9879\u3002

<h1>\u5728\u975E\u6807\u7B7E\u9875\u5F0F\u5BF9\u8BDD\u6846\u4E2D\u5BFC\u822A</h1>

<p>\u5728\u975E\u6807\u7B7E\u9875\u5F0F\u5BF9\u8BDD\u6846\u4E2D\uFF0C\u5F53\u5BF9\u8BDD\u6846\u6253\u5F00\u65F6\uFF0C\u7B2C\u4E00\u4E2A\u4EA4\u4E92\u7EC4\u4EF6\u83B7\u5F97\u7126\u70B9\u3002</p>

<p>\u901A\u8FC7\u6309 <strong>Tab</strong> \u6216 <strong>Shift+Tab</strong>\uFF0C\u5728\u4EA4\u4E92\u5BF9\u8BDD\u6846\u7EC4\u4EF6\u4E4B\u95F4\u5BFC\u822A\u3002</p>

<h1>\u5728\u6807\u7B7E\u9875\u5F0F\u5BF9\u8BDD\u6846\u4E2D\u5BFC\u822A</h1>

<p>\u5728\u6807\u7B7E\u9875\u5F0F\u5BF9\u8BDD\u6846\u4E2D\uFF0C\u5F53\u5BF9\u8BDD\u6846\u6253\u5F00\u65F6\uFF0C\u6807\u7B7E\u9875\u83DC\u5355\u4E2D\u7684\u7B2C\u4E00\u4E2A\u6309\u94AE\u83B7\u5F97\u7126\u70B9\u3002</p>

<p>\u901A\u8FC7\u6309 <strong>Tab</strong> \u6216 <strong>Shift+Tab</strong>\uFF0C\u5728\u6B64\u5BF9\u8BDD\u6846\u7684\u4EA4\u4E92\u7EC4\u4EF6\u4E4B\u95F4\u5BFC\u822A\u3002</p>

<p>\u901A\u8FC7\u5C06\u7126\u70B9\u79FB\u81F3\u53E6\u4E00\u5BF9\u8BDD\u6846\u6807\u7B7E\u9875\u7684\u83DC\u5355\uFF0C\u7136\u540E\u6309\u76F8\u5E94\u7684<strong>\u7BAD\u5934</strong>\u952E\u4EE5\u5728\u53EF\u7528\u7684\u6807\u7B7E\u9875\u95F4\u5FAA\u73AF\uFF0C\u4ECE\u800C\u5207\u6362\u5230\u8BE5\u5BF9\u8BDD\u6846\u6807\u7B7E\u9875\u3002</p>
`)},21386:function(){(function(){"use strict";const Tn=We=>{let J=We;return{get:()=>J,set:Mt=>{J=Mt}}};var bn=tinymce.util.Tools.resolve("tinymce.PluginManager");let Ve=0;const Pn=We=>{const xe=new Date().getTime(),Le=Math.floor(Math.random()*1e9);return Ve++,We+"_"+Le+Ve+String(xe)},Ao=We=>({addTab:xe=>{var Le;const Mt=(Le=xe.name)!==null&&Le!==void 0?Le:Pn("tab-name"),Zn=We.get();Zn[Mt]=xe,We.set(Zn)}}),So=(We,J)=>{We.addCommand("mceHelp",J)},Xn=We=>J=>J.options.get(We),Qe=We=>{const J=We.options.register;J("help_tabs",{processor:"array"})},yn=Xn("help_tabs"),An=Xn("forced_plugins"),Ln=(We,J)=>{We.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:J}),We.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:J})},zo=(We,J,xe)=>{var Le;return xe(We,J.prototype)?!0:((Le=We.constructor)===null||Le===void 0?void 0:Le.name)===J.name},dn=We=>{const J=typeof We;return We===null?"null":J==="object"&&Array.isArray(We)?"array":J==="object"&&zo(We,String,(xe,Le)=>Le.isPrototypeOf(xe))?"string":J},en=We=>J=>dn(J)===We,Wt=We=>J=>typeof J===We,ln=We=>J=>We===J,ot=en("string"),Rt=ln(void 0),Ot=We=>We==null,W=We=>!Ot(We),ft=Wt("function"),ht=(We=>()=>We)(!1);class H{constructor(J,xe){this.tag=J,this.value=xe}static some(J){return new H(!0,J)}static none(){return H.singletonNone}fold(J,xe){return this.tag?xe(this.value):J()}isSome(){return this.tag}isNone(){return!this.tag}map(J){return this.tag?H.some(J(this.value)):H.none()}bind(J){return this.tag?J(this.value):H.none()}exists(J){return this.tag&&J(this.value)}forall(J){return!this.tag||J(this.value)}filter(J){return!this.tag||J(this.value)?this:H.none()}getOr(J){return this.tag?this.value:J}or(J){return this.tag?this:J}getOrThunk(J){return this.tag?this.value:J()}orThunk(J){return this.tag?this:J()}getOrDie(J){if(this.tag)return this.value;throw new Error(J!=null?J:"Called getOrDie on None")}static from(J){return W(J)?H.some(J):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(J){this.tag&&J(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const at=Array.prototype.slice,Sn=Array.prototype.indexOf,Jt=(We,J)=>Sn.call(We,J),$e=(We,J)=>Jt(We,J)>-1,ce=(We,J)=>{const xe=We.length,Le=new Array(xe);for(let Mt=0;Mt<xe;Mt++){const Zn=We[Mt];Le[Mt]=J(Zn,Mt)}return Le},Ro=(We,J)=>{const xe=[];for(let Le=0,Mt=We.length;Le<Mt;Le++){const Zn=We[Le];J(Zn,Le)&&xe.push(Zn)}return xe},Se=(We,J,xe)=>{for(let Le=0,Mt=We.length;Le<Mt;Le++){const Zn=We[Le];if(J(Zn,Le))return H.some(Zn);if(xe(Zn,Le))break}return H.none()},De=(We,J)=>Se(We,J,ht),E=(We,J)=>{const xe=at.call(We,0);return xe.sort(J),xe},gn=Object.keys,rt=Object.hasOwnProperty,Hn=(We,J)=>tn(We,J)?H.from(We[J]):H.none(),tn=(We,J)=>rt.call(We,J),et=We=>{const J=[],xe=Le=>{J.push(Le)};for(let Le=0;Le<We.length;Le++)We[Le].each(xe);return J};var uo=tinymce.util.Tools.resolve("tinymce.Resource"),Yo=tinymce.util.Tools.resolve("tinymce.util.I18n");const Ct=(We,J)=>uo.load(`tinymce.html-i18n.help-keynav.${J}`,`${We}/js/i18n/keynav/${J}.js`),vn=We=>Ct(We,Yo.getCode()).catch(()=>Ct(We,"en")),Re=(We,J)=>{We.on("init",()=>{vn(J)})},it=We=>f_(this,null,function*(){return{name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:yield vn(We)}]}});var F=tinymce.util.Tools.resolve("tinymce.Env");const Xo=We=>{const J=F.os.isMacOS()||F.os.isiOS(),Mt=J?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},Zn=We.split("+"),On=ce(Zn,Nn=>{const Un=Nn.toLowerCase().trim();return tn(Mt,Un)?Mt[Un]:Nn});return J?On.join("").replace(/\s/,""):On.join("+")},no=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],lt=()=>{const We=ce(no,xe=>{const Le=ce(xe.shortcuts,Xo).join(" or ");return[xe.action,Le]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:We}]}},bt=ce([{key:"accordion",name:"Accordion"},{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"advtemplate",name:"Advanced Templates",type:"premium",slug:"advanced-templates"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],We=>pt(te({},We),{type:We.type||"opensource",slug:We.slug||We.key})),Ft=We=>{const J=()=>{const $o=Ro(bt,({type:ao})=>ao==="premium"),to=E(ce($o,ao=>ao.name),(ao,kn)=>ao.localeCompare(kn)),Jn=ce(to,ao=>`<li>${ao}</li>`).join("");return"<div><p><b>"+Yo.translate("Premium plugins:")+"</b></p><ul>"+Jn+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+Yo.translate("Learn more...")+"</a></li></ul></div>"},xe=$o=>`<a data-alloy-tabstop="true" tabindex="-1" href="${$o.url}" target="_blank" rel="noopener">${$o.name}</a>`,Le=($o,to)=>{const Jn=$o.plugins[to].getMetadata;if(ft(Jn)){const ao=Jn();return{name:ao.name,html:xe(ao)}}else return{name:to,html:to}},Mt=($o,to)=>De(bt,Jn=>Jn.key===to).fold(()=>Le($o,to),Jn=>{const ao=Jn.type==="premium"?`${Jn.name}*`:Jn.name,kn=xe({name:ao,url:`https://www.tiny.cloud/docs/tinymce/6/${Jn.slug}/`});return{name:ao,html:kn}}),Zn=$o=>{const to=gn($o.plugins),Jn=An($o);return Rt(Jn)?to:Ro(to,ao=>!$e(Jn,ao))},On=$o=>{const to=Zn($o),Jn=E(ce(to,Jo=>Mt($o,Jo)),(Jo,as)=>Jo.name.localeCompare(as.name)),ao=ce(Jn,Jo=>"<li>"+Jo.html+"</li>"),kn=ao.length,co=ao.join("");return"<p><b>"+Yo.translate(["Plugins installed ({0}):",kn])+"</b></p><ul>"+co+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[($o=>$o==null?"":"<div>"+On($o)+"</div>")(We),J()].join("")}]}};var ee=tinymce.util.Tools.resolve("tinymce.EditorManager");const he=()=>{const xe='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">TinyMCE '+((Mt,Zn)=>Mt.indexOf("@")===0?"X.X.X":Mt+"."+Zn)(ee.majorVersion,ee.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+Yo.translate(["You are using {0}",xe])+"</p>",presets:"document"}]}},we=(We,J)=>{const xe={},Le=ce(We,Mt=>{var Zn;if(ot(Mt))return tn(J,Mt)&&(xe[Mt]=J[Mt]),Mt;{const On=(Zn=Mt.name)!==null&&Zn!==void 0?Zn:Pn("tab-name");return xe[On]=Mt,On}});return{tabs:xe,names:Le}},ae=We=>{const J=gn(We),xe=J.indexOf("versions");return xe!==-1&&(J.splice(xe,1),J.push("versions")),{tabs:We,names:J}},Ne=(We,J,xe)=>f_(this,null,function*(){const Le=lt(),Mt=yield it(xe),Zn=Ft(We),On=he(),Nn=te({[Le.name]:Le,[Mt.name]:Mt,[Zn.name]:Zn,[On.name]:On},J.get());return H.from(yn(We)).fold(()=>ae(Nn),Un=>we(Un,Nn))}),Pe=(We,J,xe)=>()=>{Ne(We,J,xe).then(({tabs:Le,names:Mt})=>{const Zn=ce(Mt,Un=>Hn(Le,Un)),Nn={type:"tabpanel",tabs:et(Zn)};We.windowManager.open({title:"Help",size:"medium",body:Nn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var Ye=()=>{bn.add("help",(We,J)=>{const xe=Tn({}),Le=Ao(xe);Qe(We);const Mt=Pe(We,xe,J);return Ln(We,Mt),So(We,Mt),We.shortcuts.add("Alt+0","Open help dialog","mceHelp"),Re(We,J),Le})};Ye()})()},32511:function(Tn,bn,Ve){Ve(3077)},3077:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=Object.getPrototypeOf,Ve=(P,Y,re)=>{var Ke;return re(P,Y.prototype)?!0:((Ke=P.constructor)===null||Ke===void 0?void 0:Ke.name)===Y.name},Pn=P=>{const Y=typeof P;return P===null?"null":Y==="object"&&Array.isArray(P)?"array":Y==="object"&&Ve(P,String,(re,Ke)=>Ke.isPrototypeOf(re))?"string":Y},Ao=P=>Y=>Pn(Y)===P,So=P=>Y=>typeof Y===P,Xn=P=>Y=>P===Y,Qe=(P,Y)=>An(P)&&Ve(P,Y,(re,Ke)=>bn(re)===Ke),yn=Ao("string"),An=Ao("object"),Ln=P=>Qe(P,Object),zo=Ao("array"),dn=Xn(null),en=So("boolean"),Wt=P=>P==null,ln=P=>!Wt(P),ot=So("function"),Rt=So("number"),Ot=(P,Y)=>{if(zo(P)){for(let re=0,Ke=P.length;re<Ke;++re)if(!Y(P[re]))return!1;return!0}return!1},W=()=>{};class ft{constructor(Y,re){this.tag=Y,this.value=re}static some(Y){return new ft(!0,Y)}static none(){return ft.singletonNone}fold(Y,re){return this.tag?re(this.value):Y()}isSome(){return this.tag}isNone(){return!this.tag}map(Y){return this.tag?ft.some(Y(this.value)):ft.none()}bind(Y){return this.tag?Y(this.value):ft.none()}exists(Y){return this.tag&&Y(this.value)}forall(Y){return!this.tag||Y(this.value)}filter(Y){return!this.tag||Y(this.value)?this:ft.none()}getOr(Y){return this.tag?this.value:Y}or(Y){return this.tag?this:Y}getOrThunk(Y){return this.tag?this.value:Y()}orThunk(Y){return this.tag?this:Y()}getOrDie(Y){if(this.tag)return this.value;throw new Error(Y!=null?Y:"Called getOrDie on None")}static from(Y){return ln(Y)?ft.some(Y):ft.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Y){this.tag&&Y(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ft.singletonNone=new ft(!1);const Fo=Object.keys,ht=Object.hasOwnProperty,H=(P,Y)=>{const re=Fo(P);for(let Ke=0,on=re.length;Ke<on;Ke++){const qo=re[Ke],Dn=P[qo];Y(Dn,qo)}},at=P=>(Y,re)=>{P[re]=Y},Sn=(P,Y,re,Ke)=>{H(P,(on,qo)=>{(Y(on,qo)?re:Ke)(on,qo)})},Jt=(P,Y)=>{const re={};return Sn(P,Y,at(re),W),re},$e=(P,Y)=>ht.call(P,Y),ce=(P,Y)=>$e(P,Y)&&P[Y]!==void 0&&P[Y]!==null,Ro=Array.prototype.push,Se=P=>{const Y=[];for(let re=0,Ke=P.length;re<Ke;++re){if(!zo(P[re]))throw new Error("Arr.flatten item "+re+" was not an array, input: "+P);Ro.apply(Y,P[re])}return Y},De=(P,Y)=>Y>=0&&Y<P.length?ft.some(P[Y]):ft.none(),E=P=>De(P,0),gn=(P,Y)=>{for(let re=0;re<P.length;re++){const Ke=Y(P[re],re);if(Ke.isSome())return Ke}return ft.none()};typeof window!="undefined"||Function("return this;")();const rt=(P,Y,re)=>{if(yn(re)||en(re)||Rt(re))P.setAttribute(Y,re+"");else throw console.error("Invalid call to Attribute.set. Key ",Y,":: Value ",re,":: Element ",P),new Error("Attribute value was not simple")},Hn=(P,Y,re)=>{rt(P.dom,Y,re)},tn=(P,Y)=>{P.dom.removeAttribute(Y)},et=(P,Y)=>{const Ke=(Y||document).createElement("div");if(Ke.innerHTML=P,!Ke.hasChildNodes()||Ke.childNodes.length>1){const on="HTML does not have a single root node";throw console.error(on,P),new Error(on)}return Ct(Ke.childNodes[0])},uo=(P,Y)=>{const Ke=(Y||document).createElement(P);return Ct(Ke)},Yo=(P,Y)=>{const Ke=(Y||document).createTextNode(P);return Ct(Ke)},Ct=P=>{if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Re={fromHtml:et,fromTag:uo,fromText:Yo,fromDom:Ct,fromPoint:(P,Y,re)=>ft.from(P.dom.elementFromPoint(Y,re)).map(Ct)};var it=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),F=tinymce.util.Tools.resolve("tinymce.util.URI");const Xo=P=>P.length>0,no=P=>Y=>Y.options.get(P),lt=P=>{const Y=P.options.register;Y("image_dimensions",{processor:"boolean",default:!0}),Y("image_advtab",{processor:"boolean",default:!1}),Y("image_uploadtab",{processor:"boolean",default:!0}),Y("image_prepend_url",{processor:"string",default:""}),Y("image_class_list",{processor:"object[]"}),Y("image_description",{processor:"boolean",default:!0}),Y("image_title",{processor:"boolean",default:!1}),Y("image_caption",{processor:"boolean",default:!1}),Y("image_list",{processor:re=>{const Ke=re===!1||yn(re)||Ot(re,An)||ot(re);return Ke?{value:re,valid:Ke}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},bt=no("image_dimensions"),Ft=no("image_advtab"),ee=no("image_uploadtab"),he=no("image_prepend_url"),we=no("image_class_list"),ae=no("image_description"),Ne=no("image_title"),Pe=no("image_caption"),Ye=no("image_list"),We=no("a11y_advanced_options"),J=no("automatic_uploads"),xe=P=>Xo(P.options.get("images_upload_url")),Le=P=>ln(P.options.get("images_upload_handler")),Mt=(P,Y)=>Math.max(parseInt(P,10),parseInt(Y,10)),Zn=P=>new Promise(Y=>{const re=document.createElement("img"),Ke=qo=>{re.onload=re.onerror=null,re.parentNode&&re.parentNode.removeChild(re),Y(qo)};re.onload=()=>{const qo=Mt(re.width,re.clientWidth),Dn=Mt(re.height,re.clientHeight),gr={width:qo,height:Dn};Ke(Promise.resolve(gr))},re.onerror=()=>{Ke(Promise.reject(`Failed to get image dimensions for: ${P}`))};const on=re.style;on.visibility="hidden",on.position="fixed",on.bottom=on.left="0px",on.width=on.height="auto",document.body.appendChild(re),re.src=P}),On=P=>(P&&(P=P.replace(/px$/,"")),P),Nn=P=>(P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P),Un=P=>{if(P.margin){const Y=String(P.margin).split(" ");switch(Y.length){case 1:P["margin-top"]=P["margin-top"]||Y[0],P["margin-right"]=P["margin-right"]||Y[0],P["margin-bottom"]=P["margin-bottom"]||Y[0],P["margin-left"]=P["margin-left"]||Y[0];break;case 2:P["margin-top"]=P["margin-top"]||Y[0],P["margin-right"]=P["margin-right"]||Y[1],P["margin-bottom"]=P["margin-bottom"]||Y[0],P["margin-left"]=P["margin-left"]||Y[1];break;case 3:P["margin-top"]=P["margin-top"]||Y[0],P["margin-right"]=P["margin-right"]||Y[1],P["margin-bottom"]=P["margin-bottom"]||Y[2],P["margin-left"]=P["margin-left"]||Y[1];break;case 4:P["margin-top"]=P["margin-top"]||Y[0],P["margin-right"]=P["margin-right"]||Y[1],P["margin-bottom"]=P["margin-bottom"]||Y[2],P["margin-left"]=P["margin-left"]||Y[3]}delete P.margin}return P},$o=(P,Y)=>{const re=Ye(P);yn(re)?fetch(re).then(Ke=>{Ke.ok&&Ke.json().then(Y)}):ot(re)?re(Y):Y(re)},to=(P,Y,re)=>{const Ke=()=>{re.onload=re.onerror=null,P.selection&&(P.selection.select(re),P.nodeChanged())};re.onload=()=>{!Y.width&&!Y.height&&bt(P)&&P.dom.setAttribs(re,{width:String(re.clientWidth),height:String(re.clientHeight)}),Ke()},re.onerror=Ke},Jn=P=>new Promise((Y,re)=>{const Ke=new FileReader;Ke.onload=()=>{Y(Ke.result)},Ke.onerror=()=>{var on;re((on=Ke.error)===null||on===void 0?void 0:on.message)},Ke.readAsDataURL(P)}),ao=P=>P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder")),kn=(P,Y)=>{const re=P.options.get;return F.isDomSafe(Y,"img",{allow_html_data_urls:re("allow_html_data_urls"),allow_script_urls:re("allow_script_urls"),allow_svg_data_urls:re("allow_svg_data_urls")})},co=it.DOM,Zo=P=>P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?On(P.style.marginLeft):"",Jo=P=>P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?On(P.style.marginTop):"",as=P=>P.style.borderWidth?On(P.style.borderWidth):"",xo=(P,Y)=>{var re;return P.hasAttribute(Y)&&(re=P.getAttribute(Y))!==null&&re!==void 0?re:""},wr=P=>P.parentNode!==null&&P.parentNode.nodeName==="FIGURE",xt=(P,Y,re)=>{re===""||re===null?P.removeAttribute(Y):P.setAttribute(Y,re)},Oo=P=>{const Y=co.create("figure",{class:"image"});co.insertAfter(Y,P),Y.appendChild(P),Y.appendChild(co.create("figcaption",{contentEditable:"true"},"Caption")),Y.contentEditable="false"},Js=P=>{const Y=P.parentNode;ln(Y)&&(co.insertAfter(P,Y),co.remove(Y))},_r=P=>{wr(P)?Js(P):Oo(P)},Pr=(P,Y)=>{const re=P.getAttribute("style"),Ke=Y(re!==null?re:"");Ke.length>0?(P.setAttribute("style",Ke),P.setAttribute("data-mce-style",Ke)):P.removeAttribute("style")},qr=(P,Y)=>(re,Ke,on)=>{const qo=re.style;qo[Ke]?(qo[Ke]=Nn(on),Pr(re,Y)):xt(re,Ke,on)},Cs=(P,Y)=>P.style[Y]?On(P.style[Y]):xo(P,Y),Jr=(P,Y)=>{const re=Nn(Y);P.style.marginLeft=re,P.style.marginRight=re},Hr=(P,Y)=>{const re=Nn(Y);P.style.marginTop=re,P.style.marginBottom=re},fs=(P,Y)=>{const re=Nn(Y);P.style.borderWidth=re},qn=(P,Y)=>{P.style.borderStyle=Y},cr=P=>{var Y;return(Y=P.style.borderStyle)!==null&&Y!==void 0?Y:""},Ae=P=>ln(P)&&P.nodeName==="FIGURE",Xe=P=>P.nodeName==="IMG",Yt=P=>co.getAttrib(P,"alt").length===0&&co.getAttrib(P,"role")==="presentation",xn=P=>Yt(P)?"":xo(P,"alt"),po=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),ss=(P,Y)=>{var re;const Ke=document.createElement("img");return xt(Ke,"style",Y.style),(Zo(Ke)||Y.hspace!=="")&&Jr(Ke,Y.hspace),(Jo(Ke)||Y.vspace!=="")&&Hr(Ke,Y.vspace),(as(Ke)||Y.border!=="")&&fs(Ke,Y.border),(cr(Ke)||Y.borderStyle!=="")&&qn(Ke,Y.borderStyle),P((re=Ke.getAttribute("style"))!==null&&re!==void 0?re:"")},fr=(P,Y)=>{const re=document.createElement("img");if(ct(P,pt(te({},Y),{caption:!1}),re),ie(re,Y.alt,Y.isDecorative),Y.caption){const Ke=co.create("figure",{class:"image"});return Ke.appendChild(re),Ke.appendChild(co.create("figcaption",{contentEditable:"true"},"Caption")),Ke.contentEditable="false",Ke}else return re},Qs=(P,Y)=>({src:xo(Y,"src"),alt:xn(Y),title:xo(Y,"title"),width:Cs(Y,"width"),height:Cs(Y,"height"),class:xo(Y,"class"),style:P(xo(Y,"style")),caption:wr(Y),hspace:Zo(Y),vspace:Jo(Y),border:as(Y),borderStyle:cr(Y),isDecorative:Yt(Y)}),er=(P,Y,re,Ke,on)=>{re[Ke]!==Y[Ke]&&on(P,Ke,String(re[Ke]))},ie=(P,Y,re)=>{if(re){co.setAttrib(P,"role","presentation");const Ke=Re.fromDom(P);Hn(Ke,"alt","")}else{if(dn(Y)){const Ke=Re.fromDom(P);tn(Ke,"alt")}else{const Ke=Re.fromDom(P);Hn(Ke,"alt",Y)}co.getAttrib(P,"role")==="presentation"&&co.setAttrib(P,"role","")}},le=(P,Y,re)=>{(re.alt!==Y.alt||re.isDecorative!==Y.isDecorative)&&ie(P,re.alt,re.isDecorative)},Ge=(P,Y)=>(re,Ke,on)=>{P(re,on),Pr(re,Y)},ct=(P,Y,re)=>{const Ke=Qs(P,re);er(re,Ke,Y,"caption",(on,qo,Dn)=>_r(on)),er(re,Ke,Y,"src",xt),er(re,Ke,Y,"title",xt),er(re,Ke,Y,"width",qr("width",P)),er(re,Ke,Y,"height",qr("height",P)),er(re,Ke,Y,"class",xt),er(re,Ke,Y,"style",Ge((on,qo)=>xt(on,"style",qo),P)),er(re,Ke,Y,"hspace",Ge(Jr,P)),er(re,Ke,Y,"vspace",Ge(Hr,P)),er(re,Ke,Y,"border",Ge(fs,P)),er(re,Ke,Y,"borderStyle",Ge(qn,P)),le(re,Ke,Y)},zn=(P,Y)=>{const re=P.dom.styles.parse(Y),Ke=Un(re),on=P.dom.styles.parse(P.dom.styles.serialize(Ke));return P.dom.styles.serialize(on)},oo=P=>{const Y=P.selection.getNode(),re=P.dom.getParent(Y,"figure.image");return re?P.dom.select("img",re)[0]:Y&&(Y.nodeName!=="IMG"||ao(Y))?null:Y},vo=(P,Y)=>{var re;const Ke=P.dom,on=Jt(P.schema.getTextBlockElements(),(Dn,gr)=>!P.schema.isValidChild(gr,"figure")),qo=Ke.getParent(Y.parentNode,Dn=>ce(on,Dn.nodeName),P.getBody());return qo&&(re=Ke.split(qo,Y))!==null&&re!==void 0?re:Y},tr=P=>{const Y=oo(P);return Y?Qs(re=>zn(P,re),Y):po()},ke=(P,Y)=>{const re=fr(on=>zn(P,on),Y);P.dom.setAttrib(re,"data-mce-id","__mcenew"),P.focus(),P.selection.setContent(re.outerHTML);const Ke=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(Ke,"data-mce-id",null),Ae(Ke)){const on=vo(P,Ke);P.selection.select(on)}else P.selection.select(Ke)},ko=(P,Y)=>{P.dom.setAttrib(Y,"src",Y.getAttribute("src"))},fe=(P,Y)=>{if(Y){const re=P.dom.is(Y.parentNode,"figure.image")?Y.parentNode:Y;P.dom.remove(re),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},ge=(P,Y)=>{const re=oo(P);if(re)if(ct(Ke=>zn(P,Ke),Y,re),ko(P,re),Ae(re.parentNode)){const Ke=re.parentNode;vo(P,Ke),P.selection.select(re.parentNode)}else P.selection.select(re),to(P,Y,re)},yt=(P,Y)=>{const re=Y.src;return pt(te({},Y),{src:kn(P,re)?re:""})},Et=(P,Y)=>{const re=oo(P);if(re){const Ke=Qs(Dn=>zn(P,Dn),re),on=te(te({},Ke),Y),qo=yt(P,on);on.src?ge(P,qo):fe(P,re)}else Y.src&&ke(P,te(te({},po()),Y))},Rn=(P=>(...Y)=>{if(Y.length===0)throw new Error("Can't merge zero objects");const re={};for(let Ke=0;Ke<Y.length;Ke++){const on=Y[Ke];for(const qo in on)$e(on,qo)&&(re[qo]=P(re[qo],on[qo]))}return re})((P,Y)=>Ln(P)&&Ln(Y)?Rn(P,Y):Y);var Mn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),$n=tinymce.util.Tools.resolve("tinymce.util.Tools");const so=P=>yn(P.value)?P.value:"",es=P=>yn(P.text)?P.text:yn(P.title)?P.title:"",Us=(P,Y)=>{const re=[];return $n.each(P,Ke=>{const on=es(Ke);if(Ke.menu!==void 0){const qo=Us(Ke.menu,Y);re.push({text:on,items:qo})}else{const qo=Y(Ke);re.push({text:on,value:qo})}}),re},Ra=(P=so)=>Y=>Y?ft.from(Y).map(re=>Us(re,P)):ft.none(),Ha=P=>Ra(so)(P),ic=P=>$e(P,"items"),wo=(P,Y)=>gn(P,re=>ic(re)?wo(re.items,Y):re.value===Y?ft.some(re):ft.none()),Ws={sanitizer:Ra,sanitize:Ha,findEntry:(P,Y)=>P.bind(re=>wo(re,Y))},ra={makeTab:P=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},ea=P=>{const Y=Ws.sanitizer(Fe=>P.convertURL(Fe.value||Fe.url||"","src")),re=new Promise(Fe=>{$o(P,kt=>{Fe(Y(kt).map(un=>Se([[{text:"None",value:""}],un])))})}),Ke=Ws.sanitize(we(P)),on=Ft(P),qo=ee(P),Dn=xe(P),gr=Le(P),Dt=tr(P),Zs=ae(P),Ja=Ne(P),zr=bt(P),ca=Pe(P),Pi=We(P),q=J(P),ue=ft.some(he(P)).filter(Fe=>yn(Fe)&&Fe.length>0);return re.then(Fe=>({image:Dt,imageList:Fe,classList:Ke,hasAdvTab:on,hasUploadTab:qo,hasUploadUrl:Dn,hasUploadHandler:gr,hasDescription:Zs,hasImageTitle:Ja,hasDimensions:zr,hasImageCaption:ca,prependURL:ue,hasAccessibilityOptions:Pi,automaticUploads:q}))},Ps=P=>{const Y={name:"src",type:"urlinput",filetype:"image",label:"Source"},re=P.imageList.map(Ja=>({name:"images",type:"listbox",label:"Image list",items:Ja})),Ke={name:"alt",type:"input",label:"Alternative description",enabled:!(P.hasAccessibilityOptions&&P.image.isDecorative)},on={name:"title",type:"input",label:"Image title"},qo={name:"dimensions",type:"sizeinput"},Dn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},gr=P.classList.map(Ja=>({name:"classes",type:"listbox",label:"Class",items:Ja})),Dt={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Zs=Ja=>Ja?{type:"grid",columns:2}:{type:"panel"};return Se([[Y],re.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[Dn]:[],P.hasDescription?[Ke]:[],P.hasImageTitle?[on]:[],P.hasDimensions?[qo]:[],[pt(te({},Zs(P.classList.isSome()&&P.hasImageCaption)),{items:Se([gr.toArray(),P.hasImageCaption?[Dt]:[]])})]])},Mi={makeTab:P=>({title:"General",name:"general",items:Ps(P)}),makeItems:Ps},Ma={makeTab:P=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ma=P=>({prevImage:Ws.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}),Br=P=>({src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}),pi=(P,Y)=>({src:P.src.value,alt:(P.alt===null||P.alt.length===0)&&Y?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}),Dc=(P,Y)=>/^(?:[a-zA-Z]+:)?\/\//.test(Y)?ft.none():P.prependURL.bind(re=>Y.substring(0,re.length)!==re?ft.some(re+Y):ft.none()),aa=(P,Y)=>{const re=Y.getData();Dc(P,re.src.value).each(Ke=>{Y.setData({src:{value:Ke,meta:re.src.meta}})})},Uc=(P,Y,re)=>{P.hasDescription&&yn(re.alt)&&(Y.alt=re.alt),P.hasAccessibilityOptions&&(Y.isDecorative=re.isDecorative||Y.isDecorative||!1),P.hasImageTitle&&yn(re.title)&&(Y.title=re.title),P.hasDimensions&&(yn(re.width)&&(Y.dimensions.width=re.width),yn(re.height)&&(Y.dimensions.height=re.height)),yn(re.class)&&Ws.findEntry(P.classList,re.class).each(Ke=>{Y.classes=Ke.value}),P.hasImageCaption&&en(re.caption)&&(Y.caption=re.caption),P.hasAdvTab&&(yn(re.style)&&(Y.style=re.style),yn(re.vspace)&&(Y.vspace=re.vspace),yn(re.border)&&(Y.border=re.border),yn(re.hspace)&&(Y.hspace=re.hspace),yn(re.borderstyle)&&(Y.borderstyle=re.borderstyle))},zc=(P,Y)=>{const re=Y.getData(),Ke=re.src.meta;if(Ke!==void 0){const on=Rn({},re);Uc(P,on,Ke),Y.setData(on)}},Yi=(P,Y,re,Ke)=>{const on=Ke.getData(),qo=on.src.value,Dn=on.src.meta||{};!Dn.width&&!Dn.height&&Y.hasDimensions&&(Xo(qo)?P.imageSize(qo).then(gr=>{re.open&&Ke.setData({dimensions:gr})}).catch(gr=>console.error(gr)):Ke.setData({dimensions:{width:"",height:""}}))},Ni=(P,Y,re)=>{const Ke=re.getData(),on=Ws.findEntry(P.imageList,Ke.src.value);Y.prevImage=on,re.setData({images:on.map(qo=>qo.value).getOr("")})},ti=(P,Y,re,Ke)=>{aa(Y,Ke),zc(Y,Ke),Yi(P,Y,re,Ke),Ni(Y,re,Ke)},Va=(P,Y,re,Ke)=>{const on=Ke.getData(),qo=Ws.findEntry(Y.imageList,on.images);qo.each(Dn=>{on.alt===""||re.prevImage.map(Dt=>Dt.text===on.alt).getOr(!1)?Dn.value===""?Ke.setData({src:Dn,alt:re.prevAlt}):Ke.setData({src:Dn,alt:Dn.text}):Ke.setData({src:Dn})}),re.prevImage=qo,ti(P,Y,re,Ke)},Wc=(P,Y,re,Ke)=>{const on=Ke.getData();Ke.block("Uploading image"),E(on.fileinput).fold(()=>{Ke.unblock()},qo=>{const Dn=URL.createObjectURL(qo),gr=()=>{Ke.unblock(),URL.revokeObjectURL(Dn)},Dt=Zs=>{Ke.setData({src:{value:Zs,meta:{}}}),Ke.showTab("general"),ti(P,Y,re,Ke)};Jn(qo).then(Zs=>{const Ja=P.createBlobCache(qo,Dn,Zs);Y.automaticUploads?P.uploadImage(Ja).then(zr=>{Dt(zr.url),gr()}).catch(zr=>{gr(),P.alertErr(zr)}):(P.addToBlobCache(Ja),Dt(Ja.blobUri()),Ke.unblock())})})},hi=(P,Y,re)=>(Ke,on)=>{on.name==="src"?ti(P,Y,re,Ke):on.name==="images"?Va(P,Y,re,Ke):on.name==="alt"?re.prevAlt=Ke.getData().alt:on.name==="fileinput"?Wc(P,Y,re,Ke):on.name==="isDecorative"&&Ke.setEnabled("alt",!Ke.getData().isDecorative)},Rc=P=>()=>{P.open=!1},gl=P=>P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler?{type:"tabpanel",tabs:Se([[Mi.makeTab(P)],P.hasAdvTab?[ra.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[Ma.makeTab(P)]:[]])}:{type:"panel",items:Mi.makeItems(P)},Z=(P,Y,re)=>Ke=>{const on=Rn(Br(Y.image),Ke.getData()),qo=pt(te({},on),{style:ss(re.normalizeCss,pi(on,!1))});P.execCommand("mceUpdateImage",!1,pi(qo,Y.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),Ke.close()},pe=P=>Y=>kn(P,Y)?Zn(P.documentBaseURI.toAbsolute(Y)).then(re=>({width:String(re.width),height:String(re.height)})):Promise.resolve({width:"",height:""}),Oe=P=>(Y,re,Ke)=>{var on;return P.editorUpload.blobCache.create({blob:Y,blobUri:re,name:(on=Y.name)===null||on===void 0?void 0:on.replace(/\.[^\.]+$/,""),filename:Y.name,base64:Ke.split(",")[1]})},qe=P=>Y=>{P.editorUpload.blobCache.add(Y)},Pt=P=>Y=>{P.windowManager.alert(Y)},io=P=>Y=>zn(P,Y),Bs=P=>Y=>P.dom.parseStyle(Y),js=P=>(Y,re)=>P.dom.serializeStyle(Y,re),Ls=P=>Y=>Mn(P).upload([Y],!1).then(re=>{var Ke;return re.length===0?Promise.reject("Failed to upload image"):re[0].status===!1?Promise.reject((Ke=re[0].error)===null||Ke===void 0?void 0:Ke.message):re[0]}),mr=P=>{const Y={imageSize:pe(P),addToBlobCache:qe(P),createBlobCache:Oe(P),alertErr:Pt(P),normalizeCss:io(P),parseStyle:Bs(P),serializeStyle:js(P),uploadImage:Ls(P)};return{open:()=>{ea(P).then(Ke=>{const on=ma(Ke);return{title:"Insert/Edit Image",size:"normal",body:gl(Ke),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Br(Ke.image),onSubmit:Z(P,Ke,Y),onChange:hi(Y,Ke,on),onClose:Rc(on)}}).then(P.windowManager.open)}}},gs=P=>{P.addCommand("mceImage",mr(P).open),P.addCommand("mceUpdateImage",(Y,re)=>{P.undoManager.transact(()=>Et(P,re))})},Cr=P=>{const Y=P.attr("class");return ln(Y)&&/\bimage\b/.test(Y)},ni=P=>Y=>{let re=Y.length;const Ke=on=>{on.attr("contenteditable",P?"true":null)};for(;re--;){const on=Y[re];Cr(on)&&(on.attr("contenteditable",P?"false":null),$n.each(on.getAll("figcaption"),Ke))}},bi=P=>{P.on("PreInit",()=>{P.parser.addNodeFilter("figure",ni(!0)),P.serializer.addNodeFilter("figure",ni(!1))})},pn=P=>Y=>{const re=()=>{Y.setEnabled(P.selection.isEditable())};return P.on("NodeChange",re),re(),()=>{P.off("NodeChange",re)}},$u=P=>{P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:mr(P).open,onSetup:Y=>{Y.setActive(ln(oo(P)));const re=P.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Y.setActive).unbind,Ke=pn(P)(Y);return()=>{re(),Ke()}}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:mr(P).open,onSetup:pn(P)}),P.ui.registry.addContextMenu("image",{update:Y=>P.selection.isEditable()&&(Ae(Y)||Xe(Y)&&!ao(Y))?["image"]:[]})};var yr=()=>{Tn.add("image",P=>{lt(P),bi(P),$u(P),gs(P)})};yr()})()},52184:function(Tn,bn,Ve){Ve(94719)},94719:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=ht=>H=>H.options.get(ht),Ve=ht=>{const H=ht.options.register;H("insertdatetime_dateformat",{processor:"string",default:ht.translate("%Y-%m-%d")}),H("insertdatetime_timeformat",{processor:"string",default:ht.translate("%H:%M:%S")}),H("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),H("insertdatetime_element",{processor:"boolean",default:!1})},Pn=bn("insertdatetime_dateformat"),Ao=bn("insertdatetime_timeformat"),So=bn("insertdatetime_formats"),Xn=bn("insertdatetime_element"),Qe=ht=>{const H=So(ht);return H.length>0?H[0]:Ao(ht)},yn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),An="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Ln="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),zo="January February March April May June July August September October November December".split(" "),dn=(ht,H)=>{if(ht=""+ht,ht.length<H)for(let at=0;at<H-ht.length;at++)ht="0"+ht;return ht},en=(ht,H,at=new Date)=>(H=H.replace("%D","%m/%d/%Y"),H=H.replace("%r","%I:%M:%S %p"),H=H.replace("%Y",""+at.getFullYear()),H=H.replace("%y",""+at.getYear()),H=H.replace("%m",dn(at.getMonth()+1,2)),H=H.replace("%d",dn(at.getDate(),2)),H=H.replace("%H",""+dn(at.getHours(),2)),H=H.replace("%M",""+dn(at.getMinutes(),2)),H=H.replace("%S",""+dn(at.getSeconds(),2)),H=H.replace("%I",""+((at.getHours()+11)%12+1)),H=H.replace("%p",at.getHours()<12?"AM":"PM"),H=H.replace("%B",""+ht.translate(zo[at.getMonth()])),H=H.replace("%b",""+ht.translate(Ln[at.getMonth()])),H=H.replace("%A",""+ht.translate(An[at.getDay()])),H=H.replace("%a",""+ht.translate(yn[at.getDay()])),H=H.replace("%%","%"),H),Wt=(ht,H,at,Sn)=>{const Jt=ht.dom.create("time",{datetime:at},Sn);ht.dom.replace(Jt,H),ht.selection.select(Jt,!0),ht.selection.collapse(!1)},ln=(ht,H)=>{if(Xn(ht)){const at=en(ht,H);let Sn;/%[HMSIp]/.test(H)?Sn=en(ht,"%Y-%m-%dT%H:%M"):Sn=en(ht,"%Y-%m-%d");const Jt=ht.dom.getParent(ht.selection.getStart(),"time");Jt?Wt(ht,Jt,Sn,at):ht.insertContent('<time datetime="'+Sn+'">'+at+"</time>")}else ht.insertContent(en(ht,H))},ot=ht=>{ht.addCommand("mceInsertDate",(H,at)=>{ln(ht,at!=null?at:Pn(ht))}),ht.addCommand("mceInsertTime",(H,at)=>{ln(ht,at!=null?at:Ao(ht))})},Rt=ht=>{let H=ht;return{get:()=>H,set:Jt=>{H=Jt}}};var Ot=tinymce.util.Tools.resolve("tinymce.util.Tools");const W=ht=>H=>{const at=()=>{H.setEnabled(ht.selection.isEditable())};return ht.on("NodeChange",at),at(),()=>{ht.off("NodeChange",at)}},ft=ht=>{const H=So(ht),at=Rt(Qe(ht)),Sn=$e=>ht.execCommand("mceInsertDate",!1,$e);ht.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:$e=>$e===at.get(),fetch:$e=>{$e(Ot.map(H,ce=>({type:"choiceitem",text:en(ht,ce),value:ce})))},onAction:$e=>{Sn(at.get())},onItemAction:($e,ce)=>{at.set(ce),Sn(ce)},onSetup:W(ht)});const Jt=$e=>()=>{at.set($e),Sn($e)};ht.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Ot.map(H,$e=>({type:"menuitem",text:en(ht,$e),onAction:Jt($e)})),onSetup:W(ht)})};var Fo=()=>{Tn.add("insertdatetime",ht=>{Ve(ht),ot(ht),ft(ht)})};Fo()})()},18763:function(Tn,bn,Ve){Ve(42822)},42822:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(Z,pe,Oe)=>{var qe;return Oe(Z,pe.prototype)?!0:((qe=Z.constructor)===null||qe===void 0?void 0:qe.name)===pe.name},Ve=Z=>{const pe=typeof Z;return Z===null?"null":pe==="object"&&Array.isArray(Z)?"array":pe==="object"&&bn(Z,String,(Oe,qe)=>qe.isPrototypeOf(Oe))?"string":pe},Pn=Z=>pe=>Ve(pe)===Z,Ao=Z=>pe=>typeof pe===Z,So=Z=>pe=>Z===pe,Xn=Pn("string"),Qe=Pn("object"),yn=Pn("array"),An=So(null),Ln=Ao("boolean"),zo=Z=>Z==null,dn=Z=>!zo(Z),en=Ao("function"),Wt=(Z,pe)=>{if(yn(Z)){for(let Oe=0,qe=Z.length;Oe<qe;++Oe)if(!pe(Z[Oe]))return!1;return!0}return!1},ln=()=>{},ot=Z=>()=>Z,Rt=(Z,pe)=>Z===pe;class Ot{constructor(pe,Oe){this.tag=pe,this.value=Oe}static some(pe){return new Ot(!0,pe)}static none(){return Ot.singletonNone}fold(pe,Oe){return this.tag?Oe(this.value):pe()}isSome(){return this.tag}isNone(){return!this.tag}map(pe){return this.tag?Ot.some(pe(this.value)):Ot.none()}bind(pe){return this.tag?pe(this.value):Ot.none()}exists(pe){return this.tag&&pe(this.value)}forall(pe){return!this.tag||pe(this.value)}filter(pe){return!this.tag||pe(this.value)?this:Ot.none()}getOr(pe){return this.tag?this.value:pe}or(pe){return this.tag?this:pe}getOrThunk(pe){return this.tag?this.value:pe()}orThunk(pe){return this.tag?this:pe()}getOrDie(pe){if(this.tag)return this.value;throw new Error(pe!=null?pe:"Called getOrDie on None")}static from(pe){return dn(pe)?Ot.some(pe):Ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(pe){this.tag&&pe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ot.singletonNone=new Ot(!1);const W=Array.prototype.indexOf,ft=Array.prototype.push,Fo=(Z,pe)=>W.call(Z,pe),ht=(Z,pe)=>Fo(Z,pe)>-1,H=(Z,pe)=>{const Oe=Z.length,qe=new Array(Oe);for(let Pt=0;Pt<Oe;Pt++){const io=Z[Pt];qe[Pt]=pe(io,Pt)}return qe},at=(Z,pe)=>{for(let Oe=0,qe=Z.length;Oe<qe;Oe++){const Pt=Z[Oe];pe(Pt,Oe)}},Sn=(Z,pe,Oe)=>(at(Z,(qe,Pt)=>{Oe=pe(Oe,qe,Pt)}),Oe),Jt=Z=>{const pe=[];for(let Oe=0,qe=Z.length;Oe<qe;++Oe){if(!yn(Z[Oe]))throw new Error("Arr.flatten item "+Oe+" was not an array, input: "+Z);ft.apply(pe,Z[Oe])}return pe},$e=(Z,pe)=>Jt(H(Z,pe)),ce=(Z,pe)=>{for(let Oe=0;Oe<Z.length;Oe++){const qe=pe(Z[Oe],Oe);if(qe.isSome())return qe}return Ot.none()},Ro=(Z,pe,Oe=Rt)=>Z.exists(qe=>Oe(qe,pe)),Se=Z=>{const pe=[],Oe=qe=>{pe.push(qe)};for(let qe=0;qe<Z.length;qe++)Z[qe].each(Oe);return pe},De=(Z,pe)=>Z?Ot.some(pe):Ot.none(),E=Z=>pe=>pe.options.get(Z),gn=Z=>{const pe=Z.options.register;pe("link_assume_external_targets",{processor:Oe=>{const qe=Xn(Oe)||Ln(Oe);return qe?Oe===!0?{value:1,valid:qe}:Oe==="http"||Oe==="https"?{value:Oe,valid:qe}:{value:0,valid:qe}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),pe("link_context_toolbar",{processor:"boolean",default:!1}),pe("link_list",{processor:Oe=>Xn(Oe)||en(Oe)||Wt(Oe,Qe)}),pe("link_default_target",{processor:"string"}),pe("link_default_protocol",{processor:"string",default:"https"}),pe("link_target_list",{processor:Oe=>Ln(Oe)||Wt(Oe,Qe),default:!0}),pe("link_rel_list",{processor:"object[]",default:[]}),pe("link_class_list",{processor:"object[]",default:[]}),pe("link_title",{processor:"boolean",default:!0}),pe("allow_unsafe_link_target",{processor:"boolean",default:!1}),pe("link_quicklink",{processor:"boolean",default:!1})},rt=E("link_assume_external_targets"),Hn=E("link_context_toolbar"),tn=E("link_list"),et=E("link_default_target"),uo=E("link_default_protocol"),Yo=E("link_target_list"),Ct=E("link_rel_list"),vn=E("link_class_list"),Re=E("link_title"),it=E("allow_unsafe_link_target"),F=E("link_quicklink");var Xo=tinymce.util.Tools.resolve("tinymce.util.Tools");const no=Z=>Xn(Z.value)?Z.value:"",lt=Z=>Xn(Z.text)?Z.text:Xn(Z.title)?Z.title:"",bt=(Z,pe)=>{const Oe=[];return Xo.each(Z,qe=>{const Pt=lt(qe);if(qe.menu!==void 0){const io=bt(qe.menu,pe);Oe.push({text:Pt,items:io})}else{const io=pe(qe);Oe.push({text:Pt,value:io})}}),Oe},Ft=(Z=no)=>pe=>Ot.from(pe).map(Oe=>bt(Oe,Z)),we={sanitize:Z=>Ft(no)(Z),sanitizeWith:Ft,createUi:(Z,pe)=>Oe=>({name:Z,type:"listbox",label:pe,items:Oe}),getValue:no},ae=Object.keys,Ne=Object.hasOwnProperty,Pe=(Z,pe)=>{const Oe=ae(Z);for(let qe=0,Pt=Oe.length;qe<Pt;qe++){const io=Oe[qe],Bs=Z[io];pe(Bs,io)}},Ye=Z=>(pe,Oe)=>{Z[Oe]=pe},We=(Z,pe,Oe,qe)=>{Pe(Z,(Pt,io)=>{(pe(Pt,io)?Oe:qe)(Pt,io)})},J=(Z,pe)=>{const Oe={};return We(Z,pe,Ye(Oe),ln),Oe},xe=(Z,pe)=>Ne.call(Z,pe),Le=(Z,pe)=>xe(Z,pe)&&Z[pe]!==void 0&&Z[pe]!==null;var Mt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Zn=tinymce.util.Tools.resolve("tinymce.util.URI");const On=Z=>dn(Z)&&Z.nodeName.toLowerCase()==="a",Nn=Z=>On(Z)&&!!to(Z),Un=(Z,pe)=>{if(Z.collapsed)return[];{const Oe=Z.cloneContents(),qe=Oe.firstChild,Pt=new Mt(qe,Oe),io=[];let Bs=qe;do pe(Bs)&&io.push(Bs);while(Bs=Pt.next());return io}},$o=Z=>/^\w+:/i.test(Z),to=Z=>{var pe,Oe;return(Oe=(pe=Z.getAttribute("data-mce-href"))!==null&&pe!==void 0?pe:Z.getAttribute("href"))!==null&&Oe!==void 0?Oe:""},Jn=(Z,pe)=>{const Oe=["noopener"],qe=Z?Z.split(/\s+/):[],Pt=Ls=>Xo.trim(Ls.sort().join(" ")),io=Ls=>(Ls=Bs(Ls),Ls.length>0?Ls.concat(Oe):Oe),Bs=Ls=>Ls.filter(mr=>Xo.inArray(Oe,mr)===-1),js=pe?io(qe):Bs(qe);return js.length>0?Pt(js):""},ao=Z=>Z.replace(/\uFEFF/g,""),kn=(Z,pe)=>(pe=pe||Jo(Z.selection.getRng())[0]||Z.selection.getNode(),Oo(pe)?Ot.from(Z.dom.select("a[href]",pe)[0]):Ot.from(Z.dom.getParent(pe,"a[href]"))),co=(Z,pe)=>kn(Z,pe).isSome(),Zo=(Z,pe)=>{const Oe=pe.fold(()=>Z.getContent({format:"text"}),qe=>qe.innerText||qe.textContent||"");return ao(Oe)},Jo=Z=>Un(Z,Nn),as=Z=>Xo.grep(Z,Nn),xo=Z=>as(Z).length>0,wr=Z=>Jo(Z).length>0,xt=Z=>{const pe=Z.schema.getTextInlineElements(),Oe=io=>io.nodeType===1&&!On(io)&&!xe(pe,io.nodeName.toLowerCase());if(kn(Z).exists(io=>io.hasAttribute("data-mce-block")))return!1;const Pt=Z.selection.getRng();return Pt.collapsed?!0:Un(Pt,Oe).length===0},Oo=Z=>dn(Z)&&Z.nodeName==="FIGURE"&&/\bimage\b/i.test(Z.className),Js=Z=>Sn(["title","rel","class","target"],(Oe,qe)=>(Z[qe].each(Pt=>{Oe[qe]=Pt.length>0?Pt:null}),Oe),{href:Z.href}),_r=(Z,pe)=>(pe==="http"||pe==="https")&&!$o(Z)?pe+"://"+Z:Z,Pr=(Z,pe)=>{const Oe=te({},pe);if(Ct(Z).length===0&&!it(Z)){const qe=Jn(Oe.rel,Oe.target==="_blank");Oe.rel=qe||null}return Ot.from(Oe.target).isNone()&&Yo(Z)===!1&&(Oe.target=et(Z)),Oe.href=_r(Oe.href,rt(Z)),Oe},qr=(Z,pe,Oe,qe)=>{Oe.each(Pt=>{xe(pe,"innerText")?pe.innerText=Pt:pe.textContent=Pt}),Z.dom.setAttribs(pe,qe),Z.selection.select(pe)},Cs=(Z,pe,Oe,qe)=>{const Pt=Z.dom;Oo(pe)?xn(Pt,pe,qe):Oe.fold(()=>{Z.execCommand("mceInsertLink",!1,qe)},io=>{Z.insertContent(Pt.createHTML("a",qe,Pt.encode(io)))})},Jr=(Z,pe,Oe)=>{const qe=Z.selection.getNode(),Pt=kn(Z,qe),io=Pr(Z,Js(Oe));Z.undoManager.transact(()=>{Oe.href===pe.href&&pe.attach(),Pt.fold(()=>{Cs(Z,qe,Oe.text,io)},Bs=>{Z.focus(),qr(Z,Bs,Oe.text,io)})})},Hr=Z=>{const pe=Z.dom,Oe=Z.selection,qe=Oe.getBookmark(),Pt=Oe.getRng().cloneRange(),io=pe.getParent(Pt.startContainer,"a[href]",Z.getBody()),Bs=pe.getParent(Pt.endContainer,"a[href]",Z.getBody());io&&Pt.setStartBefore(io),Bs&&Pt.setEndAfter(Bs),Oe.setRng(Pt),Z.execCommand("unlink"),Oe.moveToBookmark(qe)},fs=Z=>{Z.undoManager.transact(()=>{const pe=Z.selection.getNode();Oo(pe)?Yt(Z,pe):Hr(Z),Z.focus()})},qn=Z=>{const{class:pe,href:Oe,rel:qe,target:Pt,text:io,title:Bs}=Z;return J({class:pe.getOrNull(),href:Oe,rel:qe.getOrNull(),target:Pt.getOrNull(),text:io.getOrNull(),title:Bs.getOrNull()},(js,Ls)=>An(js)===!1)},cr=(Z,pe)=>{const Oe=Z.options.get,qe={allow_html_data_urls:Oe("allow_html_data_urls"),allow_script_urls:Oe("allow_script_urls"),allow_svg_data_urls:Oe("allow_svg_data_urls")},Pt=pe.href;return pt(te({},pe),{href:Zn.isDomSafe(Pt,"a",qe)?Pt:""})},Ae=(Z,pe,Oe)=>{const qe=cr(Z,Oe);Z.hasPlugin("rtc",!0)?Z.execCommand("createlink",!1,qn(qe)):Jr(Z,pe,qe)},Xe=Z=>{Z.hasPlugin("rtc",!0)?Z.execCommand("unlink"):fs(Z)},Yt=(Z,pe)=>{var Oe;const qe=Z.dom.select("img",pe)[0];if(qe){const Pt=Z.dom.getParents(qe,"a[href]",pe)[0];Pt&&((Oe=Pt.parentNode)===null||Oe===void 0||Oe.insertBefore(qe,Pt),Z.dom.remove(Pt))}},xn=(Z,pe,Oe)=>{var qe;const Pt=Z.select("img",pe)[0];if(Pt){const io=Z.create("a",Oe);(qe=Pt.parentNode)===null||qe===void 0||qe.insertBefore(io,Pt),io.appendChild(Pt)}},po=Z=>Le(Z,"items"),ss=(Z,pe)=>ce(pe,Oe=>po(Oe)?ss(Z,Oe.items):De(Oe.value===Z,Oe)),fr=(Z,pe,Oe,qe)=>{const Pt=qe[pe],io=Z.length>0;return Pt!==void 0?ss(Pt,Oe).map(Bs=>({url:{value:Bs.value,meta:{text:io?Z:Bs.text,attach:ln}},text:io?Z:Bs.text})):Ot.none()},Qs=(Z,pe)=>pe==="link"?Z.link:pe==="anchor"?Z.anchor:Ot.none(),ie={init:(Z,pe)=>{const Oe={text:Z.text,title:Z.title},qe=Ls=>{var mr;return De(Oe.title.length<=0,Ot.from((mr=Ls.meta)===null||mr===void 0?void 0:mr.title).getOr(""))},Pt=Ls=>{var mr;return De(Oe.text.length<=0,Ot.from((mr=Ls.meta)===null||mr===void 0?void 0:mr.text).getOr(Ls.value))},io=Ls=>{const mr=Pt(Ls.url),gs=qe(Ls.url);return mr.isSome()||gs.isSome()?Ot.some(te(te({},mr.map(Cr=>({text:Cr})).getOr({})),gs.map(Cr=>({title:Cr})).getOr({}))):Ot.none()},Bs=(Ls,mr)=>{const gs=Qs(pe,mr).getOr([]);return fr(Oe.text,mr,gs,Ls)};return{onChange:(Ls,mr)=>{const gs=mr.name;return gs==="url"?io(Ls()):ht(["anchor","link"],gs)?Bs(Ls(),gs):((gs==="text"||gs==="title")&&(Oe[gs]=Ls()[gs]),Ot.none())}}},getDelta:fr};var le=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ge=(Z,pe,Oe)=>{const qe=Z.selection.getRng();le.setEditorTimeout(Z,()=>{Z.windowManager.confirm(pe,Pt=>{Z.selection.setRng(qe),Oe(Pt)})})},ct=Z=>{const pe=Z.href;return pe.indexOf("@")>0&&pe.indexOf("/")===-1&&pe.indexOf("mailto:")===-1?Ot.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:qe=>pt(te({},qe),{href:"mailto:"+pe})}):Ot.none()},zn=(Z,pe)=>Oe=>{const qe=Oe.href;return Z===1&&!$o(qe)||Z===0&&/^\s*www(\.|\d\.)/i.test(qe)?Ot.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${pe}:// prefix?`,preprocess:io=>pt(te({},io),{href:pe+"://"+qe})}):Ot.none()},vo={preprocess:(Z,pe)=>ce([ct,zn(rt(Z),uo(Z))],Oe=>Oe(pe)).fold(()=>Promise.resolve(pe),Oe=>new Promise(qe=>{Ge(Z,Oe.message,Pt=>{qe(Pt?Oe.preprocess(pe):pe)})}))},ke={getAnchors:Z=>{const pe=Z.dom.select("a:not([href])"),Oe=$e(pe,qe=>{const Pt=qe.name||qe.id;return Pt?[{text:Pt,value:"#"+Pt}]:[]});return Oe.length>0?Ot.some([{text:"None",value:""}].concat(Oe)):Ot.none()}},fe={getClasses:Z=>{const pe=vn(Z);return pe.length>0?we.sanitize(pe):Ot.none()}},ge=Z=>{try{return Ot.some(JSON.parse(Z))}catch(pe){return Ot.none()}},Et={getLinks:Z=>{const pe=qe=>Z.convertURL(qe.value||qe.url||"","href"),Oe=tn(Z);return new Promise(qe=>{Xn(Oe)?fetch(Oe).then(Pt=>Pt.ok?Pt.text().then(ge):Promise.reject()).then(qe,()=>qe(Ot.none())):en(Oe)?Oe(Pt=>qe(Ot.some(Pt))):qe(Ot.from(Oe))}).then(qe=>qe.bind(we.sanitizeWith(pe)).map(Pt=>Pt.length>0?[{text:"None",value:""}].concat(Pt):Pt))}},Gn={getRels:(Z,pe)=>{const Oe=Ct(Z);if(Oe.length>0){const qe=Ro(pe,"_blank"),Pt=it(Z)===!1,io=js=>Jn(we.getValue(js),qe);return(Pt?we.sanitizeWith(io):we.sanitize)(Oe)}return Ot.none()}},Rn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],$n={getTargets:Z=>{const pe=Yo(Z);return yn(pe)?we.sanitize(pe).orThunk(()=>Ot.some(Rn)):pe===!1?Ot.none():Ot.some(Rn)}},so=(Z,pe,Oe)=>{const qe=Z.getAttrib(pe,Oe);return qe!==null&&qe.length>0?Ot.some(qe):Ot.none()},es=(Z,pe)=>{const Oe=Z.dom,Pt=xt(Z)?Ot.some(Zo(Z.selection,pe)):Ot.none(),io=pe.bind(gs=>Ot.from(Oe.getAttrib(gs,"href"))),Bs=pe.bind(gs=>Ot.from(Oe.getAttrib(gs,"target"))),js=pe.bind(gs=>so(Oe,gs,"rel")),Ls=pe.bind(gs=>so(Oe,gs,"class")),mr=pe.bind(gs=>so(Oe,gs,"title"));return{url:io,text:Pt,title:mr,target:Bs,rel:js,linkClass:Ls}},Ra={collect:(Z,pe)=>Et.getLinks(Z).then(Oe=>{const qe=es(Z,pe);return{anchor:qe,catalogs:{targets:$n.getTargets(Z),rels:Gn.getRels(Z,qe.target),classes:fe.getClasses(Z),anchor:ke.getAnchors(Z),link:Oe},optNode:pe,flags:{titleEnabled:Re(Z)}}})},Ha=(Z,pe)=>Oe=>{const qe=Oe.getData();if(!qe.url.value){Xe(Z),Oe.close();return}const Pt=js=>Ot.from(qe[js]).filter(Ls=>!Ro(pe.anchor[js],Ls)),io={href:qe.url.value,text:Pt("text"),target:Pt("target"),rel:Pt("rel"),class:Pt("linkClass"),title:Pt("title")},Bs={href:qe.url.value,attach:qe.url.meta!==void 0&&qe.url.meta.attach?qe.url.meta.attach:ln};vo.preprocess(Z,io).then(js=>{Ae(Z,Bs,js)}),Oe.close()},ic=Z=>{const pe=kn(Z);return Ra.collect(Z,pe)},wo=(Z,pe)=>{const Oe=Z.anchor,qe=Oe.url.getOr("");return{url:{value:qe,meta:{original:{value:qe}}},text:Oe.text.getOr(""),title:Oe.title.getOr(""),anchor:qe,link:qe,rel:Oe.rel.getOr(""),target:Oe.target.or(pe).getOr(""),linkClass:Oe.linkClass.getOr("")}},ms=(Z,pe,Oe)=>{const qe=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Pt=Z.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),io=Z.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Bs=Ot.from(et(Oe)),js=wo(Z,Bs),Ls=Z.catalogs,mr=ie.init(js,Ls);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Jt([qe,Pt,io,Se([Ls.anchor.map(we.createUi("anchor","Anchors")),Ls.rels.map(we.createUi("rel","Rel")),Ls.targets.map(we.createUi("target","Open link in...")),Ls.link.map(we.createUi("link","Link list")),Ls.classes.map(we.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:js,onChange:(Cr,{name:ni})=>{mr.onChange(Cr.getData,{name:ni}).each(bi=>{Cr.setData(bi)})},onSubmit:pe}},Ws=Z=>{ic(Z).then(Oe=>{const qe=Ha(Z,Oe);return ms(Oe,qe,Z)}).then(Oe=>{Z.windowManager.open(Oe)})},Qr=Z=>{Z.addCommand("mceLink",(pe,Oe)=>{(Oe==null?void 0:Oe.dialog)===!0||!F(Z)?Ws(Z):Z.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var ra=tinymce.util.Tools.resolve("tinymce.util.VK");const ea=(Z,pe)=>{document.body.appendChild(Z),Z.dispatchEvent(pe),document.body.removeChild(Z)},Ps=Z=>{const pe=document.createElement("a");pe.target="_blank",pe.href=Z,pe.rel="noreferrer noopener";const Oe=document.createEvent("MouseEvents");Oe.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),ea(pe,Oe)},Fu=(Z,pe)=>Z.dom.getParent(pe,"a[href]"),Mi=Z=>Fu(Z,Z.selection.getStart()),zs=Z=>Z.altKey===!0&&Z.shiftKey===!1&&Z.ctrlKey===!1&&Z.metaKey===!1,Ma=(Z,pe)=>{if(pe){const Oe=to(pe);if(/^#/.test(Oe)){const qe=Z.dom.select(Oe);qe.length&&Z.selection.scrollIntoView(qe[0],!0)}else Ps(pe.href)}},ma=Z=>()=>{Z.execCommand("mceLink",!1,{dialog:!0})},Br=Z=>()=>{Ma(Z,Mi(Z))},pi=Z=>{Z.on("click",pe=>{const Oe=Fu(Z,pe.target);Oe&&ra.metaKeyPressed(pe)&&(pe.preventDefault(),Ma(Z,Oe))}),Z.on("keydown",pe=>{if(!pe.isDefaultPrevented()&&pe.keyCode===13&&zs(pe)){const Oe=Mi(Z);Oe&&(pe.preventDefault(),Ma(Z,Oe))}})},Dc=(Z,pe)=>(Z.on("NodeChange",pe),()=>Z.off("NodeChange",pe)),aa=Z=>pe=>{const Oe=()=>{pe.setActive(!Z.mode.isReadOnly()&&co(Z,Z.selection.getNode())),pe.setEnabled(Z.selection.isEditable())};return Oe(),Dc(Z,Oe)},Uc=Z=>pe=>{const Oe=()=>{pe.setEnabled(Z.selection.isEditable())};return Oe(),Dc(Z,Oe)},zc=Z=>(Z.selection.isCollapsed()?as(Z.dom.getParents(Z.selection.getStart())):Jo(Z.selection.getRng())).length===1,Yi=Z=>pe=>{const Oe=()=>pe.setEnabled(zc(Z));return Oe(),Dc(Z,Oe)},Ni=Z=>pe=>{const Oe=io=>xo(io)||wr(Z.selection.getRng()),qe=Z.dom.getParents(Z.selection.getStart()),Pt=io=>{pe.setEnabled(Oe(io)&&Z.selection.isEditable())};return Pt(qe),Dc(Z,io=>Pt(io.parents))},ti=Z=>{Z.addShortcut("Meta+K","",()=>{Z.execCommand("mceLink")})},Va=Z=>{Z.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ma(Z),onSetup:aa(Z)}),Z.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Br(Z),onSetup:Yi(Z)}),Z.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Xe(Z),onSetup:Ni(Z)})},Wc=Z=>{Z.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Br(Z),onSetup:Yi(Z)}),Z.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Uc(Z),onAction:ma(Z)}),Z.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Xe(Z),onSetup:Ni(Z)})},hi=Z=>{const pe="link unlink openlink",Oe="link";Z.ui.registry.addContextMenu("link",{update:qe=>Z.dom.isEditable(qe)?xo(Z.dom.getParents(qe,"a"))?pe:Oe:""})},Rc=Z=>{const pe=Pt=>{Pt.selection.collapse(!1)},Oe=Pt=>{const io=Z.selection.getNode();return Pt.setEnabled(co(Z,io)),ln},qe=Pt=>{const io=kn(Z),Bs=xt(Z);if(io.isNone()&&Bs){const js=Zo(Z.selection,io);return De(js.length===0,Pt)}else return Ot.none()};Z.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:aa(Z)},label:"Link",predicate:Pt=>Hn(Z)&&co(Z,Pt),initValue:()=>kn(Z).fold(ot(""),to),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Pt=>{const io=Z.selection.getNode();return Pt.setActive(co(Z,io)),aa(Z)(Pt)},onAction:Pt=>{const io=Pt.getValue(),Bs=qe(io);Ae(Z,{href:io,attach:ln},{href:io,text:Bs,title:Ot.none(),rel:Ot.none(),target:Ot.none(),class:Ot.none()}),pe(Z),Pt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Oe,onAction:Pt=>{Xe(Z),Pt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Oe,onAction:Pt=>{Br(Z)(),Pt.hide()}}]})};var gl=()=>{Tn.add("link",Z=>{gn(Z),Va(Z),Wc(Z),hi(Z),Rc(Z),pi(Z),Qr(Z),ti(Z)})};gl()})()},37869:function(Tn,bn,Ve){Ve(85807)},85807:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(A,R,U)=>{var me;return U(A,R.prototype)?!0:((me=A.constructor)===null||me===void 0?void 0:me.name)===R.name},Ve=A=>{const R=typeof A;return A===null?"null":R==="object"&&Array.isArray(A)?"array":R==="object"&&bn(A,String,(U,me)=>me.isPrototypeOf(U))?"string":R},Pn=A=>R=>Ve(R)===A,Ao=A=>R=>typeof R===A,So=Pn("string"),Xn=Pn("object"),Qe=Pn("array"),yn=Ao("boolean"),An=A=>A==null,Ln=A=>!An(A),zo=Ao("function"),dn=Ao("number"),en=()=>{},Wt=A=>()=>A,ln=(A,R)=>A===R;function ot(A,...R){return(...U)=>{const me=R.concat(U);return A.apply(null,me)}}const Rt=A=>R=>!A(R),Ot=Wt(!1);class W{constructor(R,U){this.tag=R,this.value=U}static some(R){return new W(!0,R)}static none(){return W.singletonNone}fold(R,U){return this.tag?U(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?W.some(R(this.value)):W.none()}bind(R){return this.tag?R(this.value):W.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:W.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R!=null?R:"Called getOrDie on None")}static from(R){return Ln(R)?W.some(R):W.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}W.singletonNone=new W(!1);const ft=Array.prototype.slice,Fo=Array.prototype.indexOf,ht=Array.prototype.push,H=(A,R)=>Fo.call(A,R),at=(A,R)=>H(A,R)>-1,Sn=(A,R)=>{for(let U=0,me=A.length;U<me;U++){const ve=A[U];if(R(ve,U))return!0}return!1},Jt=(A,R)=>{const U=A.length,me=new Array(U);for(let ve=0;ve<U;ve++){const Gt=A[ve];me[ve]=R(Gt,ve)}return me},$e=(A,R)=>{for(let U=0,me=A.length;U<me;U++){const ve=A[U];R(ve,U)}},ce=(A,R)=>{const U=[];for(let me=0,ve=A.length;me<ve;me++){const Gt=A[me];R(Gt,me)&&U.push(Gt)}return U},Ro=(A,R)=>{if(A.length===0)return[];{let U=R(A[0]);const me=[];let ve=[];for(let Gt=0,$t=A.length;Gt<$t;Gt++){const Do=A[Gt],Mo=R(Do);Mo!==U&&(me.push(ve),ve=[]),U=Mo,ve.push(Do)}return ve.length!==0&&me.push(ve),me}},Se=(A,R,U)=>($e(A,(me,ve)=>{U=R(U,me,ve)}),U),De=(A,R,U)=>{for(let me=0,ve=A.length;me<ve;me++){const Gt=A[me];if(R(Gt,me))return W.some(Gt);if(U(Gt,me))break}return W.none()},E=(A,R)=>De(A,R,Ot),gn=A=>{const R=[];for(let U=0,me=A.length;U<me;++U){if(!Qe(A[U]))throw new Error("Arr.flatten item "+U+" was not an array, input: "+A);ht.apply(R,A[U])}return R},rt=(A,R)=>gn(Jt(A,R)),Hn=A=>{const R=ft.call(A,0);return R.reverse(),R},tn=(A,R)=>R>=0&&R<A.length?W.some(A[R]):W.none(),et=A=>tn(A,0),uo=A=>tn(A,A.length-1),Yo=(A,R)=>{const U=[],me=zo(R)?ve=>Sn(U,Gt=>R(Gt,ve)):ve=>at(U,ve);for(let ve=0,Gt=A.length;ve<Gt;ve++){const $t=A[ve];me($t)||U.push($t)}return U},Ct=(A,R,U=ln)=>A.exists(me=>U(me,R)),vn=(A,R,U=ln)=>Re(A,R,U).getOr(A.isNone()&&R.isNone()),Re=(A,R,U)=>A.isSome()&&R.isSome()?W.some(U(A.getOrDie(),R.getOrDie())):W.none(),it=1,F=(A,R)=>{const me=(R||document).createElement("div");if(me.innerHTML=A,!me.hasChildNodes()||me.childNodes.length>1){const ve="HTML does not have a single root node";throw console.error(ve,A),new Error(ve)}return lt(me.childNodes[0])},Xo=(A,R)=>{const me=(R||document).createElement(A);return lt(me)},no=(A,R)=>{const me=(R||document).createTextNode(A);return lt(me)},lt=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},Ft={fromHtml:F,fromTag:Xo,fromText:no,fromDom:lt,fromPoint:(A,R,U)=>W.from(A.dom.elementFromPoint(R,U)).map(lt)},ee=(A,R)=>{const U=A.dom;if(U.nodeType!==it)return!1;{const me=U;if(me.matches!==void 0)return me.matches(R);if(me.msMatchesSelector!==void 0)return me.msMatchesSelector(R);if(me.webkitMatchesSelector!==void 0)return me.webkitMatchesSelector(R);if(me.mozMatchesSelector!==void 0)return me.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}},he=(A,R)=>A.dom===R.dom,we=(A,R)=>{const U=A.dom,me=R.dom;return U===me?!1:U.contains(me)},ae=ee;var Ne=(A,R,U,me,ve)=>A(U,me)?W.some(U):zo(ve)&&ve(U)?W.none():R(U,me,ve);typeof window!="undefined"||Function("return this;")();const Pe=A=>A.dom.nodeName.toLowerCase(),Ye=A=>A.dom.nodeType,J=(A=>R=>Ye(R)===A)(it),xe=A=>R=>J(R)&&Pe(R)===A,Le=A=>W.from(A.dom.parentNode).map(Ft.fromDom),Mt=A=>W.from(A.dom.parentElement).map(Ft.fromDom),Zn=A=>W.from(A.dom.nextSibling).map(Ft.fromDom),On=A=>Jt(A.dom.childNodes,Ft.fromDom),Nn=(A,R)=>{const U=A.dom.childNodes;return W.from(U[R]).map(Ft.fromDom)},Un=A=>Nn(A,0),$o=A=>Nn(A,A.dom.childNodes.length-1),to=(A,R,U)=>{let me=A.dom;const ve=zo(U)?U:Ot;for(;me.parentNode;){me=me.parentNode;const Gt=Ft.fromDom(me);if(R(Gt))return W.some(Gt);if(ve(Gt))break}return W.none()},Jn=(A,R,U)=>Ne((ve,Gt)=>Gt(ve),to,A,R,U),ao=(A,R)=>{Le(A).each(me=>{me.dom.insertBefore(R.dom,A.dom)})},kn=(A,R)=>{Zn(A).fold(()=>{Le(A).each(ve=>{co(ve,R)})},me=>{ao(me,R)})},co=(A,R)=>{A.dom.appendChild(R.dom)},Zo=(A,R)=>{$e(R,U=>{ao(A,U)})},Jo=(A,R)=>{$e(R,U=>{co(A,U)})},as=A=>{A.dom.textContent="",$e(On(A),R=>{xo(R)})},xo=A=>{const R=A.dom;R.parentNode!==null&&R.parentNode.removeChild(R)};var wr=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),xt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Oo=tinymce.util.Tools.resolve("tinymce.util.VK");const Js=A=>Jt(A,Ft.fromDom),_r=Object.keys,Pr=(A,R)=>{const U=_r(A);for(let me=0,ve=U.length;me<ve;me++){const Gt=U[me],$t=A[Gt];R($t,Gt)}},qr=A=>(R,U)=>{A[U]=R},Cs=(A,R,U,me)=>{Pr(A,(ve,Gt)=>{(R(ve,Gt)?U:me)(ve,Gt)})},Jr=(A,R)=>{const U={};return Cs(A,R,qr(U),en),U},Hr=(A,R,U)=>{if(So(U)||yn(U)||dn(U))A.setAttribute(R,U+"");else throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",U,":: Element ",A),new Error("Attribute value was not simple")},fs=(A,R)=>{const U=A.dom;Pr(R,(me,ve)=>{Hr(U,ve,me)})},qn=A=>Se(A.dom.attributes,(R,U)=>(R[U.name]=U.value,R),{}),cr=(A,R)=>Ft.fromDom(A.dom.cloneNode(R)),Ae=A=>cr(A,!0),Xe=(A,R)=>{const U=Ft.fromTag(R),me=qn(A);return fs(U,me),U},Yt=(A,R)=>{const U=Xe(A,R);kn(A,U);const me=On(A);return Jo(U,me),xo(A),U};var xn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),po=tinymce.util.Tools.resolve("tinymce.util.Tools");const ss=A=>R=>Ln(R)&&R.nodeName.toLowerCase()===A,fr=A=>R=>Ln(R)&&A.test(R.nodeName),Qs=A=>Ln(A)&&A.nodeType===3,er=A=>Ln(A)&&A.nodeType===1,ie=fr(/^(OL|UL|DL)$/),le=fr(/^(OL|UL)$/),Ge=ss("ol"),ct=fr(/^(LI|DT|DD)$/),zn=fr(/^(DT|DD)$/),oo=fr(/^(TH|TD)$/),vo=ss("br"),tr=A=>{var R;return((R=A.parentNode)===null||R===void 0?void 0:R.firstChild)===A},ke=(A,R)=>Ln(R)&&R.nodeName in A.schema.getTextBlockElements(),ko=(A,R)=>Ln(A)&&A.nodeName in R,fe=(A,R)=>Ln(R)&&R.nodeName in A.schema.getVoidElements(),ge=(A,R)=>vo(R)?A.isBlock(R.nextSibling)&&!vo(R.previousSibling):!1,yt=(A,R,U)=>{const me=A.isEmpty(R);return U&&A.select("span[data-mce-type=bookmark]",R).length>0?!1:me},Et=(A,R)=>A.isChildOf(R,A.getRoot()),nn=A=>R=>R.options.get(A),Gn=A=>{const R=A.options.register;R("lists_indent_on_tab",{processor:"boolean",default:!0})},Rn=nn("lists_indent_on_tab"),Mn=nn("forced_root_block"),$n=nn("forced_root_block_attrs"),so=(A,R)=>{const U=A.dom,me=A.schema.getBlockElements(),ve=U.createFragment(),Gt=Mn(A),$t=$n(A);let Do,Mo,Eo=!1;for(Mo=U.create(Gt,$t),ko(R.firstChild,me)||ve.appendChild(Mo);Do=R.firstChild;){const Yr=Do.nodeName;!Eo&&(Yr!=="SPAN"||Do.getAttribute("data-mce-type")!=="bookmark")&&(Eo=!0),ko(Do,me)?(ve.appendChild(Do),Mo=null):(Mo||(Mo=U.create(Gt,$t),ve.appendChild(Mo)),Mo.appendChild(Do))}return!Eo&&Mo&&Mo.appendChild(U.create("br",{"data-mce-bogus":"1"})),ve},es=xn.DOM,Us=(A,R,U)=>{const me=Eo=>{const Yr=Eo.parentNode;Yr&&po.each(ve,wc=>{Yr.insertBefore(wc,U.parentNode)}),es.remove(Eo)},ve=es.select('span[data-mce-type="bookmark"]',R),Gt=so(A,U),$t=es.createRng();$t.setStartAfter(U),$t.setEndAfter(R);const Do=$t.extractContents();for(let Eo=Do.firstChild;Eo;Eo=Eo.firstChild)if(Eo.nodeName==="LI"&&A.dom.isEmpty(Eo)){es.remove(Eo);break}A.dom.isEmpty(Do)||es.insertAfter(Do,R),es.insertAfter(Gt,R);const Mo=U.parentElement;Mo&&yt(A.dom,Mo)&&me(Mo),es.remove(U),yt(A.dom,R)&&es.remove(R)},Ra=xe("dd"),Ha=xe("dt"),ic=(A,R)=>{Ra(R)?Yt(R,"dt"):Ha(R)&&Mt(R).each(U=>Us(A,U.dom,R.dom))},wo=A=>{Ha(A)&&Yt(A,"dd")},ms=(A,R,U)=>{R==="Indent"?$e(U,wo):$e(U,me=>ic(A,me))},Ws=(A,R)=>{if(Qs(A))return{container:A,offset:R};const U=wr.getNode(A,R);return Qs(U)?{container:U,offset:R>=A.childNodes.length?U.data.length:0}:U.previousSibling&&Qs(U.previousSibling)?{container:U.previousSibling,offset:U.previousSibling.data.length}:U.nextSibling&&Qs(U.nextSibling)?{container:U.nextSibling,offset:0}:{container:A,offset:R}},Qr=A=>{const R=A.cloneRange(),U=Ws(A.startContainer,A.startOffset);R.setStart(U.container,U.offset);const me=Ws(A.endContainer,A.endOffset);return R.setEnd(me.container,me.offset),R},ra=["OL","UL","DL"],ea=ra.join(","),Ps=(A,R)=>{const U=R||A.selection.getStart(!0);return A.dom.getParent(U,ea,aa(A,U))},Fu=(A,R)=>Ln(A)&&R.length===1&&R[0]===A,Mi=A=>ce(A.querySelectorAll(ea),ie),zs=A=>{const R=Ps(A),U=A.selection.getSelectedBlocks();return Fu(R,U)?Mi(R):ce(U,me=>ie(me)&&R!==me)},Ma=(A,R)=>{const U=po.map(R,me=>{const ve=A.dom.getParent(me,"li,dd,dt",aa(A,me));return ve||me});return Yo(U)},ma=A=>{const R=A.selection.getSelectedBlocks();return ce(Ma(A,R),ct)},Br=A=>ce(ma(A),zn),pi=(A,R)=>{const U=A.dom.getParents(R,"TD,TH");return U.length>0?U[0]:A.getBody()},Dc=(A,R)=>!ie(R)&&!ct(R)&&Sn(ra,U=>A.isValidChild(R.nodeName,U)),aa=(A,R)=>{const U=A.dom.getParents(R,A.dom.isBlock);return E(U,ve=>Dc(A.schema,ve)).getOr(A.getBody())},Uc=(A,R)=>{const U=A.dom.getParents(R,"ol,ul",aa(A,R));return uo(U)},zc=A=>{const R=Uc(A,A.selection.getStart()),U=ce(A.selection.getSelectedBlocks(),le);return R.toArray().concat(U)},Yi=A=>{const R=zc(A);return Ni(A,R)},Ni=(A,R)=>{const U=Jt(R,me=>Uc(A,me).getOr(me));return Yo(U)},ti=A=>/\btox\-/.test(A.className),Va=(A,R)=>De(A,ie,oo).exists(U=>U.nodeName===R&&!ti(U)),Wc=(A,R)=>R!==null&&!A.dom.isEditable(R),hi=A=>{const R=Ps(A);return Wc(A,R)},Rc=(A,R)=>{const U=A.dom.getParent(R,"ol,ul,dl");return Wc(A,U)},gl=(A,R)=>{const U=A.selection.getNode();return R({parents:A.dom.getParents(U),element:U}),A.on("NodeChange",R),()=>A.off("NodeChange",R)},Z=(A,R)=>{const me=(R||document).createDocumentFragment();return $e(A,ve=>{me.appendChild(ve.dom)}),Ft.fromDom(me)},pe=(A,R,U)=>A.dispatch("ListMutation",{action:R,element:U}),qe=(A=>R=>R.replace(A,""))(/^\s+|\s+$/g),Pt=A=>A.length>0,io=A=>!Pt(A),Bs=A=>A.style!==void 0&&zo(A.style.getPropertyValue),js=(A,R,U)=>{if(!So(U))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",U,":: Element ",A),new Error("CSS value must be a string: "+U);Bs(A)&&A.style.setProperty(R,U)},Ls=(A,R,U)=>{const me=A.dom;js(me,R,U)},mr=(A,R)=>{co(A.item,R.list)},gs=A=>{for(let R=1;R<A.length;R++)mr(A[R-1],A[R])},Cr=(A,R)=>{Re(uo(A),et(R),mr)},ni=(A,R)=>{const U={list:Ft.fromTag(R,A),item:Ft.fromTag("li",A)};return co(U.list,U.item),U},bi=(A,R,U)=>{const me=[];for(let ve=0;ve<U;ve++)me.push(ni(A,R.listType));return me},pn=(A,R)=>{for(let U=0;U<A.length-1;U++)Ls(A[U].item,"list-style-type","none");uo(A).each(U=>{fs(U.list,R.listAttributes),fs(U.item,R.itemAttributes),Jo(U.item,R.content)})},$u=(A,R)=>{Pe(A.list)!==R.listType&&(A.list=Yt(A.list,R.listType)),fs(A.list,R.listAttributes)},yr=(A,R,U)=>{const me=Ft.fromTag("li",A);return fs(me,R),Jo(me,U),me},P=(A,R)=>{co(A.list,R),A.item=R},Y=(A,R,U)=>{const me=R.slice(0,U.depth);return uo(me).each(ve=>{const Gt=yr(A,U.itemAttributes,U.content);P(ve,Gt),$u(ve,U)}),me},re=(A,R,U)=>{const me=bi(A,U,U.depth-R.length);return gs(me),pn(me,U),Cr(R,me),R.concat(me)},Ke=(A,R)=>{const U=Se(R,(me,ve)=>ve.depth>me.length?re(A,me,ve):Y(A,me,ve),[]);return et(U).map(me=>me.list)},on=A=>ae(A,"OL,UL"),qo=A=>Un(A).exists(on),Dn=A=>$o(A).exists(on),gr=A=>A.depth>0,Dt=A=>A.isSelected,Zs=A=>{const R=On(A),U=Dn(A)?R.slice(0,-1):R;return Jt(U,Ae)},Ja=(A,R,U)=>Le(A).filter(J).map(me=>({depth:R,dirty:!1,isSelected:U,content:Zs(A),itemAttributes:qn(A),listAttributes:qn(me),listType:Pe(me)})),zr=(A,R)=>{switch(A){case"Indent":R.depth++;break;case"Outdent":R.depth--;break;case"Flatten":R.depth=0}R.dirty=!0},ca=(A,R)=>{A.listType=R.listType,A.listAttributes=te({},R.listAttributes)},Pi=A=>{A.listAttributes=Jr(A.listAttributes,(R,U)=>U!=="start")},q=(A,R)=>{const U=A[R].depth,me=Gt=>Gt.depth===U&&!Gt.dirty,ve=Gt=>Gt.depth<U;return De(Hn(A.slice(0,R)),me,ve).orThunk(()=>De(A.slice(R+1),me,ve))},ue=A=>($e(A,(R,U)=>{q(A,U).fold(()=>{R.dirty&&Pi(R)},me=>ca(R,me))}),A),Fe=A=>{let R=A;return{get:()=>R,set:ve=>{R=ve}}},kt=(A,R,U,me)=>Un(me).filter(on).fold(()=>{R.each($t=>{he($t.start,me)&&U.set(!0)});const ve=Ja(me,A,U.get());R.each($t=>{he($t.end,me)&&U.set(!1)});const Gt=$o(me).filter(on).map($t=>un(A,R,U,$t)).getOr([]);return ve.toArray().concat(Gt)},ve=>un(A,R,U,ve)),un=(A,R,U,me)=>rt(On(me),ve=>{const Gt=on(ve)?un:kt,$t=A+1;return Gt($t,R,U,ve)}),ns=(A,R)=>{const U=Fe(!1),me=0;return Jt(A,ve=>({sourceList:ve,entries:un(me,R,U,ve)}))},Sr=(A,R)=>{const U=ue(R);return Jt(U,me=>{const ve=Z(me.content);return Ft.fromDom(so(A,ve.dom))})},Ca=(A,R)=>{const U=ue(R);return Ke(A.contentDocument,U).toArray()},cs=(A,R)=>rt(Ro(R,gr),U=>et(U).exists(gr)?Ca(A,U):Sr(A,U)),Gr=(A,R)=>{$e(ce(A,Dt),U=>zr(R,U))},Vr=A=>{const R=Jt(ma(A),Ft.fromDom);return Re(E(R,Rt(qo)),E(Hn(R),Rt(qo)),(U,me)=>({start:U,end:me}))},ia=(A,R,U)=>{const me=ns(R,Vr(A));$e(me,ve=>{Gr(ve.entries,U);const Gt=cs(A,ve.entries);$e(Gt,$t=>{pe(A,U==="Indent"?"IndentList":"OutdentList",$t.dom)}),Zo(ve.sourceList,Gt),xo(ve.sourceList)})},Qa=(A,R)=>{const U=Js(Yi(A)),me=Js(Br(A));let ve=!1;if(U.length||me.length){const Gt=A.selection.getBookmark();ia(A,U,R),ms(A,R,me),A.selection.moveToBookmark(Gt),A.selection.setRng(Qr(A.selection.getRng())),A.nodeChanged(),ve=!0}return ve},pl=(A,R)=>!hi(A)&&Qa(A,R),qs=A=>pl(A,"Indent"),ir=A=>pl(A,"Outdent"),la=A=>pl(A,"Flatten"),ep="\uFEFF",Ar=A=>A===ep,lc=(A,R,U)=>to(A,R,U).isSome(),ec=(A,R)=>lc(A,ot(he,R));var tp=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const cu=xn.DOM,jc=A=>{const R={},U=me=>{let ve=A[me?"startContainer":"endContainer"],Gt=A[me?"startOffset":"endOffset"];if(er(ve)){const $t=cu.create("span",{"data-mce-type":"bookmark"});ve.hasChildNodes()?(Gt=Math.min(Gt,ve.childNodes.length-1),me?ve.insertBefore($t,ve.childNodes[Gt]):cu.insertAfter($t,ve.childNodes[Gt])):ve.appendChild($t),ve=$t,Gt=0}R[me?"startContainer":"endContainer"]=ve,R[me?"startOffset":"endOffset"]=Gt};return U(!0),A.collapsed||U(),R},iu=A=>{const R=me=>{const ve=Do=>{var Mo;let Eo=(Mo=Do.parentNode)===null||Mo===void 0?void 0:Mo.firstChild,Yr=0;for(;Eo;){if(Eo===Do)return Yr;(!er(Eo)||Eo.getAttribute("data-mce-type")!=="bookmark")&&Yr++,Eo=Eo.nextSibling}return-1};let Gt=A[me?"startContainer":"endContainer"],$t=A[me?"startOffset":"endOffset"];if(Gt){if(er(Gt)&&Gt.parentNode){const Do=Gt;$t=ve(Gt),Gt=Gt.parentNode,cu.remove(Do),!Gt.hasChildNodes()&&cu.isBlock(Gt)&&Gt.appendChild(cu.create("br"))}A[me?"startContainer":"endContainer"]=Gt,A[me?"startOffset":"endOffset"]=$t}};R(!0),R();const U=cu.createRng();return U.setStart(A.startContainer,A.startOffset),A.endContainer&&U.setEnd(A.endContainer,A.endOffset),Qr(U)},Gs=A=>{switch(A){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Xi=(A,R,U)=>{const me=U["list-style-type"]?U["list-style-type"]:null;A.setStyle(R,"list-style-type",me)},kc=(A,R)=>{po.each(R,(U,me)=>{A.setAttribute(me,U)})},hl=(A,R,U)=>{kc(R,U["list-attributes"]),po.each(A.select("li",R),me=>{kc(me,U["list-item-attributes"])})},Kr=(A,R,U)=>{Xi(A,R,U),hl(A,R,U)},ta=(A,R,U)=>{po.each(U,me=>A.setStyle(R,me,""))},Zc=(A,R)=>Ln(R)&&!ko(R,A.schema.getBlockElements()),lu=(A,R,U,me)=>{let ve=R[U?"startContainer":"endContainer"];const Gt=R[U?"startOffset":"endOffset"];er(ve)&&(ve=ve.childNodes[Math.min(Gt,ve.childNodes.length-1)]||ve),!U&&vo(ve.nextSibling)&&(ve=ve.nextSibling);const $t=Mo=>{for(;!A.dom.isBlock(Mo)&&Mo.parentNode&&me!==Mo;)Mo=Mo.parentNode;return Mo},Do=(Mo,Eo)=>{var Yr;const wc=new xt(Mo,$t(Mo)),Xr=Eo?"next":"prev";let Rr;for(;Rr=wc[Xr]();)if(!(fe(A,Rr)||Ar(Rr.textContent)||((Yr=Rr.textContent)===null||Yr===void 0?void 0:Yr.length)===0))return W.some(Rr);return W.none()};if(U&&Qs(ve))if(Ar(ve.textContent))ve=Do(ve,!1).getOr(ve);else for(ve.parentNode!==null&&Zc(A,ve.parentNode)&&(ve=ve.parentNode);ve.previousSibling!==null&&(Zc(A,ve.previousSibling)||Qs(ve.previousSibling));)ve=ve.previousSibling;if(!U&&Qs(ve))if(Ar(ve.textContent))ve=Do(ve,!0).getOr(ve);else for(ve.parentNode!==null&&Zc(A,ve.parentNode)&&(ve=ve.parentNode);ve.nextSibling!==null&&(Zc(A,ve.nextSibling)||Qs(ve.nextSibling));)ve=ve.nextSibling;for(;ve.parentNode!==me;){const Mo=ve.parentNode;if(ke(A,ve)||/^(TD|TH)$/.test(Mo.nodeName))return ve;ve=Mo}return ve},Iu=(A,R,U)=>{const me=[],ve=A.dom,Gt=lu(A,R,!0,U),$t=lu(A,R,!1,U);let Do;const Mo=[];for(let Eo=Gt;Eo&&(Mo.push(Eo),Eo!==$t);Eo=Eo.nextSibling);return po.each(Mo,Eo=>{var Yr;if(ke(A,Eo)){me.push(Eo),Do=null;return}if(ve.isBlock(Eo)||vo(Eo)){vo(Eo)&&ve.remove(Eo),Do=null;return}const wc=Eo.nextSibling;if(tp.isBookmarkNode(Eo)&&(ie(wc)||ke(A,wc)||!wc&&Eo.parentNode===U)){Do=null;return}Do||(Do=ve.create("p"),(Yr=Eo.parentNode)===null||Yr===void 0||Yr.insertBefore(Do,Eo),me.push(Do)),Do.appendChild(Eo)}),me},Yf=(A,R,U)=>{const me=A.getStyle(R,"list-style-type");let ve=U?U["list-style-type"]:"";return ve=ve===null?"":ve,me===ve},Gd=(A,R)=>{const U=A.selection.getStart(!0),me=lu(A,R,!0,A.getBody());return ec(Ft.fromDom(me),Ft.fromDom(R.commonAncestorContainer))?R.commonAncestorContainer:U},uc=(A,R,U)=>{const me=A.selection.getRng();let ve="LI";const Gt=aa(A,Gd(A,me)),$t=A.dom;if($t.getContentEditable(A.selection.getNode())==="false")return;R=R.toUpperCase(),R==="DL"&&(ve="DT");const Do=jc(me),Mo=ce(Iu(A,me,Gt),A.dom.isEditable);po.each(Mo,Eo=>{let Yr;const wc=Eo.previousSibling,Xr=Eo.parentNode;ct(Xr)||(wc&&ie(wc)&&wc.nodeName===R&&Yf($t,wc,U)?(Yr=wc,Eo=$t.rename(Eo,ve),wc.appendChild(Eo)):(Yr=$t.create(R),Xr.insertBefore(Yr,Eo),Yr.appendChild(Eo),Eo=$t.rename(Eo,ve)),ta($t,Eo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Kr($t,Yr,U),$l(A.dom,Yr))}),A.selection.setRng(iu(Do))},Kd=(A,R)=>ie(A)&&A.nodeName===(R==null?void 0:R.nodeName),Mc=(A,R,U)=>{const me=A.getStyle(R,"list-style-type",!0),ve=A.getStyle(U,"list-style-type",!0);return me===ve},bl=(A,R)=>A.className===R.className,hd=(A,R,U)=>Kd(R,U)&&Mc(A,R,U)&&bl(R,U),$l=(A,R)=>{let U,me=R.nextSibling;if(hd(A,R,me)){const ve=me;for(;U=ve.firstChild;)R.appendChild(U);A.remove(ve)}if(me=R.previousSibling,hd(A,R,me)){const ve=me;for(;U=ve.lastChild;)R.insertBefore(U,R.firstChild);A.remove(ve)}},Yd=(A,R,U,me)=>{if(R.nodeName!==U){const ve=A.dom.rename(R,U);Kr(A.dom,ve,me),pe(A,Gs(U),ve)}else Kr(A.dom,R,me),pe(A,Gs(U),R)},Lu=(A,R,U,me)=>{if(R.classList.forEach((ve,Gt,$t)=>{ve.startsWith("tox-")&&($t.remove(ve),$t.length===0&&R.removeAttribute("class"))}),R.nodeName!==U){const ve=A.dom.rename(R,U);Kr(A.dom,ve,me),pe(A,Gs(U),ve)}else Kr(A.dom,R,me),pe(A,Gs(U),R)},Vm=(A,R,U,me,ve)=>{const Gt=ie(R);if(Gt&&R.nodeName===me&&!yl(ve)&&!ti(R))la(A);else{uc(A,me,ve);const $t=jc(A.selection.getRng()),Do=Gt?[R,...U]:U,Mo=Gt&&ti(R)?Lu:Yd;po.each(Do,Eo=>{Mo(A,Eo,me,ve)}),A.selection.setRng(iu($t))}},yl=A=>"list-style-type"in A,Um=(A,R,U,me)=>{if(R!==A.getBody())if(R)if(R.nodeName===U&&!yl(me)&&!ti(R))la(A);else{const ve=jc(A.selection.getRng());ti(R)&&R.classList.forEach(($t,Do,Mo)=>{$t.startsWith("tox-")&&(Mo.remove($t),Mo.length===0&&R.removeAttribute("class"))}),Kr(A.dom,R,me);const Gt=A.dom.rename(R,U);$l(A.dom,Gt),A.selection.setRng(iu(ve)),uc(A,U,me),pe(A,Gs(U),Gt)}else uc(A,U,me),pe(A,Gs(U),R)},Xd=(A,R,U)=>{const me=Ps(A);if(Rc(A,me))return;const ve=zs(A),Gt=Xn(U)?U:{};ve.length>0?Vm(A,me,ve,R,Gt):Um(A,me,R,Gt)},Xf=xn.DOM,Hu=(A,R)=>{const U=R.parentElement;if(U&&U.nodeName==="LI"&&U.firstChild===R){const me=U.previousSibling;me&&me.nodeName==="LI"?(me.appendChild(R),yt(A,U)&&Xf.remove(U)):Xf.setStyle(U,"listStyleType","none")}if(ie(U)){const me=U.previousSibling;me&&me.nodeName==="LI"&&me.appendChild(R)}},Wm=(A,R)=>{const U=po.grep(A.select("ol,ul",R));po.each(U,me=>{Hu(A,me)})},de=(A,R,U,me)=>{let ve=R.startContainer;const Gt=R.startOffset;if(Qs(ve)&&(U?Gt<ve.data.length:Gt>0))return ve;const $t=A.schema.getNonEmptyElements();er(ve)&&(ve=wr.getNode(ve,Gt));const Do=new xt(ve,me);U&&ge(A.dom,ve)&&Do.next();const Mo=U?Do.next.bind(Do):Do.prev2.bind(Do);for(;ve=Mo();)if(ve.nodeName==="LI"&&!ve.hasChildNodes()||$t[ve.nodeName]||Qs(ve)&&ve.data.length>0)return ve;return null},Vu=(A,R)=>{const U=R.childNodes;return U.length===1&&!ie(U[0])&&A.isBlock(U[0])},Bi=(A,R)=>{Vu(A,R)&&A.remove(R.firstChild,!0)},Jf=(A,R,U)=>{let me;const ve=Vu(A,U)?U.firstChild:U;if(Bi(A,R),!yt(A,R,!0))for(;me=R.firstChild;)ve.appendChild(me)},np=(A,R,U)=>{let me;const ve=R.parentNode;if(!Et(A,R)||!Et(A,U))return;ie(U.lastChild)&&(me=U.lastChild),ve===U.lastChild&&vo(ve.previousSibling)&&A.remove(ve.previousSibling);const Gt=U.lastChild;Gt&&vo(Gt)&&R.hasChildNodes()&&A.remove(Gt),yt(A,U,!0)&&as(Ft.fromDom(U)),Jf(A,R,U),me&&U.appendChild(me);const Do=we(Ft.fromDom(U),Ft.fromDom(R))?A.getParents(R,ie,U):[];A.remove(R),$e(Do,Mo=>{yt(A,Mo)&&Mo!==A.getRoot()&&A.remove(Mo)})},vh=(A,R,U)=>{as(Ft.fromDom(U)),np(A.dom,R,U),A.selection.setCursorLocation(U,0)},Rs=(A,R,U,me)=>{const ve=A.dom;if(ve.isEmpty(me))vh(A,U,me);else{const Gt=jc(R);np(ve,U,me),A.selection.setRng(iu(Gt))}},dc=(A,R,U,me)=>{const ve=jc(R);np(A.dom,U,me);const Gt=iu(ve);A.selection.setRng(Gt)},vl=(A,R)=>{const U=A.dom,me=A.selection,ve=me.getStart(),Gt=pi(A,ve),$t=U.getParent(me.getStart(),"LI",Gt);if($t){const Do=$t.parentElement;if(Do===A.getBody()&&yt(U,Do))return!0;const Mo=Qr(me.getRng()),Eo=U.getParent(de(A,Mo,R,Gt),"LI",Gt);if(Eo&&Eo!==$t)return A.undoManager.transact(()=>{R?Rs(A,Mo,Eo,$t):tr($t)?ir(A):dc(A,Mo,$t,Eo)}),!0;if(!Eo&&!R&&Mo.startOffset===0&&Mo.endOffset===0)return A.undoManager.transact(()=>{la(A)}),!0}return!1},yi=(A,R,U)=>{const me=A.getParent(R.parentNode,A.isBlock,U);A.remove(R),me&&A.isEmpty(me)&&A.remove(me)},jm=(A,R)=>{const U=A.dom,me=A.selection.getStart(),ve=pi(A,me),Gt=U.getParent(me,U.isBlock,ve);if(Gt&&U.isEmpty(Gt)){const $t=Qr(A.selection.getRng()),Do=U.getParent(de(A,$t,R,ve),"LI",ve);if(Do){const Mo=Xr=>at(["td","th","caption"],Pe(Xr)),Eo=Xr=>Xr.dom===ve,Yr=Jn(Ft.fromDom(Do),Mo,Eo),wc=Jn(Ft.fromDom($t.startContainer),Mo,Eo);return vn(Yr,wc,he)?(A.undoManager.transact(()=>{const Xr=Do.parentNode;yi(U,Gt,ve),$l(U,Xr),A.selection.select(Do,!0),A.selection.collapse(R)}),!0):!1}}return!1},Uu=(A,R)=>vl(A,R)||jm(A,R),qc=A=>{const R=A.selection.getStart(),U=pi(A,R);return A.dom.getParent(R,"LI,DT,DD",U)||ma(A).length>0},bd=A=>qc(A)?(A.undoManager.transact(()=>{A.execCommand("Delete"),Wm(A.dom,A.getBody())}),!0):!1,Jd=(A,R)=>{const U=A.selection;return!Rc(A,U.getNode())&&(U.isCollapsed()?Uu(A,R):bd(A))},kh=A=>{A.on("ExecCommand",R=>{const U=R.command.toLowerCase();(U==="delete"||U==="forwarddelete")&&qc(A)&&Wm(A.dom,A.getBody())}),A.on("keydown",R=>{R.keyCode===Oo.BACKSPACE?Jd(A,!1)&&R.preventDefault():R.keyCode===Oo.DELETE&&Jd(A,!0)&&R.preventDefault()})},vi=A=>({backspaceDelete:R=>{Jd(A,R)}}),Qd=(A,R)=>{const U=Ps(A);U===null||Rc(A,U)||A.undoManager.transact(()=>{Xn(R.styles)&&A.dom.setStyles(U,R.styles),Xn(R.attrs)&&Pr(R.attrs,(me,ve)=>A.dom.setAttrib(U,ve,me))})},Qf=A=>{const R=Hn(qe(A).split("")),U=Jt(R,(me,ve)=>{const Gt=me.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,ve)*Gt});return Se(U,(me,ve)=>me+ve,0)},Nc=A=>{if(A--,A<0)return"";{const R=A%26,U=Math.floor(A/26),me=Nc(U),ve=String.fromCharCode("A".charCodeAt(0)+R);return me+ve}},Ua=A=>/^[A-Z]+$/.test(A),uu=A=>/^[a-z]+$/.test(A),yd=A=>/^[0-9]+$/.test(A),Fi=A=>yd(A)?2:Ua(A)?0:uu(A)?1:io(A)?3:4,Gc=A=>{switch(Fi(A)){case 2:return W.some({listStyleType:W.none(),start:A});case 0:return W.some({listStyleType:W.some("upper-alpha"),start:Qf(A).toString()});case 1:return W.some({listStyleType:W.some("lower-alpha"),start:Qf(A).toString()});case 3:return W.some({listStyleType:W.none(),start:""});case 4:return W.none()}},Zm=A=>{const R=parseInt(A.start,10);return Ct(A.listStyleType,"upper-alpha")?Nc(R):Ct(A.listStyleType,"lower-alpha")?Nc(R).toLowerCase():A.start},op=A=>{const R=Ps(A);!Ge(R)||Rc(A,R)||A.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Zm({start:A.dom.getAttrib(R,"start","1"),listStyleType:W.from(A.dom.getStyle(R,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:U=>{const me=U.getData();Gc(me.start).each(ve=>{A.execCommand("mceListUpdate",!1,{attrs:{start:ve.start==="1"?"":ve.start},styles:{"list-style-type":ve.listStyleType.getOr("")}})}),U.close()}})},Wu=(A,R)=>()=>{const U=Ps(A);return Ln(U)&&U.nodeName===R},em=A=>{A.addCommand("mceListProps",()=>{op(A)})},tm=A=>{A.on("BeforeExecCommand",R=>{const U=R.command.toLowerCase();U==="indent"?qs(A):U==="outdent"&&ir(A)}),A.addCommand("InsertUnorderedList",(R,U)=>{Xd(A,"UL",U)}),A.addCommand("InsertOrderedList",(R,U)=>{Xd(A,"OL",U)}),A.addCommand("InsertDefinitionList",(R,U)=>{Xd(A,"DL",U)}),A.addCommand("RemoveList",()=>{la(A)}),em(A),A.addCommand("mceListUpdate",(R,U)=>{Xn(U)&&Qd(A,U)}),A.addQueryStateHandler("InsertUnorderedList",Wu(A,"UL")),A.addQueryStateHandler("InsertOrderedList",Wu(A,"OL")),A.addQueryStateHandler("InsertDefinitionList",Wu(A,"DL"))};var kl=tinymce.util.Tools.resolve("tinymce.html.Node");const qm=A=>A.type===3,wh=A=>A.length===0,sp=A=>{const R=(ve,Gt)=>{const $t=kl.create("li");$e(ve,Do=>$t.append(Do)),Gt?A.insert($t,Gt,!0):A.append($t)},U=(ve,Gt)=>qm(Gt)?[...ve,Gt]:!wh(ve)&&!qm(Gt)?(R(ve,Gt),[]):ve,me=Se(A.children(),U,[]);wh(me)||R(me)},Gm=A=>{A.on("PreInit",()=>{const{parser:R}=A;R.addNodeFilter("ul,ol",U=>$e(U,sp))})},ef=A=>{A.on("keydown",R=>{R.keyCode!==Oo.TAB||Oo.metaKeyPressed(R)||A.undoManager.transact(()=>{(R.shiftKey?ir(A):qs(A))&&R.preventDefault()})})},nm=A=>{Rn(A)&&ef(A),kh(A)},ju=(A,R)=>U=>{const me=ve=>{U.setActive(Va(ve.parents,R)),U.setEnabled(!Rc(A,ve.element)&&A.selection.isEditable())};return U.setEnabled(A.selection.isEditable()),gl(A,me)},Or=A=>{const R=U=>()=>A.execCommand(U);A.hasPlugin("advlist")||(A.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:R("InsertOrderedList"),onSetup:ju(A,"OL")}),A.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:R("InsertUnorderedList"),onSetup:ju(A,"UL")}))},Ur=(A,R)=>U=>gl(A,ve=>U.setEnabled(Va(ve.parents,R)&&!Rc(A,ve.element))),Kc=A=>{const R={text:"List properties...",icon:"ordered-list",onAction:()=>A.execCommand("mceListProps"),onSetup:Ur(A,"OL")};A.ui.registry.addMenuItem("listprops",R),A.ui.registry.addContextMenu("lists",{update:U=>{const me=Ps(A,U);return Ge(me)?["listprops"]:[]}})};var Km=()=>{Tn.add("lists",A=>(Gn(A),Gm(A),A.hasPlugin("rtc",!0)?em(A):(nm(A),tm(A)),Or(A),Kc(A),vi(A)))};Km()})()},6817:function(Tn,bn,Ve){Ve(43459)},43459:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(ie,le,Ge)=>{var ct;return Ge(ie,le.prototype)?!0:((ct=ie.constructor)===null||ct===void 0?void 0:ct.name)===le.name},Ve=ie=>{const le=typeof ie;return ie===null?"null":le==="object"&&Array.isArray(ie)?"array":le==="object"&&bn(ie,String,(Ge,ct)=>ct.isPrototypeOf(Ge))?"string":le},Pn=ie=>le=>Ve(le)===ie,Ao=Pn("string"),So=Pn("object"),Xn=Pn("array"),Qe=ie=>ie==null,yn=ie=>!Qe(ie);class An{constructor(le,Ge){this.tag=le,this.value=Ge}static some(le){return new An(!0,le)}static none(){return An.singletonNone}fold(le,Ge){return this.tag?Ge(this.value):le()}isSome(){return this.tag}isNone(){return!this.tag}map(le){return this.tag?An.some(le(this.value)):An.none()}bind(le){return this.tag?le(this.value):An.none()}exists(le){return this.tag&&le(this.value)}forall(le){return!this.tag||le(this.value)}filter(le){return!this.tag||le(this.value)?this:An.none()}getOr(le){return this.tag?this.value:le}or(le){return this.tag?this:le}getOrThunk(le){return this.tag?this.value:le()}orThunk(le){return this.tag?this:le()}getOrDie(le){if(this.tag)return this.value;throw new Error(le!=null?le:"Called getOrDie on None")}static from(le){return yn(le)?An.some(le):An.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(le){this.tag&&le(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}An.singletonNone=new An(!1);const Ln=Array.prototype.push,zo=(ie,le)=>{for(let Ge=0,ct=ie.length;Ge<ct;Ge++){const zn=ie[Ge];le(zn,Ge)}},dn=ie=>{const le=[];for(let Ge=0,ct=ie.length;Ge<ct;++Ge){if(!Xn(ie[Ge]))throw new Error("Arr.flatten item "+Ge+" was not an array, input: "+ie);Ln.apply(le,ie[Ge])}return le},en=ie=>{let le=ie;return{get:()=>le,set:zn=>{le=zn}}},Wt=Object.keys,ln=Object.hasOwnProperty,ot=(ie,le)=>{const Ge=Wt(ie);for(let ct=0,zn=Ge.length;ct<zn;ct++){const oo=Ge[ct],vo=ie[oo];le(vo,oo)}},Rt=(ie,le)=>Ot(ie,le)?An.from(ie[le]):An.none(),Ot=(ie,le)=>ln.call(ie,le),W=ie=>le=>le.options.get(ie),ft=ie=>{const le=ie.options.register;le("audio_template_callback",{processor:"function"}),le("video_template_callback",{processor:"function"}),le("iframe_template_callback",{processor:"function"}),le("media_live_embeds",{processor:"boolean",default:!0}),le("media_filter_html",{processor:"boolean",default:!0}),le("media_url_resolver",{processor:"function"}),le("media_alt_source",{processor:"boolean",default:!0}),le("media_poster",{processor:"boolean",default:!0}),le("media_dimensions",{processor:"boolean",default:!0})},Fo=W("audio_template_callback"),ht=W("video_template_callback"),H=W("iframe_template_callback"),at=W("media_live_embeds"),Sn=W("media_filter_html"),Jt=W("media_url_resolver"),$e=W("media_alt_source"),ce=W("media_poster"),Ro=W("media_dimensions");var Se=tinymce.util.Tools.resolve("tinymce.util.Tools"),De=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),E=tinymce.util.Tools.resolve("tinymce.html.DomParser");const gn=De.DOM,rt=ie=>ie.replace(/px$/,""),Hn=ie=>{const le=ie.attr("style"),Ge=le?gn.parseStyle(le):{};return{type:"ephox-embed-iri",source:ie.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:Rt(Ge,"max-width").map(rt).getOr(""),height:Rt(Ge,"max-height").map(rt).getOr("")}},tn=(ie,le)=>{let Ge={};const zn=E({validate:!1,forced_root_block:!1},le).parse(ie);for(let oo=zn;oo;oo=oo.walk())if(oo.type===1){const vo=oo.name;if(oo.attr("data-ephox-embed-iri")){Ge=Hn(oo);break}else!Ge.source&&vo==="param"&&(Ge.source=oo.attr("movie")),(vo==="iframe"||vo==="object"||vo==="embed"||vo==="video"||vo==="audio")&&(Ge.type||(Ge.type=vo),Ge=Se.extend(oo.attributes.map,Ge)),vo==="source"&&(Ge.source?Ge.altsource||(Ge.altsource=oo.attr("src")):Ge.source=oo.attr("src")),vo==="img"&&!Ge.poster&&(Ge.poster=oo.attr("src"))}return Ge.source=Ge.source||Ge.src||"",Ge.altsource=Ge.altsource||"",Ge.poster=Ge.poster||"",Ge},et=ie=>{var le;const Ge={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},ct=(le=ie.toLowerCase().split(".").pop())!==null&&le!==void 0?le:"";return Rt(Ge,ct).getOr("")};var uo=tinymce.util.Tools.resolve("tinymce.html.Node"),Yo=tinymce.util.Tools.resolve("tinymce.html.Serializer");const Ct=(ie,le={})=>E(te({forced_root_block:!1,validate:!1,allow_conditional_comments:!0},le),ie),vn=De.DOM,Re=ie=>/^[0-9.]+$/.test(ie)?ie+"px":ie,it=(ie,le)=>{const Ge=le.attr("style"),ct=Ge?vn.parseStyle(Ge):{};yn(ie.width)&&(ct["max-width"]=Re(ie.width)),yn(ie.height)&&(ct["max-height"]=Re(ie.height)),le.attr("style",vn.serializeStyle(ct))},F=["source","altsource"],Xo=(ie,le,Ge,ct)=>{let zn=0,oo=0;const vo=Ct(ct);vo.addNodeFilter("source",ke=>zn=ke.length);const tr=vo.parse(ie);for(let ke=tr;ke;ke=ke.walk())if(ke.type===1){const ko=ke.name;if(ke.attr("data-ephox-embed-iri")){it(le,ke);break}else{switch(ko){case"video":case"object":case"embed":case"img":case"iframe":le.height!==void 0&&le.width!==void 0&&(ke.attr("width",le.width),ke.attr("height",le.height));break}if(Ge)switch(ko){case"video":ke.attr("poster",le.poster),ke.attr("src",null);for(let ge=zn;ge<2;ge++)if(le[F[ge]]){const yt=new uo("source",1);yt.attr("src",le[F[ge]]),yt.attr("type",le[F[ge]+"mime"]||null),ke.append(yt)}break;case"iframe":ke.attr("src",le.source);break;case"object":const fe=ke.getAll("img").length>0;if(le.poster&&!fe){ke.attr("src",le.poster);const ge=new uo("img",1);ge.attr("src",le.poster),ge.attr("width",le.width),ge.attr("height",le.height),ke.append(ge)}break;case"source":if(oo<2&&(ke.attr("src",le[F[oo]]),ke.attr("type",le[F[oo]+"mime"]||null),!le[F[oo]])){ke.remove();continue}oo++;break;case"img":le.poster||ke.remove();break}}}return Yo({},ct).serialize(tr)},no=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],lt=ie=>{const le=ie.match(/^(https?:\/\/|www\.)(.+)$/i);return le&&le.length>1?le[1]==="www."?"https://":le[1]:"https://"},bt=(ie,le)=>{const Ge=lt(le),ct=ie.regex.exec(le);let zn=Ge+ie.url;if(yn(ct))for(let oo=0;oo<ct.length;oo++)zn=zn.replace("$"+oo,()=>ct[oo]?ct[oo]:"");return zn.replace(/\?$/,"")},Ft=ie=>{const le=no.filter(Ge=>Ge.regex.test(ie));return le.length>0?Se.extend({},le[0],{url:bt(le[0],ie)}):null},ee=(ie,le)=>{if(le)return le(ie);{const Ge=ie.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ie.source+'" width="'+ie.width+'" height="'+ie.height+'"'+Ge+"></iframe>"}},he=ie=>{let le='<object data="'+ie.source+'" width="'+ie.width+'" height="'+ie.height+'" type="application/x-shockwave-flash">';return ie.poster&&(le+='<img src="'+ie.poster+'" width="'+ie.width+'" height="'+ie.height+'" />'),le+="</object>",le},we=(ie,le)=>le?le(ie):'<audio controls="controls" src="'+ie.source+'">'+(ie.altsource?`
<source src="`+ie.altsource+'"'+(ie.altsourcemime?' type="'+ie.altsourcemime+'"':"")+` />
`:"")+"</audio>",ae=(ie,le)=>le?le(ie):'<video width="'+ie.width+'" height="'+ie.height+'"'+(ie.poster?' poster="'+ie.poster+'"':"")+` controls="controls">
<source src="`+ie.source+'"'+(ie.sourcemime?' type="'+ie.sourcemime+'"':"")+` />
`+(ie.altsource?'<source src="'+ie.altsource+'"'+(ie.altsourcemime?' type="'+ie.altsourcemime+'"':"")+` />
`:"")+"</video>",Ne=(ie,le)=>{var Ge;const ct=Se.extend({},le);if(!ct.source&&(Se.extend(ct,tn((Ge=ct.embed)!==null&&Ge!==void 0?Ge:"",ie.schema)),!ct.source))return"";ct.altsource||(ct.altsource=""),ct.poster||(ct.poster=""),ct.source=ie.convertURL(ct.source,"source"),ct.altsource=ie.convertURL(ct.altsource,"source"),ct.sourcemime=et(ct.source),ct.altsourcemime=et(ct.altsource),ct.poster=ie.convertURL(ct.poster,"poster");const zn=Ft(ct.source);if(zn&&(ct.source=zn.url,ct.type=zn.type,ct.allowfullscreen=zn.allowFullscreen,ct.width=ct.width||String(zn.w),ct.height=ct.height||String(zn.h)),ct.embed)return Xo(ct.embed,ct,!0,ie.schema);{const oo=Fo(ie),vo=ht(ie),tr=H(ie);return ct.width=ct.width||"300",ct.height=ct.height||"150",Se.each(ct,(ke,ko)=>{ct[ko]=ie.dom.encode(""+ke)}),ct.type==="iframe"?ee(ct,tr):ct.sourcemime==="application/x-shockwave-flash"?he(ct):ct.sourcemime.indexOf("audio")!==-1?we(ct,oo):ae(ct,vo)}},Pe=ie=>ie.hasAttribute("data-mce-object")||ie.hasAttribute("data-ephox-embed-iri"),Ye=ie=>{ie.on("click keyup touchend",()=>{const le=ie.selection.getNode();le&&ie.dom.hasClass(le,"mce-preview-object")&&ie.dom.getAttrib(le,"data-mce-selected")&&le.setAttribute("data-mce-selected","2")}),ie.on("ObjectResized",le=>{const Ge=le.target;if(Ge.getAttribute("data-mce-object")){let ct=Ge.getAttribute("data-mce-html");ct&&(ct=unescape(ct),Ge.setAttribute("data-mce-html",escape(Xo(ct,{width:String(le.width),height:String(le.height)},!1,ie.schema))))}})},We={},J=(ie,le,Ge)=>new Promise((ct,zn)=>{const oo=vo=>(vo.html&&(We[ie.source]=vo),ct({url:ie.source,html:vo.html?vo.html:le(ie)}));We[ie.source]?oo(We[ie.source]):Ge({url:ie.source},oo,zn)}),xe=(ie,le)=>Promise.resolve({html:le(ie),url:ie.source}),Le=ie=>le=>Ne(ie,le),Mt=(ie,le)=>{const Ge=Jt(ie);return Ge?J(le,Le(ie),Ge):xe(le,Le(ie))},Zn=ie=>Ot(We,ie),On=(ie,le)=>Rt(le,ie).bind(Ge=>Rt(Ge,"meta")),Nn=(ie,le,Ge)=>ct=>{const zn=()=>Rt(ie,ct),oo=()=>Rt(le,ct),vo=ko=>Rt(ko,"value").bind(fe=>fe.length>0?An.some(fe):An.none()),tr=()=>zn().bind(ko=>So(ko)?vo(ko).orThunk(oo):oo().orThunk(()=>An.from(ko))),ke=()=>oo().orThunk(()=>zn().bind(ko=>So(ko)?vo(ko):An.from(ko)));return{[ct]:(ct===Ge?tr():ke()).getOr("")}},Un=(ie,le)=>{const Ge={};return Rt(ie,"dimensions").each(ct=>{zo(["width","height"],zn=>{Rt(le,zn).orThunk(()=>Rt(ct,zn)).each(oo=>Ge[zn]=oo)})}),Ge},$o=(ie,le)=>{const Ge=le&&le!=="dimensions"?On(le,ie).getOr({}):{},ct=Nn(ie,Ge,le);return te(te(te(te(te({},ct("source")),ct("altsource")),ct("poster")),ct("embed")),Un(ie,Ge))},to=ie=>{const le=pt(te({},ie),{source:{value:Rt(ie,"source").getOr("")},altsource:{value:Rt(ie,"altsource").getOr("")},poster:{value:Rt(ie,"poster").getOr("")}});return zo(["width","height"],Ge=>{Rt(ie,Ge).each(ct=>{const zn=le.dimensions||{};zn[Ge]=ct,le.dimensions=zn})}),le},Jn=ie=>le=>{const Ge=le&&le.msg?"Media embed handler error: "+le.msg:"Media embed handler threw unknown error.";ie.notificationManager.open({type:"error",text:Ge})},ao=ie=>{const le=ie.selection.getNode(),Ge=Pe(le)?ie.serializer.serialize(le,{selection:!0}):"",ct=tn(Ge,ie.schema),oo=(()=>{if(Jo(ct.source,ct.type)){const vo=ie.dom.getRect(le);return{width:vo.w.toString().replace(/px$/,""),height:vo.h.toString().replace(/px$/,"")}}else return{}})();return te(te({embed:Ge},ct),oo)},kn=(ie,le)=>Ge=>{if(Ao(Ge.url)&&Ge.url.trim().length>0){const ct=Ge.html,zn=tn(ct,le.schema),oo=pt(te({},zn),{source:Ge.url,embed:ct});ie.setData(to(oo))}},co=(ie,le)=>{const Ge=ie.dom.select("*[data-mce-object]");for(let ct=0;ct<le.length;ct++)for(let zn=Ge.length-1;zn>=0;zn--)le[ct]===Ge[zn]&&Ge.splice(zn,1);ie.selection.select(Ge[0])},Zo=(ie,le)=>{const Ge=ie.dom.select("*[data-mce-object]");ie.insertContent(le),co(ie,Ge),ie.nodeChanged()},Jo=(ie,le)=>yn(le)&&le==="ephox-embed-iri"&&yn(Ft(ie)),as=(ie,le)=>((ct,zn)=>ct.width!==zn.width||ct.height!==zn.height)(ie,le)&&Jo(le.source,ie.type),xo=(ie,le,Ge)=>{var ct;le.embed=as(ie,le)&&Ro(Ge)?Ne(Ge,pt(te({},le),{embed:""})):Xo((ct=le.embed)!==null&&ct!==void 0?ct:"",le,!1,Ge.schema),le.embed&&(ie.source===le.source||Zn(le.source))?Zo(Ge,le.embed):Mt(Ge,le).then(zn=>{Zo(Ge,zn.html)}).catch(Jn(Ge))},wr=ie=>{const le=ao(ie),Ge=en(le),ct=to(le),zn=(Mn,$n)=>{const so=$o($n.getData(),"source");Mn.source!==so.source&&(kn(Rn,ie)({url:so.source,html:""}),Mt(ie,so).then(kn(Rn,ie)).catch(Jn(ie)))},oo=Mn=>{var $n;const so=$o(Mn.getData()),es=tn(($n=so.embed)!==null&&$n!==void 0?$n:"",ie.schema);Mn.setData(to(es))},vo=(Mn,$n,so)=>{const es=$o(Mn.getData(),$n),Us=as(so,es)&&Ro(ie)?pt(te({},es),{embed:""}):es,Ra=Ne(ie,Us);Mn.setData(to(pt(te({},Us),{embed:Ra})))},tr=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],ke=Ro(ie)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],ko={title:"General",name:"general",items:dn([tr,ke])},ge={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},yt=[];$e(ie)&&yt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ce(ie)&&yt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Et={title:"Advanced",name:"advanced",items:yt},nn=[ko,ge];yt.length>0&&nn.push(Et);const Gn={type:"tabpanel",tabs:nn},Rn=ie.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Gn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Mn=>{const $n=$o(Mn.getData());xo(Ge.get(),$n,ie),Mn.close()},onChange:(Mn,$n)=>{switch($n.name){case"source":zn(Ge.get(),Mn);break;case"embed":oo(Mn);break;case"dimensions":case"altsource":case"poster":vo(Mn,$n.name,Ge.get());break}Ge.set($o(Mn.getData()))},initialData:ct})},xt=ie=>({showDialog:()=>{wr(ie)}}),Oo=ie=>{const le=()=>{wr(ie)};ie.addCommand("mceMedia",le)},Js=(ie,le,Ge)=>le===""||ie.length>=le.length&&ie.substr(Ge,Ge+le.length)===le,_r=(ie,le)=>Js(ie,le,0);var Pr=tinymce.util.Tools.resolve("tinymce.Env");const qr=ie=>{const le=ie.name;return le==="iframe"||le==="video"||le==="audio"},Cs=(ie,le,Ge,ct=null)=>{const zn=ie.attr(Ge);return yn(zn)?zn:Ot(le,Ge)?null:ct},Jr=(ie,le,Ge)=>{const ct=le.name==="img"||ie.name==="video",zn=ct?"300":null,oo=ie.name==="audio"?"30":"150",vo=ct?oo:null;le.attr({width:Cs(ie,Ge,"width",zn),height:Cs(ie,Ge,"height",vo)})},Hr=(ie,le,Ge,ct)=>{const zn=Ct(ie.schema).parse(ct,{context:le});for(;zn.firstChild;)Ge.append(zn.firstChild)},fs=(ie,le)=>{const Ge=le.name,ct=new uo("img",1);return cr(ie,le,ct),Jr(le,ct,{}),ct.attr({style:le.attr("style"),src:Pr.transparentSrc,"data-mce-object":Ge,class:"mce-object mce-object-"+Ge}),ct},qn=(ie,le)=>{var Ge;const ct=le.name,zn=new uo("span",1);zn.attr({contentEditable:"false",style:le.attr("style"),"data-mce-object":ct,class:"mce-preview-object mce-object-"+ct}),cr(ie,le,zn);const oo=ie.dom.parseStyle((Ge=le.attr("style"))!==null&&Ge!==void 0?Ge:""),vo=new uo(ct,1);if(Jr(le,vo,oo),vo.attr({src:le.attr("src"),style:le.attr("style"),class:le.attr("class")}),ct==="iframe")vo.attr({allowfullscreen:le.attr("allowfullscreen"),frameborder:"0"});else{zo(["controls","crossorigin","currentTime","loop","muted","poster","preload"],fe=>{vo.attr(fe,le.attr(fe))});const ko=zn.attr("data-mce-html");yn(ko)&&Hr(ie,ct,vo,unescape(ko))}const tr=new uo("span",1);return tr.attr("class","mce-shim"),zn.append(vo),zn.append(tr),zn},cr=(ie,le,Ge)=>{var ct;const zn=(ct=le.attributes)!==null&&ct!==void 0?ct:[];let oo=zn.length;for(;oo--;){const ko=zn[oo].name;let fe=zn[oo].value;ko!=="width"&&ko!=="height"&&ko!=="style"&&!_r(ko,"data-mce-")&&((ko==="data"||ko==="src")&&(fe=ie.convertURL(fe,ko)),Ge.attr("data-mce-p-"+ko,fe))}const vo=Yo({inner:!0},ie.schema),tr=new uo("div",1);zo(le.children(),ko=>tr.append(ko));const ke=vo.serialize(tr);ke&&(Ge.attr("data-mce-html",escape(ke)),Ge.empty())},Ae=ie=>{const le=ie.attr("class");return Ao(le)&&/\btiny-pageembed\b/.test(le)},Xe=ie=>{let le=ie;for(;le=le.parent;)if(le.attr("data-ephox-embed-iri")||Ae(le))return!0;return!1},Yt=ie=>le=>{let Ge=le.length,ct;for(;Ge--;)ct=le[Ge],ct.parent&&(ct.parent.attr("data-mce-object")||(qr(ct)&&at(ie)?Xe(ct)||ct.replace(qn(ie,ct)):Xe(ct)||ct.replace(fs(ie,ct))))},xn=(ie,le,Ge)=>{const ct=ie.options.get,zn=ct("xss_sanitization"),oo=Sn(ie);return Ct(ie.schema,{sanitize:zn,validate:oo}).parse(Ge,{context:le})},po=ie=>{ie.on("PreInit",()=>{const{schema:le,serializer:Ge,parser:ct}=ie,zn=le.getBoolAttrs();zo("webkitallowfullscreen mozallowfullscreen".split(" "),oo=>{zn[oo]={}}),ot({embed:["wmode"]},(oo,vo)=>{const tr=le.getElementRule(vo);tr&&zo(oo,ke=>{tr.attributes[ke]={},tr.attributesOrder.push(ke)})}),ct.addNodeFilter("iframe,video,audio,object,embed",Yt(ie)),Ge.addAttributeFilter("data-mce-object",(oo,vo)=>{var tr;let ke=oo.length;for(;ke--;){const ko=oo[ke];if(!ko.parent)continue;const fe=ko.attr(vo),ge=new uo(fe,1);if(fe!=="audio"){const Gn=ko.attr("class");Gn&&Gn.indexOf("mce-preview-object")!==-1&&ko.firstChild?ge.attr({width:ko.firstChild.attr("width"),height:ko.firstChild.attr("height")}):ge.attr({width:ko.attr("width"),height:ko.attr("height")})}ge.attr({style:ko.attr("style")});const yt=(tr=ko.attributes)!==null&&tr!==void 0?tr:[];let Et=yt.length;for(;Et--;){const Gn=yt[Et].name;Gn.indexOf("data-mce-p-")===0&&ge.attr(Gn.substr(11),yt[Et].value)}const nn=ko.attr("data-mce-html");if(nn){const Gn=xn(ie,fe,unescape(nn));zo(Gn.children(),Rn=>ge.append(Rn))}ko.replace(ge)}})}),ie.on("SetContent",()=>{const le=ie.dom;zo(le.select("span.mce-preview-object"),Ge=>{le.select("span.mce-shim",Ge).length===0&&le.add(Ge,"span",{class:"mce-shim"})})})},ss=ie=>{ie.on("ResolveName",le=>{let Ge;le.target.nodeType===1&&(Ge=le.target.getAttribute("data-mce-object"))&&(le.name=Ge)})},fr=ie=>le=>{const Ge=()=>{le.setEnabled(ie.selection.isEditable())};return ie.on("NodeChange",Ge),Ge(),()=>{ie.off("NodeChange",Ge)}},Qs=ie=>{const le=()=>ie.execCommand("mceMedia");ie.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:le,onSetup:Ge=>{const ct=ie.selection;Ge.setActive(Pe(ct.getNode()));const zn=ct.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Ge.setActive).unbind,oo=fr(ie)(Ge);return()=>{zn(),oo()}}}),ie.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:le,onSetup:fr(ie)})};var er=()=>{Tn.add("media",ie=>(ft(ie),Oo(ie),Qs(ie),ss(ie),po(ie),Ye(ie),xt(ie)))};er()})()},81812:function(Tn,bn,Ve){Ve(15292)},15292:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=Rt=>Ot=>typeof Ot===Rt,Ve=bn("boolean"),Pn=bn("number"),Ao=Rt=>Ot=>Ot.options.get(Rt),So=Rt=>{const Ot=Rt.options.register;Ot("nonbreaking_force_tab",{processor:W=>Ve(W)?{value:W?3:0,valid:!0}:Pn(W)?{value:W,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),Ot("nonbreaking_wrap",{processor:"boolean",default:!0})},Xn=Ao("nonbreaking_force_tab"),Qe=Ao("nonbreaking_wrap"),yn=(Rt,Ot)=>{let W="";for(let ft=0;ft<Ot;ft++)W+=Rt;return W},An=Rt=>Rt.plugins.visualchars?Rt.plugins.visualchars.isEnabled():!1,Ln=(Rt,Ot)=>{const W=()=>An(Rt)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",ft=()=>`<span class="${W()}" contenteditable="false">${yn("&nbsp;",Ot)}</span>`,ht=Qe(Rt)||Rt.plugins.visualchars?ft():yn("&nbsp;",Ot);Rt.undoManager.transact(()=>Rt.insertContent(ht))},zo=Rt=>{Rt.addCommand("mceNonBreaking",()=>{Ln(Rt,1)})};var dn=tinymce.util.Tools.resolve("tinymce.util.VK");const en=Rt=>{const Ot=Xn(Rt);Ot>0&&Rt.on("keydown",W=>{if(W.keyCode===dn.TAB&&!W.isDefaultPrevented()){if(W.shiftKey)return;W.preventDefault(),W.stopImmediatePropagation(),Ln(Rt,Ot)}})},Wt=Rt=>Ot=>{const W=()=>{Ot.setEnabled(Rt.selection.isEditable())};return Rt.on("NodeChange",W),W(),()=>{Rt.off("NodeChange",W)}},ln=Rt=>{const Ot=()=>Rt.execCommand("mceNonBreaking");Rt.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:Ot,onSetup:Wt(Rt)}),Rt.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:Ot,onSetup:Wt(Rt)})};var ot=()=>{Tn.add("nonbreaking",Rt=>{So(Rt),zo(Rt),ln(Rt),en(Rt)})};ot()})()},60527:function(Tn,bn,Ve){Ve(77294)},77294:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager"),bn=tinymce.util.Tools.resolve("tinymce.Env");const Ve=Wt=>ln=>ln.options.get(Wt),Pn=Wt=>{const ln=Wt.options.register;ln("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),ln("pagebreak_split_block",{processor:"boolean",default:!1})},Ao=Ve("pagebreak_separator"),So=Ve("pagebreak_split_block"),Xn="mce-pagebreak",Qe=Wt=>{const ln=`<img src="${bn.transparentSrc}" class="${Xn}" data-mce-resize="false" data-mce-placeholder />`;return Wt?`<p>${ln}</p>`:ln},yn=Wt=>{const ln=Ao(Wt),ot=()=>So(Wt),Rt=new RegExp(ln.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,Ot=>"\\"+Ot),"gi");Wt.on("BeforeSetContent",Ot=>{Ot.content=Ot.content.replace(Rt,Qe(ot()))}),Wt.on("PreInit",()=>{Wt.serializer.addNodeFilter("img",Ot=>{let W=Ot.length,ft,Fo;for(;W--;)if(ft=Ot[W],Fo=ft.attr("class"),Fo&&Fo.indexOf(Xn)!==-1){const ht=ft.parent;if(ht&&Wt.schema.getBlockElements()[ht.name]&&ot()){ht.type=3,ht.value=ln,ht.raw=!0,ft.remove();continue}ft.type=3,ft.value=ln,ft.raw=!0}})})},An=Wt=>{Wt.addCommand("mcePageBreak",()=>{Wt.insertContent(Qe(So(Wt)))})},Ln=Wt=>{Wt.on("ResolveName",ln=>{ln.target.nodeName==="IMG"&&Wt.dom.hasClass(ln.target,Xn)&&(ln.name="pagebreak")})},zo=Wt=>ln=>{const ot=()=>{ln.setEnabled(Wt.selection.isEditable())};return Wt.on("NodeChange",ot),ot(),()=>{Wt.off("NodeChange",ot)}},dn=Wt=>{const ln=()=>Wt.execCommand("mcePageBreak");Wt.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:ln,onSetup:zo(Wt)}),Wt.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:ln,onSetup:zo(Wt)})};var en=()=>{Tn.add("pagebreak",Wt=>{Pn(Wt),An(Wt),dn(Wt),yn(Wt),Ln(Wt)})};en()})()},36719:function(Tn,bn,Ve){Ve(38460)},38460:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager"),bn=tinymce.util.Tools.resolve("tinymce.Env"),Ve=tinymce.util.Tools.resolve("tinymce.util.Tools");const Pn=en=>Wt=>Wt.options.get(en),Ao=Pn("content_style"),So=Pn("content_css_cors"),Xn=Pn("body_class"),Qe=Pn("body_id"),yn=en=>{var Wt;let ln="";const ot=en.dom.encode,Rt=(Wt=Ao(en))!==null&&Wt!==void 0?Wt:"";ln+='<base href="'+ot(en.documentBaseURI.getURI())+'">';const Ot=So(en)?' crossorigin="anonymous"':"";Ve.each(en.contentCSS,Jt=>{ln+='<link type="text/css" rel="stylesheet" href="'+ot(en.documentBaseURI.toAbsolute(Jt))+'"'+Ot+">"}),Rt&&(ln+='<style type="text/css">'+Rt+"</style>");const W=Qe(en),ft=Xn(en),ht='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(bn.os.isMacOS()||bn.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",H=en.getBody().dir,at=H?' dir="'+ot(H)+'"':"";return"<!DOCTYPE html><html><head>"+ln+'</head><body id="'+ot(W)+'" class="mce-content-body '+ot(ft)+'"'+at+">"+en.getContent()+ht+"</body></html>"},An=en=>{const Wt=yn(en);en.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:Wt}}).focus("close")},Ln=en=>{en.addCommand("mcePreview",()=>{An(en)})},zo=en=>{const Wt=()=>en.execCommand("mcePreview");en.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:Wt}),en.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:Wt})};var dn=()=>{Tn.add("preview",en=>{Ln(en),zo(en)})};dn()})()},25169:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(lt,bt,Ft)=>{var ee;return Ft(lt,bt.prototype)?!0:((ee=lt.constructor)===null||ee===void 0?void 0:ee.name)===bt.name},Ve=lt=>{const bt=typeof lt;return lt===null?"null":bt==="object"&&Array.isArray(lt)?"array":bt==="object"&&bn(lt,String,(Ft,ee)=>ee.isPrototypeOf(Ft))?"string":bt},Pn=lt=>bt=>Ve(bt)===lt,Ao=lt=>bt=>typeof bt===lt,So=Pn("string"),Xn=Ao("boolean"),Qe=lt=>lt==null,yn=lt=>!Qe(lt),An=Ao("function"),Ln=lt=>bt=>bt.options.get(lt),zo=lt=>{const bt=lt.options.register,Ft=ae=>Ne=>{const Pe=Xn(Ne)||So(Ne);return Pe?Xn(Ne)?{value:Ne?ae:"",valid:Pe}:{value:Ne.trim(),valid:Pe}:{valid:!1,message:"Must be a boolean or string."}},ee="bold italic | quicklink h2 h3 blockquote";bt("quickbars_selection_toolbar",{processor:Ft(ee),default:ee});const he="quickimage quicktable";bt("quickbars_insert_toolbar",{processor:Ft(he),default:he});const we="alignleft aligncenter alignright";bt("quickbars_image_toolbar",{processor:Ft(we),default:we})},dn=Ln("quickbars_selection_toolbar"),en=Ln("quickbars_insert_toolbar"),Wt=Ln("quickbars_image_toolbar");let ln=0;const ot=lt=>{const Ft=new Date().getTime(),ee=Math.floor(Math.random()*1e9);return ln++,lt+"_"+ee+ln+String(Ft)},Rt=(lt,bt,Ft)=>{lt.execCommand("mceInsertTable",!1,{rows:Ft,columns:bt})},Ot=(lt,bt,Ft)=>{const ee=lt.editorUpload.blobCache,he=ee.create(ot("mceu"),Ft,bt);ee.add(he),lt.insertContent(lt.dom.createHTML("img",{src:he.blobUri()}))},W=lt=>new Promise(bt=>{const Ft=new FileReader;Ft.onloadend=()=>{bt(Ft.result.split(",")[1])},Ft.readAsDataURL(lt)});var ft=tinymce.util.Tools.resolve("tinymce.util.Delay");const Fo=lt=>new Promise(bt=>{let Ft=!1;const ee=document.createElement("input");ee.type="file",ee.accept="image/*",ee.style.position="fixed",ee.style.left="0",ee.style.top="0",ee.style.opacity="0.001",document.body.appendChild(ee);const he=Ne=>{var Pe;Ft||((Pe=ee.parentNode)===null||Pe===void 0||Pe.removeChild(ee),Ft=!0,bt(Ne))},we=Ne=>{he(Array.prototype.slice.call(Ne.target.files))};ee.addEventListener("input",we),ee.addEventListener("change",we);const ae=Ne=>{const Pe=()=>{he([])};Ft||(Ne.type==="focusin"?ft.setEditorTimeout(lt,Pe,1e3):Pe()),lt.off("focusin remove",ae)};lt.on("focusin remove",ae),ee.click()}),ht=lt=>{lt.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{Fo(lt).then(bt=>{if(bt.length>0){const Ft=bt[0];W(Ft).then(ee=>{Ot(lt,ee,Ft)})}})}}),lt.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{Rt(lt,2,2)}})},at=(lt=>()=>lt)(!1);class Sn{constructor(bt,Ft){this.tag=bt,this.value=Ft}static some(bt){return new Sn(!0,bt)}static none(){return Sn.singletonNone}fold(bt,Ft){return this.tag?Ft(this.value):bt()}isSome(){return this.tag}isNone(){return!this.tag}map(bt){return this.tag?Sn.some(bt(this.value)):Sn.none()}bind(bt){return this.tag?bt(this.value):Sn.none()}exists(bt){return this.tag&&bt(this.value)}forall(bt){return!this.tag||bt(this.value)}filter(bt){return!this.tag||bt(this.value)?this:Sn.none()}getOr(bt){return this.tag?this.value:bt}or(bt){return this.tag?this:bt}getOrThunk(bt){return this.tag?this.value:bt()}orThunk(bt){return this.tag?this:bt()}getOrDie(bt){if(this.tag)return this.value;throw new Error(bt!=null?bt:"Called getOrDie on None")}static from(bt){return yn(bt)?Sn.some(bt):Sn.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(bt){this.tag&&bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Sn.singletonNone=new Sn(!1),typeof window!="undefined"||Function("return this;")();const Jt=1,$e=lt=>lt.dom.nodeName.toLowerCase(),ce=(lt,bt)=>{const Ft=lt.dom;return Ft&&Ft.hasAttribute?Ft.hasAttribute(bt):!1};var Ro=(lt,bt,Ft,ee,he)=>lt(Ft,ee)?Sn.some(Ft):An(he)&&he(Ft)?Sn.none():bt(Ft,ee,he);const Se=(lt,bt)=>{const ee=(bt||document).createElement("div");if(ee.innerHTML=lt,!ee.hasChildNodes()||ee.childNodes.length>1){const he="HTML does not have a single root node";throw console.error(he,lt),new Error(he)}return gn(ee.childNodes[0])},De=(lt,bt)=>{const ee=(bt||document).createElement(lt);return gn(ee)},E=(lt,bt)=>{const ee=(bt||document).createTextNode(lt);return gn(ee)},gn=lt=>{if(lt==null)throw new Error("Node cannot be null or undefined");return{dom:lt}},Hn={fromHtml:Se,fromTag:De,fromText:E,fromDom:gn,fromPoint:(lt,bt,Ft)=>Sn.from(lt.dom.elementFromPoint(bt,Ft)).map(gn)},tn=(lt,bt)=>{const Ft=lt.dom;if(Ft.nodeType!==Jt)return!1;{const ee=Ft;if(ee.matches!==void 0)return ee.matches(bt);if(ee.msMatchesSelector!==void 0)return ee.msMatchesSelector(bt);if(ee.webkitMatchesSelector!==void 0)return ee.webkitMatchesSelector(bt);if(ee.mozMatchesSelector!==void 0)return ee.mozMatchesSelector(bt);throw new Error("Browser lacks native selectors")}},et=(lt,bt,Ft)=>{let ee=lt.dom;const he=An(Ft)?Ft:at;for(;ee.parentNode;){ee=ee.parentNode;const we=Hn.fromDom(ee);if(bt(we))return Sn.some(we);if(he(we))break}return Sn.none()},uo=(lt,bt,Ft)=>Ro((he,we)=>we(he),et,lt,bt,Ft),Yo=(lt,bt,Ft)=>uo(lt,bt,Ft).isSome(),Ct=(lt,bt,Ft)=>et(lt,ee=>tn(ee,bt),Ft),vn=(lt,bt,Ft)=>Ro((he,we)=>tn(he,we),Ct,lt,bt,Ft),Re=lt=>{const bt=en(lt);bt.length>0&&lt.ui.registry.addContextToolbar("quickblock",{predicate:Ft=>{const ee=Hn.fromDom(Ft),he=lt.schema.getTextBlockElements(),we=ae=>ae.dom===lt.getBody();return!ce(ee,"data-mce-bogus")&&vn(ee,'table,[data-mce-bogus="all"]',we).fold(()=>Yo(ee,ae=>$e(ae)in he&&lt.dom.isEmpty(ae.dom),we),at)},items:bt,position:"line",scope:"editor"})},it=lt=>lt.dom.classList!==void 0,F=(lt,bt)=>it(lt)&&lt.dom.classList.contains(bt),Xo=lt=>{const bt=ae=>lt.dom.isEditable(ae),Ft=ae=>bt(ae.parentElement),ee=ae=>{const Ne=ae.nodeName==="FIGURE"&&/image/i.test(ae.className),Pe=ae.nodeName==="IMG"||Ne,Ye=F(Hn.fromDom(ae),"mce-pagebreak");return Pe&&Ft(ae)&&!Ye},he=Wt(lt);he.length>0&&lt.ui.registry.addContextToolbar("imageselection",{predicate:ee,items:he,position:"node"});const we=dn(lt);we.length>0&&lt.ui.registry.addContextToolbar("textselection",{predicate:ae=>!ee(ae)&&!lt.selection.isCollapsed()&&bt(ae),items:we,position:"selection",scope:"editor"})};var no=()=>{Tn.add("quickbars",lt=>{zo(lt),ht(lt),Re(lt),Xo(lt)})};no()})()},31792:function(Tn,bn,Ve){Ve(17064)},17064:function(){(function(){"use strict";const Tn=fe=>{let ge=fe;return{get:()=>ge,set:nn=>{ge=nn}}};var bn=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ve=(fe,ge,yt)=>{var Et;return yt(fe,ge.prototype)?!0:((Et=fe.constructor)===null||Et===void 0?void 0:Et.name)===ge.name},Pn=fe=>{const ge=typeof fe;return fe===null?"null":ge==="object"&&Array.isArray(fe)?"array":ge==="object"&&Ve(fe,String,(yt,Et)=>Et.isPrototypeOf(yt))?"string":ge},Ao=fe=>ge=>Pn(ge)===fe,So=fe=>ge=>typeof ge===fe,Xn=Ao("string"),Qe=Ao("array"),yn=So("boolean"),An=fe=>fe==null,Ln=fe=>!An(fe),zo=So("number"),dn=()=>{},en=fe=>()=>fe,Wt=en(!0),ot=en("[~\u2116|!-*+-\\/:;?@\\[-`{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]");class Rt{constructor(ge,yt){this.tag=ge,this.value=yt}static some(ge){return new Rt(!0,ge)}static none(){return Rt.singletonNone}fold(ge,yt){return this.tag?yt(this.value):ge()}isSome(){return this.tag}isNone(){return!this.tag}map(ge){return this.tag?Rt.some(ge(this.value)):Rt.none()}bind(ge){return this.tag?ge(this.value):Rt.none()}exists(ge){return this.tag&&ge(this.value)}forall(ge){return!this.tag||ge(this.value)}filter(ge){return!this.tag||ge(this.value)?this:Rt.none()}getOr(ge){return this.tag?this.value:ge}or(ge){return this.tag?this:ge}getOrThunk(ge){return this.tag?this.value:ge()}orThunk(ge){return this.tag?this:ge()}getOrDie(ge){if(this.tag)return this.value;throw new Error(ge!=null?ge:"Called getOrDie on None")}static from(ge){return Ln(ge)?Rt.some(ge):Rt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ge){this.tag&&ge(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Rt.singletonNone=new Rt(!1);const Ot=ot;var W=tinymce.util.Tools.resolve("tinymce.Env"),ft=tinymce.util.Tools.resolve("tinymce.util.Tools");const Fo=Array.prototype.slice,ht=Array.prototype.push,H=(fe,ge)=>{const yt=fe.length,Et=new Array(yt);for(let nn=0;nn<yt;nn++){const Gn=fe[nn];Et[nn]=ge(Gn,nn)}return Et},at=(fe,ge)=>{for(let yt=0,Et=fe.length;yt<Et;yt++){const nn=fe[yt];ge(nn,yt)}},Sn=(fe,ge)=>{for(let yt=fe.length-1;yt>=0;yt--){const Et=fe[yt];ge(Et,yt)}},Jt=(fe,ge)=>{if(fe.length===0)return[];{let yt=ge(fe[0]);const Et=[];let nn=[];for(let Gn=0,Rn=fe.length;Gn<Rn;Gn++){const Mn=fe[Gn],$n=ge(Mn);$n!==yt&&(Et.push(nn),nn=[]),yt=$n,nn.push(Mn)}return nn.length!==0&&Et.push(nn),Et}},$e=(fe,ge,yt)=>(at(fe,(Et,nn)=>{yt=ge(yt,Et,nn)}),yt),ce=fe=>{const ge=[];for(let yt=0,Et=fe.length;yt<Et;++yt){if(!Qe(fe[yt]))throw new Error("Arr.flatten item "+yt+" was not an array, input: "+fe);ht.apply(ge,fe[yt])}return ge},Ro=(fe,ge)=>ce(H(fe,ge)),Se=(fe,ge)=>{const yt=Fo.call(fe,0);return yt.sort(ge),yt},De=Object.hasOwnProperty,E=(fe,ge)=>De.call(fe,ge);typeof window!="undefined"||Function("return this;")();const gn=9,rt=11,Hn=1,tn=3,et=fe=>fe.dom.nodeType,Yo=(fe=>ge=>et(ge)===fe)(tn),Ct=(fe,ge,yt)=>{if(Xn(yt)||yn(yt)||zo(yt))fe.setAttribute(ge,yt+"");else throw console.error("Invalid call to Attribute.set. Key ",ge,":: Value ",yt,":: Element ",fe),new Error("Attribute value was not simple")},vn=(fe,ge,yt)=>{Ct(fe.dom,ge,yt)},Re=(fe,ge)=>{const Et=(ge||document).createElement("div");if(Et.innerHTML=fe,!Et.hasChildNodes()||Et.childNodes.length>1){const nn="HTML does not have a single root node";throw console.error(nn,fe),new Error(nn)}return Xo(Et.childNodes[0])},it=(fe,ge)=>{const Et=(ge||document).createElement(fe);return Xo(Et)},F=(fe,ge)=>{const Et=(ge||document).createTextNode(fe);return Xo(Et)},Xo=fe=>{if(fe==null)throw new Error("Node cannot be null or undefined");return{dom:fe}},lt={fromHtml:Re,fromTag:it,fromText:F,fromDom:Xo,fromPoint:(fe,ge,yt)=>Rt.from(fe.dom.elementFromPoint(ge,yt)).map(Xo)},bt=fe=>fe.nodeType!==Hn&&fe.nodeType!==gn&&fe.nodeType!==rt||fe.childElementCount===0,Ft=(fe,ge)=>{const yt=ge===void 0?document:ge.dom;return bt(yt)?[]:H(yt.querySelectorAll(fe),lt.fromDom)},ee=fe=>Rt.from(fe.dom.parentNode).map(lt.fromDom),he=fe=>H(fe.dom.childNodes,lt.fromDom),we=(fe,ge)=>({element:fe,offset:ge}),ae=(fe,ge)=>{const yt=he(fe);return yt.length>0&&ge<yt.length?we(yt[ge],0):we(fe,ge)},Ne=(fe,ge)=>{ee(fe).each(Et=>{Et.dom.insertBefore(ge.dom,fe.dom)})},Pe=(fe,ge)=>{fe.dom.appendChild(ge.dom)},Ye=(fe,ge)=>{Ne(fe,ge),Pe(ge,fe)},J=((fe,ge)=>{const yt=Gn=>{if(!fe(Gn))throw new Error("Can only get "+ge+" value of a "+ge+" node");return Et(Gn).getOr("")},Et=Gn=>fe(Gn)?Rt.from(Gn.dom.nodeValue):Rt.none();return{get:yt,getOption:Et,set:(Gn,Rn)=>{if(!fe(Gn))throw new Error("Can only set raw "+ge+" value of a "+ge+" node");Gn.dom.nodeValue=Rn}}})(Yo,"text"),xe=fe=>J.get(fe),Le=(fe,ge,yt)=>(fe.compareDocumentPosition(ge)&yt)!==0,Mt=(fe,ge)=>Le(fe,ge,Node.DOCUMENT_POSITION_PRECEDING),Zn=(fe,ge)=>Ft(ge,fe);var On=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Nn=(fe,ge)=>fe.isBlock(ge)||E(fe.schema.getVoidElements(),ge.nodeName),Un=(fe,ge)=>fe.getContentEditable(ge)==="false",$o=(fe,ge)=>fe.getContentEditable(ge)==="true"&&ge.parentNode&&fe.getContentEditableParent(ge.parentNode)==="false",to=(fe,ge)=>!fe.isBlock(ge)&&E(fe.schema.getWhitespaceElements(),ge.nodeName),Jn=(fe,ge)=>Nn(fe,ge)||Un(fe,ge)||to(fe,ge)||$o(fe,ge),ao=fe=>fe.nodeType===3,kn=()=>({sOffset:0,fOffset:0,elements:[]}),co=(fe,ge)=>ae(lt.fromDom(fe),ge),Zo=(fe,ge,yt,Et,nn,Gn=!0)=>{let Rn=Gn?ge(!1):yt;for(;Rn;){const Mn=Un(fe,Rn);if(Mn||to(fe,Rn)){if(Mn?Et.cef(Rn):Et.boundary(Rn))break;Rn=ge(!0);continue}else if(Nn(fe,Rn)){if(Et.boundary(Rn))break}else ao(Rn)&&Et.text(Rn);if(Rn===nn)break;Rn=ge(!1)}},Jo=(fe,ge,yt,Et,nn)=>{var Gn;if(Jn(fe,yt))return;const Rn=(Gn=fe.getParent(Et,fe.isBlock))!==null&&Gn!==void 0?Gn:fe.getRoot(),Mn=new On(yt,Rn),$n=nn?Mn.next.bind(Mn):Mn.prev.bind(Mn);Zo(fe,$n,yt,{boundary:Wt,cef:Wt,text:so=>{nn?ge.fOffset+=so.length:ge.sOffset+=so.length,ge.elements.push(lt.fromDom(so))}})},as=(fe,ge,yt,Et,nn,Gn=!0)=>{const Rn=new On(yt,ge),Mn=[];let $n=kn();Jo(fe,$n,yt,ge,!1);const so=()=>($n.elements.length>0&&(Mn.push($n),$n=kn()),!1);return Zo(fe,Rn.next.bind(Rn),yt,{boundary:so,cef:es=>(so(),nn&&Mn.push(...nn.cef(es)),!1),text:es=>{$n.elements.push(lt.fromDom(es)),nn&&nn.text(es,$n)}},Et,Gn),Et&&Jo(fe,$n,Et,ge,!0),so(),Mn},xo=(fe,ge)=>{const yt=co(ge.startContainer,ge.startOffset),Et=yt.element.dom,nn=co(ge.endContainer,ge.endOffset),Gn=nn.element.dom;return as(fe,ge.commonAncestorContainer,Et,Gn,{text:(Rn,Mn)=>{Rn===Gn?Mn.fOffset+=Rn.length-nn.offset:Rn===Et&&(Mn.sOffset+=yt.offset)},cef:Rn=>{const Mn=Ro(Zn(lt.fromDom(Rn),"*[contenteditable=true]"),$n=>{const so=$n.dom;return as(fe,so,so)});return Se(Mn,($n,so)=>Mt($n.elements[0].dom,so.elements[0].dom)?1:-1)}},!1)},wr=(fe,ge)=>ge.collapsed?[]:xo(fe,ge),xt=(fe,ge)=>{const yt=fe.createRng();return yt.selectNode(ge),wr(fe,yt)},Oo=(fe,ge)=>Ro(ge,yt=>xt(fe,yt)),Js=(fe,ge,yt=0,Et=fe.length)=>{const nn=ge.regex;nn.lastIndex=yt;const Gn=[];let Rn;for(;Rn=nn.exec(fe);){const Mn=Rn[ge.matchIndex],$n=Rn.index+Rn[0].indexOf(Mn),so=$n+Mn.length;if(so>Et)break;Gn.push({start:$n,finish:so}),nn.lastIndex=so}return Gn},_r=(fe,ge)=>{const yt=$e(fe,(Et,nn)=>{const Gn=xe(nn),Rn=Et.last,Mn=Rn+Gn.length,$n=Ro(ge,(so,es)=>so.start<Mn&&so.finish>Rn?[{element:nn,start:Math.max(Rn,so.start)-Rn,finish:Math.min(Mn,so.finish)-Rn,matchId:es}]:[]);return{results:Et.results.concat($n),last:Mn}},{results:[],last:0}).results;return Jt(yt,Et=>Et.matchId)},Pr=(fe,ge)=>Ro(ge,yt=>{const Et=yt.elements,nn=H(Et,xe).join(""),Gn=Js(nn,fe,yt.sOffset,nn.length-yt.fOffset);return _r(Et,Gn)}),qr=(fe,ge)=>{Sn(fe,(yt,Et)=>{Sn(yt,nn=>{const Gn=lt.fromDom(ge.cloneNode(!1));vn(Gn,"data-mce-index",Et);const Rn=nn.element.dom;if(Rn.length===nn.finish&&nn.start===0)Ye(nn.element,Gn);else{Rn.length!==nn.finish&&Rn.splitText(nn.finish);const Mn=Rn.splitText(nn.start);Ye(lt.fromDom(Mn),Gn)}})})},Cs=(fe,ge,yt,Et)=>{const nn=xt(fe,yt),Gn=Pr(ge,nn);return qr(Gn,Et),Gn.length},Jr=(fe,ge,yt,Et)=>{const nn=yt.getBookmark(),Gn=fe.select("td[data-mce-selected],th[data-mce-selected]"),Rn=Gn.length>0?Oo(fe,Gn):wr(fe,yt.getRng()),Mn=Pr(ge,Rn);return qr(Mn,Et),yt.moveToBookmark(nn),Mn.length},Hr=fe=>fe.getAttribute("data-mce-index"),fs=(fe,ge,yt,Et)=>{const nn=fe.dom.create("span",{"data-mce-bogus":1});nn.className="mce-match-marker";const Gn=fe.getBody();return er(fe,ge,!1),Et?Jr(fe.dom,yt,fe.selection,nn):Cs(fe.dom,yt,Gn,nn)},qn=fe=>{var ge;const yt=fe.parentNode;fe.firstChild&&yt.insertBefore(fe.firstChild,fe),(ge=fe.parentNode)===null||ge===void 0||ge.removeChild(fe)},cr=(fe,ge)=>{const yt=[],Et=ft.toArray(fe.getBody().getElementsByTagName("span"));if(Et.length)for(let nn=0;nn<Et.length;nn++){const Gn=Hr(Et[nn]);Gn===null||!Gn.length||Gn===ge.toString()&&yt.push(Et[nn])}return yt},Ae=(fe,ge,yt)=>{const Et=ge.get();let nn=Et.index;const Gn=fe.dom;yt?nn+1===Et.count?nn=0:nn++:nn-1===-1?nn=Et.count-1:nn--,Gn.removeClass(cr(fe,Et.index),"mce-match-marker-selected");const Rn=cr(fe,nn);return Rn.length?(Gn.addClass(cr(fe,nn),"mce-match-marker-selected"),fe.selection.scrollIntoView(Rn[0]),nn):-1},Xe=(fe,ge)=>{const yt=ge.parentNode;fe.remove(ge),yt&&fe.isEmpty(yt)&&fe.remove(yt)},Yt=(fe,ge)=>{const Et="("+fe.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return ge?`(?:^|\\s|${Ot()})`+Et+`(?=$|\\s|${Ot()})`:Et},xn=(fe,ge,yt,Et,nn,Gn)=>{const Rn=fe.selection,Mn=Yt(yt,nn),$n=Rn.isForward(),so={regex:new RegExp(Mn,Et?"g":"gi"),matchIndex:1},es=fs(fe,ge,so,Gn);if(W.browser.isSafari()&&Rn.setRng(Rn.getRng(),$n),es){const Us=Ae(fe,ge,!0);ge.set({index:Us,count:es,text:yt,matchCase:Et,wholeWord:nn,inSelection:Gn})}return es},po=(fe,ge)=>{const yt=Ae(fe,ge,!0);ge.set(pt(te({},ge.get()),{index:yt}))},ss=(fe,ge)=>{const yt=Ae(fe,ge,!1);ge.set(pt(te({},ge.get()),{index:yt}))},fr=fe=>{const ge=Hr(fe);return ge!==null&&ge.length>0},Qs=(fe,ge,yt,Et,nn)=>{const Gn=ge.get(),Rn=Gn.index;let Mn,$n=Rn;Et=Et!==!1;const so=fe.getBody(),es=ft.grep(ft.toArray(so.getElementsByTagName("span")),fr);for(let Us=0;Us<es.length;Us++){const Ra=Hr(es[Us]);let Ha=Mn=parseInt(Ra,10);if(nn||Ha===Gn.index){for(yt.length?(es[Us].innerText=yt,qn(es[Us])):Xe(fe.dom,es[Us]);es[++Us];)if(Ha=parseInt(Hr(es[Us]),10),Ha===Mn)Xe(fe.dom,es[Us]);else{Us--;break}Et&&$n--}else Mn>Rn&&es[Us].setAttribute("data-mce-index",String(Mn-1))}return ge.set(pt(te({},Gn),{count:nn?0:Gn.count-1,index:$n})),Et?po(fe,ge):ss(fe,ge),!nn&&ge.get().count>0},er=(fe,ge,yt)=>{let Et,nn;const Gn=ge.get(),Rn=ft.toArray(fe.getBody().getElementsByTagName("span"));for(let Mn=0;Mn<Rn.length;Mn++){const $n=Hr(Rn[Mn]);$n!==null&&$n.length&&($n===Gn.index.toString()&&(Et||(Et=Rn[Mn].firstChild),nn=Rn[Mn].firstChild),qn(Rn[Mn]))}if(ge.set(pt(te({},Gn),{index:-1,count:0,text:""})),Et&&nn){const Mn=fe.dom.createRng();return Mn.setStart(Et,0),Mn.setEnd(nn,nn.data.length),yt!==!1&&fe.selection.setRng(Mn),Mn}else return},ie=(fe,ge)=>ge.get().count>1,le=(fe,ge)=>ge.get().count>1,Ge=(fe,ge)=>({done:Mn=>er(fe,ge,Mn),find:(Mn,$n,so,es=!1)=>xn(fe,ge,Mn,$n,so,es),next:()=>po(fe,ge),prev:()=>ss(fe,ge),replace:(Mn,$n,so)=>Qs(fe,ge,Mn,$n,so)}),ct=fe=>{const ge=Tn(Rt.none()),yt=()=>ge.get().each(fe);return{clear:()=>{yt(),ge.set(Rt.none())},isSet:()=>ge.get().isSome(),get:()=>ge.get(),set:Mn=>{yt(),ge.set(Rt.some(Mn))}}},zn=()=>{const fe=ct(dn),ge=yt=>fe.get().each(yt);return pt(te({},fe),{on:ge})},oo=(fe,ge)=>{const yt=zn();fe.undoManager.add();const Et=ft.trim(fe.selection.getContent({format:"text"})),nn=wo=>{wo.setEnabled("next",ie(fe,ge)),wo.setEnabled("prev",le(fe,ge))},Gn=wo=>{const ms=wo.getData(),Ws=ge.get();ge.set(pt(te({},Ws),{matchCase:ms.matchcase,wholeWord:ms.wholewords,inSelection:ms.inselection}))},Rn=(wo,ms)=>{at(["replace","replaceall","prev","next"],ra=>wo.setEnabled(ra,!ms))},Mn=(wo,ms)=>{ms.redial(ic(wo,ms.getData()))},$n=(wo,ms)=>{W.browser.isSafari()&&W.deviceType.isTouch()&&(ms==="find"||ms==="replace"||ms==="replaceall")&&wo.focus(ms)},so=wo=>{er(fe,ge,!1),Rn(wo,!0),nn(wo)},es=wo=>{const ms=wo.getData(),Ws=ge.get();if(!ms.findtext.length){so(wo);return}if(Ws.text===ms.findtext&&Ws.matchCase===ms.matchcase&&Ws.wholeWord===ms.wholewords)po(fe,ge);else{const Qr=xn(fe,ge,ms.findtext,ms.matchcase,ms.wholewords,ms.inselection);Qr<=0&&Mn(!0,wo),Rn(wo,Qr===0)}nn(wo)},Us=ge.get(),Ra={findtext:Et,replacetext:"",wholewords:Us.wholeWord,matchcase:Us.matchCase,inselection:Us.inSelection},Ha=wo=>{const ms=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return wo&&ms.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),ms},ic=(wo,ms)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Ha(wo)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:ms,onChange:(Ws,Qr)=>{wo&&Mn(!1,Ws),Qr.name==="findtext"&&ge.get().count>0&&so(Ws)},onAction:(Ws,Qr)=>{const ra=Ws.getData();switch(Qr.name){case"find":es(Ws);break;case"replace":Qs(fe,ge,ra.replacetext)?nn(Ws):so(Ws);break;case"replaceall":Qs(fe,ge,ra.replacetext,!0,!0),so(Ws);break;case"prev":ss(fe,ge),nn(Ws);break;case"next":po(fe,ge),nn(Ws);break;case"matchcase":case"wholewords":case"inselection":Mn(!1,Ws),Gn(Ws),so(Ws);break}$n(Ws,Qr.name)},onSubmit:Ws=>{es(Ws),$n(Ws,"find")},onClose:()=>{fe.focus(),er(fe,ge),fe.undoManager.add()}});yt.set(fe.windowManager.open(ic(!1,Ra),{inline:"toolbar"}))},vo=(fe,ge)=>{fe.addCommand("SearchReplace",()=>{oo(fe,ge)})},tr=(fe,ge)=>()=>{oo(fe,ge)},ke=(fe,ge)=>{fe.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:tr(fe,ge),icon:"search"}),fe.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:tr(fe,ge),icon:"search"}),fe.shortcuts.add("Meta+F","",tr(fe,ge))};var ko=()=>{bn.add("searchreplace",fe=>{const ge=Tn({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return vo(fe,ge),ke(fe,ge),Ge(fe,ge)})};ko()})()},47828:function(Tn,bn,Ve){Ve(54810)},54810:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(w,x,L)=>{var G;return L(w,x.prototype)?!0:((G=w.constructor)===null||G===void 0?void 0:G.name)===x.name},Ve=w=>{const x=typeof w;return w===null?"null":x==="object"&&Array.isArray(w)?"array":x==="object"&&bn(w,String,(L,G)=>G.isPrototypeOf(L))?"string":x},Pn=w=>x=>Ve(x)===w,Ao=w=>x=>typeof x===w,So=w=>x=>w===x,Xn=Pn("string"),Qe=Pn("array"),yn=Ao("boolean"),An=So(void 0),Ln=w=>w==null,zo=w=>!Ln(w),dn=Ao("function"),en=Ao("number"),Wt=()=>{},ln=(w,x)=>L=>w(x(L)),ot=w=>()=>w,Rt=w=>w,Ot=(w,x)=>w===x;function W(w,...x){return(...L)=>{const G=x.concat(L);return w.apply(null,G)}}const ft=w=>{w()},Fo=ot(!1),ht=ot(!0);class H{constructor(x,L){this.tag=x,this.value=L}static some(x){return new H(!0,x)}static none(){return H.singletonNone}fold(x,L){return this.tag?L(this.value):x()}isSome(){return this.tag}isNone(){return!this.tag}map(x){return this.tag?H.some(x(this.value)):H.none()}bind(x){return this.tag?x(this.value):H.none()}exists(x){return this.tag&&x(this.value)}forall(x){return!this.tag||x(this.value)}filter(x){return!this.tag||x(this.value)?this:H.none()}getOr(x){return this.tag?this.value:x}or(x){return this.tag?this:x}getOrThunk(x){return this.tag?this.value:x()}orThunk(x){return this.tag?this:x()}getOrDie(x){if(this.tag)return this.value;throw new Error(x!=null?x:"Called getOrDie on None")}static from(x){return zo(x)?H.some(x):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(x){this.tag&&x(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const at=Object.keys,Sn=Object.hasOwnProperty,Jt=(w,x)=>{const L=at(w);for(let G=0,_e=L.length;G<_e;G++){const st=L[G],Ht=w[st];x(Ht,st)}},$e=w=>(x,L)=>{w[L]=x},ce=(w,x,L,G)=>{Jt(w,(_e,st)=>{(x(_e,st)?L:G)(_e,st)})},Ro=(w,x)=>{const L={};return ce(w,x,$e(L),Wt),L},Se=(w,x)=>{const L=[];return Jt(w,(G,_e)=>{L.push(x(G,_e))}),L},De=w=>Se(w,Rt),E=w=>at(w).length,gn=(w,x)=>rt(w,x)?H.from(w[x]):H.none(),rt=(w,x)=>Sn.call(w,x),Hn=(w,x)=>rt(w,x)&&w[x]!==void 0&&w[x]!==null,tn=w=>{for(const x in w)if(Sn.call(w,x))return!1;return!0},et=Array.prototype.indexOf,uo=Array.prototype.push,Yo=(w,x)=>et.call(w,x),Ct=(w,x)=>Yo(w,x)>-1,vn=(w,x)=>{for(let L=0,G=w.length;L<G;L++){const _e=w[L];if(x(_e,L))return!0}return!1},Re=(w,x)=>{const L=[];for(let G=0;G<w;G++)L.push(x(G));return L},it=(w,x)=>{const L=w.length,G=new Array(L);for(let _e=0;_e<L;_e++){const st=w[_e];G[_e]=x(st,_e)}return G},F=(w,x)=>{for(let L=0,G=w.length;L<G;L++){const _e=w[L];x(_e,L)}},Xo=(w,x)=>{for(let L=w.length-1;L>=0;L--){const G=w[L];x(G,L)}},no=(w,x)=>{const L=[],G=[];for(let _e=0,st=w.length;_e<st;_e++){const Ht=w[_e];(x(Ht,_e)?L:G).push(Ht)}return{pass:L,fail:G}},lt=(w,x)=>{const L=[];for(let G=0,_e=w.length;G<_e;G++){const st=w[G];x(st,G)&&L.push(st)}return L},bt=(w,x,L)=>(Xo(w,(G,_e)=>{L=x(L,G,_e)}),L),Ft=(w,x,L)=>(F(w,(G,_e)=>{L=x(L,G,_e)}),L),ee=(w,x,L)=>{for(let G=0,_e=w.length;G<_e;G++){const st=w[G];if(x(st,G))return H.some(st);if(L(st,G))break}return H.none()},he=(w,x)=>ee(w,x,Fo),we=w=>{const x=[];for(let L=0,G=w.length;L<G;++L){if(!Qe(w[L]))throw new Error("Arr.flatten item "+L+" was not an array, input: "+w);uo.apply(x,w[L])}return x},ae=(w,x)=>we(it(w,x)),Ne=(w,x)=>{for(let L=0,G=w.length;L<G;++L){const _e=w[L];if(x(_e,L)!==!0)return!1}return!0},Pe=(w,x)=>{const L={};for(let G=0,_e=w.length;G<_e;G++){const st=w[G];L[String(st)]=x(st,G)}return L},Ye=(w,x)=>x>=0&&x<w.length?H.some(w[x]):H.none(),We=w=>Ye(w,0),J=w=>Ye(w,w.length-1),xe=(w,x)=>{for(let L=0;L<w.length;L++){const G=x(w[L],L);if(G.isSome())return G}return H.none()},Le=8,Mt=9,Zn=11,On=1,Nn=3,Un=(w,x)=>{const G=(x||document).createElement("div");if(G.innerHTML=w,!G.hasChildNodes()||G.childNodes.length>1){const _e="HTML does not have a single root node";throw console.error(_e,w),new Error(_e)}return Jn(G.childNodes[0])},$o=(w,x)=>{const G=(x||document).createElement(w);return Jn(G)},to=(w,x)=>{const G=(x||document).createTextNode(w);return Jn(G)},Jn=w=>{if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},kn={fromHtml:Un,fromTag:$o,fromText:to,fromDom:Jn,fromPoint:(w,x,L)=>H.from(w.dom.elementFromPoint(x,L)).map(Jn)},co=(w,x)=>{const L=w.dom;if(L.nodeType!==On)return!1;{const G=L;if(G.matches!==void 0)return G.matches(x);if(G.msMatchesSelector!==void 0)return G.msMatchesSelector(x);if(G.webkitMatchesSelector!==void 0)return G.webkitMatchesSelector(x);if(G.mozMatchesSelector!==void 0)return G.mozMatchesSelector(x);throw new Error("Browser lacks native selectors")}},Zo=w=>w.nodeType!==On&&w.nodeType!==Mt&&w.nodeType!==Zn||w.childElementCount===0,Jo=(w,x)=>{const L=x===void 0?document:x.dom;return Zo(L)?[]:it(L.querySelectorAll(w),kn.fromDom)},as=(w,x)=>{const L=x===void 0?document:x.dom;return Zo(L)?H.none():H.from(L.querySelector(w)).map(kn.fromDom)},xo=(w,x)=>w.dom===x.dom,wr=co;typeof window!="undefined"||Function("return this;")();const xt=w=>w.dom.nodeName.toLowerCase(),Oo=w=>w.dom.nodeType,Js=w=>x=>Oo(x)===w,_r=w=>Oo(w)===Le||xt(w)==="#comment",Pr=Js(On),qr=Js(Nn),Cs=Js(Mt),Jr=Js(Zn),Hr=w=>x=>Pr(x)&&xt(x)===w,fs=w=>kn.fromDom(w.dom.ownerDocument),qn=w=>Cs(w)?w:fs(w),cr=w=>H.from(w.dom.parentNode).map(kn.fromDom),Ae=(w,x)=>{const L=dn(x)?x:Fo;let G=w.dom;const _e=[];for(;G.parentNode!==null&&G.parentNode!==void 0;){const st=G.parentNode,Ht=kn.fromDom(st);if(_e.push(Ht),L(Ht)===!0)break;G=st}return _e},Xe=w=>H.from(w.dom.previousSibling).map(kn.fromDom),Yt=w=>H.from(w.dom.nextSibling).map(kn.fromDom),xn=w=>it(w.dom.childNodes,kn.fromDom),po=(w,x)=>{const L=w.dom.childNodes;return H.from(L[x]).map(kn.fromDom)},ss=w=>po(w,0),fr=w=>Jr(w)&&zo(w.dom.host),er=dn(Element.prototype.attachShadow)&&dn(Node.prototype.getRootNode)?w=>kn.fromDom(w.dom.getRootNode()):qn,ie=w=>{const x=er(w);return fr(x)?H.some(x):H.none()},le=w=>kn.fromDom(w.dom.host),Ge=w=>{const x=qr(w)?w.dom.parentNode:w.dom;if(x==null||x.ownerDocument===null)return!1;const L=x.ownerDocument;return ie(kn.fromDom(x)).fold(()=>L.body.contains(x),ln(Ge,le))};var ct=(w,x,L,G,_e)=>w(L,G)?H.some(L):dn(_e)&&_e(L)?H.none():x(L,G,_e);const zn=(w,x,L)=>{let G=w.dom;const _e=dn(L)?L:Fo;for(;G.parentNode;){G=G.parentNode;const st=kn.fromDom(G);if(x(st))return H.some(st);if(_e(st))break}return H.none()},oo=(w,x,L)=>ct((_e,st)=>st(_e),zn,w,x,L),vo=(w,x)=>{const L=_e=>x(kn.fromDom(_e));return he(w.dom.childNodes,L).map(kn.fromDom)},tr=(w,x,L)=>zn(w,G=>co(G,x),L),ke=(w,x)=>vo(w,L=>co(L,x)),ko=(w,x)=>as(x,w),fe=(w,x,L)=>ct((_e,st)=>co(_e,st),tr,w,x,L),ge=w=>fe(w,"[contenteditable]"),yt=(w,x=!1)=>Ge(w)?w.dom.isContentEditable:ge(w).fold(ot(x),L=>Et(L)==="true"),Et=w=>w.dom.contentEditable,nn=w=>w.nodeName.toLowerCase(),Gn=w=>kn.fromDom(w.getBody()),Rn=w=>x=>xo(x,Gn(w)),Mn=w=>w?w.replace(/px$/,""):"",$n=w=>/^\d+(\.\d+)?$/.test(w)?w+"px":w,so=w=>kn.fromDom(w.selection.getStart()),es=w=>kn.fromDom(w.selection.getEnd()),Us=w=>oo(w,Hr("table")).forall(yt),Ra=(w,x)=>lt(xn(w),x),Ha=(w,x)=>{let L=[];return F(xn(w),G=>{x(G)&&(L=L.concat([G])),L=L.concat(Ha(G,x))}),L},ic=(w,x)=>Ra(w,L=>co(L,x)),wo=(w,x)=>Jo(x,w),ms=(w,x,L)=>{if(Xn(L)||yn(L)||en(L))w.setAttribute(x,L+"");else throw console.error("Invalid call to Attribute.set. Key ",x,":: Value ",L,":: Element ",w),new Error("Attribute value was not simple")},Ws=(w,x,L)=>{ms(w.dom,x,L)},Qr=(w,x)=>{const L=w.dom;Jt(x,(G,_e)=>{ms(L,_e,G)})},ra=(w,x)=>{const L=w.dom.getAttribute(x);return L===null?void 0:L},ea=(w,x)=>H.from(ra(w,x)),Ps=(w,x)=>{w.dom.removeAttribute(x)},Fu=w=>Ft(w.dom.attributes,(x,L)=>(x[L.name]=L.value,x),{}),Mi=(w,x,L=Ot)=>w.exists(G=>L(G,x)),zs=w=>{const x=[],L=G=>{x.push(G)};for(let G=0;G<w.length;G++)w[G].each(L);return x},Ma=(w,x,L)=>w.isSome()&&x.isSome()?H.some(L(w.getOrDie(),x.getOrDie())):H.none(),ma=w=>w.bind(Rt),Br=(w,x)=>w?H.some(x):H.none(),pi=(w,x)=>w.substring(x),Dc=(w,x,L)=>x===""||w.length>=x.length&&w.substr(L,L+x.length)===x,aa=(w,x)=>Uc(w,x)?pi(w,x.length):w,Uc=(w,x)=>Dc(w,x,0),Yi=(w=>x=>x.replace(w,""))(/^\s+|\s+$/g),Ni=w=>w.length>0,ti=w=>!Ni(w),Va=(w,x=10)=>{const L=parseInt(w,x);return isNaN(L)?H.none():H.some(L)},Wc=w=>{const x=parseFloat(w);return isNaN(x)?H.none():H.some(x)},hi=w=>w.style!==void 0&&dn(w.style.getPropertyValue),Rc=(w,x,L)=>{if(!Xn(L))throw console.error("Invalid call to CSS.set. Property ",x,":: Value ",L,":: Element ",w),new Error("CSS value must be a string: "+L);hi(w)&&w.style.setProperty(x,L)},gl=(w,x)=>{hi(w)&&w.style.removeProperty(x)},Z=(w,x,L)=>{const G=w.dom;Rc(G,x,L)},pe=(w,x)=>{const L=w.dom,_e=window.getComputedStyle(L).getPropertyValue(x);return _e===""&&!Ge(w)?Oe(L,x):_e},Oe=(w,x)=>hi(w)?w.style.getPropertyValue(x):"",qe=(w,x)=>{const L=w.dom,G=Oe(L,x);return H.from(G).filter(_e=>_e.length>0)},Pt=(w,x)=>{const L=w.dom;gl(L,x),Mi(ea(w,"style").map(Yi),"")&&Ps(w,"style")},io=(w,x,L=0)=>ea(w,x).map(G=>parseInt(G,10)).getOr(L),Bs=(w,x)=>js(w,x,ht),js=(w,x,L)=>ae(xn(w),G=>co(G,x)?L(G)?[G]:[]:js(G,x,L)),Ls=["tfoot","thead","tbody","colgroup"],mr=w=>Ct(Ls,w),gs=(w,x)=>({rows:w,columns:x}),Cr=(w,x,L)=>({element:w,rowspan:x,colspan:L}),ni=(w,x,L,G,_e,st)=>({element:w,rowspan:x,colspan:L,row:G,column:_e,isLocked:st}),bi=(w,x,L)=>({element:w,cells:x,section:L}),pn=(w,x,L,G)=>({startRow:w,startCol:x,finishRow:L,finishCol:G}),$u=(w,x,L)=>({element:w,colspan:x,column:L}),yr=(w,x)=>({element:w,columns:x}),P=(w,x,L=Fo)=>{if(L(x))return H.none();if(Ct(w,xt(x)))return H.some(x);const G=_e=>co(_e,"table")||L(_e);return tr(x,w.join(","),G)},Y=(w,x)=>P(["td","th"],w,x),re=w=>Bs(w,"th,td"),Ke=w=>co(w,"colgroup")?ic(w,"col"):ae(Dn(w),x=>ic(x,"col")),on=(w,x)=>fe(w,"table",x),qo=w=>Bs(w,"tr"),Dn=w=>on(w).fold(ot([]),x=>ic(x,"colgroup")),gr=(w,x)=>it(w,L=>{if(xt(L)==="colgroup"){const G=it(Ke(L),_e=>{const st=io(_e,"span",1);return Cr(_e,1,st)});return bi(L,G,"colgroup")}else{const G=it(re(L),_e=>{const st=io(_e,"rowspan",1),Ht=io(_e,"colspan",1);return Cr(_e,st,Ht)});return bi(L,G,x(L))}}),Dt=w=>cr(w).map(x=>{const L=xt(x);return mr(L)?L:"tbody"}).getOr("tbody"),Zs=w=>{const x=qo(w),G=[...Dn(w),...x];return gr(G,Dt)},Ja="data-snooker-locked-cols",zr=w=>ea(w,Ja).bind(x=>H.from(x.match(/\d+/g))).map(x=>Pe(x,ht)),ca=(w,x)=>w+","+x,Pi=(w,x,L)=>H.from(w.access[ca(x,L)]),q=(w,x,L)=>{const G=ue(w,_e=>L(x,_e.element));return G.length>0?H.some(G[0]):H.none()},ue=(w,x)=>{const L=ae(w.all,G=>G.cells);return lt(L,x)},Fe=w=>{const x={};let L=0;return F(w.cells,G=>{const _e=G.colspan;Re(_e,st=>{const Ht=L+st;x[Ht]=$u(G.element,_e,Ht)}),L+=_e}),x},kt=w=>{const x={},L=[],_e=We(w).map(ri=>ri.element).bind(on).bind(zr).getOr({});let st=0,Ht=0,rn=0;const{pass:_o,fail:No}=no(w,ri=>ri.section==="colgroup");F(No,ri=>{const el=[];F(ri.cells,xl=>{let hu=0;for(;x[ca(rn,hu)]!==void 0;)hu++;const Ku=Hn(_e,hu.toString()),lf=ni(xl.element,xl.rowspan,xl.colspan,rn,hu,Ku);for(let wd=0;wd<xl.colspan;wd++)for(let uf=0;uf<xl.rowspan;uf++){const df=rn+uf,pa=hu+wd,Ui=ca(df,pa);x[Ui]=lf,Ht=Math.max(Ht,pa+1)}el.push(lf)}),st++,L.push(bi(ri.element,el,ri.section)),rn++});const{columns:xr,colgroups:Ss}=J(_o).map(ri=>{const el=Fe(ri);return{colgroups:[yr(ri.element,De(el))],columns:el}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:gs(st,Ht),access:x,all:L,columns:xr,colgroups:Ss}},Gr={fromTable:w=>{const x=Zs(w);return kt(x)},generate:kt,getAt:Pi,findItem:q,filterItems:ue,justCells:w=>ae(w.all,x=>x.cells),justColumns:w=>De(w.columns),hasColumns:w=>at(w.columns).length>0,getColumnAt:(w,x)=>H.from(w.columns[x])};var Vr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ia=(w,x,L)=>{const G=w.select("td,th",x);let _e;for(let st=0;st<G.length;st++){const Ht=w.getStyle(G[st],L);if(An(_e)&&(_e=Ht),_e!==Ht)return""}return _e},Qa=(w,x,L)=>{Vr.each("left center right".split(" "),G=>{G!==L&&w.formatter.remove("align"+G,{},x)}),L&&w.formatter.apply("align"+L,{},x)},pl=(w,x,L)=>{Vr.each("top middle bottom".split(" "),G=>{G!==L&&w.formatter.remove("valign"+G,{},x)}),L&&w.formatter.apply("valign"+L,{},x)},qs=(w,x,L)=>{w.dispatch("TableModified",pt(te({},L),{table:x}))},ir=(w,x)=>Wc(w).getOr(x),la=(w,x,L)=>ir(pe(w,x),L),ep=(w,x,L,G)=>{const _e=la(w,`padding-${L}`,0),st=la(w,`padding-${G}`,0),Ht=la(w,`border-${L}-width`,0),rn=la(w,`border-${G}-width`,0);return x-_e-st-Ht-rn},Ar=(w,x)=>{const L=w.dom,G=L.getBoundingClientRect().width||L.offsetWidth;return x==="border-box"?G:ep(w,G,"left","right")},ec=w=>Ar(w,"content-box");var tp=tinymce.util.Tools.resolve("tinymce.Env");const cu="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",jc=Re(5,w=>{const x=`${w+1}px`;return{title:x,value:x}}),iu=it(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],w=>({title:w,value:w.toLowerCase()})),Gs="100%",Xi=w=>{var x;const L=w.dom,G=(x=L.getParent(w.selection.getStart(),L.isBlock))!==null&&x!==void 0?x:w.getBody();return ec(kn.fromDom(G))+"px"},kc=(w,x)=>Xd(w)||!bl(w)?x:Um(w)?pt(te({},x),{width:Xi(w)}):pt(te({},x),{width:Gs}),hl=(w,x)=>Xd(w)||bl(w)?x:Um(w)?pt(te({},x),{width:Xi(w)}):pt(te({},x),{width:Gs}),Kr=w=>x=>x.options.get(w),ta=w=>{const x=w.options.register;x("table_border_widths",{processor:"object[]",default:jc}),x("table_border_styles",{processor:"object[]",default:iu}),x("table_cell_advtab",{processor:"boolean",default:!0}),x("table_row_advtab",{processor:"boolean",default:!0}),x("table_advtab",{processor:"boolean",default:!0}),x("table_appearance_options",{processor:"boolean",default:!0}),x("table_grid",{processor:"boolean",default:!tp.deviceType.isTouch()}),x("table_cell_class_list",{processor:"object[]",default:[]}),x("table_row_class_list",{processor:"object[]",default:[]}),x("table_class_list",{processor:"object[]",default:[]}),x("table_toolbar",{processor:"string",default:cu}),x("table_background_color_map",{processor:"object[]",default:[]}),x("table_border_color_map",{processor:"object[]",default:[]})},Zc=Kr("table_sizing_mode"),lu=Kr("table_border_widths"),Iu=Kr("table_border_styles"),Yf=Kr("table_cell_advtab"),Gd=Kr("table_row_advtab"),uc=Kr("table_advtab"),Kd=Kr("table_appearance_options"),Mc=Kr("table_grid"),bl=Kr("table_style_by_css"),hd=Kr("table_cell_class_list"),$l=Kr("table_row_class_list"),Yd=Kr("table_class_list"),Lu=Kr("table_toolbar"),Vm=Kr("table_background_color_map"),yl=Kr("table_border_color_map"),Um=w=>Zc(w)==="fixed",Xd=w=>Zc(w)==="responsive",Xf=w=>{const x=w.options,L=x.get("table_default_styles");return x.isSet("table_default_styles")?L:kc(w,L)},Hu=w=>{const x=w.options,L=x.get("table_default_attributes");return x.isSet("table_default_attributes")?L:hl(w,L)},Wm=(w,x)=>x.column>=w.startCol&&x.column+x.colspan-1<=w.finishCol&&x.row>=w.startRow&&x.row+x.rowspan-1<=w.finishRow,de=(w,x)=>{let L=!0;const G=W(Wm,x);for(let _e=x.startRow;_e<=x.finishRow;_e++)for(let st=x.startCol;st<=x.finishCol;st++)L=L&&Gr.getAt(w,_e,st).exists(G);return L?H.some(x):H.none()},Vu=(w,x)=>pn(Math.min(w.row,x.row),Math.min(w.column,x.column),Math.max(w.row+w.rowspan-1,x.row+x.rowspan-1),Math.max(w.column+w.colspan-1,x.column+x.colspan-1)),Bi=(w,x,L)=>{const G=Gr.findItem(w,x,xo),_e=Gr.findItem(w,L,xo);return G.bind(st=>_e.map(Ht=>Vu(st,Ht)))},Jf=(w,x,L)=>Bi(w,x,L).bind(G=>de(w,G)),np=(w,x,L)=>{const G=vh(w);return Jf(G,x,L)},vh=Gr.fromTable,Rs=(w,x)=>{cr(w).each(G=>{G.dom.insertBefore(x.dom,w.dom)})},dc=(w,x)=>{Yt(w).fold(()=>{cr(w).each(_e=>{yi(_e,x)})},G=>{Rs(G,x)})},vl=(w,x)=>{ss(w).fold(()=>{yi(w,x)},G=>{w.dom.insertBefore(x.dom,G.dom)})},yi=(w,x)=>{w.dom.appendChild(x.dom)},jm=(w,x)=>{Rs(w,x),yi(x,w)},Uu=(w,x)=>{F(x,(L,G)=>{const _e=G===0?w:x[G-1];dc(_e,L)})},qc=(w,x)=>{F(x,L=>{yi(w,L)})},bd=w=>{const x=w.dom;x.parentNode!==null&&x.parentNode.removeChild(x)},Jd=w=>{const x=xn(w);x.length>0&&Uu(w,x),bd(w)},vi=((w,x)=>{const L=st=>{if(!w(st))throw new Error("Can only get "+x+" value of a "+x+" node");return G(st).getOr("")},G=st=>w(st)?H.from(st.dom.nodeValue):H.none();return{get:L,getOption:G,set:(st,Ht)=>{if(!w(st))throw new Error("Can only set raw "+x+" value of a "+x+" node");st.dom.nodeValue=Ht}}})(qr,"text"),Qd=w=>vi.get(w),Qf=(w,x)=>vi.set(w,x);var Nc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ua=()=>{const w=No=>kn.fromDom(No.dom.cloneNode(!1)),x=No=>qn(No).dom,L=No=>Pr(No)?xt(No)==="body"?!0:Ct(Nc,xt(No)):!1,G=No=>Pr(No)?Ct(["br","img","hr","input"],xt(No)):!1,_e=No=>Pr(No)&&ra(No,"contenteditable")==="false",st=(No,xr)=>No.dom.compareDocumentPosition(xr.dom),Ht=(No,xr)=>{const Ss=Fu(No);Qr(xr,Ss)},rn=No=>{const xr=xt(No);return Ct(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],xr)},_o=No=>Pr(No)?ea(No,"lang"):H.none();return{up:ot({selector:tr,closest:fe,predicate:zn,all:Ae}),down:ot({selector:wo,predicate:Ha}),styles:ot({get:pe,getRaw:qe,set:Z,remove:Pt}),attrs:ot({get:ra,set:Ws,remove:Ps,copyTo:Ht}),insert:ot({before:Rs,after:dc,afterAll:Uu,append:yi,appendAll:qc,prepend:vl,wrap:jm}),remove:ot({unwrap:Jd,remove:bd}),create:ot({nu:kn.fromTag,clone:w,text:kn.fromText}),query:ot({comparePosition:st,prevSibling:Xe,nextSibling:Yt}),property:ot({children:xn,name:xt,parent:cr,document:x,isText:qr,isComment:_r,isElement:Pr,isSpecial:rn,getLanguage:_o,getText:Qd,setText:Qf,isBoundary:L,isEmptyTag:G,isNonEditable:_e}),eq:xo,is:wr}};const uu=(w,x,L,G)=>{const _e=L[0],st=L.slice(1);return G(w,x,_e,st)},yd=(w,x,L)=>L.length>0?uu(w,x,L,Fi):H.none(),Fi=(w,x,L,G)=>{const _e=x(w,L);return bt(G,(st,Ht)=>{const rn=x(w,Ht);return Gc(w,st,rn)},_e)},Gc=(w,x,L)=>x.bind(G=>L.filter(W(w.eq,G))),Zm=yd,op=Ua(),Wu=(w,x)=>Zm(op,(L,G)=>w(G),x),em=w=>tr(w,"table"),tm=(w,x)=>{const L=wo(w,x);return L.length>0?H.some(L):H.none()},kl=(w,x,L)=>ko(w,x).bind(G=>ko(w,L).bind(_e=>Wu(em,[G,_e]).map(st=>({first:G,last:_e,table:st})))),qm=(w,x)=>tm(w,x),wh=(w,x,L)=>kl(w,x,L).bind(G=>{const _e=_o=>xo(w,_o),st="thead,tfoot,tbody,table",Ht=tr(G.first,st,_e),rn=tr(G.last,st,_e);return Ht.bind(_o=>rn.bind(No=>xo(_o,No)?np(G.table,G.first,G.last):H.none()))}),sp=w=>it(w,kn.fromDom),Gm="data-mce-selected",ef="td["+Gm+"],th["+Gm+"]",nm="data-mce-first-selected",ju="td["+nm+"],th["+nm+"]",Or="data-mce-last-selected",Ur="td["+Or+"],th["+Or+"]",Kc={selected:Gm,selectedSelector:ef,firstSelected:nm,firstSelectedSelector:ju,lastSelected:Or,lastSelectedSelector:Ur},Km=w=>on(w).bind(x=>qm(x,Kc.firstSelectedSelector)).fold(ot(w),x=>x[0]),A=w=>(x,L)=>{const G=xt(x),_e=G==="col"||G==="colgroup"?Km(x):x;return fe(_e,w,L)},R=A("th,td,caption"),U=A("th,td"),me=w=>sp(w.model.table.getSelectedCells()),ve=(w,x)=>{const L=U(w),G=L.bind(_e=>on(_e)).map(_e=>qo(_e));return Ma(L,G,(_e,st)=>lt(st,Ht=>vn(sp(Ht.dom.cells),rn=>ra(rn,x)==="1"||xo(rn,_e)))).getOr([])},Gt=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],$t=w=>({value:Yr(w)}),Do=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Mo=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Eo=w=>Do.test(w)||Mo.test(w),Yr=w=>aa(w,"#").toUpperCase(),wc=w=>Eo(w)?H.some({value:Yr(w)}):H.none(),Xr=w=>{const x=w.toString(16);return(x.length===1?"0"+x:x).toUpperCase()},Rr=w=>{const x=Xr(w.red)+Xr(w.green)+Xr(w.blue);return $t(x)},$i=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Na=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,rp=(w,x,L,G)=>({red:w,green:x,blue:L,alpha:G}),Ym=(w,x,L,G)=>{const _e=parseInt(w,10),st=parseInt(x,10),Ht=parseInt(L,10),rn=parseFloat(G);return rp(_e,st,Ht,rn)},ua=w=>{if(w==="transparent")return H.some(rp(0,0,0,0));const x=$i.exec(w);if(x!==null)return H.some(Ym(x[1],x[2],x[3],"1"));const L=Na.exec(w);return L!==null?H.some(Ym(L[1],L[2],L[3],L[4])):H.none()},Wa=w=>wc(w).orThunk(()=>ua(w).map(Rr)).getOrThunk(()=>{const x=document.createElement("canvas");x.height=1,x.width=1;const L=x.getContext("2d");L.clearRect(0,0,x.width,x.height),L.fillStyle="#FFFFFF",L.fillStyle=w,L.fillRect(0,0,1,1);const G=L.getImageData(0,0,1,1).data,_e=G[0],st=G[1],Ht=G[2],rn=G[3];return Rr(rp(_e,st,Ht,rn))}),Il=w=>ua(w).map(Rr).map(x=>"#"+x.value).getOr(w),om=w=>{let x=w;return{get:()=>x,set:_e=>{x=_e}}},Sa=w=>{const x=om(H.none()),L=()=>x.get().each(w);return{clear:()=>{L(),x.set(H.none())},isSet:()=>x.get().isSome(),get:()=>x.get(),set:rn=>{L(),x.set(H.some(rn))}}},_h=()=>Sa(w=>w.unbind()),ky=(w,x,L)=>G=>{const _e=_h(),st=ti(L),Ht=()=>{const rn=me(w),_o=No=>w.formatter.match(x,{value:L},No.dom,st);st?(G.setActive(!vn(rn,_o)),_e.set(w.formatter.formatChanged(x,No=>G.setActive(!No),!0))):(G.setActive(Ne(rn,_o)),_e.set(w.formatter.formatChanged(x,G.setActive,!1,{value:L})))};return w.initialized?Ht():w.on("init",Ht),_e.clear},rr=w=>Hn(w,"menu"),du=w=>it(w,x=>{const L=x.text||x.title||"";return rr(x)?{text:L,items:du(x.menu)}:{text:L,value:x.value}}),Ms=(w,x,L,G)=>it(x,_e=>{const st=_e.text||_e.title;return rr(_e)?{type:"nestedmenuitem",text:st,getSubmenuItems:()=>Ms(w,_e.menu,L,G)}:{text:st,type:"togglemenuitem",onAction:()=>G(_e.value),onSetup:ky(w,L,_e.value)}}),oi=(w,x)=>L=>{w.execCommand("mceTableApplyCellStyle",!1,{[x]:L})},tf=w=>ae(w,x=>rr(x)?[pt(te({},x),{menu:tf(x.menu)})]:Ni(x.value)?[x]:[]),vd=(w,x,L,G)=>_e=>_e(Ms(w,x,L,G)),rs=(w,x,L)=>{const G=it(x,_e=>({text:_e.title,value:"#"+Wa(_e.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:G.length>0?G:void 0,allowCustomColors:!1},onAction:_e=>{const st=_e.value==="remove"?"":_e.value;w.execCommand("mceTableApplyCellStyle",!1,{[L]:st})}}]},nf=w=>()=>{const L=w.queryCommandValue("mceTableRowType")==="header"?"body":"header";w.execCommand("mceTableRowType",!1,{type:L})},Ch=w=>()=>{const L=w.queryCommandValue("mceTableColType")==="th"?"td":"th";w.execCommand("mceTableColType",!1,{type:L})},Sh=w=>{const x=du(hd(w));return x.length>0?H.some({name:"class",type:"listbox",label:"Class",items:x}):H.none()},m_=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Gt}],wy=w=>m_.concat(Sh(w).toArray()),ap=(w,x)=>{const G=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(du(Iu(w)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:x==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(G):G}},Xm={normal:(w,x)=>{const L=w.dom;return{setAttrib:(Ht,rn)=>{L.setAttrib(x,Ht,rn)},setStyle:(Ht,rn)=>{L.setStyle(x,Ht,rn)},setFormat:(Ht,rn)=>{rn===""?w.formatter.remove(Ht,{value:null},x,!0):w.formatter.apply(Ht,{value:rn},x)}}}},of=Hr("th"),sm=(w,x)=>w&&x?"sectionCells":w?"section":"cells",_y=w=>{const x=w.section==="thead",L=Mi(wl(w.cells),"th");return w.section==="tfoot"?{type:"footer"}:x||L?{type:"header",subType:sm(x,L)}:{type:"body"}},wl=w=>{const x=lt(w,L=>of(L.element));return x.length===0?H.some("td"):x.length===w.length?H.some("th"):H.none()},Vv=w=>{const x=it(w,_e=>_y(_e).type),L=Ct(x,"header"),G=Ct(x,"footer");if(!L&&!G)return H.some("body");{const _e=Ct(x,"body");return L&&!_e&&!G?H.some("header"):!L&&!_e&&G?H.some("footer"):H.none()}},rm=w=>{let x=!1,L;return(...G)=>(x||(x=!0,L=w.apply(null,G)),L)},Ji=(w,x)=>xe(w.all,L=>he(L.cells,G=>xo(x,G.element))),Eh=(w,x,L)=>{const G=it(x.selection,st=>Y(st).bind(Ht=>Ji(w,Ht)).filter(L)),_e=zs(G);return Br(_e.length>0,_e)},Th=(w,x)=>x.mergable,Ah=(w,x)=>x.unmergable,cp=(w,x)=>Eh(w,x,ht),Oh=(w,x)=>Ji(w,x).exists(L=>!L.isLocked),Dh=(w,x)=>Ne(x,L=>Oh(w,L)),zh=(w,x)=>Th(w,x).filter(L=>Dh(w,L.cells)),ja=(w,x)=>Ah(w,x).filter(L=>Dh(w,L)),eo={generate:w=>{if(!Qe(w))throw new Error("cases must be an array");if(w.length===0)throw new Error("there must be at least one case");const x=[],L={};return F(w,(G,_e)=>{const st=at(G);if(st.length!==1)throw new Error("one and only one name per case");const Ht=st[0],rn=G[Ht];if(L[Ht]!==void 0)throw new Error("duplicate key detected:"+Ht);if(Ht==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Qe(rn))throw new Error("case arguments must be an array");x.push(Ht),L[Ht]=(..._o)=>{const No=_o.length;if(No!==rn.length)throw new Error("Wrong number of arguments to case "+Ht+". Expected "+rn.length+" ("+rn+"), got "+No);return{fold:(...Ss)=>{if(Ss.length!==w.length)throw new Error("Wrong number of arguments to fold. Expected "+w.length+", got "+Ss.length);return Ss[_e].apply(null,_o)},match:Ss=>{const Fs=at(Ss);if(x.length!==Fs.length)throw new Error("Wrong number of arguments to match. Expected: "+x.join(",")+`
Actual: `+Fs.join(","));if(!Ne(x,el=>Ct(Fs,el)))throw new Error("Not all branches were specified when using match. Specified: "+Fs.join(", ")+`
Required: `+x.join(", "));return Ss[Ht].apply(null,_o)},log:Ss=>{console.log(Ss,{constructors:x,constructor:Ht,params:_o})}}}}),L}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);te({},eo);const wn=(w,x)=>{const L=Gr.fromTable(w);return cp(L,x).bind(_e=>{const st=_e[_e.length-1],Ht=_e[0].row,rn=st.row+st.rowspan,_o=L.all.slice(Ht,rn);return Vv(_o)}).getOr("")},sf=w=>Uc(w,"rgb")?Il(w):w,_l=w=>{const x=kn.fromDom(w);return{borderwidth:qe(x,"border-width").getOr(""),borderstyle:qe(x,"border-style").getOr(""),bordercolor:qe(x,"border-color").map(sf).getOr(""),backgroundcolor:qe(x,"background-color").map(sf).getOr("")}},Zu=w=>{const x=w[0],L=w.slice(1);return F(L,G=>{F(at(x),_e=>{Jt(G,(st,Ht)=>{const rn=x[_e];rn!==""&&_e===Ht&&rn!==st&&(x[_e]="")})})}),x},si=(w,x,L,G)=>he(w,_e=>!An(L.formatter.matchNode(G,x+_e))).getOr(""),am=W(si,["left","center","right"],"align"),mu=W(si,["top","middle","bottom"],"valign"),tc=(w,x)=>{const L=Xf(w),G=Hu(w),_e=()=>({borderstyle:gn(L,"border-style").getOr(""),bordercolor:sf(gn(L,"border-color").getOr("")),backgroundcolor:sf(gn(L,"background-color").getOr(""))}),st={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Ht=()=>{const xr=L["border-width"];return bl(w)&&xr?{border:xr}:gn(G,"border").fold(()=>({}),Ss=>({border:Ss}))},rn=x?_e():{},_o=()=>{const xr=gn(L,"border-spacing").or(gn(G,"cellspacing")).fold(()=>({}),Fs=>({cellspacing:Fs})),Ss=gn(L,"border-padding").or(gn(G,"cellpadding")).fold(()=>({}),Fs=>({cellpadding:Fs}));return te(te({},xr),Ss)};return te(te(te(te(te(te({},st),L),G),rn),Ht()),_o())},Qi=w=>on(kn.fromDom(w)).map(x=>{const L={selection:sp(w.cells)};return wn(x,L)}).getOr(""),Jm=(w,x,L)=>{const G=(rn,_o)=>{const No=qe(kn.fromDom(_o),"border-width");return bl(w)&&No.isSome()?No.getOr(""):rn.getAttrib(_o,"border")||ia(w.dom,_o,"border-width")||ia(w.dom,_o,"border")||""},_e=w.dom,st=bl(w)?_e.getStyle(x,"border-spacing")||_e.getAttrib(x,"cellspacing"):_e.getAttrib(x,"cellspacing")||_e.getStyle(x,"border-spacing"),Ht=bl(w)?ia(_e,x,"padding")||_e.getAttrib(x,"cellpadding"):_e.getAttrib(x,"cellpadding")||ia(_e,x,"padding");return te({width:_e.getStyle(x,"width")||_e.getAttrib(x,"width"),height:_e.getStyle(x,"height")||_e.getAttrib(x,"height"),cellspacing:st!=null?st:"",cellpadding:Ht!=null?Ht:"",border:G(_e,x),caption:!!_e.select("caption",x)[0],class:_e.getAttrib(x,"class",""),align:am(w,x)},L?_l(x):{})},ip=(w,x,L)=>{const G=w.dom;return te({height:G.getStyle(x,"height")||G.getAttrib(x,"height"),class:G.getAttrib(x,"class",""),type:Qi(x),align:am(w,x)},L?_l(x):{})},It=(w,x,L,G)=>{const _e=w.dom,st=G.getOr(x),Ht=(rn,_o)=>_e.getStyle(rn,_o)||_e.getAttrib(rn,_o);return te({width:Ht(st,"width"),height:Ht(x,"height"),scope:_e.getAttrib(x,"scope"),celltype:nn(x),class:_e.getAttrib(x,"class",""),halign:am(w,x),valign:mu(w,x)},L?_l(x):{})},Rh=(w,x)=>{const L=Gr.fromTable(w),G=Gr.justCells(L),_e=lt(G,st=>vn(x,Ht=>xo(st.element,Ht)));return it(_e,st=>({element:st.element.dom,column:Gr.getColumnAt(L,st.column).map(Ht=>Ht.element.dom)}))},rf=(w,x,L,G)=>{G("scope")&&w.setAttrib("scope",L.scope),G("class")&&w.setAttrib("class",L.class),G("height")&&w.setStyle("height",$n(L.height)),G("width")&&x.setStyle("width",$n(L.width))},qu=(w,x,L)=>{L("backgroundcolor")&&w.setFormat("tablecellbackgroundcolor",x.backgroundcolor),L("bordercolor")&&w.setFormat("tablecellbordercolor",x.bordercolor),L("borderstyle")&&w.setFormat("tablecellborderstyle",x.borderstyle),L("borderwidth")&&w.setFormat("tablecellborderwidth",$n(x.borderwidth))},Cl=(w,x,L,G)=>{const _e=x.length===1;F(x,st=>{const Ht=st.element,rn=_e?ht:G,_o=Xm.normal(w,Ht),No=st.column.map(xr=>Xm.normal(w,xr)).getOr(_o);rf(_o,No,L,rn),Yf(w)&&qu(_o,L,rn),G("halign")&&Qa(w,Ht,L.halign),G("valign")&&pl(w,Ht,L.valign)})},lp=(w,x)=>{w.execCommand("mceTableCellType",!1,{type:x.celltype,no_events:!0})},na=(w,x,L,G)=>{const _e=Ro(G,(st,Ht)=>L[Ht]!==st);E(_e)>0&&x.length>=1&&on(x[0]).each(st=>{const Ht=Rh(st,x),rn=E(Ro(_e,(No,xr)=>xr!=="scope"&&xr!=="celltype"))>0,_o=rt(_e,"celltype");(rn||rt(_e,"scope"))&&Cl(w,Ht,G,W(rt,_e)),_o&&lp(w,G),qs(w,st.dom,{structure:_o,style:rn})})},Wr=(w,x,L,G)=>{const _e=G.getData();G.close(),w.undoManager.transact(()=>{na(w,x,L,_e),w.focus()})},nc=(w,x)=>{const L=on(x[0]).map(G=>it(Rh(G,x),_e=>It(w,_e.element,Yf(w),_e.column)));return Zu(L.getOrDie())},As=w=>{const x=me(w);if(x.length===0)return;const L=nc(w,x),G={type:"tabpanel",tabs:[{title:"General",name:"general",items:wy(w)},ap(w,"cell")]},_e={type:"panel",items:[{type:"grid",columns:2,items:wy(w)}]};w.windowManager.open({title:"Cell Properties",size:"normal",body:Yf(w)?G:_e,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:L,onSubmit:W(Wr,w,x,L)})},gu=w=>{const x=du($l(w));return x.length>0?H.some({name:"class",type:"listbox",label:"Class",items:x}):H.none()},fc=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Sl=w=>fc.concat(gu(w).toArray()),mc=(w,x,L)=>{L("class")&&w.setAttrib("class",x.class),L("height")&&w.setStyle("height",$n(x.height))},_c=(w,x,L)=>{L("backgroundcolor")&&w.setStyle("background-color",x.backgroundcolor),L("bordercolor")&&w.setStyle("border-color",x.bordercolor),L("borderstyle")&&w.setStyle("border-style",x.borderstyle)},up=(w,x,L,G)=>{const st=x.length===1?ht:G;F(x,Ht=>{const rn=Xm.normal(w,Ht);mc(rn,L,st),Gd(w)&&_c(rn,L,st),G("align")&&Qa(w,Ht,L.align)})},_t=(w,x)=>{w.execCommand("mceTableRowType",!1,{type:x.type,no_events:!0})},pr=(w,x,L,G)=>{const _e=Ro(G,(st,Ht)=>L[Ht]!==st);if(E(_e)>0){const st=rt(_e,"type"),Ht=st?E(_e)>1:!0;Ht&&up(w,x,G,W(rt,_e)),st&&_t(w,G),on(kn.fromDom(x[0])).each(rn=>qs(w,rn.dom,{structure:st,style:Ht}))}},Mh=(w,x,L,G)=>{const _e=G.getData();G.close(),w.undoManager.transact(()=>{pr(w,x,L,_e),w.focus()})},ga=w=>{const x=ve(so(w),Kc.selected);if(x.length===0)return;const L=it(x,Ht=>ip(w,Ht.dom,Gd(w))),G=Zu(L),_e={type:"tabpanel",tabs:[{title:"General",name:"general",items:Sl(w)},ap(w,"row")]},st={type:"panel",items:[{type:"grid",columns:2,items:Sl(w)}]};w.windowManager.open({title:"Row Properties",size:"normal",body:Gd(w)?_e:st,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:G,onSubmit:W(Mh,w,it(x,Ht=>Ht.dom),G)})},kd=(w,x,L)=>{const G=L?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],_e=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],st=Kd(w)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Ht=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],rn=x.length>0?[{type:"listbox",name:"class",label:"Class",items:x}]:[];return G.concat(_e).concat(st).concat(Ht).concat(rn)},dp=(w,x,L,G)=>{if(x.tagName==="TD"||x.tagName==="TH")Xn(L)&&zo(G)?w.setStyle(x,L,G):w.setStyles(x,L);else if(x.children)for(let _e=0;_e<x.children.length;_e++)dp(w,x.children[_e],L,G)},ki=(w,x,L,G)=>{const _e=w.dom,st={},Ht={},rn=bl(w),_o=uc(w);if(An(L.class)||(st.class=L.class),Ht.height=$n(L.height),rn?Ht.width=$n(L.width):_e.getAttrib(x,"width")&&(st.width=Mn(L.width)),rn?(Ht["border-width"]=$n(L.border),Ht["border-spacing"]=$n(L.cellspacing)):(st.border=L.border,st.cellpadding=L.cellpadding,st.cellspacing=L.cellspacing),rn&&x.children){const No={};if(G.border&&(No["border-width"]=$n(L.border)),G.cellpadding&&(No.padding=$n(L.cellpadding)),_o&&G.bordercolor&&(No["border-color"]=L.bordercolor),!tn(No))for(let xr=0;xr<x.children.length;xr++)dp(_e,x.children[xr],No)}if(_o){const No=L;Ht["background-color"]=No.backgroundcolor,Ht["border-color"]=No.bordercolor,Ht["border-style"]=No.borderstyle}_e.setStyles(x,te(te({},Xf(w)),Ht)),_e.setAttribs(x,te(te({},Hu(w)),st))},Cy=(w,x,L,G)=>{const _e=w.dom,st=G.getData(),Ht=Ro(st,(rn,_o)=>L[_o]!==rn);G.close(),st.class===""&&delete st.class,w.undoManager.transact(()=>{if(!x){const rn=Va(st.cols).getOr(1),_o=Va(st.rows).getOr(1);w.execCommand("mceInsertTable",!1,{rows:_o,columns:rn}),x=U(so(w),Rn(w)).bind(No=>on(No,Rn(w))).map(No=>No.dom).getOrDie()}if(E(Ht)>0){const rn={border:rt(Ht,"border"),bordercolor:rt(Ht,"bordercolor"),cellpadding:rt(Ht,"cellpadding")};ki(w,x,st,rn);const _o=_e.select("caption",x)[0];(_o&&!st.caption||!_o&&st.caption)&&w.execCommand("mceTableToggleCaption"),Qa(w,x,st.align)}if(w.focus(),w.addVisual(),E(Ht)>0){const rn=rt(Ht,"caption"),_o=rn?E(Ht)>1:!0;qs(w,x,{structure:rn,style:_o})}})},Gu=(w,x)=>{const L=w.dom;let G,_e=tc(w,uc(w));x?(_e.cols="1",_e.rows="1",uc(w)&&(_e.borderstyle="",_e.bordercolor="",_e.backgroundcolor="")):(G=L.getParent(w.selection.getStart(),"table",w.getBody()),G?_e=Jm(w,G,uc(w)):uc(w)&&(_e.borderstyle="",_e.bordercolor="",_e.backgroundcolor=""));const st=du(Yd(w));st.length>0&&_e.class&&(_e.class=_e.class.replace(/\s*mce\-item\-table\s*/g,""));const Ht={type:"grid",columns:2,items:kd(w,st,x)},rn=()=>({type:"panel",items:[Ht]}),_o=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Ht]},ap(w,"table")]}),No=uc(w)?_o():rn();w.windowManager.open({title:"Table Properties",size:"normal",body:No,onSubmit:W(Cy,w,G,_e),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_e})},Sy=w=>{const x=L=>{Us(so(w))&&L()};Jt({mceTableProps:W(Gu,w,!1),mceTableRowProps:W(ga,w),mceTableCellProps:W(As,w),mceInsertTableDialog:W(Gu,w,!0)},(L,G)=>w.addCommand(G,()=>x(L)))},Ii=(w,x)=>ke(w,x).isSome(),Hs=Rt,pu=w=>{const x=(G,_e)=>ea(G,_e).exists(st=>parseInt(st,10)>1),L=G=>x(G,"rowspan")||x(G,"colspan");return w.length>0&&Ne(w,L)?H.some(w):H.none()},af=(w,x,L)=>x.length<=1?H.none():wh(w,L.firstSelectedSelector,L.lastSelectedSelector).map(G=>({bounds:G,cells:x})),Cc=w=>({element:w,mergable:H.none(),unmergable:H.none(),selection:[w]}),Nh=(w,x,L)=>({element:L,mergable:af(x,w,Kc),unmergable:pu(w),selection:Hs(w)}),cf=w=>{const x=om(H.none()),L=om([]);let G=H.none();const _e=Hr("caption"),st=Ns=>G.forall(Ks=>!Ks[Ns]),Ht=()=>R(so(w),Rn(w)),rn=()=>R(es(w),Rn(w)),_o=()=>Ht().bind(Ns=>ma(Ma(on(Ns),rn().bind(on),(Ks,qa)=>xo(Ks,qa)?_e(Ns)?H.some(Cc(Ns)):H.some(Nh(me(w),Ks,Ns)):H.none()))),No=Ns=>on(Ns.element).map(qa=>{const ai=Gr.fromTable(qa),Bh=cp(ai,Ns).getOr([]),gc=Ft(Bh,(Pc,_d)=>(_d.isLocked&&(Pc.onAny=!0,_d.column===0?Pc.onFirst=!0:_d.column+_d.colspan>=ai.grid.columns&&(Pc.onLast=!0)),Pc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:zh(ai,Ns).isSome(),unmergeable:ja(ai,Ns).isSome(),locked:gc}}),xr=()=>{x.set(rm(_o)()),G=x.get().bind(No),F(L.get(),ft)},Ss=Ns=>(Ns(),L.set(L.get().concat([Ns])),()=>{L.set(lt(L.get(),Ks=>Ks!==Ns))}),Fs=(Ns,Ks)=>Ss(()=>x.get().fold(()=>{Ns.setEnabled(!1)},qa=>{Ns.setEnabled(!Ks(qa)&&w.selection.isEditable())})),ri=(Ns,Ks,qa)=>Ss(()=>x.get().fold(()=>{Ns.setEnabled(!1),Ns.setActive(!1)},ai=>{Ns.setEnabled(!Ks(ai)&&w.selection.isEditable()),Ns.setActive(qa(ai))})),el=Ns=>G.exists(Ks=>Ks.locked[Ns]),xl=Ns=>Fs(Ns,Ks=>!1),hu=Ns=>Fs(Ns,Ks=>_e(Ks.element)),Ku=Ns=>Ks=>Fs(Ks,qa=>_e(qa.element)||el(Ns)),lf=Ns=>Ks=>Fs(Ks,qa=>_e(qa.element)||Ns().isNone()),wd=(Ns,Ks)=>qa=>Fs(qa,ai=>_e(ai.element)||Ns().isNone()||el(Ks)),uf=Ns=>Fs(Ns,Ks=>st("mergeable")),df=Ns=>Fs(Ns,Ks=>st("unmergeable")),pa=Ns=>ri(Ns,Fo,Ks=>on(Ks.element,Rn(w)).exists(ai=>Ii(ai,"caption"))),Ui=(Ns,Ks)=>qa=>ri(qa,ai=>_e(ai.element),()=>w.queryCommandValue(Ns)===Ks),Qm=Ui("mceTableRowType","header"),ff=Ui("mceTableColType","th");return w.on("NodeChange ExecCommand TableSelectorChange",xr),{onSetupTable:xl,onSetupCellOrRow:hu,onSetupColumn:Ku,onSetupPasteable:lf,onSetupPasteableColumn:wd,onSetupMergeable:uf,onSetupUnmergeable:df,resetTargets:xr,onSetupTableWithCaption:pa,onSetupTableRowHeaders:Qm,onSetupTableColumnHeaders:ff,targets:x.get}};var xy=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const xa="x-tinymce/dom-table-",Li=xa+"rows",Ie=xa+"columns",Yc=w=>{var x;const L=(x=xy.read())!==null&&x!==void 0?x:[];return xe(L,G=>H.from(G.getType(w)))},wi=()=>Yc(Li),Hi=()=>Yc(Ie),Vi=w=>x=>{const L=()=>{x.setEnabled(w.selection.isEditable())};return w.on("NodeChange",L),L(),()=>{w.off("NodeChange",L)}},Ea=(w,x)=>{w.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Vi(w),fetch:rn=>rn("inserttable | cell row column | advtablesort | tableprops deletetable")});const L=rn=>()=>w.execCommand(rn),G=(rn,_o)=>{w.queryCommandSupported(_o.command)&&w.ui.registry.addButton(rn,pt(te({},_o),{onAction:dn(_o.onAction)?_o.onAction:L(_o.command)}))},_e=(rn,_o)=>{w.queryCommandSupported(_o.command)&&w.ui.registry.addToggleButton(rn,pt(te({},_o),{onAction:dn(_o.onAction)?_o.onAction:L(_o.command)}))};G("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:x.onSetupTable}),G("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:x.onSetupTable}),G("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:x.onSetupCellOrRow}),G("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:x.onSetupMergeable}),G("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:x.onSetupUnmergeable}),G("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:x.onSetupCellOrRow}),G("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:x.onSetupCellOrRow}),G("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:x.onSetupCellOrRow}),G("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:x.onSetupCellOrRow}),G("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:x.onSetupColumn("onFirst")}),G("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:x.onSetupColumn("onLast")}),G("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:x.onSetupColumn("onAny")}),G("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:x.onSetupCellOrRow}),G("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:x.onSetupCellOrRow}),G("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:x.onSetupPasteable(wi)}),G("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:x.onSetupPasteable(wi)}),G("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:x.onSetupColumn("onAny")}),G("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:x.onSetupColumn("onAny")}),G("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:x.onSetupPasteableColumn(Hi,"onFirst")}),G("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:x.onSetupPasteableColumn(Hi,"onLast")}),G("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Vi(w)});const st=tf(Yd(w));st.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:vd(w,st,"tableclass",rn=>w.execCommand("mceTableToggleClass",!1,rn)),onSetup:x.onSetupTable});const Ht=tf(hd(w));Ht.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:vd(w,Ht,"tablecellclass",rn=>w.execCommand("mceTableCellToggleClass",!1,rn)),onSetup:x.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:vd(w,Gt,"tablecellverticalalign",oi(w,"vertical-align")),onSetup:x.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:vd(w,lu(w),"tablecellborderwidth",oi(w,"border-width")),onSetup:x.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:vd(w,Iu(w),"tablecellborderstyle",oi(w,"border-style")),onSetup:x.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:rn=>rn(rs(w,Vm(w),"background-color")),onSetup:x.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:rn=>rn(rs(w,yl(w),"border-color")),onSetup:x.onSetupCellOrRow})),_e("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:x.onSetupTableWithCaption}),_e("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:nf(w),onSetup:x.onSetupTableRowHeaders}),_e("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ch(w),onSetup:x.onSetupTableColumnHeaders})},Za=w=>{const x=G=>w.dom.is(G,"table")&&w.getBody().contains(G)&&w.dom.isEditable(G.parentNode),L=Lu(w);L.length>0&&w.ui.registry.addContextToolbar("table",{predicate:x,items:L,scope:"node",position:"node"})},cm=w=>x=>{const L=()=>{x.setEnabled(w.selection.isEditable())};return w.on("NodeChange",L),L(),()=>{w.off("NodeChange",L)}},_i=(w,x)=>{const L=Ss=>()=>w.execCommand(Ss),G=(Ss,Fs)=>w.queryCommandSupported(Fs.command)?(w.ui.registry.addMenuItem(Ss,pt(te({},Fs),{onAction:dn(Fs.onAction)?Fs.onAction:L(Fs.command)})),!0):!1,_e=(Ss,Fs)=>{w.queryCommandSupported(Fs.command)&&w.ui.registry.addToggleMenuItem(Ss,pt(te({},Fs),{onAction:dn(Fs.onAction)?Fs.onAction:L(Fs.command)}))},st=Ss=>{w.execCommand("mceInsertTable",!1,{rows:Ss.numRows,columns:Ss.numColumns})},Ht=[G("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:x.onSetupCellOrRow}),G("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:x.onSetupCellOrRow}),G("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:x.onSetupCellOrRow}),G("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:x.onSetupCellOrRow}),G("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:x.onSetupCellOrRow}),G("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:x.onSetupCellOrRow}),G("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:x.onSetupPasteable(wi)}),G("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:x.onSetupPasteable(wi)})],rn=[G("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:x.onSetupColumn("onFirst")}),G("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:x.onSetupColumn("onLast")}),G("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:x.onSetupColumn("onAny")}),G("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:x.onSetupColumn("onAny")}),G("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:x.onSetupColumn("onAny")}),G("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:x.onSetupPasteableColumn(Hi,"onFirst")}),G("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:x.onSetupPasteableColumn(Hi,"onLast")})],_o=[G("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:x.onSetupCellOrRow}),G("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:x.onSetupMergeable}),G("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:x.onSetupUnmergeable})];Mc(w)?w.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:st}],onSetup:cm(w)}):w.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:L("mceInsertTableDialog"),onSetup:cm(w)}),w.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:L("mceInsertTableDialog"),onSetup:cm(w)}),G("tableprops",{text:"Table properties",onSetup:x.onSetupTable,command:"mceTableProps"}),G("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:x.onSetupTable,command:"mceTableDelete"}),Ct(Ht,!0)&&w.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:ot("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Ct(rn,!0)&&w.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:ot("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Ct(_o,!0)&&w.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:ot("tablecellprops tablemergecells tablesplitcells")}),w.ui.registry.addContextMenu("table",{update:()=>(x.resetTargets(),x.targets().fold(ot(""),Ss=>xt(Ss.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const No=tf(Yd(w));No.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ms(w,No,"tableclass",Ss=>w.execCommand("mceTableToggleClass",!1,Ss)),onSetup:x.onSetupTable});const xr=tf(hd(w));xr.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ms(w,xr,"tablecellclass",Ss=>w.execCommand("mceTableCellToggleClass",!1,Ss)),onSetup:x.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ms(w,Gt,"tablecellverticalalign",oi(w,"vertical-align")),onSetup:x.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ms(w,lu(w),"tablecellborderwidth",oi(w,"border-width")),onSetup:x.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ms(w,Iu(w),"tablecellborderstyle",oi(w,"border-style")),onSetup:x.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>rs(w,Vm(w),"background-color"),onSetup:x.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>rs(w,yl(w),"border-color"),onSetup:x.onSetupCellOrRow})),_e("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:x.onSetupTableWithCaption}),_e("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:nf(w),onSetup:x.onSetupTableRowHeaders}),_e("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ch(w),onSetup:x.onSetupTableRowHeaders})},Ph=w=>{const x=cf(w);ta(w),Sy(w),_i(w,x),Ea(w,x),Za(w)};var bo=()=>{Tn.add("table",Ph)};bo()})()},49858:function(Tn,bn,Ve){Ve(56736)},56736:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const bn=(J,xe,Le)=>{var Mt;return Le(J,xe.prototype)?!0:((Mt=J.constructor)===null||Mt===void 0?void 0:Mt.name)===xe.name},Ve=J=>{const xe=typeof J;return J===null?"null":xe==="object"&&Array.isArray(J)?"array":xe==="object"&&bn(J,String,(Le,Mt)=>Mt.isPrototypeOf(Le))?"string":xe},Pn=J=>xe=>Ve(xe)===J,Ao=J=>xe=>typeof xe===J,So=Pn("string"),Xn=Pn("object"),Qe=Pn("array"),yn=J=>J==null,An=J=>!yn(J),Ln=Ao("function"),zo=(J,xe)=>{if(Qe(J)){for(let Le=0,Mt=J.length;Le<Mt;++Le)if(!xe(J[Le]))return!1;return!0}return!1},dn=J=>()=>J;function en(J,...xe){return(...Le)=>{const Mt=xe.concat(Le);return J.apply(null,Mt)}}const Wt=dn(!1),ln=J=>J.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var ot=tinymce.util.Tools.resolve("tinymce.util.Tools");const Rt=J=>xe=>xe.options.get(J),Ot=J=>{const xe=J.options.register;xe("template_cdate_classes",{processor:"string",default:"cdate"}),xe("template_mdate_classes",{processor:"string",default:"mdate"}),xe("template_selected_content_classes",{processor:"string",default:"selcontent"}),xe("template_preview_replace_values",{processor:"object"}),xe("template_replace_values",{processor:"object"}),xe("templates",{processor:Le=>So(Le)||zo(Le,Xn)||Ln(Le),default:[]}),xe("template_cdate_format",{processor:"string",default:J.translate("%Y-%m-%d")}),xe("template_mdate_format",{processor:"string",default:J.translate("%Y-%m-%d")})},W=Rt("template_cdate_classes"),ft=Rt("template_mdate_classes"),Fo=Rt("template_selected_content_classes"),ht=Rt("template_preview_replace_values"),H=Rt("template_replace_values"),at=Rt("templates"),Sn=Rt("template_cdate_format"),Jt=Rt("template_mdate_format"),$e=Rt("content_style"),ce=Rt("content_css_cors"),Ro=Rt("body_class"),Se=(J,xe)=>{if(J=""+J,J.length<xe)for(let Le=0;Le<xe-J.length;Le++)J="0"+J;return J},De=(J,xe,Le=new Date)=>{const Mt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Zn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),On="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Nn="January February March April May June July August September October November December".split(" ");return xe=xe.replace("%D","%m/%d/%Y"),xe=xe.replace("%r","%I:%M:%S %p"),xe=xe.replace("%Y",""+Le.getFullYear()),xe=xe.replace("%y",""+Le.getYear()),xe=xe.replace("%m",Se(Le.getMonth()+1,2)),xe=xe.replace("%d",Se(Le.getDate(),2)),xe=xe.replace("%H",""+Se(Le.getHours(),2)),xe=xe.replace("%M",""+Se(Le.getMinutes(),2)),xe=xe.replace("%S",""+Se(Le.getSeconds(),2)),xe=xe.replace("%I",""+((Le.getHours()+11)%12+1)),xe=xe.replace("%p",Le.getHours()<12?"AM":"PM"),xe=xe.replace("%B",""+J.translate(Nn[Le.getMonth()])),xe=xe.replace("%b",""+J.translate(On[Le.getMonth()])),xe=xe.replace("%A",""+J.translate(Zn[Le.getDay()])),xe=xe.replace("%a",""+J.translate(Mt[Le.getDay()])),xe=xe.replace("%%","%"),xe};class E{constructor(xe,Le){this.tag=xe,this.value=Le}static some(xe){return new E(!0,xe)}static none(){return E.singletonNone}fold(xe,Le){return this.tag?Le(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?E.some(xe(this.value)):E.none()}bind(xe){return this.tag?xe(this.value):E.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:E.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe!=null?xe:"Called getOrDie on None")}static from(xe){return An(xe)?E.some(xe):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const gn=(J,xe)=>{for(let Le=0,Mt=J.length;Le<Mt;Le++){const Zn=J[Le];if(xe(Zn,Le))return!0}return!1},rt=(J,xe)=>{const Le=J.length,Mt=new Array(Le);for(let Zn=0;Zn<Le;Zn++){const On=J[Zn];Mt[Zn]=xe(On,Zn)}return Mt},Hn=(J,xe,Le)=>{for(let Mt=0,Zn=J.length;Mt<Zn;Mt++){const On=J[Mt];if(xe(On,Mt))return E.some(On);if(Le(On,Mt))break}return E.none()},tn=(J,xe)=>Hn(J,xe,Wt),et=Object.hasOwnProperty,uo=(J,xe)=>Yo(J,xe)?E.from(J[xe]):E.none(),Yo=(J,xe)=>et.call(J,xe);var Ct=tinymce.util.Tools.resolve("tinymce.html.Serializer");const vn={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Re=J=>J.replace(/["'<>&]/g,xe=>uo(vn,xe).getOr(xe)),it=(J,xe,Le)=>gn(Le.split(/\s+/),Mt=>J.hasClass(xe,Mt)),F=(J,xe)=>Ct({validate:!0},J.schema).serialize(J.parser.parse(xe,{insert:!0})),Xo=(J,xe)=>()=>{const Le=at(J);Ln(Le)?Le(xe):So(Le)?fetch(Le).then(Mt=>{Mt.ok&&Mt.json().then(xe)}):xe(Le)},no=(J,xe)=>(ot.each(xe,(Le,Mt)=>{Ln(Le)&&(Le=Le(Mt)),J=J.replace(new RegExp("\\{\\$"+ln(Mt)+"\\}","g"),Le)}),J),lt=(J,xe)=>{const Le=J.dom,Mt=H(J);ot.each(Le.select("*",xe),Zn=>{ot.each(Mt,(On,Nn)=>{Le.hasClass(Zn,Nn)&&Ln(On)&&On(Zn)})})},bt=(J,xe,Le)=>{const Mt=J.dom,Zn=J.selection.getContent();Le=no(Le,H(J));let On=Mt.create("div",{},F(J,Le));const Nn=Mt.select(".mceTmpl",On);Nn&&Nn.length>0&&(On=Mt.create("div"),On.appendChild(Nn[0].cloneNode(!0))),ot.each(Mt.select("*",On),Un=>{it(Mt,Un,W(J))&&(Un.innerHTML=De(J,Sn(J))),it(Mt,Un,ft(J))&&(Un.innerHTML=De(J,Jt(J))),it(Mt,Un,Fo(J))&&(Un.innerHTML=Zn)}),lt(J,On),J.execCommand("mceInsertContent",!1,On.innerHTML),J.addVisual()};var Ft=tinymce.util.Tools.resolve("tinymce.Env");const ee=(J,xe)=>{var Le;let Mt=F(J,xe);if(xe.indexOf("<html>")===-1){let Zn="";const On=(Le=$e(J))!==null&&Le!==void 0?Le:"",Nn=ce(J)?' crossorigin="anonymous"':"";ot.each(J.contentCSS,co=>{Zn+='<link type="text/css" rel="stylesheet" href="'+J.documentBaseURI.toAbsolute(co)+'"'+Nn+">"}),On&&(Zn+='<style type="text/css">'+On+"</style>");const Un=Ro(J),$o=J.dom.encode,Jn='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Ft.os.isMacOS()||Ft.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",ao=J.getBody().dir,kn=ao?' dir="'+$o(ao)+'"':"";Mt='<!DOCTYPE html><html><head><base href="'+$o(J.documentBaseURI.getURI())+'">'+Zn+Jn+'</head><body class="'+$o(Un)+'"'+kn+">"+Mt+"</body></html>"}return no(Mt,ht(J))},he=(J,xe)=>{const Le=()=>{if(!xe||xe.length===0){const ao=J.translate("No templates defined.");return J.notificationManager.open({text:ao,type:"info"}),E.none()}return E.from(ot.map(xe,(ao,kn)=>{const co=Zo=>Zo.url!==void 0;return{selected:kn===0,text:ao.title,value:{url:co(ao)?E.from(ao.url):E.none(),content:co(ao)?E.none():E.from(ao.content),description:ao.description}}}))},Mt=ao=>rt(ao,kn=>({text:kn.text,value:kn.text})),Zn=(ao,kn)=>tn(ao,co=>co.text===kn),On=ao=>{J.windowManager.alert("Could not load the specified template.",()=>ao.focus("template"))},Nn=ao=>ao.value.url.fold(()=>Promise.resolve(ao.value.content.getOr("")),kn=>fetch(kn).then(co=>co.ok?co.text():Promise.reject())),Un=(ao,kn)=>(co,Zo)=>{if(Zo.name==="template"){const Jo=co.getData().template;Zn(ao,Jo).each(as=>{co.block("Loading..."),Nn(as).then(xo=>{kn(co,as,xo)}).catch(()=>{kn(co,as,""),co.setEnabled("save",!1),On(co)})})}},$o=ao=>kn=>{const co=kn.getData();Zn(ao,co.template).each(Zo=>{Nn(Zo).then(Jo=>{J.execCommand("mceInsertTemplate",!1,Jo),kn.close()}).catch(()=>{kn.setEnabled("save",!1),On(kn)})})},to=ao=>{const kn=Mt(ao),co=(as,xo)=>({title:"Insert Template",size:"large",body:{type:"panel",items:as},initialData:xo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:$o(ao),onChange:Un(ao,Zo)}),Zo=(as,xo,wr)=>{const xt=ee(J,wr),Oo=[{type:"listbox",name:"template",label:"Templates",items:kn},{type:"htmlpanel",html:`<p aria-live="polite">${Re(xo.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],Js={template:xo.text,preview:xt};as.unblock(),as.redial(co(Oo,Js)),as.focus("template")},Jo=J.windowManager.open(co([],{template:"",preview:""}));Jo.block("Loading..."),Nn(ao[0]).then(as=>{Zo(Jo,ao[0],as)}).catch(()=>{Zo(Jo,ao[0],""),Jo.setEnabled("save",!1),On(Jo)})};Le().each(to)},we=J=>xe=>{he(J,xe)},ae=J=>{J.addCommand("mceInsertTemplate",en(bt,J)),J.addCommand("mceTemplate",Xo(J,we(J)))},Ne=J=>{J.on("PreProcess",xe=>{const Le=J.dom,Mt=Jt(J);ot.each(Le.select("div",xe.node),Zn=>{Le.hasClass(Zn,"mceTmpl")&&(ot.each(Le.select("*",Zn),On=>{it(Le,On,ft(J))&&(On.innerHTML=De(J,Mt))}),lt(J,Zn))})})},Pe=J=>xe=>{const Le=()=>{xe.setEnabled(J.selection.isEditable())};return J.on("NodeChange",Le),Le(),()=>{J.off("NodeChange",Le)}},Ye=J=>{const xe=()=>J.execCommand("mceTemplate");J.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onSetup:Pe(J),onAction:xe}),J.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onSetup:Pe(J),onAction:xe})};var We=()=>{Tn.add("template",J=>{Ot(J),Ye(J),ae(J),Ne(J)})};We()})()},65704:function(Tn,bn,Ve){Ve(14498)},14498:function(){(function(){"use strict";const Tn=dn=>{let en=dn;return{get:()=>en,set:ot=>{en=ot}}};var bn=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ve=(dn,en)=>{dn.dispatch("VisualBlocks",{state:en})},Pn=(dn,en,Wt)=>{dn.dom.toggleClass(dn.getBody(),"mce-visualblocks"),Wt.set(!Wt.get()),Ve(dn,Wt.get())},Ao=(dn,en,Wt)=>{dn.addCommand("mceVisualBlocks",()=>{Pn(dn,en,Wt)})},So=dn=>en=>en.options.get(dn),Xn=dn=>{const en=dn.options.register;en("visualblocks_default_state",{processor:"boolean",default:!1})},Qe=So("visualblocks_default_state"),yn=(dn,en,Wt)=>{dn.on("PreviewFormats AfterPreviewFormats",ln=>{Wt.get()&&dn.dom.toggleClass(dn.getBody(),"mce-visualblocks",ln.type==="afterpreviewformats")}),dn.on("init",()=>{Qe(dn)&&Pn(dn,en,Wt)})},An=(dn,en)=>Wt=>{Wt.setActive(en.get());const ln=ot=>Wt.setActive(ot.state);return dn.on("VisualBlocks",ln),()=>dn.off("VisualBlocks",ln)},Ln=(dn,en)=>{const Wt=()=>dn.execCommand("mceVisualBlocks");dn.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:Wt,onSetup:An(dn,en)}),dn.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:Wt,onSetup:An(dn,en)})};var zo=()=>{bn.add("visualblocks",(dn,en)=>{Xn(dn);const Wt=Tn(!1);Ao(dn,en,Wt),Ln(dn,Wt),yn(dn,en,Wt)})};zo()})()},91301:function(Tn,bn,Ve){Ve(71295)},71295:function(){(function(){"use strict";const Tn=Ae=>{let Xe=Ae;return{get:()=>Xe,set:po=>{Xe=po}}};var bn=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ve=Ae=>({isEnabled:()=>Ae.get()}),Pn=(Ae,Xe)=>Ae.dispatch("VisualChars",{state:Xe}),Ao=(Ae,Xe,Yt)=>{var xn;return Yt(Ae,Xe.prototype)?!0:((xn=Ae.constructor)===null||xn===void 0?void 0:xn.name)===Xe.name},So=Ae=>{const Xe=typeof Ae;return Ae===null?"null":Xe==="object"&&Array.isArray(Ae)?"array":Xe==="object"&&Ao(Ae,String,(Yt,xn)=>xn.isPrototypeOf(Yt))?"string":Xe},Xn=Ae=>Xe=>So(Xe)===Ae,Qe=Ae=>Xe=>typeof Xe===Ae,yn=Ae=>Xe=>Ae===Xe,An=Xn("string"),Ln=Xn("object"),zo=yn(null),dn=Qe("boolean"),en=Ae=>Ae==null,Wt=Ae=>!en(Ae),ln=Qe("number");class ot{constructor(Xe,Yt){this.tag=Xe,this.value=Yt}static some(Xe){return new ot(!0,Xe)}static none(){return ot.singletonNone}fold(Xe,Yt){return this.tag?Yt(this.value):Xe()}isSome(){return this.tag}isNone(){return!this.tag}map(Xe){return this.tag?ot.some(Xe(this.value)):ot.none()}bind(Xe){return this.tag?Xe(this.value):ot.none()}exists(Xe){return this.tag&&Xe(this.value)}forall(Xe){return!this.tag||Xe(this.value)}filter(Xe){return!this.tag||Xe(this.value)?this:ot.none()}getOr(Xe){return this.tag?this.value:Xe}or(Xe){return this.tag?this:Xe}getOrThunk(Xe){return this.tag?this.value:Xe()}orThunk(Xe){return this.tag?this:Xe()}getOrDie(Xe){if(this.tag)return this.value;throw new Error(Xe!=null?Xe:"Called getOrDie on None")}static from(Xe){return Wt(Xe)?ot.some(Xe):ot.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Xe){this.tag&&Xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ot.singletonNone=new ot(!1);const Rt=(Ae,Xe)=>{const Yt=Ae.length,xn=new Array(Yt);for(let po=0;po<Yt;po++){const ss=Ae[po];xn[po]=Xe(ss,po)}return xn},Ot=(Ae,Xe)=>{for(let Yt=0,xn=Ae.length;Yt<xn;Yt++){const po=Ae[Yt];Xe(po,Yt)}},W=(Ae,Xe)=>{const Yt=[];for(let xn=0,po=Ae.length;xn<po;xn++){const ss=Ae[xn];Xe(ss,xn)&&Yt.push(ss)}return Yt},ft=Object.keys,Fo=(Ae,Xe)=>{const Yt=ft(Ae);for(let xn=0,po=Yt.length;xn<po;xn++){const ss=Yt[xn],fr=Ae[ss];Xe(fr,ss)}},ht=typeof window!="undefined"?window:Function("return this;")(),H=(Ae,Xe)=>{let Yt=Xe!=null?Xe:ht;for(let xn=0;xn<Ae.length&&Yt!==void 0&&Yt!==null;++xn)Yt=Yt[Ae[xn]];return Yt},at=(Ae,Xe)=>{const Yt=Ae.split(".");return H(Yt,Xe)},Sn=(Ae,Xe)=>at(Ae,Xe),Jt=(Ae,Xe)=>{const Yt=Sn(Ae,Xe);if(Yt==null)throw new Error(Ae+" not available on this browser");return Yt},$e=Object.getPrototypeOf,ce=Ae=>Jt("HTMLElement",Ae),Ro=Ae=>{const Xe=at("ownerDocument.defaultView",Ae);return Ln(Ae)&&(ce(Xe).prototype.isPrototypeOf(Ae)||/^HTML\w*Element$/.test($e(Ae).constructor.name))},Se=1,De=3,E=Ae=>Ae.dom.nodeType,gn=Ae=>Ae.dom.nodeValue,rt=Ae=>Xe=>E(Xe)===Ae,Hn=Ae=>tn(Ae)&&Ro(Ae.dom),tn=rt(Se),et=rt(De),uo=(Ae,Xe,Yt)=>{if(An(Yt)||dn(Yt)||ln(Yt))Ae.setAttribute(Xe,Yt+"");else throw console.error("Invalid call to Attribute.set. Key ",Xe,":: Value ",Yt,":: Element ",Ae),new Error("Attribute value was not simple")},Yo=(Ae,Xe,Yt)=>{uo(Ae.dom,Xe,Yt)},Ct=(Ae,Xe)=>{const Yt=Ae.dom.getAttribute(Xe);return Yt===null?void 0:Yt},vn=(Ae,Xe)=>{Ae.dom.removeAttribute(Xe)},Re=(Ae,Xe)=>{const Yt=Ct(Ae,Xe);return Yt===void 0||Yt===""?[]:Yt.split(" ")},it=(Ae,Xe,Yt)=>{const po=Re(Ae,Xe).concat([Yt]);return Yo(Ae,Xe,po.join(" ")),!0},F=(Ae,Xe,Yt)=>{const xn=W(Re(Ae,Xe),po=>po!==Yt);return xn.length>0?Yo(Ae,Xe,xn.join(" ")):vn(Ae,Xe),!1},Xo=Ae=>Ae.dom.classList!==void 0,no=Ae=>Re(Ae,"class"),lt=(Ae,Xe)=>it(Ae,"class",Xe),bt=(Ae,Xe)=>F(Ae,"class",Xe),Ft=(Ae,Xe)=>{Xo(Ae)?Ae.dom.classList.add(Xe):lt(Ae,Xe)},ee=Ae=>{(Xo(Ae)?Ae.dom.classList:no(Ae)).length===0&&vn(Ae,"class")},he=(Ae,Xe)=>{Xo(Ae)?Ae.dom.classList.remove(Xe):bt(Ae,Xe),ee(Ae)},we=(Ae,Xe)=>{const xn=(Xe||document).createElement("div");if(xn.innerHTML=Ae,!xn.hasChildNodes()||xn.childNodes.length>1){const po="HTML does not have a single root node";throw console.error(po,Ae),new Error(po)}return Pe(xn.childNodes[0])},ae=(Ae,Xe)=>{const xn=(Xe||document).createElement(Ae);return Pe(xn)},Ne=(Ae,Xe)=>{const xn=(Xe||document).createTextNode(Ae);return Pe(xn)},Pe=Ae=>{if(Ae==null)throw new Error("Node cannot be null or undefined");return{dom:Ae}},We={fromHtml:we,fromTag:ae,fromText:Ne,fromDom:Pe,fromPoint:(Ae,Xe,Yt)=>ot.from(Ae.dom.elementFromPoint(Xe,Yt)).map(Pe)},J={"\xA0":"nbsp","\xAD":"shy"},xe=(Ae,Xe)=>{let Yt="";return Fo(Ae,(xn,po)=>{Yt+=po}),new RegExp("["+Yt+"]",Xe?"g":"")},Le=Ae=>{let Xe="";return Fo(Ae,Yt=>{Xe&&(Xe+=","),Xe+="span.mce-"+Yt}),Xe},Mt=xe(J),Zn=xe(J,!0),On=Le(J),Nn="mce-nbsp",Un=Ae=>Ae.dom.contentEditable,$o=Ae=>'<span data-mce-bogus="1" class="mce-'+J[Ae]+'">'+Ae+"</span>",to=Ae=>Ae.nodeName.toLowerCase()==="span"&&Ae.classList.contains("mce-nbsp-wrap"),Jn=Ae=>{const Xe=gn(Ae);return et(Ae)&&An(Xe)&&Mt.test(Xe)},ao=Ae=>Hn(Ae)&&Un(Ae)==="false",kn=(Ae,Xe)=>{if(Hn(Ae)&&!to(Ae.dom)){const Yt=Un(Ae);if(Yt==="true")return!0;if(Yt==="false")return!1}return Xe},co=(Ae,Xe,Yt)=>{let xn=[];const po=Ae.dom,ss=Rt(po.childNodes,We.fromDom),fr=Qs=>to(Qs.dom)||!ao(Qs);return Ot(ss,Qs=>{Yt&&fr(Qs)&&Xe(Qs)&&(xn=xn.concat([Qs])),xn=xn.concat(co(Qs,Xe,kn(Qs,Yt)))}),xn},Zo=(Ae,Xe)=>{for(;Ae.parentNode;){if(Ae.parentNode===Xe)return Xe;Ae=Ae.parentNode}},Jo=Ae=>Ae.replace(Zn,$o),as=(Ae,Xe)=>{const Yt=Ae.dom,xn=co(We.fromDom(Xe),Jn,Ae.dom.isEditable(Xe));Ot(xn,po=>{var ss;const fr=po.dom.parentNode;if(to(fr))Ft(We.fromDom(fr),Nn);else{const Qs=Jo(Yt.encode((ss=gn(po))!==null&&ss!==void 0?ss:"")),er=Yt.create("div",{},Qs);let ie;for(;ie=er.lastChild;)Yt.insertAfter(ie,po.dom);Ae.dom.remove(po.dom)}})},xo=(Ae,Xe)=>{const Yt=Ae.dom.select(On,Xe);Ot(Yt,xn=>{to(xn)?he(We.fromDom(xn),Nn):Ae.dom.remove(xn,!0)})},wr=Ae=>{const Xe=Ae.getBody(),Yt=Ae.selection.getBookmark();let xn=Zo(Ae.selection.getNode(),Xe);xn=xn!==void 0?xn:Xe,xo(Ae,xn),as(Ae,xn),Ae.selection.moveToBookmark(Yt)},xt=(Ae,Xe)=>{Pn(Ae,Xe.get());const Yt=Ae.getBody();Xe.get()===!0?as(Ae,Yt):xo(Ae,Yt)},Oo=(Ae,Xe)=>{Xe.set(!Xe.get());const Yt=Ae.selection.getBookmark();xt(Ae,Xe),Ae.selection.moveToBookmark(Yt)},Js=(Ae,Xe)=>{Ae.addCommand("mceVisualChars",()=>{Oo(Ae,Xe)})},_r=Ae=>Xe=>Xe.options.get(Ae),Pr=Ae=>{const Xe=Ae.options.register;Xe("visualchars_default_state",{processor:"boolean",default:!1})},qr=_r("visualchars_default_state"),Cs=(Ae,Xe)=>{Ae.on("init",()=>{xt(Ae,Xe)})},Jr=(Ae,Xe)=>{let Yt=null;return{cancel:()=>{zo(Yt)||(clearTimeout(Yt),Yt=null)},throttle:(...ss)=>{zo(Yt)&&(Yt=setTimeout(()=>{Yt=null,Ae.apply(null,ss)},Xe))}}},Hr=(Ae,Xe)=>{const Yt=Jr(()=>{wr(Ae)},300);Ae.on("keydown",xn=>{Xe.get()===!0&&(xn.keyCode===13?wr(Ae):Yt.throttle())}),Ae.on("remove",Yt.cancel)},fs=(Ae,Xe)=>Yt=>{Yt.setActive(Xe.get());const xn=po=>Yt.setActive(po.state);return Ae.on("VisualChars",xn),()=>Ae.off("VisualChars",xn)},qn=(Ae,Xe)=>{const Yt=()=>Ae.execCommand("mceVisualChars");Ae.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:Yt,onSetup:fs(Ae,Xe)}),Ae.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:Yt,onSetup:fs(Ae,Xe)})};var cr=()=>{bn.add("visualchars",Ae=>{Pr(Ae);const Xe=Tn(qr(Ae));return Js(Ae,Xe),qn(Ae,Xe),Hr(Ae,Xe),Cs(Ae,Xe),Ve(Xe)})};cr()})()},24701:function(Tn,bn,Ve){Ve(63994)},63994:function(){(function(){"use strict";var Tn=tinymce.util.Tools.resolve("tinymce.PluginManager");const Ve=(ee=>he=>ee===he)(null),Pn=ee=>ee,Ao=(ee,he)=>{const we=ee.length,ae=new Array(we);for(let Ne=0;Ne<we;Ne++){const Pe=ee[Ne];ae[Ne]=he(Pe,Ne)}return ae},Xn={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:"[~\u2116|!-*+-\\/:;?@\\[-`{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]"},Qe={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},yn=[new RegExp(Xn.aletter),new RegExp(Xn.midnumlet),new RegExp(Xn.midletter),new RegExp(Xn.midnum),new RegExp(Xn.numeric),new RegExp(Xn.cr),new RegExp(Xn.lf),new RegExp(Xn.newline),new RegExp(Xn.extend),new RegExp(Xn.format),new RegExp(Xn.katakana),new RegExp(Xn.extendnumlet),new RegExp("@")],An="",Ln=new RegExp("^"+Xn.punctuation+"$"),zo=/^\s+$/,dn=yn,en=Qe.OTHER,Wt=ee=>{let he=en;const we=dn.length;for(let ae=0;ae<we;++ae){const Ne=dn[ae];if(Ne&&Ne.test(ee)){he=ae;break}}return he},ln=ee=>{const he={};return we=>{if(he[we])return he[we];{const ae=ee(we);return he[we]=ae,ae}}},ot=ee=>{const he=ln(Wt);return Ao(ee,he)},Rt=(ee,he)=>{const we=ee[he],ae=ee[he+1];if(he<0||he>ee.length-1&&he!==0||we===Qe.ALETTER&&ae===Qe.ALETTER)return!1;const Ne=ee[he+2];if(we===Qe.ALETTER&&(ae===Qe.MIDLETTER||ae===Qe.MIDNUMLET||ae===Qe.AT)&&Ne===Qe.ALETTER)return!1;const Pe=ee[he-1];return(we===Qe.MIDLETTER||we===Qe.MIDNUMLET||ae===Qe.AT)&&ae===Qe.ALETTER&&Pe===Qe.ALETTER||(we===Qe.NUMERIC||we===Qe.ALETTER)&&(ae===Qe.NUMERIC||ae===Qe.ALETTER)||(we===Qe.MIDNUM||we===Qe.MIDNUMLET)&&ae===Qe.NUMERIC&&Pe===Qe.NUMERIC||we===Qe.NUMERIC&&(ae===Qe.MIDNUM||ae===Qe.MIDNUMLET)&&Ne===Qe.NUMERIC||(we===Qe.EXTEND||we===Qe.FORMAT)&&(ae===Qe.ALETTER||ae===Qe.NUMERIC||ae===Qe.KATAKANA||ae===Qe.EXTEND||ae===Qe.FORMAT)||(ae===Qe.EXTEND||ae===Qe.FORMAT&&(Ne===Qe.ALETTER||Ne===Qe.NUMERIC||Ne===Qe.KATAKANA||Ne===Qe.EXTEND||Ne===Qe.FORMAT))&&(we===Qe.ALETTER||we===Qe.NUMERIC||we===Qe.KATAKANA||we===Qe.EXTEND||we===Qe.FORMAT)||we===Qe.CR&&ae===Qe.LF?!1:we===Qe.NEWLINE||we===Qe.CR||we===Qe.LF||ae===Qe.NEWLINE||ae===Qe.CR||ae===Qe.LF?!0:!(we===Qe.KATAKANA&&ae===Qe.KATAKANA||ae===Qe.EXTENDNUMLET&&(we===Qe.ALETTER||we===Qe.NUMERIC||we===Qe.KATAKANA||we===Qe.EXTENDNUMLET)||we===Qe.EXTENDNUMLET&&(ae===Qe.ALETTER||ae===Qe.NUMERIC||ae===Qe.KATAKANA)||we===Qe.AT)},Ot=An,W=zo,ft=Ln,Fo=ee=>ee==="http"||ee==="https",ht=(ee,he)=>{let we;for(we=he;we<ee.length&&!W.test(ee[we]);we++);return we},H=(ee,he)=>{const we=ht(ee,he+1);return ee.slice(he+1,we).join(Ot).substr(0,3)==="://"?we:he},at=(ee,he,we,ae)=>{const Ne=[],Pe=[];let Ye=[];for(let We=0;We<we.length;++We)if(Ye.push(ee[We]),Rt(we,We)){const J=he[We];if((ae.includeWhitespace||!W.test(J))&&(ae.includePunctuation||!ft.test(J))){const xe=We-Ye.length+1,Le=We+1,Mt=he.slice(xe,Le).join(Ot);if(Fo(Mt)){const Zn=H(he,We),On=ee.slice(Le,Zn);Array.prototype.push.apply(Ye,On),We=Zn}Ne.push(Ye),Pe.push({start:xe,end:Le})}Ye=[]}return{words:Ne,indices:Pe}},Sn=()=>({includeWhitespace:!1,includePunctuation:!1}),Jt=(ee,he,we)=>{we=te(te({},Sn()),we);const ae=Ao(ee,he),Ne=ot(ae);return at(ee,ae,Ne,we)},ce=(ee,he,we)=>Jt(ee,he,we).words,Ro=ee=>ee.replace(/\uFEFF/g,"");var Se=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const De=(ee,he)=>{const we=he.getBlockElements(),ae=he.getVoidElements(),Ne=xe=>we[xe.nodeName]||ae[xe.nodeName],Pe=[];let Ye="";const We=new Se(ee,ee);let J;for(;J=We.next();)J.nodeType===3?Ye+=Ro(J.data):Ne(J)&&Ye.length&&(Pe.push(Ye),Ye="");return Ye.length&&Pe.push(Ye),Pe},E=ee=>ee.replace(/\u200B/g,""),gn=ee=>ee.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,rt=(ee,he)=>{const we=E(De(ee,he).join(`
`));return ce(we.split(""),Pn).length},Hn=(ee,he)=>{const we=De(ee,he).join("");return gn(we)},tn=(ee,he)=>{const we=De(ee,he).join("").replace(/\s/g,"");return gn(we)},et=(ee,he)=>()=>he(ee.getBody(),ee.schema),uo=(ee,he)=>()=>he(ee.selection.getRng().cloneContents(),ee.schema),Yo=ee=>et(ee,rt),Ct=ee=>({body:{getWordCount:Yo(ee),getCharacterCount:et(ee,Hn),getCharacterCountWithoutSpaces:et(ee,tn)},selection:{getWordCount:uo(ee,rt),getCharacterCount:uo(ee,Hn),getCharacterCountWithoutSpaces:uo(ee,tn)},getCount:Yo(ee)}),vn=(ee,he)=>{ee.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(he.body.getWordCount()),String(he.selection.getWordCount())],["Characters (no spaces)",String(he.body.getCharacterCountWithoutSpaces()),String(he.selection.getCharacterCountWithoutSpaces())],["Characters",String(he.body.getCharacterCount()),String(he.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Re=(ee,he)=>{ee.addCommand("mceWordCount",()=>vn(ee,he))},it=(ee,he)=>{let we=null;return{cancel:()=>{Ve(we)||(clearTimeout(we),we=null)},throttle:(...Pe)=>{Ve(we)&&(we=setTimeout(()=>{we=null,ee.apply(null,Pe)},he))}}};var F=tinymce.util.Tools.resolve("tinymce.util.Delay");const Xo=(ee,he)=>{ee.dispatch("wordCountUpdate",{wordCount:{words:he.body.getWordCount(),characters:he.body.getCharacterCount(),charactersWithoutSpaces:he.body.getCharacterCountWithoutSpaces()}})},no=(ee,he)=>{Xo(ee,he)},lt=(ee,he,we)=>{const ae=it(()=>no(ee,he),we);ee.on("init",()=>{no(ee,he),F.setEditorTimeout(ee,()=>{ee.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",ae.throttle)},0),ee.on("remove",ae.cancel)})},bt=ee=>{const he=()=>ee.execCommand("mceWordCount");ee.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:he}),ee.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:he})};var Ft=(ee=300)=>{Tn.add("wordcount",he=>{const we=Ct(he);return Re(he,we),bt(he),lt(he,we,ee),we})};Ft()})()},74848:function(Tn,bn,Ve){Ve(9495)},9495:function(){(function(){"use strict";const Tn=Object.getPrototypeOf,bn=(t,s,a)=>{var i;return a(t,s.prototype)?!0:((i=t.constructor)===null||i===void 0?void 0:i.name)===s.name},Ve=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&bn(t,String,(a,i)=>i.isPrototypeOf(a))?"string":s},Pn=t=>s=>Ve(s)===t,Ao=t=>s=>typeof s===t,So=t=>s=>t===s,Xn=(t,s)=>yn(t)&&bn(t,s,(a,i)=>Tn(a)===i),Qe=Pn("string"),yn=Pn("object"),An=t=>Xn(t,Object),Ln=Pn("array"),zo=So(null),dn=Ao("boolean"),en=So(void 0),Wt=t=>t==null,ln=t=>!Wt(t),ot=Ao("function"),Rt=Ao("number"),Ot=(t,s)=>{if(Ln(t)){for(let a=0,i=t.length;a<i;++a)if(!s(t[a]))return!1;return!0}return!1},W=()=>{},ft=t=>()=>t(),Fo=(t,s)=>(...a)=>t(s.apply(null,a)),ht=(t,s)=>a=>t(s(a)),H=t=>()=>t,at=t=>t,Sn=(t,s)=>t===s;function Jt(t,...s){return(...a)=>{const i=s.concat(a);return t.apply(null,i)}}const $e=t=>s=>!t(s),ce=t=>()=>{throw new Error(t)},Ro=t=>t(),Se=H(!1),De=H(!0);class E{constructor(s,a){this.tag=s,this.value=a}static some(s){return new E(!0,s)}static none(){return E.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?E.some(s(this.value)):E.none()}bind(s){return this.tag?s(this.value):E.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:E.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s!=null?s:"Called getOrDie on None")}static from(s){return ln(s)?E.some(s):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(!1);const gn=Array.prototype.slice,rt=Array.prototype.indexOf,Hn=Array.prototype.push,tn=(t,s)=>rt.call(t,s),et=(t,s)=>{const a=tn(t,s);return a===-1?E.none():E.some(a)},uo=(t,s)=>tn(t,s)>-1,Yo=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return!0}return!1},Ct=(t,s)=>{const a=[];for(let i=0;i<t;i++)a.push(s(i));return a},vn=(t,s)=>{const a=[];for(let i=0;i<t.length;i+=s){const d=gn.call(t,i,i+s);a.push(d)}return a},Re=(t,s)=>{const a=t.length,i=new Array(a);for(let d=0;d<a;d++){const g=t[d];i[d]=s(g,d)}return i},it=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];s(d,a)}},F=(t,s)=>{for(let a=t.length-1;a>=0;a--){const i=t[a];s(i,a)}},Xo=(t,s)=>{const a=[],i=[];for(let d=0,g=t.length;d<g;d++){const h=t[d];(s(h,d)?a:i).push(h)}return{pass:a,fail:i}},no=(t,s)=>{const a=[];for(let i=0,d=t.length;i<d;i++){const g=t[i];s(g,i)&&a.push(g)}return a},lt=(t,s,a)=>(F(t,(i,d)=>{a=s(a,i,d)}),a),bt=(t,s,a)=>(it(t,(i,d)=>{a=s(a,i,d)}),a),Ft=(t,s,a)=>{for(let i=0,d=t.length;i<d;i++){const g=t[i];if(s(g,i))return E.some(g);if(a(g,i))break}return E.none()},ee=(t,s)=>Ft(t,s,Se),he=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return E.some(a)}return E.none()},we=t=>{const s=[];for(let a=0,i=t.length;a<i;++a){if(!Ln(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);Hn.apply(s,t[a])}return s},ae=(t,s)=>we(Re(t,s)),Ne=(t,s)=>{for(let a=0,i=t.length;a<i;++a){const d=t[a];if(s(d,a)!==!0)return!1}return!0},Pe=t=>{const s=gn.call(t,0);return s.reverse(),s},Ye=(t,s)=>no(t,a=>!uo(s,a)),We=(t,s)=>{const a={};for(let i=0,d=t.length;i<d;i++){const g=t[i];a[String(g)]=s(g,i)}return a},J=t=>[t],xe=(t,s)=>{const a=gn.call(t,0);return a.sort(s),a},Le=(t,s)=>s>=0&&s<t.length?E.some(t[s]):E.none(),Mt=t=>Le(t,0),Zn=t=>Le(t,t.length-1),On=ot(Array.from)?Array.from:t=>gn.call(t),Nn=(t,s)=>{for(let a=0;a<t.length;a++){const i=s(t[a],a);if(i.isSome())return i}return E.none()},Un=Object.keys,$o=Object.hasOwnProperty,to=(t,s)=>{const a=Un(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],h=t[g];s(h,g)}},Jn=(t,s)=>ao(t,(a,i)=>({k:i,v:s(a,i)})),ao=(t,s)=>{const a={};return to(t,(i,d)=>{const g=s(i,d);a[g.k]=g.v}),a},kn=t=>(s,a)=>{t[a]=s},co=(t,s,a,i)=>{to(t,(d,g)=>{(s(d,g)?a:i)(d,g)})},Zo=(t,s)=>{const a={},i={};return co(t,s,kn(a),kn(i)),{t:a,f:i}},Jo=(t,s)=>{const a={};return co(t,s,kn(a),W),a},as=(t,s)=>{const a=[];return to(t,(i,d)=>{a.push(s(i,d))}),a},xo=(t,s)=>{const a=Un(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],h=t[g];if(s(h,g,t))return E.some(h)}return E.none()},wr=t=>as(t,at),xt=(t,s)=>Oo(t,s)?E.from(t[s]):E.none(),Oo=(t,s)=>$o.call(t,s),Js=(t,s)=>Oo(t,s)&&t[s]!==void 0&&t[s]!==null,_r=(t,s,a=Sn)=>t.exists(i=>a(i,s)),Pr=(t,s,a=Sn)=>Jr(t,s,a).getOr(t.isNone()&&s.isNone()),qr=t=>{const s=[],a=i=>{s.push(i)};for(let i=0;i<t.length;i++)t[i].each(a);return s},Cs=t=>{const s=[];for(let a=0;a<t.length;a++){const i=t[a];if(i.isSome())s.push(i.getOrDie());else return E.none()}return E.some(s)},Jr=(t,s,a)=>t.isSome()&&s.isSome()?E.some(a(t.getOrDie(),s.getOrDie())):E.none(),Hr=(t,s,a,i)=>t.isSome()&&s.isSome()&&a.isSome()?E.some(i(t.getOrDie(),s.getOrDie(),a.getOrDie())):E.none(),fs=(t,s)=>t!=null?E.some(s(t)):E.none(),qn=(t,s)=>t?E.some(s):E.none(),cr=(t,s)=>t+s,Ae=(t,s)=>t.substring(s),Xe=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,Yt=(t,s)=>ss(t,s)?Ae(t,s.length):t,xn=(t,s)=>fr(t,s)?t:cr(t,s),po=(t,s,a=0,i)=>{const d=t.indexOf(s,a);return d!==-1?en(i)?!0:d+s.length<=i:!1},ss=(t,s)=>Xe(t,s,0),fr=(t,s)=>Xe(t,s,t.length-s.length),er=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),ie=t=>t.length>0,le=t=>!ie(t),Ge=t=>t.style!==void 0&&ot(t.style.getPropertyValue),ct=(t,s)=>{const i=(s||document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return vo(i.childNodes[0])},zn=(t,s)=>{const i=(s||document).createElement(t);return vo(i)},oo=(t,s)=>{const i=(s||document).createTextNode(t);return vo(i)},vo=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},ke={fromHtml:ct,fromTag:zn,fromText:oo,fromDom:vo,fromPoint:(t,s,a)=>E.from(t.dom.elementFromPoint(s,a)).map(vo)},ko=typeof window!="undefined"?window:Function("return this;")(),fe=(t,s)=>{let a=s!=null?s:ko;for(let i=0;i<t.length&&a!==void 0&&a!==null;++i)a=a[t[i]];return a},ge=(t,s)=>{const a=t.split(".");return fe(a,s)},yt=(t,s)=>ge(t,s),Et=(t,s)=>{const a=yt(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},nn=Object.getPrototypeOf,Gn=t=>Et("HTMLElement",t),Rn=t=>{const s=ge("ownerDocument.defaultView",t);return yn(t)&&(Gn(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(nn(t).constructor.name))},Mn=9,$n=11,so=1,es=3,Us=t=>t.dom.nodeName.toLowerCase(),Ra=t=>t.dom.nodeType,Ha=t=>s=>Ra(s)===t,ic=t=>wo(t)&&Rn(t.dom),wo=Ha(so),ms=Ha(es),Ws=Ha(Mn),Qr=Ha($n),ra=t=>s=>wo(s)&&Us(s)===t,ea=(t,s)=>{const a=t.dom;if(a.nodeType!==so)return!1;{const i=a;if(i.matches!==void 0)return i.matches(s);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(s);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(s);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Ps=t=>t.nodeType!==so&&t.nodeType!==Mn&&t.nodeType!==$n||t.childElementCount===0,Fu=(t,s)=>{const a=s===void 0?document:s.dom;return Ps(a)?[]:Re(a.querySelectorAll(t),ke.fromDom)},Mi=(t,s)=>{const a=s===void 0?document:s.dom;return Ps(a)?E.none():E.from(a.querySelector(t)).map(ke.fromDom)},zs=(t,s)=>t.dom===s.dom,Ma=(t,s)=>{const a=t.dom,i=s.dom;return a===i?!1:a.contains(i)},ma=t=>ke.fromDom(t.dom.ownerDocument),Br=t=>Ws(t)?t:ma(t),pi=t=>ke.fromDom(Br(t).dom.documentElement),Dc=t=>ke.fromDom(Br(t).dom.defaultView),aa=t=>E.from(t.dom.parentNode).map(ke.fromDom),Uc=t=>aa(t),zc=t=>E.from(t.dom.parentElement).map(ke.fromDom),Yi=(t,s)=>{const a=ot(s)?s:Se;let i=t.dom;const d=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const g=i.parentNode,h=ke.fromDom(g);if(d.push(h),a(h)===!0)break;i=g}return d},Ni=t=>E.from(t.dom.offsetParent).map(ke.fromDom),ti=t=>E.from(t.dom.nextSibling).map(ke.fromDom),Va=t=>Re(t.dom.childNodes,ke.fromDom),Wc=(t,s)=>{const a=t.dom.childNodes;return E.from(a[s]).map(ke.fromDom)},hi=t=>Wc(t,0),Rc=(t,s)=>({element:t,offset:s}),gl=(t,s)=>{const a=Va(t);return a.length>0&&s<a.length?Rc(a[s],0):Rc(t,s)},Z=t=>Qr(t)&&ln(t.dom.host),pe=ot(Element.prototype.attachShadow)&&ot(Node.prototype.getRootNode),Oe=H(pe),qe=pe?t=>ke.fromDom(t.dom.getRootNode()):Br,Pt=t=>Z(t)?t:ke.fromDom(Br(t).dom.body),io=t=>Bs(t).isSome(),Bs=t=>{const s=qe(t);return Z(s)?E.some(s):E.none()},js=t=>ke.fromDom(t.dom.host),Ls=t=>{if(Oe()&&ln(t.target)){const s=ke.fromDom(t.target);if(wo(s)&&mr(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return Mt(a)}}return E.from(t.target)},mr=t=>ln(t.dom.shadowRoot),gs=t=>{const s=ms(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return Bs(ke.fromDom(s)).fold(()=>a.body.contains(s),ht(gs,js))},Cr=()=>ni(ke.fromDom(document)),ni=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return ke.fromDom(s)},bi=(t,s,a)=>{if(Qe(a)||dn(a)||Rt(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},pn=(t,s,a)=>{bi(t.dom,s,a)},$u=(t,s)=>{const a=t.dom;to(s,(i,d)=>{bi(a,d,i)})},yr=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},P=(t,s)=>E.from(yr(t,s)),Y=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},re=(t,s)=>{t.dom.removeAttribute(s)},Ke=t=>bt(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),on=(t,s,a)=>{if(!Qe(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);Ge(t)&&t.style.setProperty(s,a)},qo=(t,s)=>{Ge(t)&&t.style.removeProperty(s)},Dn=(t,s,a)=>{const i=t.dom;on(i,s,a)},gr=(t,s)=>{const a=t.dom;to(s,(i,d)=>{on(a,d,i)})},Dt=(t,s)=>{const a=t.dom;to(s,(i,d)=>{i.fold(()=>{qo(a,d)},g=>{on(a,d,g)})})},Zs=(t,s)=>{const a=t.dom,d=window.getComputedStyle(a).getPropertyValue(s);return d===""&&!gs(t)?Ja(a,s):d},Ja=(t,s)=>Ge(t)?t.style.getPropertyValue(s):"",zr=(t,s)=>{const a=t.dom,i=Ja(a,s);return E.from(i).filter(d=>d.length>0)},ca=t=>{const s={},a=t.dom;if(Ge(a))for(let i=0;i<a.style.length;i++){const d=a.style.item(i);s[d]=a.style[d]}return s},Pi=(t,s,a)=>{const i=ke.fromTag(t);return Dn(i,s,a),zr(i,s).isSome()},q=(t,s)=>{const a=t.dom;qo(a,s),_r(P(t,"style").map(er),"")&&re(t,"style")},ue=t=>t.dom.offsetWidth,Fe=(t,s)=>{const a=(v,_)=>{if(!Rt(_)&&!_.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+_);const T=v.dom;Ge(T)&&(T.style[t]=_+"px")},i=v=>{const _=s(v);if(_<=0||_===null){const T=Zs(v,t);return parseFloat(T)||0}return _},d=i,g=(v,_)=>bt(_,(T,D)=>{const N=Zs(v,D),B=N===void 0?0:parseInt(N,10);return isNaN(B)?T:T+B},0);return{set:a,get:i,getOuter:d,aggregate:g,max:(v,_,T)=>{const D=g(v,T);return _>D?_-D:0}}},kt=Fe("height",t=>{const s=t.dom;return gs(t)?s.getBoundingClientRect().height:s.offsetHeight}),un=t=>kt.get(t),ns=t=>kt.getOuter(t),Sr=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],i=kt.max(t,s,a);Dn(t,"max-height",i+"px")},Ca=(t,s)=>({left:t,top:s,translate:(i,d)=>Ca(t+i,s+d)}),cs=Ca,Gr=t=>{const s=t.getBoundingClientRect();return cs(s.left,s.top)},Vr=(t,s)=>t!==void 0?t:s!==void 0?s:0,ia=t=>{const s=t.dom.ownerDocument,a=s.body,i=s.defaultView,d=s.documentElement;if(a===t.dom)return cs(a.offsetLeft,a.offsetTop);const g=Vr(i==null?void 0:i.pageYOffset,d.scrollTop),h=Vr(i==null?void 0:i.pageXOffset,d.scrollLeft),v=Vr(d.clientTop,a.clientTop),_=Vr(d.clientLeft,a.clientLeft);return Qa(t).translate(h-_,g-v)},Qa=t=>{const s=t.dom,i=s.ownerDocument.body;return i===s?cs(i.offsetLeft,i.offsetTop):gs(t)?Gr(s):cs(0,0)},pl=Fe("width",t=>t.dom.offsetWidth),qs=(t,s)=>pl.set(t,s),ir=t=>pl.get(t),la=t=>pl.getOuter(t),ep=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],i=pl.max(t,s,a);Dn(t,"max-width",i+"px")},Ar=t=>{let s=!1,a;return(...i)=>(s||(s=!0,a=t.apply(null,i)),a)},lc=(t,s,a,i)=>{const d=t.isiOS()&&/ipad/i.test(a)===!0,g=t.isiOS()&&!d,h=t.isiOS()||t.isAndroid(),v=h||i("(pointer:coarse)"),_=d||!g&&h&&i("(min-device-width:768px)"),T=g||h&&!_,D=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,N=!T&&!_&&!D;return{isiPad:H(d),isiPhone:H(g),isTablet:H(_),isPhone:H(T),isTouch:H(v),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:H(D),isDesktop:H(N)}},ec=(t,s)=>{for(let a=0;a<t.length;a++){const i=t[a];if(i.test(s))return i}},tp=(t,s)=>{const a=ec(t,s);if(!a)return{major:0,minor:0};const i=d=>Number(s.replace(a,"$"+d));return iu(i(1),i(2))},cu=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?jc():tp(t,a)},jc=()=>iu(0,0),iu=(t,s)=>({major:t,minor:s}),Gs={nu:iu,detect:cu,unknown:jc},Xi=(t,s)=>Nn(s.brands,a=>{const i=a.brand.toLowerCase();return ee(t,d=>{var g;return i===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(d=>({current:d.name,version:Gs.nu(parseInt(a.version,10),0)}))}),kc=(t,s)=>{const a=String(s).toLowerCase();return ee(t,i=>i.search(a))},hl=(t,s)=>kc(t,s).map(a=>{const i=Gs.detect(a.versionRegexes,s);return{current:a.name,version:i}}),Kr=(t,s)=>kc(t,s).map(a=>{const i=Gs.detect(a.versionRegexes,s);return{current:a.name,version:i}}),ta=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zc=t=>s=>po(s,t),lu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>po(t,"edge/")&&po(t,"chrome")&&po(t,"safari")&&po(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ta],search:t=>po(t,"chrome")&&!po(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>po(t,"msie")||po(t,"trident")},{name:"Opera",versionRegexes:[ta,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zc("firefox")},{name:"Safari",versionRegexes:[ta,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(po(t,"safari")||po(t,"mobile/"))&&po(t,"applewebkit")}],Iu=[{name:"Windows",search:Zc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>po(t,"iphone")||po(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Zc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zc("linux"),versionRegexes:[]},{name:"Solaris",search:Zc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Zc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yf={browsers:H(lu),oses:H(Iu)},Gd="Edge",uc="Chromium",Kd="IE",Mc="Opera",bl="Firefox",hd="Safari",$l=()=>Yd({current:void 0,version:Gs.unknown()}),Yd=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isEdge:i(Gd),isChromium:i(uc),isIE:i(Kd),isOpera:i(Mc),isFirefox:i(bl),isSafari:i(hd)}},Lu={unknown:$l,nu:Yd,edge:H(Gd),chromium:H(uc),ie:H(Kd),opera:H(Mc),firefox:H(bl),safari:H(hd)},Vm="Windows",yl="iOS",Um="Android",Xd="Linux",Xf="macOS",Hu="Solaris",Wm="FreeBSD",de="ChromeOS",Vu=()=>Bi({current:void 0,version:Gs.unknown()}),Bi=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isWindows:i(Vm),isiOS:i(yl),isAndroid:i(Um),isMacOS:i(Xf),isLinux:i(Xd),isSolaris:i(Hu),isFreeBSD:i(Wm),isChromeOS:i(de)}},Jf={unknown:Vu,nu:Bi,windows:H(Vm),ios:H(yl),android:H(Um),linux:H(Xd),macos:H(Xf),solaris:H(Hu),freebsd:H(Wm),chromeos:H(de)},vh={detect:(t,s,a)=>{const i=Yf.browsers(),d=Yf.oses(),g=s.bind(_=>Xi(i,_)).orThunk(()=>hl(i,t)).fold(Lu.unknown,Lu.nu),h=Kr(d,t).fold(Jf.unknown,Jf.nu),v=lc(h,g,t,a);return{browser:g,os:h,deviceType:v}}},Rs=t=>window.matchMedia(t).matches;let dc=Ar(()=>vh.detect(navigator.userAgent,E.from(navigator.userAgentData),Rs));const vl=()=>dc(),yi=(t,s,a,i,d,g,h)=>({target:t,x:s,y:a,stop:i,prevent:d,kill:g,raw:h}),jm=t=>{const s=ke.fromDom(Ls(t).getOr(t.target)),a=()=>t.stopPropagation(),i=()=>t.preventDefault(),d=Fo(i,a);return yi(s,t.clientX,t.clientY,a,i,d,t)},Uu=(t,s)=>a=>{t(a)&&s(jm(a))},qc=(t,s,a,i,d)=>{const g=Uu(a,i);return t.dom.addEventListener(s,g,d),{unbind:Jt(kh,t,s,g,d)}},bd=(t,s,a,i)=>qc(t,s,a,i,!1),Jd=(t,s,a,i)=>qc(t,s,a,i,!0),kh=(t,s,a,i)=>{t.dom.removeEventListener(s,a,i)},vi=(t,s)=>{aa(t).each(i=>{i.dom.insertBefore(s.dom,t.dom)})},Qd=(t,s)=>{ti(t).fold(()=>{aa(t).each(d=>{Nc(d,s)})},i=>{vi(i,s)})},Qf=(t,s)=>{hi(t).fold(()=>{Nc(t,s)},i=>{t.dom.insertBefore(s.dom,i.dom)})},Nc=(t,s)=>{t.dom.appendChild(s.dom)},Ua=(t,s,a)=>{Wc(t,a).fold(()=>{Nc(t,s)},i=>{vi(i,s)})},uu=(t,s)=>{it(s,a=>{Nc(t,a)})},yd=t=>{t.dom.textContent="",it(Va(t),s=>{Fi(s)})},Fi=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Gc=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,i=s.body.scrollTop||s.documentElement.scrollTop;return cs(a,i)},Zm=(t,s,a)=>{const d=(a!==void 0?a.dom:document).defaultView;d&&d.scrollTo(t,s)},op=t=>{const s=t===void 0?window:t;return vl().browser.isFirefox()?E.none():E.from(s.visualViewport)},Wu=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),em=t=>{const s=t===void 0?window:t,a=s.document,i=Gc(ke.fromDom(a));return op(s).fold(()=>{const d=s.document.documentElement,g=d.clientWidth,h=d.clientHeight;return Wu(i.left,i.top,g,h)},d=>Wu(Math.max(d.pageLeft,i.left),Math.max(d.pageTop,i.top),d.width,d.height))},tm=()=>ke.fromDom(document),kl=(t,s)=>t.view(s).fold(H([]),i=>{const d=t.owner(i),g=kl(t,d);return[i].concat(g)}),qm=(t,s)=>{const a=s.owner(t),i=kl(s,a);return E.some(i)};var Gm=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?E.none():E.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(ke.fromDom)},owner:t=>ma(t)});const ef=t=>{const s=tm(),a=Gc(s);return qm(t,Gm).fold(Jt(ia,t),d=>{const g=Qa(t),h=lt(d,(v,_)=>{const T=Qa(_);return{left:v.left+T.left,top:v.top+T.top}},{left:0,top:0});return cs(h.left+g.left+a.left,h.top+g.top+a.top)})},nm=(t,s,a)=>({point:t,width:s,height:a}),ju=(t,s,a,i)=>({x:t,y:s,width:a,height:i}),Or=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Ur=t=>{const s=ia(t),a=la(t),i=ns(t);return Or(s.left,s.top,a,i)},Kc=t=>{const s=ef(t),a=la(t),i=ns(t);return Or(s.left,s.top,a,i)},Km=(t,s)=>{const a=Math.max(t.x,s.x),i=Math.max(t.y,s.y),d=Math.min(t.right,s.right),g=Math.min(t.bottom,s.bottom),h=d-a,v=g-i;return Or(a,i,h,v)},A=(t,s)=>bt(s,(a,i)=>Km(a,i),t),R=()=>em(window);var U=tinymce.util.Tools.resolve("tinymce.ThemeManager");const me=t=>{const s=g=>g(t),a=H(t),i=()=>d,d={tag:!0,inner:t,fold:(g,h)=>h(t),isValue:De,isError:Se,map:g=>$t.value(g(t)),mapError:i,bind:s,exists:s,forall:s,getOr:a,or:i,getOrThunk:a,orThunk:i,getOrDie:a,each:g=>{g(t)},toOptional:()=>E.some(t)};return d},ve=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(i,d)=>i(t),isValue:Se,isError:De,map:s,mapError:i=>$t.error(i(t)),bind:s,exists:Se,forall:De,getOr:at,or:at,getOrThunk:Ro,orThunk:Ro,getOrDie:ce(String(t)),each:W,toOptional:E.none};return a},$t={value:me,error:ve,fromOption:(t,s)=>t.fold(()=>ve(s),me)};var Do;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Do||(Do={}));const Mo=(t,s,a)=>t.stype===Do.Error?s(t.serror):a(t.svalue),Eo=t=>{const s=[],a=[];return it(t,i=>{Mo(i,d=>a.push(d),d=>s.push(d))}),{values:s,errors:a}},Yr=(t,s)=>t.stype===Do.Error?{stype:Do.Error,serror:s(t.serror)}:t,wc=(t,s)=>t.stype===Do.Value?{stype:Do.Value,svalue:s(t.svalue)}:t,Xr=(t,s)=>t.stype===Do.Value?s(t.svalue):t,Rr=(t,s)=>t.stype===Do.Error?s(t.serror):t,$i=t=>({stype:Do.Value,svalue:t}),Na=t=>({stype:Do.Error,serror:t}),ua={fromResult:t=>t.fold(Na,$i),toResult:t=>Mo(t,$t.error,$t.value),svalue:$i,partition:Eo,serror:Na,bind:Xr,bindError:Rr,map:wc,mapError:Yr,fold:Mo},Wa=(t,s,a,i)=>({tag:"field",key:t,newKey:s,presence:a,prop:i}),Il=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),om=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},Sa=(t,s)=>s,_h=(t,s)=>An(t)&&An(s)?rr(t,s):s,ky=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let i=0;i<s.length;i++){const d=s[i];for(const g in d)Oo(d,g)&&(a[g]=t(a[g],d[g]))}return a},rr=ky(_h),du=ky(Sa),Ms=()=>({tag:"required",process:{}}),oi=t=>({tag:"defaultedThunk",process:t}),tf=t=>oi(H(t)),vd=()=>({tag:"option",process:{}}),rs=t=>({tag:"mergeWithThunk",process:t}),nf=t=>rs(H(t)),Ch=(t,s)=>t.length>0?ua.svalue(rr(s,du.apply(void 0,t))):ua.svalue(s),Sh=t=>Fo(ua.serror,we)(t),ap={consolidateObj:(t,s)=>{const a=ua.partition(t);return a.errors.length>0?Sh(a.errors):Ch(a.values,s)},consolidateArr:t=>{const s=ua.partition(t);return s.errors.length>0?Sh(s.errors):ua.svalue(s.values)}},xh=t=>yn(t)&&Un(t).length>100?" removed due to size":JSON.stringify(t,null,2),Xm=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:H("... (only showing first ten failures)")}]):t;return Re(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},of=(t,s)=>ua.serror([{path:t,getErrorInfo:s}]),sm=(t,s,a)=>of(t,()=>'Could not find valid *required* value for "'+s+'" in '+xh(a)),_y=(t,s)=>of(t,()=>'Choice schema did not contain choice key: "'+s+'"'),wl=(t,s,a)=>of(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+xh(s)),Vv=(t,s)=>of(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),rm=(t,s)=>of(t,H(s)),Ji=t=>{const s=(i,d)=>ua.bindError(t(d),g=>rm(i,g)),a=H("val");return{extract:s,toString:a}},Eh=Ji(ua.svalue),Th=(t,s,a,i)=>xt(s,a).fold(()=>sm(t,a,s),i),Ah=(t,s,a,i)=>{const d=xt(t,s).getOrThunk(()=>a(t));return i(d)},cp=(t,s,a)=>a(xt(t,s)),Oh=(t,s,a,i)=>{const d=xt(t,s).map(g=>g===!0?a(t):g);return i(d)},Dh=(t,s,a,i,d)=>{const g=v=>d.extract(s.concat([i]),v),h=v=>v.fold(()=>ua.svalue(E.none()),_=>{const T=d.extract(s.concat([i]),_);return ua.map(T,E.some)});switch(t.tag){case"required":return Th(s,a,i,g);case"defaultedThunk":return Ah(a,i,t.process,g);case"option":return cp(a,i,h);case"defaultedOptionThunk":return Oh(a,i,t.process,h);case"mergeWithThunk":return Ah(a,i,H({}),v=>{const _=rr(t.process(a),v);return g(_)})}},zh=(t,s,a)=>{const i={},d=[];for(const g of a)om(g,(h,v,_,T)=>{const D=Dh(_,t,s,h,T);ua.fold(D,N=>{d.push(...N)},N=>{i[v]=N})},(h,v)=>{i[h]=v(s)});return d.length>0?ua.serror(d):ua.svalue(i)},ja=t=>({extract:(i,d)=>t().extract(i,d),toString:()=>t().toString()}),Uv=t=>Un(Jo(t,ln)),vr=t=>{const s=eo(t),a=lt(t,(d,g)=>om(g,h=>rr(d,{[h]:!0}),H(d)),{});return{extract:(d,g)=>{const h=dn(g)?[]:Uv(g),v=no(h,_=>!Js(a,_));return v.length===0?s.extract(d,g):Vv(d,v)},toString:s.toString}},eo=t=>({extract:(i,d)=>zh(i,d,t),toString:()=>`obj{
`+Re(t,d=>om(d,(g,h,v,_)=>g+" -> "+_.toString(),(g,h)=>"state("+g+")")).join(`
`)+"}"}),fu=t=>({extract:(i,d)=>{const g=Re(d,(h,v)=>t.extract(i.concat(["["+v+"]"]),h));return ap.consolidateArr(g)},toString:()=>"array("+t.toString()+")"}),wn=(t,s)=>{const a=s!==void 0?s:at;return{extract:(g,h)=>{const v=[];for(const _ of t){const T=_.extract(g,h);if(T.stype===Do.Value)return{stype:Do.Value,svalue:a(T.svalue)};v.push(T)}return ap.consolidateArr(v)},toString:()=>"oneOf("+Re(t,g=>g.toString()).join(", ")+")"}},sf=(t,s)=>{const a=(g,h)=>fu(Ji(t)).extract(g,h);return{extract:(g,h)=>{const v=Un(h),_=a(g,v);return ua.bind(_,T=>{const D=Re(T,N=>Wa(N,N,Ms(),s));return eo(D).extract(g,h)})},toString:()=>"setOf("+s.toString()+")"}},_l=(t,s)=>{const a=Ar(s);return{extract:(g,h)=>a().extract(g,h),toString:()=>a().toString()}},Zu=Fo(fu,eo),si=H(Eh),am=(t,s)=>Ji(a=>{const i=typeof a;return t(a)?ua.svalue(a):ua.serror(`Expected type: ${s} but got: ${i}`)}),mu=am(Rt,"number"),tc=am(Qe,"string"),Qi=am(dn,"boolean"),Jm=am(ot,"function"),ip=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>ip(t[s]));default:return!1}},It=Ji(t=>ip(t)?ua.svalue(t):ua.serror("Expected value to be acceptable for sending via postMessage")),Rh=(t,s,a,i)=>xt(a,i).fold(()=>wl(t,a,i),g=>g.extract(t.concat(["branch: "+i]),s)),rf=(t,s)=>({extract:(d,g)=>xt(g,t).fold(()=>_y(d,t),v=>Rh(d,g,s,v)),toString:()=>"chooseOn("+t+"). Possible values: "+Un(s)}),qu=()=>fu(Eh),Cl=t=>Ji(s=>t(s).fold(ua.serror,ua.svalue)),lp=(t,s)=>sf(a=>ua.fromResult(t(a)),s),na=(t,s,a)=>{const i=s.extract([t],a);return ua.mapError(i,d=>({input:a,errors:d}))},Wr=(t,s,a)=>ua.toResult(na(t,s,a)),nc=t=>t.fold(s=>{throw new Error(gu(s))},at),As=(t,s,a)=>nc(Wr(t,s,a)),gu=t=>`Errors: 
`+Xm(t.errors).join(`
`)+`

Input object: `+xh(t.input),fc=(t,s)=>rf(t,Jn(s,eo)),Sl=(t,s)=>_l(t,s),mc=Wa,_c=Il,up=t=>Cl(s=>uo(t,s)?$t.value(s):$t.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),_t=t=>mc(t,t,Ms(),si()),pr=(t,s)=>mc(t,t,Ms(),s),Mh=t=>pr(t,mu),ga=t=>pr(t,tc),kd=(t,s)=>mc(t,t,Ms(),up(s)),dp=t=>pr(t,Qi),ki=t=>pr(t,Jm),Cy=(t,s)=>mc(t,t,vd(),Ji(a=>ua.serror("The field: "+t+" is forbidden. "+s))),Gu=(t,s)=>mc(t,t,Ms(),eo(s)),Sy=(t,s)=>mc(t,t,Ms(),Zu(s)),Ii=(t,s)=>mc(t,t,Ms(),fu(s)),Hs=t=>mc(t,t,vd(),si()),pu=(t,s)=>mc(t,t,vd(),s),af=t=>pu(t,mu),Cc=t=>pu(t,tc),Nh=(t,s)=>pu(t,up(s)),cf=t=>pu(t,Jm),xy=(t,s)=>pu(t,fu(s)),xa=(t,s)=>pu(t,eo(s)),Li=(t,s)=>pu(t,vr(s)),Ie=(t,s)=>mc(t,t,tf(s),si()),Yc=(t,s,a)=>mc(t,t,tf(s),a),wi=(t,s)=>Yc(t,s,mu),Hi=(t,s)=>Yc(t,s,tc),Vi=(t,s,a)=>Yc(t,s,up(a)),Ea=(t,s)=>Yc(t,s,Qi),Za=(t,s)=>Yc(t,s,Jm),cm=(t,s)=>Yc(t,s,It),_i=(t,s,a)=>Yc(t,s,fu(a)),Ph=(t,s,a)=>Yc(t,s,eo(a)),bo=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},x={generate:t=>{if(!Ln(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return it(t,(i,d)=>{const g=Un(i);if(g.length!==1)throw new Error("one and only one name per case");const h=g[0],v=i[h];if(a[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ln(v))throw new Error("case arguments must be an array");s.push(h),a[h]=(..._)=>{const T=_.length;if(T!==v.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+v.length+" ("+v+"), got "+T);return{fold:(...N)=>{if(N.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+N.length);return N[d].apply(null,_)},match:N=>{const B=Un(N);if(s.length!==B.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+B.join(","));if(!Ne(s,X=>uo(B,X)))throw new Error("Not all branches were specified when using match. Specified: "+B.join(", ")+`
Required: `+s.join(", "));return N[h].apply(null,_)},log:N=>{console.log(N,{constructors:s,constructor:h,params:_})}}}}),a}};x.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const L=t=>{const s=[],a=[];return it(t,i=>{i.fold(d=>{s.push(d)},d=>{a.push(d)})}),{errors:s,values:a}},G=(t,s)=>{const a={};return to(t,(i,d)=>{uo(s,d)||(a[d]=i)}),a},_e=(t,s)=>({[t]:s}),st=t=>{const s={};return it(t,a=>{s[a.key]=a.value}),s},Ht=(t,s)=>G(t,s),rn=(t,s)=>_e(t,s),_o=t=>st(t),No=(t,s)=>t.length===0?$t.value(s):$t.value(rr(s,du.apply(void 0,t))),xr=t=>$t.error(we(t)),Ss=(t,s)=>{const a=L(t);return a.errors.length>0?xr(a.errors):No(a.values,s)},Fs=t=>ot(t)?t:Se,ri=(t,s,a)=>{let i=t.dom;const d=Fs(a);for(;i.parentNode;){i=i.parentNode;const g=ke.fromDom(i),h=s(g);if(h.isSome())return h;if(d(g))break}return E.none()},el=(t,s,a)=>{const i=s(t),d=Fs(a);return i.orThunk(()=>d(t)?E.none():ri(t,s,d))},xl=(t,s)=>zs(t.element,s.event.target),hu={can:De,abort:Se,run:W},Ku=t=>{if(!Js(t,"can")&&!Js(t,"abort")&&!Js(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return te(te({},hu),t)},lf=(t,s)=>(...a)=>bt(t,(i,d)=>i&&s(d).apply(void 0,a),!0),wd=(t,s)=>(...a)=>bt(t,(i,d)=>i||s(d).apply(void 0,a),!1),uf=t=>ot(t)?{can:De,abort:Se,run:t}:t,df=t=>{const s=lf(t,d=>d.can),a=wd(t,d=>d.abort);return{can:s,abort:a,run:(...d)=>{it(t,g=>{g.run.apply(void 0,d)})}}},pa=H,Ui=pa("touchstart"),Qm=pa("touchmove"),ff=pa("touchend"),Ns=pa("touchcancel"),Ks=pa("mousedown"),qa=pa("mousemove"),ai=pa("mouseout"),Bh=pa("mouseup"),gc=pa("mouseover"),Pc=pa("focusin"),_d=pa("focusout"),bu=pa("keydown"),Jx=pa("keyup"),eg=pa("input"),tg=pa("change"),im=pa("click"),lm=pa("transitioncancel"),fp=pa("transitionend"),Wv=pa("transitionstart"),jv=pa("selectstart"),ha=t=>H("alloy."+t),Ey={tap:ha("tap")},Yu=ha("focus"),um=ha("blur.post"),ng=ha("paste.post"),Cd=ha("receive"),tl=ha("execute"),Fh=ha("focus.item"),$h=Ey.tap,Qx=ha("longpress"),ba=ha("sandbox.close"),og=ha("typeahead.cancel"),dm=ha("system.init"),Ty=ha("system.touchmove"),Ih=ha("system.touchend"),mf=ha("system.scroll"),Xu=ha("system.resize"),Ll=ha("system.attached"),sg=ha("system.detached"),fm=ha("system.dismissRequested"),Ay=ha("system.repositionRequested"),Oy=ha("focusmanager.shifted"),Zv=ha("slotcontainer.visibility"),mp=ha("system.external.element.scroll"),Dy=ha("change.tab"),zy=ha("dismiss.tab"),mm=ha("highlight"),qv=ha("dehighlight"),Ds=(t,s)=>{Lh(t,t.element,s,{})},lo=(t,s,a)=>{Lh(t,t.element,s,a)},gm=t=>{Ds(t,tl())},Ry=(t,s,a)=>{Lh(t,s,a,{})},Lh=(t,s,a,i)=>{const d=te({target:s},i);t.getSystem().triggerEvent(a,s,d)},eE=(t,s,a,i)=>{const d=pt(te({},i),{target:s});t.getSystem().triggerEvent(a,s,d)},Gv=(t,s,a,i)=>{t.getSystem().triggerEvent(a,s,i.event)},Er=t=>_o(t),Kv=(t,s)=>({key:t,value:Ku({abort:s})}),My=(t,s)=>({key:t,value:Ku({can:s})}),Yv=t=>({key:t,value:Ku({run:(s,a)=>{a.event.prevent()}})}),St=(t,s)=>({key:t,value:Ku({run:s})}),Ny=(t,s,a)=>({key:t,value:Ku({run:(i,d)=>{s.apply(void 0,[i,d].concat(a))}})}),tE=t=>s=>St(t,s),Py=t=>s=>({key:t,value:Ku({run:(a,i)=>{xl(a,i)&&s(a,i)}})}),nE=(t,s)=>St(t,(a,i)=>{a.getSystem().getByUid(s).each(d=>{Gv(d,d.element,t,i)})}),pm=(t,s,a)=>{const i=s.partUids[a];return nE(t,i)},Xv=(t,s)=>St(t,(a,i)=>{const d=i.event,g=a.getSystem().getByDom(d.target).getOrThunk(()=>el(d.target,v=>a.getSystem().getByDom(v).toOptional(),Se).getOr(a));s(a,g,i)}),Sd=t=>St(t,(s,a)=>{a.cut()}),By=t=>St(t,(s,a)=>{a.stop()}),rg=(t,s)=>Py(t)(s),Dr=Py(Ll()),xd=Py(sg()),gf=Py(dm()),yu=tE(tl()),Jv=(t,s)=>{const i=(s||document).createElement("div");return i.innerHTML=t,Va(ke.fromDom(i))},Fy=t=>t.dom.innerHTML,pf=(t,s)=>{const i=ma(t).dom,d=ke.fromDom(i.createDocumentFragment()),g=Jv(s,i);uu(d,g),yd(t),Nc(t,d)},g_=t=>{const s=ke.fromTag("div"),a=ke.fromDom(t.dom.cloneNode(!0));return Nc(s,a),Fy(s)},oE=(t,s)=>ke.fromDom(t.dom.cloneNode(s)),Qv=t=>oE(t,!1),e0=t=>{if(Z(t))return"#shadow-root";{const s=Qv(t);return g_(s)}},hm=t=>e0(t),$O=(t,s,a)=>zs(s,t.element)&&!zs(s,a),bm=Er([My(Yu(),(t,s)=>{const a=s.event,i=a.originator,d=a.target;return $O(t,i,d)?(console.warn(Yu()+` did not get interpreted by the desired target. 
Originator: `+hm(i)+`
Target: `+hm(d)+`
Check the `+Yu()+" event handlers"),!1):!0})]);var pc=Object.freeze({__proto__:null,events:bm});let t0=0;const Bn=t=>{const a=new Date().getTime(),i=Math.floor(Math.random()*1e9);return t0++,t+"_"+i+t0+String(a)},n0=H("alloy-id-"),sE=H("data-alloy-id"),o0=n0(),p_=sE(),rE=(t,s)=>{const a=Bn(o0+t);return hf(s,a),a},hf=(t,s)=>{Object.defineProperty(t.dom,p_,{value:s,writable:!0})},ym=t=>{const s=wo(t)?t.dom[p_]:null;return E.from(s)},bf=t=>Bn(t),Hh=at,El=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+hm(t().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},i=d=>()=>{console.warn(s(d))};return{debugInfo:H("fake"),triggerEvent:i("triggerEvent"),triggerFocus:i("triggerFocus"),triggerEscape:i("triggerEscape"),broadcast:i("broadcast"),broadcastOn:i("broadcastOn"),broadcastEvent:i("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Se}},$y=El(),h_=(t,s,a)=>{const i=a.toString(),d=i.indexOf(")")+1,g=i.indexOf("("),h=i.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:gp(h.slice(0,1).concat(h.slice(3)))}),t},gp=t=>Re(t,s=>fr(s,"/*")?s.substring(0,s.length-2):s),Hl=(t,s)=>{const a=t.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:gp(g)}),t},s0=(t,s)=>{const a=s.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:gp(g.slice(1))}),t},Ju=Bn("alloy-premade"),Iy=t=>(Object.defineProperty(t.element.dom,Ju,{value:t.uid,writable:!0}),rn(Ju,t)),aE=t=>Oo(t.dom,Ju),b_=t=>xt(t,Ju),vm=t=>s0((s,...a)=>t(s.getApis(),s,...a),t),vu={init:()=>Wi({readState:H("No State required")})},Wi=t=>t,Ly=(t,s)=>{const a=Re(s,d=>xa(d.name(),[_t("config"),Ie("state",vu)])),i=Wr("component.behaviours",eo(a),t.behaviours).fold(d=>{throw new Error(gu(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},at);return{list:s,data:Jn(i,d=>{const g=d.map(h=>({config:h.config,state:h.state.init(h.config)}));return H(g)})}},cE=t=>t.list,iE=t=>t.data,Hy=(t,s)=>{const a={};return to(t,(i,d)=>{to(i,(g,h)=>{const v=xt(a,h).getOr([]);a[h]=v.concat([s(d,g)])})}),a},nl=t=>({classes:en(t.classes)?[]:t.classes,attributes:en(t.attributes)?{}:t.attributes,styles:en(t.styles)?{}:t.styles}),Vy=(t,s)=>pt(te({},t),{attributes:te(te({},t.attributes),s.attributes),styles:te(te({},t.styles),s.styles),classes:t.classes.concat(s.classes)}),pp=(t,s,a,i)=>{const d=te({},s);it(a,D=>{d[D.name()]=D.exhibit(t,i)});const g=Hy(d,(D,N)=>({name:D,modification:N})),h=D=>lt(D,(N,B)=>te(te({},B.modification),N),{}),v=lt(g.classes,(D,N)=>N.modification.concat(D),[]),_=h(g.attributes),T=h(g.styles);return nl({classes:v,attributes:_,styles:T})},y_=(t,s,a,i)=>{try{const d=xe(a,(g,h)=>{const v=g[s],_=h[s],T=i.indexOf(v),D=i.indexOf(_);if(T===-1)throw new Error("The ordering for "+t+" does not have an entry for "+v+`.
Order specified: `+JSON.stringify(i,null,2));if(D===-1)throw new Error("The ordering for "+t+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(i,null,2));return T<D?-1:D<T?1:0});return $t.value(d)}catch(d){return $t.error([d])}},Ed=(t,s)=>({handler:t,purpose:s}),r0=(t,s)=>({cHandler:t,purpose:s}),v_=(t,s)=>r0(Jt.apply(void 0,[t.handler].concat(s)),t.purpose),ag=t=>t.cHandler,a0=(t,s)=>({name:t,handler:s}),km=(t,s)=>{const a={};return it(t,i=>{a[i.name()]=i.handlers(s)}),a},Vh=(t,s,a)=>{const i=te(te({},a),km(s,t));return Hy(i,a0)},hp=(t,s,a,i)=>{const d=Vh(t,a,i);return lE(d,s)},c0=t=>{const s=uf(t);return(a,i,...d)=>{const g=[a,i].concat(d);s.abort.apply(void 0,g)?i.stop():s.can.apply(void 0,g)&&s.run.apply(void 0,g)}},i0=(t,s)=>$t.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Re(s,a=>a.name),null,2)]),k_=(t,s,a)=>{const i=s[a];return i?y_("Event: "+a,"name",t,i).map(d=>{const g=Re(d,h=>h.handler);return df(g)}):i0(a,t)},lE=(t,s)=>{const a=as(t,(i,d)=>(i.length===1?$t.value(i[0].handler):k_(i,s,d)).map(h=>{const v=c0(h),_=i.length>1?no(s[d],T=>Yo(i,D=>D.name===T)).join(" > "):i[0].name;return rn(d,Ed(v,_))}));return Ss(a,{})},Ys="alloy.base.behaviour",l0=eo([mc("dom","dom",Ms(),eo([_t("tag"),Ie("styles",{}),Ie("classes",[]),Ie("attributes",{}),Hs("value"),Hs("innerHtml")])),_t("components"),_t("uid"),Ie("events",{}),Ie("apis",{}),mc("eventOrder","eventOrder",nf({[tl()]:["disabling",Ys,"toggling","typeaheadevents"],[Yu()]:[Ys,"focusing","keying"],[dm()]:[Ys,"disabling","toggling","representing"],[eg()]:[Ys,"representing","streaming","invalidating"],[sg()]:[Ys,"representing","item-events","tooltipping"],[Ks()]:["focusing",Ys,"item-type-events"],[Ui()]:["focusing",Ys,"item-type-events"],[gc()]:["item-type-events","tooltipping"],[Cd()]:["receiving","reflecting","tooltipping"]}),si()),Hs("domModification")]),w_=t=>Wr("custom.definition",l0,t),__=t=>pt(te({},t.dom),{uid:t.uid,domChildren:Re(t.components,s=>s.element)}),Uh=t=>t.domModification.fold(()=>nl({}),nl),uE=t=>t.events,Td=(t,s)=>{const a=yr(t,s);return a===void 0||a===""?[]:a.split(" ")},Pa=(t,s,a)=>{const d=Td(t,s).concat([a]);return pn(t,s,d.join(" ")),!0},Wh=(t,s,a)=>{const i=no(Td(t,s),d=>d!==a);return i.length>0?pn(t,s,i.join(" ")):re(t,s),!1},bp=t=>t.dom.classList!==void 0,C_=t=>Td(t,"class"),jh=(t,s)=>Pa(t,"class",s),u0=(t,s)=>Wh(t,"class",s),ya=(t,s)=>{bp(t)?t.dom.classList.add(s):jh(t,s)},IO=t=>{(bp(t)?t.dom.classList:C_(t)).length===0&&re(t,"class")},oa=(t,s)=>{bp(t)?t.dom.classList.remove(s):u0(t,s),IO(t)},ol=(t,s)=>bp(t)&&t.dom.classList.contains(s),yf=(t,s)=>{it(s,a=>{ya(t,a)})},Ci=(t,s)=>{it(s,a=>{oa(t,a)})},dE=(t,s)=>Ne(s,a=>ol(t,a)),d0=t=>{const s=t.dom.classList,a=new Array(s.length);for(let i=0;i<s.length;i++){const d=s.item(i);d!==null&&(a[i]=d)}return a},Vl=t=>bp(t)?d0(t):C_(t),va=t=>t.dom.value,Ta=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},fE=(t,s,a)=>Wc(t,s).map(d=>{if(a.exists(h=>!zs(h,d))){const h=a.map(Us).getOr("span"),v=ke.fromTag(h);return vi(d,v),v}else return d}),Qu=(t,s,a)=>{a.fold(()=>Nc(t,s),i=>{zs(i,s)||(vi(i,s),Fi(i))})},Zh=(t,s,a)=>{const i=Re(s,a),d=Va(t);return it(d.slice(i.length),Fi),i},Uy=(t,s,a,i)=>{const d=Wc(t,s),g=i(a,d),h=fE(t,s,d);return Qu(t,g.element,h),g},Ul=(t,s,a)=>Zh(t,s,(i,d)=>Uy(t,d,i,a)),sl=(t,s)=>Zh(t,s,(a,i)=>{const d=Wc(t,i);return Qu(t,a,d),a}),cg=(t,s)=>{const a=Un(t),i=Un(s),d=Ye(i,a),g=Zo(t,(h,v)=>!Oo(s,v)||h!==s[v]).t;return{toRemove:d,toSet:g}},yp=(t,s)=>{const gt=Ke(s),{class:a,style:i}=gt,d=d_(gt,["class","style"]),{toSet:g,toRemove:h}=cg(t.attributes,d),v=()=>{it(h,He=>re(s,He)),$u(s,g)},_=ca(s),{toSet:T,toRemove:D}=cg(t.styles,_),N=()=>{it(D,He=>q(s,He)),gr(s,T)},B=Vl(s),V=Ye(B,t.classes),X=Ye(t.classes,B),ye=()=>{yf(s,X),Ci(s,V)},tt=He=>{pf(s,He)},Ee=()=>{const He=t.domChildren;sl(s,He)},Ce=()=>{const He=s,Nt=t.value.getOrUndefined();Nt!==va(He)&&Ta(He,Nt!=null?Nt:"")};return v(),ye(),N(),t.innerHtml.fold(Ee,tt),Ce(),s},qh=t=>{const s=ke.fromTag(t.tag);$u(s,t.attributes),yf(s,t.classes),gr(s,t.styles),t.innerHtml.each(i=>pf(s,i));const a=t.domChildren;return uu(s,a),t.value.each(i=>{Ta(s,i)}),s},Gh=(t,s)=>{try{const a=yp(t,s);return E.some(a)}catch(a){return E.none()}},S_=t=>t.innerHtml.isSome()&&t.domChildren.length>0,f0=(t,s)=>{const a=d=>Us(d)===t.tag&&!S_(t)&&!aE(d),i=s.filter(a).bind(d=>Gh(t,d)).getOrThunk(()=>qh(t));return hf(i,t.uid),i},mE=t=>{const s=xt(t,"behaviours").getOr({});return ae(Un(s),a=>{const i=s[a];return ln(i)?[i.me]:[]})},x_=(t,s)=>Ly(t,s),E_=t=>{const s=mE(t);return x_(t,s)},m0=(t,s,a)=>{const i=__(t),d=Uh(t),g={"alloy.base.modification":d},h=s.length>0?pp(a,g,s,i):d;return Vy(i,h)},T_=(t,s,a)=>{const i={"alloy.base.behaviour":uE(t)};return hp(a,t.eventOrder,s,i).getOrDie()},LO=(t,s)=>{const a=()=>gt,i=bo($y),d=nc(w_(t)),g=E_(t),h=cE(g),v=iE(g),_=m0(d,h,v),T=f0(_,s),D=T_(d,h,v),N=bo(d.components),B=He=>{i.set(He)},V=()=>{i.set(El(a))},X=()=>{const He=Va(T),Nt=ae(He,zt=>i.get().getByDom(zt).fold(()=>[],J));N.set(Nt)},ye=He=>{const Nt=v;return(ot(Nt[He.name()])?Nt[He.name()]:()=>{throw new Error("Could not find "+He.name()+" in "+JSON.stringify(t,null,2))})()},tt=He=>ot(v[He.name()]),Ee=()=>d.apis,Ce=He=>v[He]().map(Nt=>Nt.state.readState()).getOr("not enabled"),gt={uid:t.uid,getSystem:i.get,config:ye,hasConfigured:tt,spec:t,readState:Ce,getApis:Ee,connect:B,disconnect:V,element:T,syncComponents:X,components:N.get,events:D};return gt},Wy=(t,s)=>{const a=xt(t,"components").getOr([]);return s.fold(()=>Re(a,Bc),i=>Re(a,(d,g)=>vf(d,Wc(i,g))))},A_=(t,s)=>{const h=Hh(t),{events:a}=h,i=d_(h,["events"]),d=Wy(i,s),g=pt(te({},i),{events:te(te({},pc),a),components:d});return $t.value(LO(g,s))},Fr=t=>{const s=ke.fromText(t);return g0({element:s})},g0=t=>{const s=As("external.component",vr([_t("element"),Hs("uid")]),t),a=bo(El()),i=v=>{a.set(v)},d=()=>{a.set(El(()=>h))},g=s.uid.getOrThunk(()=>bf("external"));hf(s.element,g);const h={uid:g,getSystem:a.get,config:E.none,hasConfigured:Se,connect:i,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:H("No state"),syncComponents:W,components:H([]),events:{}};return Iy(h)},p0=bf,O_=t=>Oo(t,"uid"),vf=(t,s)=>b_(t).getOrThunk(()=>{const a=O_(t)?t:te({uid:p0("")},t);return A_(a,s).getOrDie()}),Bc=t=>vf(t,E.none()),Si=Iy;var D_=(t,s,a,i,d)=>t(a,i)?E.some(a):ot(d)&&d(a)?E.none():s(a,i,d);const h0=(t,s,a)=>{let i=t.dom;const d=ot(a)?a:Se;for(;i.parentNode;){i=i.parentNode;const g=ke.fromDom(i);if(s(g))return E.some(g);if(d(g))break}return E.none()},wm=(t,s,a)=>D_((d,g)=>g(d),h0,t,s,a),ig=(t,s)=>{const a=d=>s(ke.fromDom(d));return ee(t.dom.childNodes,a).map(ke.fromDom)},lg=(t,s)=>{const a=i=>{for(let d=0;d<i.childNodes.length;d++){const g=ke.fromDom(i.childNodes[d]);if(s(g))return E.some(g);const h=a(i.childNodes[d]);if(h.isSome())return h}return E.none()};return a(t.dom)},jy=(t,s,a)=>wm(t,s,a).isSome(),kf=(t,s,a)=>h0(t,i=>ea(i,s),a),Zy=(t,s)=>ig(t,a=>ea(a,s)),jr=(t,s)=>Mi(s,t),rl=(t,s,a)=>D_((d,g)=>ea(d,g),kf,t,s,a),vp="aria-controls",gE=t=>wm(t,a=>{if(!wo(a))return!1;const i=yr(a,"id");return i!==void 0&&i.indexOf(vp)>-1}).bind(a=>{const i=yr(a,"id"),d=qe(a);return jr(d,`[${vp}="${i}"]`)}),b0=()=>{const t=Bn(vp);return{id:t,link:i=>{pn(i,vp,t)},unlink:i=>{re(i,vp)}}},pE=(t,s)=>gE(s).exists(a=>ug(t,a)),ug=(t,s)=>jy(s,a=>zs(a,t.element),Se)||pE(t,s),kp="unknown";var Wl;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Wl||(Wl={}));const y0=bo({}),z_=(t,s)=>{const a=[],i=new Date().getTime();return{logEventCut:(d,g,h)=>{a.push({outcome:"cut",target:g,purpose:h})},logEventStopped:(d,g,h)=>{a.push({outcome:"stopped",target:g,purpose:h})},logNoParent:(d,g,h)=>{a.push({outcome:"no-parent",target:g,purpose:h})},logEventNoHandlers:(d,g)=>{a.push({outcome:"no-handlers-left",target:g})},logEventResponse:(d,g,h)=>{a.push({outcome:"response",purpose:h,target:g})},write:()=>{const d=new Date().getTime();uo(["mousemove","mouseover","mouseout",dm()],t)||console.log(t,{event:t,time:d-i,target:s.dom,sequence:Re(a,g=>uo(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+hm(g.target)+")":g.outcome)})}}},R_=(t,s,a)=>{switch(xt(y0.get(),t).orThunk(()=>{const d=Un(y0.get());return Nn(d,g=>t.indexOf(g)>-1?E.some(y0.get()[g]):E.none())}).getOr(Wl.NORMAL)){case Wl.NORMAL:return a(N_());case Wl.LOGGING:{const d=z_(t,s),g=a(d);return d.write(),g}case Wl.STOP:return!0}},hE=["alloy/data/Fields","alloy/debugging/Debugging"],M_=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return ee(s,a=>a.indexOf("alloy")>0&&!Yo(hE,i=>a.indexOf(i)>-1)).getOr(kp)}else return kp},qy={logEventCut:W,logEventStopped:W,logNoParent:W,logEventNoHandlers:W,logEventResponse:W,write:W},Gy=(t,s,a)=>R_(t,s,a),N_=H(qy),v0=H([_t("menu"),_t("selectedMenu")]),dg=H([_t("item"),_t("selectedItem")]);H(eo(dg().concat(v0())));const P_=H(eo(dg())),Ky=Gu("initSize",[_t("numColumns"),_t("numRows")]),wf=()=>pr("markers",P_()),Kh=()=>Gu("markers",[_t("backgroundMenu")].concat(v0()).concat(dg())),al=t=>Gu("markers",Re(t,_t)),wp=(t,s,a)=>(M_(),mc(s,s,a,Cl(i=>$t.value((...d)=>i.apply(void 0,d))))),vs=t=>wp("onHandler",t,tf(W)),xi=t=>wp("onKeyboardHandler",t,tf(E.none)),_f=t=>wp("onHandler",t,Ms()),k0=t=>wp("onKeyboardHandler",t,Ms()),Mr=(t,s)=>_c(t,H(s)),w0=t=>_c(t,at),Cf=H(Ky),Aa=(t,s,a,i,d,g,h,v=!1)=>({x:t,y:s,bubble:a,direction:i,placement:d,restriction:g,label:`${h}-${d}`,alwaysFit:v}),Ad=x.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),ut=(t,s,a,i,d,g,h,v,_)=>t.fold(s,a,i,d,g,h,v,_),Yy=(t,s,a,i)=>t.fold(s,s,i,i,s,i,a,a),bE=(t,s,a,i)=>t.fold(s,i,s,i,a,a,s,i),Xy=Ad.southeast,Od=Ad.southwest,Tl=Ad.northeast,Yh=Ad.northwest,Jy=Ad.south,_0=Ad.north,Qy=Ad.east,B_=Ad.west,_m=(t,s,a,i)=>{const d=t+s;return d>i?a:d<a?i:d},jl=(t,s,a)=>Math.min(Math.max(t,s),a),ji=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Fc=(t,s)=>We(["left","right","top","bottom"],a=>xt(s,a).map(i=>ji(t,i))),F_=(t,s,a)=>{const i=(_,T)=>s[_].map(D=>{const N=_==="top"||_==="bottom",B=N?a.top:a.left,X=(_==="left"||_==="top"?Math.max:Math.min)(D,T)+B;return N?jl(X,t.y,t.bottom):jl(X,t.x,t.right)}).getOr(T),d=i("left",t.x),g=i("top",t.y),h=i("right",t.right),v=i("bottom",t.bottom);return Or(d,g,h-d,v-g)},Cm="layout",$_=t=>t.x,Xh=(t,s)=>t.x+t.width/2-s.width/2,fg=(t,s)=>t.x+t.width-s.width,C0=(t,s)=>t.y-s.height,e1=t=>t.y+t.height,I_=(t,s)=>t.y+t.height/2-s.height/2,t1=t=>t.x+t.width,S0=(t,s)=>t.x-s.width,Ga=(t,s,a)=>Aa($_(t),e1(t),a.southeast(),Xy(),"southeast",Fc(t,{left:1,top:3}),Cm),Sc=(t,s,a)=>Aa(fg(t,s),e1(t),a.southwest(),Od(),"southwest",Fc(t,{right:0,top:3}),Cm),Zi=(t,s,a)=>Aa($_(t),C0(t,s),a.northeast(),Tl(),"northeast",Fc(t,{left:1,bottom:2}),Cm),$r=(t,s,a)=>Aa(fg(t,s),C0(t,s),a.northwest(),Yh(),"northwest",Fc(t,{right:0,bottom:2}),Cm),xc=(t,s,a)=>Aa(Xh(t,s),C0(t,s),a.north(),_0(),"north",Fc(t,{bottom:2}),Cm),hc=(t,s,a)=>Aa(Xh(t,s),e1(t),a.south(),Jy(),"south",Fc(t,{top:3}),Cm),n1=(t,s,a)=>Aa(t1(t),I_(t,s),a.east(),Qy(),"east",Fc(t,{left:0}),Cm),o1=(t,s,a)=>Aa(S0(t,s),I_(t,s),a.west(),B_(),"west",Fc(t,{right:1}),Cm),L_=()=>[Ga,Sc,Zi,$r,hc,xc,n1,o1],s1=()=>[Sc,Ga,$r,Zi,hc,xc,n1,o1],x0=()=>[Zi,$r,Ga,Sc,xc,hc],E0=()=>[$r,Zi,Sc,Ga,xc,hc],H_=()=>[Ga,Sc,Zi,$r,hc,xc],$c=()=>[Sc,Ga,$r,Zi,hc,xc],HO=(t,s)=>s.universal?t:no(t,a=>uo(s.channels,a));var yE=Object.freeze({__proto__:null,events:t=>Er([St(Cd(),(s,a)=>{const i=t.channels,d=Un(i),g=a,h=HO(d,g);it(h,v=>{const _=i[v],T=_.schema,D=As("channel["+v+`] data
Receiver: `+hm(s.element),T,g.data);_.onReceive(s,D)})})])}),vE=[pr("channels",lp($t.value,vr([_f("onReceive"),Ie("schema",si())])))];const kE=(t,s,a)=>yu(i=>{a(i,t,s)}),T0=(t,s,a)=>gf((i,d)=>{a(i,t,s)}),V_=(t,s,a,i,d,g)=>{const h=vr(t),v=xa(s,[Li("config",t)]);return j_(h,v,s,a,i,d,g)},U_=(t,s,a,i,d,g)=>{const h=t,v=xa(s,[pu("config",t)]);return j_(h,v,s,a,i,d,g)},r1=(t,s,a)=>h_((d,...g)=>{const h=[d].concat(g);return d.config({name:H(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},v=>{const _=Array.prototype.slice.call(h,1);return s.apply(void 0,[d,v.config,v.state].concat(_))})},a,s),W_=t=>({key:t,value:void 0}),j_=(t,s,a,i,d,g,h)=>{const v=N=>Js(N,a)?N[a]():E.none(),_=Jn(d,(N,B)=>r1(a,N,B)),T=Jn(g,(N,B)=>Hl(N,B)),D=pt(te(te({},T),_),{revoke:Jt(W_,a),config:N=>{const B=As(a+"-config",t,N);return{key:a,value:{config:B,me:D,configAsRaw:Ar(()=>As(a+"-config",t,N)),initialConfig:N,state:h}}},schema:H(s),exhibit:(N,B)=>Jr(v(N),xt(i,"exhibit"),(V,X)=>X(B,V.config,V.state)).getOrThunk(()=>nl({})),name:H(a),handlers:N=>v(N).map(B=>xt(i,"events").getOr(()=>({}))(B.config,B.state)).getOr({})});return D},Vt=t=>_o(t),wE=vr([_t("fields"),_t("name"),Ie("active",{}),Ie("apis",{}),Ie("state",vu),Ie("extra",{})]),Ec=t=>{const s=As("Creating behaviour: "+t.name,wE,t);return V_(s.fields,s.name,s.active,s.apis,s.extra,s.state)},_E=vr([_t("branchKey"),_t("branches"),_t("name"),Ie("active",{}),Ie("apis",{}),Ie("state",vu),Ie("extra",{})]),A0=t=>{const s=As("Creating behaviour: "+t.name,_E,t);return U_(fc(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},En=H(void 0),Xc=Ec({fields:vE,name:"receiving",active:yE});var q_=Object.freeze({__proto__:null,exhibit:(t,s)=>nl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Zl=t=>t.dom.focus(),a1=t=>t.dom.blur(),_p=t=>{const s=qe(t).dom;return t.dom===s.activeElement},ed=(t=tm())=>E.from(t.dom.activeElement).map(ke.fromDom),ql=t=>ed(qe(t)).filter(s=>t.dom.contains(s.dom)),mg=(t,s)=>{const a=qe(s),i=ed(a).bind(g=>{const h=v=>zs(g,v);return h(s)?E.some(s):lg(s,h)}),d=t(s);return i.each(g=>{ed(a).filter(h=>zs(h,g)).fold(()=>{Zl(g)},W)}),d},ku=(t,s,a,i,d)=>{const g=h=>h+"px";return{position:t,left:s.map(g),top:a.map(g),right:i.map(g),bottom:d.map(g)}},ci=t=>pt(te({},t),{position:E.some(t.position)}),Cp=(t,s)=>{Dt(t,ci(s))},O0=x.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),G_=(t,s,a,i,d,g)=>{const h=s.rect,v=h.x-a,_=h.y-i,T=h.width,D=h.height,N=d-(v+T),B=g-(_+D),V=E.some(v),X=E.some(_),ye=E.some(N),tt=E.some(B),Ee=E.none();return ut(s.direction,()=>ku(t,V,X,Ee,Ee),()=>ku(t,Ee,X,ye,Ee),()=>ku(t,V,Ee,Ee,tt),()=>ku(t,Ee,Ee,ye,tt),()=>ku(t,V,X,Ee,Ee),()=>ku(t,V,Ee,Ee,tt),()=>ku(t,V,X,Ee,Ee),()=>ku(t,Ee,X,ye,Ee))},K_=(t,s)=>t.fold(()=>{const a=s.rect;return ku("absolute",E.some(a.x),E.some(a.y),E.none(),E.none())},(a,i,d,g)=>G_("absolute",s,a,i,d,g),(a,i,d,g)=>G_("fixed",s,a,i,d,g)),D0=(t,s)=>{const a=Jt(ef,s),i=t.fold(a,a,()=>{const h=Gc();return ef(s).translate(-h.left,-h.top)}),d=la(s),g=ns(s);return Or(i.left,i.top,d,g)},CE=(t,s)=>s.fold(()=>t.fold(R,R,Or),a=>t.fold(H(a),H(a),()=>{const i=z0(t,a.x,a.y);return Or(i.left,i.top,a.width,a.height)})),z0=(t,s,a)=>{const i=cs(s,a),d=()=>{const g=Gc();return i.translate(-g.left,-g.top)};return t.fold(H(i),H(i),d)},Y_=(t,s,a,i)=>t.fold(s,a,i);O0.none;const SE=O0.relative,X_=O0.fixed,xE=(t,s)=>({anchorBox:t,origin:s}),EE=(t,s)=>xE(t,s),R0="data-alloy-placement",TE=(t,s)=>{pn(t,R0,s)},J_=t=>P(t,R0),AE=t=>re(t,R0),Sp=x.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Q_=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:h,y:v,right:_,bottom:T,width:D,height:N}=t,B=h>=a&&h<=d,V=v>=i&&v<=g,X=B&&V,ye=_<=d&&_>=a,tt=T<=g&&T>=i,Ee=ye&&tt,Ce=Math.min(D,h>=a?d-h:_-a),gt=Math.min(N,v>=i?g-v:T-i);return{originInBounds:X,sizeInBounds:Ee,visibleW:Ce,visibleH:gt}},OE=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:h,y:v,width:_,height:T}=t,D=Math.max(a,d-_),N=Math.max(i,g-T),B=jl(h,a,D),V=jl(v,i,N),X=Math.min(B+_,d)-B,ye=Math.min(V+T,g)-V;return Or(B,V,X,ye)},e2=(t,s,a)=>{const i=H(s.bottom-a.y),d=H(a.bottom-s.y),g=Yy(t,d,d,i),h=H(s.right-a.x),v=H(a.right-s.x);return{maxWidth:bE(t,v,v,h),maxHeight:g}},DE=(t,s,a,i)=>{const d=t.bubble,g=d.offset,h=F_(i,t.restriction,g),v=t.x+g.left,_=t.y+g.top,T=Or(v,_,s,a),{originInBounds:D,sizeInBounds:N,visibleW:B,visibleH:V}=Q_(T,h),X=D&&N,ye=X?T:OE(T,h),tt=ye.width>0&&ye.height>0,{maxWidth:Ee,maxHeight:Ce}=e2(t.direction,ye,i),gt={rect:ye,maxHeight:Ce,maxWidth:Ee,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:_};return X||t.alwaysFit?Sp.fit(gt):Sp.nofit(gt,B,V,tt)},t2=(t,s,a,i,d,g)=>{const h=i.width,v=i.height,_=(D,N,B,V,X)=>{const ye=D(a,i,d,t,g),tt=DE(ye,h,v,g);return tt.fold(H(tt),(Ee,Ce,gt,He)=>(X===He?gt>V||Ce>B:!X&&He)?tt:Sp.nofit(N,B,V,X))};return bt(s,(D,N)=>{const B=Jt(_,N);return D.fold(H(D),B)},Sp.nofit({rect:a,maxHeight:i.height,maxWidth:i.width,direction:Xy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(at,at)},c1=t=>{const s=bo(E.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(E.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:v=>{a(),s.set(E.some(v))}}},Sm=()=>c1(t=>t.destroy()),xp=()=>c1(t=>t.unbind()),Nr=()=>{const t=c1(W),s=a=>t.get().each(a);return pt(te({},t),{on:s})},M0=De,Ei=(t,s,a)=>bd(t,s,M0,a),Ep=(t,s,a)=>Jd(t,s,M0,a),oc=jm,n2=["top","bottom","right","left"],Dd="data-alloy-transition-timer",zE=(t,s)=>dE(t,s.classes),i1=(t,s,a)=>a.exists(i=>{const d=t.mode;return d==="all"?!0:i[d]!==s[d]}),o2=(t,s)=>{const a=i=>parseFloat(i).toFixed(3);return xo(s,(i,d)=>{const g=t[d].map(a),h=i.map(a);return!Pr(g,h)}).isSome()},Jh=t=>{const s=g=>{const v=Zs(t,g).split(/\s*,\s*/);return no(v,ie)},a=g=>{if(Qe(g)&&/^[\d.]+/.test(g)){const h=parseFloat(g);return fr(g,"ms")?h:h*1e3}else return 0},i=s("transition-delay"),d=s("transition-duration");return bt(d,(g,h,v)=>{const _=a(i[v])+a(h);return Math.max(g,_)},0)},RE=(t,s)=>{const a=xp(),i=xp();let d;const g=T=>{var D;const N=(D=T.raw.pseudoElement)!==null&&D!==void 0?D:"";return zs(T.target,t)&&le(N)&&uo(n2,T.raw.propertyName)},h=T=>{if(Wt(T)||g(T)){a.clear(),i.clear();const D=T==null?void 0:T.raw.type;(Wt(D)||D===fp())&&(clearTimeout(d),re(t,Dd),Ci(t,s.classes))}},v=Ei(t,Wv(),T=>{g(T)&&(v.unbind(),a.set(Ei(t,fp(),h)),i.set(Ei(t,lm(),h)))}),_=Jh(t);requestAnimationFrame(()=>{d=setTimeout(h,_+17),pn(t,Dd,d)})},ME=(t,s)=>{yf(t,s.classes),P(t,Dd).each(a=>{clearTimeout(parseInt(a,10)),re(t,Dd)}),RE(t,s)},NE=(t,s,a,i,d,g)=>{const h=i1(i,d,g);if(h||zE(t,i)){Dn(t,"position",a.position);const v=D0(s,t),_=K_(s,pt(te({},d),{rect:v})),T=We(n2,D=>_[D]);o2(a,T)&&(Dt(t,T),h&&ME(t,i),ue(t))}else Ci(t,i.classes)},Qh=t=>({width:la(t),height:ns(t)}),s2=(t,s,a,i)=>{q(s,"max-height"),q(s,"max-width");const d=Qh(s);return t2(s,i.preference,t,d,a,i.bounds)},N0=(t,s)=>{const a=s.classes;Ci(t,a.off),yf(t,a.on)},gg=(t,s,a)=>{const i=a.maxHeightFunction;i(t,s.maxHeight)},PE=(t,s,a)=>{const i=a.maxWidthFunction;i(t,s.maxWidth)},BE=(t,s,a)=>{const i=K_(a.origin,s);a.transition.each(d=>{NE(t,a.origin,i,d,s,a.lastPlacement)}),Cp(t,i)},FE=(t,s)=>{TE(t,s.placement)},r2=(t,s)=>{Sr(t,Math.floor(s))},P0=H((t,s)=>{r2(t,s),gr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),xf=H((t,s)=>{r2(t,s)}),a2=(t,s,a)=>t[s]===void 0?a:t[s],c2=(t,s,a,i,d,g,h,v)=>{const _=a2(h,"maxHeightFunction",P0()),T=a2(h,"maxWidthFunction",W),D=t.anchorBox,N=t.origin,B={bounds:CE(N,g),origin:N,preference:i,maxHeightFunction:_,maxWidthFunction:T,lastPlacement:d,transition:v};return l1(D,s,a,B)},l1=(t,s,a,i)=>{const d=s2(t,s,a,i);return BE(s,d,i),FE(s,d),N0(s,d),gg(s,d,i),PE(s,d,i),{layout:d.layout,placement:d.placement}},$E=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Ef=(t,s,a,i=1)=>{const d=t*i,g=s*i,h=_=>xt(a,_).getOr([]),v=(_,T,D)=>{const N=Ye($E,D);return{offset:cs(_,T),classesOn:ae(D,h),classesOff:ae(N,h)}};return{southeast:()=>v(-t,s,["top","alignLeft"]),southwest:()=>v(t,s,["top","alignRight"]),south:()=>v(-t/2,s,["top","alignCentre"]),northeast:()=>v(-t,-s,["bottom","alignLeft"]),northwest:()=>v(t,-s,["bottom","alignRight"]),north:()=>v(-t/2,-s,["bottom","alignCentre"]),east:()=>v(t,-s/2,["valignCentre","left"]),west:()=>v(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>v(d,g,["top","alignLeft","inset"]),insetNorthwest:()=>v(-d,g,["top","alignRight","inset"]),insetNorth:()=>v(-d/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>v(d,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>v(-d,-g,["bottom","alignRight","inset"]),insetSouth:()=>v(-d/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>v(-d,-g/2,["valignCentre","right","inset"]),insetWest:()=>v(d,-g/2,["valignCentre","left","inset"])}},u1=()=>Ef(0,0,{}),d1=at,eb=(t,s)=>a=>i2(a)==="rtl"?s:t,i2=t=>Zs(t,"direction")==="rtl"?"rtl":"ltr";var zd;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(zd||(zd={}));const f1="data-alloy-vertical-dir",l2=t=>jy(t,s=>wo(s)&&yr(s,"data-alloy-vertical-dir")===zd.BottomToTop),td=()=>xa("layouts",[_t("onLtr"),_t("onRtl"),Hs("onBottomLtr"),Hs("onBottomRtl")]),xm=(t,s,a,i,d,g,h)=>{const v=h.map(l2).getOr(!1),_=s.layouts.map(V=>V.onLtr(t)),T=s.layouts.map(V=>V.onRtl(t)),D=v?s.layouts.bind(V=>V.onBottomLtr.map(X=>X(t))).or(_).getOr(d):_.getOr(a),N=v?s.layouts.bind(V=>V.onBottomRtl.map(X=>X(t))).or(T).getOr(g):T.getOr(i);return eb(D,N)(t)},B0=(t,s,a)=>{const i=s.hotspot,d=D0(a,i.element),g=xm(t.element,s,H_(),$c(),x0(),E0(),E.some(s.hotspot.element));return E.some(d1({anchorBox:d,bubble:s.bubble.getOr(u1()),overrides:s.overrides,layouts:g}))};var u2=[_t("hotspot"),Hs("bubble"),Ie("overrides",{}),td(),Mr("placement",B0)];const m1=(t,s,a)=>{const i=z0(a,s.x,s.y),d=Or(i.left,i.top,s.width,s.height),g=xm(t.element,s,L_(),s1(),L_(),s1(),E.none());return E.some(d1({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:g}))};var IE=[_t("x"),_t("y"),Ie("height",0),Ie("width",0),Ie("bubble",u1()),Ie("overrides",{}),td(),Mr("placement",m1)];const d2=x.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),LE=t=>t.fold(at,(s,a,i)=>s.translate(-a,-i)),HE=t=>t.fold(at,at),f2=t=>bt(t,(s,a)=>s.translate(a.left,a.top),cs(0,0)),m2=t=>{const s=Re(t,LE);return f2(s)},g2=t=>{const s=Re(t,HE);return f2(s)},VE=d2.screen,UE=d2.absolute,WE=(t,s,a)=>{const i=Dc(a.root).dom,d=g=>{const h=ma(g),v=ma(t.element);return zs(h,v)};return E.from(i.frameElement).map(ke.fromDom).filter(d).map(ia)},p2=(t,s,a)=>{const i=ma(t.element),d=Gc(i),g=WE(t,s,a).getOr(d);return UE(g,d.left,d.top)},F0=(t,s,a,i)=>{const d=VE(cs(t,s));return E.some(nm(d,a,i))},$0=(t,s,a,i,d)=>t.map(g=>{const h=[s,g.point],v=Y_(i,()=>g2(h),()=>g2(h),()=>m2(h)),_=ju(v.left,v.top,g.width,g.height),T=a.showAbove?x0():H_(),D=a.showAbove?E0():$c(),N=xm(d,a,T,D,T,D,E.none());return d1({anchorBox:_,bubble:a.bubble.getOr(u1()),overrides:a.overrides,layouts:N})}),jE=(t,s,a)=>{const i=p2(t,a,s);return s.node.filter(gs).bind(d=>{const g=d.dom.getBoundingClientRect(),h=F0(g.left,g.top,g.width,g.height),v=s.node.getOr(t.element);return $0(h,i,s,a,v)})};var ZE=[_t("node"),_t("root"),Hs("bubble"),td(),Ie("overrides",{}),Ie("showAbove",!1),Mr("placement",jE)];const g1="\uFEFF",h2="\xA0",tb={create:(t,s,a,i)=>({start:t,soffset:s,finish:a,foffset:i})},h1=x.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),I0=(t,s,a,i)=>t.fold(s,a,i),b2=t=>t.fold(at,at,at),y2=h1.before,L0=h1.on,qE=h1.after,v2={before:y2,on:L0,after:qE,cata:I0,getStart:b2},nb=x.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),GE=t=>nb.exact(t.start,t.soffset,t.finish,t.foffset),b1=t=>t.match({domRange:s=>ke.fromDom(s.startContainer),relative:(s,a)=>v2.getStart(s),exact:(s,a,i,d)=>s}),k2=nb.domRange,w2=nb.relative,_2=nb.exact,y1=t=>{const s=b1(t);return Dc(s)},KE=tb.create,ob={domRange:k2,relative:w2,exact:_2,exactFromRange:GE,getWin:y1,range:KE},YE=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,i)=>{t.setStart(a.dom,i)},a=>{t.setStartAfter(a.dom)})},XE=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,i)=>{t.setEnd(a.dom,i)},a=>{t.setEndAfter(a.dom)})},C2=(t,s,a)=>{const i=t.document.createRange();return YE(i,s),XE(i,a),i},Ka=(t,s,a,i,d)=>{const g=t.document.createRange();return g.setStart(s.dom,a),g.setEnd(i.dom,d),g},JE=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Tp=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?E.some(a).map(JE):E.none()},QE=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?E.some(s).map(JE):E.none()},sb=x.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),H0=(t,s,a)=>s(ke.fromDom(a.startContainer),a.startOffset,ke.fromDom(a.endContainer),a.endOffset),eT=(t,s)=>s.match({domRange:a=>({ltr:H(a),rtl:E.none}),relative:(a,i)=>({ltr:Ar(()=>C2(t,a,i)),rtl:Ar(()=>E.some(C2(t,i,a)))}),exact:(a,i,d,g)=>({ltr:Ar(()=>Ka(t,a,i,d,g)),rtl:Ar(()=>E.some(Ka(t,d,g,a,i)))})}),tT=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>sb.rtl(ke.fromDom(d.endContainer),d.endOffset,ke.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>H0(t,sb.ltr,a)):H0(t,sb.ltr,a)},V0=(t,s)=>{const a=eT(t,s);return tT(t,a)},Em=(t,s)=>V0(t,s).match({ltr:(i,d,g,h)=>{const v=t.document.createRange();return v.setStart(i.dom,d),v.setEnd(g.dom,h),v},rtl:(i,d,g,h)=>{const v=t.document.createRange();return v.setStart(g.dom,h),v.setEnd(i.dom,d),v}});sb.ltr,sb.rtl;const Ap=(t,s,a)=>no(Yi(t,a),s),Ti=(t,s)=>Fu(s,t),pg=(t,s,a,i)=>{const g=ma(t).dom.createRange();return g.setStart(t.dom,s),g.setEnd(a.dom,i),g},S2=(t,s,a,i)=>{const d=pg(t,s,a,i),g=zs(t,a)&&s===i;return d.collapsed&&!g},x2=t=>E.from(t.getSelection()),U0=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return E.some(tb.create(ke.fromDom(s.startContainer),s.startOffset,ke.fromDom(a.endContainer),a.endOffset))}else return E.none()},W0=t=>{if(t.anchorNode===null||t.focusNode===null)return U0(t);{const s=ke.fromDom(t.anchorNode),a=ke.fromDom(t.focusNode);return S2(s,t.anchorOffset,a,t.focusOffset)?E.some(tb.create(s,t.anchorOffset,a,t.focusOffset)):U0(t)}},j0=t=>x2(t).filter(s=>s.rangeCount>0).bind(W0),nT=(t,s)=>{const a=Em(t,s);return Tp(a)},rb=(t,s)=>{const a=Em(t,s);return QE(a)},Tm=((t,s)=>{const a=g=>{if(!t(g))throw new Error("Can only get "+s+" value of a "+s+" node");return i(g).getOr("")},i=g=>t(g)?E.from(g.dom.nodeValue):E.none();return{get:a,getOption:i,set:(g,h)=>{if(!t(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=h}}})(ms,"text"),ab=t=>Tm.get(t),nd=(t,s)=>({element:t,offset:s}),oT=(t,s)=>{const a=Va(t);if(a.length===0)return nd(t,s);if(s<a.length)return nd(a[s],0);{const i=a[a.length-1],d=ms(i)?ab(i).length:Va(i).length;return nd(i,d)}},Rd=(t,s)=>ms(t)?nd(t,s):oT(t,s),wu=t=>t.foffset!==void 0,Op=(t,s)=>s.getSelection.getOrThunk(()=>()=>j0(t))().map(i=>{if(wu(i)){const d=Rd(i.start,i.soffset),g=Rd(i.finish,i.foffset);return ob.range(d.element,d.offset,g.element,g.offset)}else return i}),Z0=(t,s,a)=>{const i=Dc(s.root).dom,d=p2(t,a,s),g=Op(i,s).bind(_=>{if(wu(_))return rb(i,ob.exactFromRange(_)).orThunk(()=>{const D=ke.fromText(g1);vi(_.start,D);const N=nT(i,ob.exact(D,0,D,1));return Fi(D),N}).bind(D=>F0(D.left,D.top,D.width,D.height));{const T=Jn(_,N=>N.dom.getBoundingClientRect()),D={left:Math.min(T.firstCell.left,T.lastCell.left),right:Math.max(T.firstCell.right,T.lastCell.right),top:Math.min(T.firstCell.top,T.lastCell.top),bottom:Math.max(T.firstCell.bottom,T.lastCell.bottom)};return F0(D.left,D.top,D.right-D.left,D.bottom-D.top)}}),v=Op(i,s).bind(_=>wu(_)?wo(_.start)?E.some(_.start):zc(_.start):E.some(_.firstCell)).getOr(t.element);return $0(g,d,s,a,v)};var Dp=[Hs("getSelection"),_t("root"),Hs("bubble"),td(),Ie("overrides",{}),Ie("showAbove",!1),Mr("placement",Z0)];const Tf="link-layout",zp=t=>t.x+t.width,hg=(t,s)=>t.x-s.width,q0=(t,s)=>t.y-s.height+t.height,E2=t=>t.y,bg=(t,s,a)=>Aa(zp(t),E2(t),a.southeast(),Xy(),"southeast",Fc(t,{left:0,top:2}),Tf),yg=(t,s,a)=>Aa(hg(t,s),E2(t),a.southwest(),Od(),"southwest",Fc(t,{right:1,top:2}),Tf),T2=(t,s,a)=>Aa(zp(t),q0(t,s),a.northeast(),Tl(),"northeast",Fc(t,{left:0,bottom:3}),Tf),k1=(t,s,a)=>Aa(hg(t,s),q0(t,s),a.northwest(),Yh(),"northwest",Fc(t,{right:1,bottom:3}),Tf),Rp=()=>[bg,yg,T2,k1],bc=()=>[yg,bg,k1,T2],sT=(t,s,a)=>{const i=D0(a,s.item.element),d=xm(t.element,s,Rp(),bc(),Rp(),bc(),E.none());return E.some(d1({anchorBox:i,bubble:u1(),overrides:s.overrides,layouts:d}))};var od=[_t("item"),td(),Ie("overrides",{}),Mr("placement",sT)],G0=fc("type",{selection:Dp,node:ZE,hotspot:u2,submenu:od,makeshift:IE});const Mp=[Ii("classes",tc),Vi("mode","all",["all","layout","placement"])],vg=[Ie("useFixed",Se),Hs("getBounds")],K0=[pr("anchor",G0),xa("transition",Mp)],w1=()=>{const t=document.documentElement;return X_(0,0,t.clientWidth,t.clientHeight)},rT=t=>{const s=ia(t.element),a=t.element.dom.getBoundingClientRect();return SE(s.left,s.top,a.width,a.height)},A2=(t,s,a,i,d,g)=>{const h=EE(s.anchorBox,t);return c2(h,i.element,s.bubble,s.layouts,d,a,s.overrides,g)},cb=(t,s,a,i,d)=>{const g=E.none();O2(t,s,a,i,d,g)},O2=(t,s,a,i,d,g)=>{const h=As("placement.info",eo(K0),d),v=h.anchor,_=i.element,T=a.get(i.uid);mg(()=>{Dn(_,"position","fixed");const D=zr(_,"visibility");Dn(_,"visibility","hidden");const N=s.useFixed()?w1():rT(t);v.placement(t,v,N).each(B=>{const V=g.orThunk(()=>s.getBounds.map(Ro)),X=A2(N,B,V,i,T,h.transition);a.set(i.uid,X)}),D.fold(()=>{q(_,"visibility")},B=>{Dn(_,"visibility",B)}),zr(_,"left").isNone()&&zr(_,"top").isNone()&&zr(_,"right").isNone()&&zr(_,"bottom").isNone()&&_r(zr(_,"position"),"fixed")&&q(_,"position")},_)};var aT=Object.freeze({__proto__:null,position:cb,positionWithinBounds:O2,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,i)=>{const d=i.element;it(["position","left","right","top","bottom"],g=>q(d,g)),AE(d),a.clear(i.uid)}}),z2=Object.freeze({__proto__:null,init:()=>{let t={};return Wi({readState:()=>t,clear:d=>{ln(d)?delete t[d]:t={}},set:(d,g)=>{t[d]=g},get:d=>xt(t,d)})}});const Jc=Ec({fields:vg,name:"positioning",active:q_,apis:aT,state:z2}),_1=t=>t.getSystem().isConnected(),kg=t=>{Ds(t,sg());const s=t.components();it(s,kg)},wg=t=>{const s=t.components();it(s,wg),Ds(t,Ll())},Al=(t,s)=>{t.getSystem().addToWorld(s),gs(t.element)&&wg(s)},Am=t=>{kg(t),t.getSystem().removeFromWorld(t)},Y0=(t,s)=>{Nc(t.element,s.element)},Np=t=>{it(t.components(),s=>Fi(s.element)),yd(t.element),t.syncComponents()},qi=(t,s,a)=>{const i=t.components();Np(t);const d=a(s),g=Ye(i,d);it(g,h=>{kg(h),t.getSystem().removeFromWorld(h)}),it(d,h=>{_1(h)?Y0(t,h):(t.getSystem().addToWorld(h),Y0(t,h),gs(t.element)&&wg(h))}),t.syncComponents()},ii=(t,s,a)=>{const i=t.components(),d=ae(s,v=>b_(v).toArray());it(i,v=>{uo(d,v)||Am(v)});const g=a(s),h=Ye(i,g);it(h,v=>{_1(v)&&Am(v)}),it(g,v=>{_1(v)||Al(t,v)}),t.syncComponents()},ka=(t,s)=>{Ol(t,s,Nc)},Ol=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),gs(t.element)&&wg(s),t.syncComponents()},C1=t=>{kg(t),Fi(t.element),t.getSystem().removeFromWorld(t)},Ic=t=>{const s=aa(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());C1(t),s.each(a=>{a.syncComponents()})},Om=t=>{const s=t.components();it(s,C1),yd(t.element),t.syncComponents()},Pp=(t,s)=>{X0(t,s,Nc)},lb=(t,s)=>{X0(t,s,Qd)},X0=(t,s,a)=>{a(t,s.element);const i=Va(s.element);it(i,d=>{s.getByDom(d).each(wg)})},J0=t=>{const s=Va(t.element);it(s,a=>{t.getByDom(a).each(kg)}),Fi(t.element)},Of=(t,s,a,i)=>{a.get().each(h=>{Om(t)});const d=s.getAttachPoint(t);ka(d,t);const g=t.getSystem().build(i);return ka(t,g),a.set(g),g},ub=(t,s,a,i)=>{const d=Of(t,s,a,i);return s.onOpen(t,d),d},sd=(t,s,a,i)=>a.get().map(()=>Of(t,s,a,i)),cT=(t,s,a,i,d)=>{tk(t,s),ub(t,s,a,i),d(),P2(t,s)},Q0=(t,s,a)=>{a.get().each(i=>{Om(t),Ic(t),s.onClose(t,i),a.clear()})},R2=(t,s,a)=>a.isOpen(),VO=(t,s,a,i)=>R2(t,s,a)&&a.get().exists(d=>s.isPartOf(t,d,i)),M2=(t,s,a)=>a.get(),N2=(t,s,a,i)=>{zr(t.element,s).fold(()=>{re(t.element,a)},d=>{pn(t.element,a,d)}),Dn(t.element,s,i)},ek=(t,s,a)=>{P(t.element,a).fold(()=>q(t.element,s),i=>Dn(t.element,s,i))},tk=(t,s,a)=>{const i=s.getAttachPoint(t);Dn(t.element,"position",Jc.getMode(i)),N2(t,"visibility",s.cloakVisibilityAttr,"hidden")},nk=t=>Yo(["top","left","right","bottom"],s=>zr(t,s).isSome()),P2=(t,s,a)=>{nk(t.element)||q(t.element,"position"),ek(t,"visibility",s.cloakVisibilityAttr)};var B2=Object.freeze({__proto__:null,cloak:tk,decloak:P2,open:ub,openWhileCloaked:cT,close:Q0,isOpen:R2,isPartOf:VO,getState:M2,setContent:sd}),iT=Object.freeze({__proto__:null,events:(t,s)=>Er([St(ba(),(a,i)=>{Q0(a,t,s)})])}),lT=[vs("onOpen"),vs("onClose"),_t("isPartOf"),_t("getAttachPoint"),Ie("cloakVisibilityAttr","data-precloak-visibility")],uT=Object.freeze({__proto__:null,init:()=>{const t=Nr(),s=H("not-implemented");return Wi({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const ps=Ec({fields:lT,name:"sandboxing",active:iT,apis:B2,state:uT}),Gl=H("dismiss.popups"),Dm=H("reposition.popups"),ok=H("mouse.released"),$2=vr([Ie("isExtraPart",Se),xa("fireEventInstead",[Ie("event",fm())])]),Bp=t=>{const s=As("Dismissal",$2,t);return{[Gl()]:{schema:vr([_t("target")]),onReceive:(a,i)=>{ps.isOpen(a)&&(ps.isPartOf(a,i.target)||s.isExtraPart(a,i.target)||s.fireEventInstead.fold(()=>ps.close(a),g=>Ds(a,g.event)))}}}},dT=vr([xa("fireEventInstead",[Ie("event",Ay())]),ki("doReposition")]),sk=t=>{const s=As("Reposition",dT,t);return{[Dm()]:{onReceive:a=>{ps.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),i=>Ds(a,i.event))}}}},S1=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},db=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var ak=Object.freeze({__proto__:null,onLoad:S1,onUnload:db,setValue:(t,s,a,i)=>{s.store.manager.setValue(t,s,a,i)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),I2=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[Dr((i,d)=>{S1(i,t,s)}),xd((i,d)=>{db(i,t,s)})]:[T0(t,s,S1)];return Er(a)}});const ck=()=>{const t=bo(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,i=()=>{t.set(null)};return Wi({set:t.set,get:t.get,isNotSet:a,clear:i,readState:s})},Fp=()=>Wi({readState:W}),fb=()=>{const t=bo({}),s=bo({});return Wi({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:h=>xt(t.get(),h).orThunk(()=>xt(s.get(),h)),update:h=>{const v=t.get(),_=s.get(),T={},D={};it(h,N=>{T[N.value]=N,xt(N,"meta").each(B=>{xt(B,"text").each(V=>{D[V]=N})})}),t.set(te(te({},v),T)),s.set(te(te({},_),D))},clear:()=>{t.set({}),s.set({})}})};var Md=Object.freeze({__proto__:null,memory:ck,dataset:fb,manual:Fp,init:t=>t.store.manager.state(t)});const L2=(t,s,a,i)=>{const d=s.store;a.update([i]),d.setValue(t,i),s.onSetValue(t,i)},mT=(t,s,a)=>{const i=s.store,d=i.getDataKey(t);return a.lookup(d).getOrThunk(()=>i.getFallbackEntry(d))},H2=(t,s,a)=>{s.store.initialValue.each(d=>{L2(t,s,a,d)})},ik=(t,s,a)=>{a.clear()};var $p=[Hs("initialValue"),_t("getFallbackEntry"),_t("getDataKey"),_t("setValue"),Mr("manager",{setValue:L2,getValue:mT,onLoad:H2,onUnload:ik,state:fb})];const lk=(t,s,a)=>s.store.getValue(t),E1=(t,s,a,i)=>{s.store.setValue(t,i),s.onSetValue(t,i)},uk=(t,s,a)=>{s.store.initialValue.each(i=>{s.store.setValue(t,i)})};var V2=[_t("getValue"),Ie("setValue",W),Hs("initialValue"),Mr("manager",{setValue:E1,getValue:lk,onLoad:uk,onUnload:W,state:vu.init})];const mb=(t,s,a,i)=>{a.set(i),s.onSetValue(t,i)},dk=(t,s,a)=>a.get(),gT=(t,s,a)=>{s.store.initialValue.each(i=>{a.isNotSet()&&a.set(i)})},_u=(t,s,a)=>{a.clear()};var U2=[Hs("initialValue"),Mr("manager",{setValue:mb,getValue:dk,onLoad:gT,onUnload:_u,state:ck})],pT=[Yc("store",{mode:"memory"},fc("mode",{memory:U2,manual:V2,dataset:$p})),vs("onSetValue"),Ie("resetOnDom",!1)];const hn=Ec({fields:pT,name:"representing",active:I2,apis:ak,extra:{setValueFrom:(t,s)=>{const a=hn.getValue(s);hn.setValue(t,a)}},state:Md}),Ya=(t,s)=>Ph(t,{},Re(s,a=>Cy(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([_c("dump",at)])),Cu=t=>t.dump,sc=(t,s)=>te(te({},Vt(s)),t.dump),Su={field:Ya,augment:sc,get:Cu},W2="placeholder",gb=x.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Kl=t=>Oo(t,"uiType"),T1=(t,s,a,i)=>t.exists(d=>d!==a.owner)?gb.single(!0,H(a)):xt(i,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+Un(i)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},d=>d.replace()),pb=(t,s,a,i)=>Kl(a)&&a.uiType===W2?T1(t,s,a,i):gb.single(!1,H(a)),hb=(t,s,a,i)=>pb(t,s,a,i).fold((g,h)=>{const v=Kl(a)?h(s,a.config,a.validated):h(s),_=xt(v,"components").getOr([]),T=ae(_,D=>hb(t,s,D,i));return[pt(te({},v),{components:T})]},(g,h)=>{if(Kl(a)){const v=h(s,a.config,a.validated);return a.validated.preprocess.getOr(at)(v)}else return h(s)}),fk=(t,s,a,i)=>ae(a,d=>hb(t,s,d,i)),bb=(t,s)=>{let a=!1;const i=()=>a,d=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},g=()=>s.fold((h,v)=>h,(h,v)=>h);return{name:H(t),required:g,used:i,replace:d}},A1=(t,s,a,i)=>{const d=Jn(i,(h,v)=>bb(v,h)),g=fk(t,s,a,d);return to(d,h=>{if(h.used()===!1&&h.required())throw new Error("Placeholder: "+h.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),g},mk=gb.single,hT=gb.multiple,xu=H(W2),O1=x.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),yb=Ie("factory",{sketch:at}),cl=Ie("schema",[]),Ba=_t("name"),gk=mc("pname","pname",oi(t=>"<alloy."+Bn(t.name)+">"),si()),vb=_c("schema",()=>[Hs("preprocess")]),zl=Ie("defaults",H({})),kb=Ie("overrides",H({})),pk=eo([yb,cl,Ba,gk,zl,kb]),hk=eo([yb,cl,Ba,zl,kb]),bT=eo([yb,cl,Ba,gk,zl,kb]),j2=eo([yb,vb,Ba,_t("unit"),gk,zl,kb]),wb=t=>t.fold(E.some,E.none,E.some,E.some),Z2=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},yT=t=>t.fold(at,at,at,at),Rm=(t,s)=>a=>{const i=As("Converting part type",s,a);return t(i)},Lc=Rm(O1.required,pk),Yl=Rm(O1.external,hk),Rl=Rm(O1.optional,bT),il=Rm(O1.group,j2),D1=H("entirety");var _g=Object.freeze({__proto__:null,required:Lc,external:Yl,optional:Rl,group:il,asNamedPart:wb,name:Z2,asCommon:yT,original:D1});const Df=(t,s,a,i)=>rr(s.defaults(t,a,i),a,{uid:t.partUids[s.name]},s.overrides(t,a,i)),vT=(t,s,a)=>{const i={},d={};return it(a,g=>{g.fold(h=>{i[h.pname]=mk(!0,(v,_,T)=>h.factory.sketch(Df(v,h,_,T)))},h=>{const v=s.parts[h.name];d[h.name]=H(h.factory.sketch(Df(s,h,v[D1()]),v))},h=>{i[h.pname]=mk(!1,(v,_,T)=>h.factory.sketch(Df(v,h,_,T)))},h=>{i[h.pname]=hT(!0,(v,_,T)=>{const D=v[h.name];return Re(D,N=>h.factory.sketch(rr(h.defaults(v,N,T),N,h.overrides(v,N))))})})}),{internals:H(i),externals:H(d)}},bk=(t,s)=>{const a={};return it(s,i=>{wb(i).each(d=>{const g=kT(t,d.pname);a[d.name]=h=>{const v=As("Part: "+d.name+" in "+t,eo(d.schema),h);return pt(te({},g),{config:h,validated:v})}})}),a},kT=(t,s)=>({uiType:xu(),owner:t,name:s}),q2=(t,s,a)=>({uiType:xu(),owner:t,name:s,config:a,validated:{}}),G2=t=>ae(t,s=>s.fold(E.none,E.some,E.none,E.none).map(a=>Gu(a.name,a.schema.concat([w0(D1())]))).toArray()),K2=t=>Re(t,Z2),z1=(t,s,a)=>vT(t,s,a),yk=(t,s,a)=>A1(E.some(t),s,s.components,a),hr=(t,s,a)=>{const i=s.partUids[a];return t.getSystem().getByUid(i).toOptional()},zf=(t,s,a)=>hr(t,s,a).getOrDie("Could not find part: "+a),Ip=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return it(a,h=>{i[h]=H(g.getByUid(d[h]))}),i},vk=(t,s)=>{const a=t.getSystem();return Jn(s.partUids,(i,d)=>H(a.getByUid(i)))},Y2=t=>Un(t.partUids),kk=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return it(a,h=>{i[h]=H(g.getByUid(d[h]).getOrDie())}),i},X2=(t,s)=>{const a=K2(s);return _o(Re(a,i=>({key:i,value:t+"-"+i})))},R1=t=>mc("partUids","partUids",rs(s=>X2(s.uid,t)),si());var wT=Object.freeze({__proto__:null,generate:bk,generateOne:q2,schemas:G2,names:K2,substitutes:z1,components:yk,defaultUids:X2,defaultUidsSchema:R1,getAllParts:vk,getAllPartNames:Y2,getPart:hr,getPartOrDie:zf,getParts:Ip,getPartsOrDie:kk});const _T=(t,s)=>(t.length>0?[Gu("parts",t)]:[]).concat([_t("uid"),Ie("dom",{}),Ie("components",[]),w0("originalSpec"),Ie("debug.sketcher",{})]).concat(s),J2=(t,s,a,i,d)=>{const g=_T(i,d);return As(t+" [SpecSchema]",vr(g.concat(s)),a)},CT=(t,s,a,i)=>{const d=Hp(i),g=J2(t,s,d,[],[]);return a(g,d)},wk=(t,s,a,i,d)=>{const g=Hp(d),h=G2(a),v=R1(a),_=J2(t,s,g,h,[v]),T=z1(t,_,a),D=yk(t,_,T.internals());return i(_,D,g,T.externals())},Lp=t=>Oo(t,"uid"),Hp=t=>Lp(t)?t:pt(te({},t),{uid:bf("uid")}),M1=t=>t.uid!==void 0,Q2=vr([_t("name"),_t("factory"),_t("configFields"),Ie("apis",{}),Ie("extraApis",{})]),Xl=vr([_t("name"),_t("factory"),_t("configFields"),_t("partFields"),Ie("apis",{}),Ie("extraApis",{})]),Hc=t=>{const s=As("Sketcher for "+t.name,Q2,t),a=g=>CT(s.name,s.configFields,s.factory,g),i=Jn(s.apis,vm),d=Jn(s.extraApis,(g,h)=>Hl(g,h));return te(te({name:s.name,configFields:s.configFields,sketch:a},i),d)},Qc=t=>{const s=As("Sketcher for "+t.name,Xl,t),a=h=>wk(s.name,s.configFields,s.partFields,s.factory,h),i=bk(s.name,s.partFields),d=Jn(s.apis,vm),g=Jn(s.extraApis,(h,v)=>Hl(h,v));return te(te({name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:i},d),g)},Nd=t=>ra("input")(t)&&yr(t,"type")!=="radio"||ra("textarea")(t);var xT=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const ET=[_t("find")],ks=Ec({fields:ET,name:"composing",apis:xT}),TT=["input","button","textarea","select"],eC=(t,s,a)=>{(s.disabled()?_b:_k)(t,s)},N1=(t,s)=>s.useNative===!0&&uo(TT,Us(t.element)),AT=t=>Y(t.element,"disabled"),Cn=t=>{pn(t.element,"disabled","disabled")},Cg=t=>{re(t.element,"disabled")},OT=t=>yr(t.element,"aria-disabled")==="true",tC=t=>{pn(t.element,"aria-disabled","true")},P1=t=>{pn(t.element,"aria-disabled","false")},_b=(t,s,a)=>{s.disableClass.each(d=>{ya(t.element,d)}),(N1(t,s)?Cn:tC)(t),s.onDisabled(t)},_k=(t,s,a)=>{s.disableClass.each(d=>{oa(t.element,d)}),(N1(t,s)?Cg:P1)(t),s.onEnabled(t)},Ck=(t,s)=>N1(t,s)?AT(t):OT(t);var WO=Object.freeze({__proto__:null,enable:_k,disable:_b,isDisabled:Ck,onLoad:eC,set:(t,s,a,i)=>{(i?_b:_k)(t,s)}}),B1=Object.freeze({__proto__:null,exhibit:(t,s)=>nl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Er([Kv(tl(),(a,i)=>Ck(a,t)),T0(t,s,eC)])}),zT=[Za("disabled",Se),Ie("useNative",!0),Hs("disableClass"),vs("onDisabled"),vs("onEnabled")];const Co=Ec({fields:zT,name:"disabling",active:B1,apis:WO}),RT=(t,s,a,i)=>{const d=Ti(t.element,"."+s.highlightClass);it(d,g=>{Yo(i,v=>zs(v.element,g))||(oa(g,s.highlightClass),t.getSystem().getByDom(g).each(v=>{s.onDehighlight(t,v),Ds(v,qv())}))})},MT=(t,s,a)=>RT(t,s,a,[]),jO=(t,s,a,i)=>{Sb(t,s,a,i)&&(oa(i.element,s.highlightClass),s.onDehighlight(t,i),Ds(i,qv()))},Cb=(t,s,a,i)=>{RT(t,s,a,[i]),Sb(t,s,a,i)||(ya(i.element,s.highlightClass),s.onHighlight(t,i),Ds(i,mm()))},F1=(t,s,a)=>{xk(t,s).each(i=>{Cb(t,s,a,i)})},NT=(t,s,a)=>{Ek(t,s).each(i=>{Cb(t,s,a,i)})},PT=(t,s,a,i)=>{sC(t,s,a,i).fold(d=>{throw d},d=>{Cb(t,s,a,d)})},BT=(t,s,a,i)=>{const d=Tk(t,s);ee(d,i).each(h=>{Cb(t,s,a,h)})},Sb=(t,s,a,i)=>ol(i.element,s.highlightClass),Sk=(t,s,a)=>jr(t.element,"."+s.highlightClass).bind(i=>t.getSystem().getByDom(i).toOptional()),sC=(t,s,a,i)=>{const d=Ti(t.element,"."+s.itemClass);return E.from(d[i]).fold(()=>$t.error(new Error("No element found with index "+i)),t.getSystem().getByDom)},xk=(t,s,a)=>jr(t.element,"."+s.itemClass).bind(i=>t.getSystem().getByDom(i).toOptional()),Ek=(t,s,a)=>{const i=Ti(t.element,"."+s.itemClass);return(i.length>0?E.some(i[i.length-1]):E.none()).bind(g=>t.getSystem().getByDom(g).toOptional())},rC=(t,s,a,i)=>{const d=Ti(t.element,"."+s.itemClass);return he(d,h=>ol(h,s.highlightClass)).bind(h=>{const v=_m(h,i,0,d.length-1);return t.getSystem().getByDom(d[v]).toOptional()})},Rf=(t,s,a)=>rC(t,s,a,-1),Vp=(t,s,a)=>rC(t,s,a,1),Tk=(t,s,a)=>{const i=Ti(t.element,"."+s.itemClass);return qr(Re(i,d=>t.getSystem().getByDom(d).toOptional()))};var FT=Object.freeze({__proto__:null,dehighlightAll:MT,dehighlight:jO,highlight:Cb,highlightFirst:F1,highlightLast:NT,highlightAt:PT,highlightBy:BT,isHighlighted:Sb,getHighlighted:Sk,getFirst:xk,getLast:Ek,getPrevious:Rf,getNext:Vp,getCandidates:Tk}),$T=[_t("highlightClass"),_t("itemClass"),vs("onHighlight"),vs("onDehighlight")];const $s=Ec({fields:$T,name:"highlighting",apis:FT}),Ak=[8],Pd=[9],Bd=[13],Mf=[27],li=[32],$1=[37],Up=[38],I1=[39],Sg=[40],IT=(t,s,a)=>{const i=Pe(t.slice(0,s)),d=Pe(t.slice(s+1));return ee(i.concat(d),a)},ZO=(t,s,a)=>{const i=Pe(t.slice(0,s));return ee(i,a)},LT=(t,s,a)=>{const i=t.slice(0,s),d=t.slice(s+1);return ee(d.concat(i),a)},aC=(t,s,a)=>{const i=t.slice(s+1);return ee(i,a)},ws=t=>s=>{const a=s.raw;return uo(t,a.which)},Eu=t=>s=>Ne(t,a=>a(s)),Wp=t=>t.raw.shiftKey===!0,HT=t=>t.raw.ctrlKey===!0,xg=$e(Wp),xs=(t,s)=>({matches:t,classification:s}),VT=(t,s)=>ee(t,i=>i.matches(s)).map(i=>i.classification),L1=(t,s,a)=>{s.exists(d=>a.exists(g=>zs(g,d)))||lo(t,Oy(),{prevFocus:s,newFocus:a})},H1=()=>{const t=a=>ql(a.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().triggerFocus(i,a.element);const g=t(a);L1(a,d,g)}}},V1=()=>{const t=a=>$s.getHighlighted(a).map(i=>i.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().getByDom(i).fold(W,h=>{$s.highlight(a,h)});const g=t(a);L1(a,d,g)}}};var Nf;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Nf||(Nf={}));const Fd=(t,s,a,i,d)=>{const g=()=>t.concat([Ie("focusManager",H1()),Yc("focusInside","onFocus",Cl(T=>uo(["onFocus","onEnterOrSpace","onApi"],T)?$t.value(T):$t.error("Invalid value for focusInside"))),Mr("handler",_),Mr("state",s),Mr("sendFocusIn",d)]),h=(T,D,N,B,V)=>{const X=N(T,D,B,V);return VT(X,D.event).bind(ye=>ye(T,D,B,V))},_={schema:g,processKey:h,toEvents:(T,D)=>{const N=T.focusInside!==Nf.OnFocusMode?E.none():d(T).map(X=>St(Yu(),(ye,tt)=>{X(ye,T,D),tt.stop()})),B=(X,ye)=>{const tt=ws(li.concat(Bd))(ye.event);T.focusInside===Nf.OnEnterOrSpaceMode&&tt&&xl(X,ye)&&d(T).each(Ee=>{Ee(X,T,D),ye.stop()})},V=[St(bu(),(X,ye)=>{h(X,ye,a,T,D).fold(()=>{B(X,ye)},tt=>{ye.stop()})}),St(Jx(),(X,ye)=>{h(X,ye,i,T,D).each(tt=>{ye.stop()})})];return Er(N.toArray().concat(V))}};return _},l=t=>{const s=[Hs("onEscape"),Hs("onEnter"),Ie("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ie("firstTabstop",0),Ie("useTabstopAt",De),Hs("visibilitySelector")].concat([t]),a=(Ee,Ce)=>{const gt=Ee.visibilitySelector.bind(He=>rl(Ce,He)).getOr(Ce);return un(gt)>0},i=(Ee,Ce)=>{const gt=Ti(Ee.element,Ce.selector),He=no(gt,Nt=>a(Ce,Nt));return E.from(He[Ce.firstTabstop])},d=(Ee,Ce)=>Ce.focusManager.get(Ee).bind(gt=>rl(gt,Ce.selector)),g=(Ee,Ce)=>a(Ee,Ce)&&Ee.useTabstopAt(Ce),h=(Ee,Ce,gt)=>{i(Ee,Ce).each(He=>{Ce.focusManager.set(Ee,He)})},v=(Ee,Ce,gt,He,Nt)=>Nt(Ce,gt,zt=>g(He,zt)).fold(()=>He.cyclic?E.some(!0):E.none(),zt=>(He.focusManager.set(Ee,zt),E.some(!0))),_=(Ee,Ce,gt,He)=>{const Nt=Ti(Ee.element,gt.selector);return d(Ee,gt).bind(zt=>he(Nt,Jt(zs,zt)).bind(mn=>v(Ee,Nt,mn,gt,He)))},T=(Ee,Ce,gt)=>{const He=gt.cyclic?IT:ZO;return _(Ee,Ce,gt,He)},D=(Ee,Ce,gt)=>{const He=gt.cyclic?LT:aC;return _(Ee,Ce,gt,He)},N=Ee=>Uc(Ee).bind(hi).exists(Ce=>zs(Ce,Ee)),B=(Ee,Ce,gt)=>d(Ee,gt).filter(He=>!gt.useTabstopAt(He)).bind(He=>(N(He)?T:D)(Ee,Ce,gt)),V=(Ee,Ce,gt)=>gt.onEnter.bind(He=>He(Ee,Ce)),X=(Ee,Ce,gt)=>gt.onEscape.bind(He=>He(Ee,Ce)),ye=H([xs(Eu([Wp,ws(Pd)]),T),xs(ws(Pd),D),xs(Eu([xg,ws(Bd)]),V)]),tt=H([xs(ws(Mf),X),xs(ws(Pd),B)]);return Fd(s,vu.init,ye,tt,()=>E.some(h))};var f=l(_c("cyclic",Se)),p=l(_c("cyclic",De));const y=(t,s,a)=>(Ry(t,a,tl()),E.some(!0)),C=(t,s,a)=>Nd(a)&&ws(li)(s.event)?E.none():y(t,s,a),O=(t,s)=>E.some(!0),$=[Ie("execute",C),Ie("useSpace",!1),Ie("useEnter",!0),Ie("useControlEnter",!1),Ie("useDown",!1)],j=(t,s,a)=>a.execute(t,s,t.element),ne=(t,s,a,i)=>{const d=a.useSpace&&!Nd(t.element)?li:[],g=a.useEnter?Bd:[],h=a.useDown?Sg:[],v=d.concat(g).concat(h);return[xs(ws(v),j)].concat(a.useControlEnter?[xs(Eu([HT,ws(Bd)]),j)]:[])},be=(t,s,a,i)=>a.useSpace&&!Nd(t.element)?[xs(ws(li),O)]:[];var Be=Fd($,vu.init,ne,be,()=>E.none());const Tt=()=>{const t=Nr();return Wi({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,g)=>{t.set({numRows:d,numColumns:g})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var an=Object.freeze({__proto__:null,flatgrid:Tt,init:t=>t.state(t)});const wt=t=>(s,a,i,d)=>{const g=t(s.element);return Po(g,s,a,i,d)},cn=(t,s)=>{const a=eb(t,s);return wt(a)},vt=(t,s)=>{const a=eb(s,t);return wt(a)},In=t=>(s,a,i,d)=>Po(t,s,a,i,d),Po=(t,s,a,i,d)=>i.focusManager.get(s).bind(h=>t(s.element,h,i,d)).map(h=>(i.focusManager.set(s,h),!0)),Qo=In,Ir=In,Fa=In,Oa=t=>t.offsetWidth<=0&&t.offsetHeight<=0,ui=t=>!Oa(t.dom),Eg=(t,s)=>he(t,s).map(a=>({index:a,candidates:t})),xb=(t,s,a)=>{const i=h=>zs(h,s),d=Ti(t,a),g=no(d,ui);return Eg(g,i)},U1=(t,s)=>he(t,a=>zs(s,a)),W1=(t,s,a,i)=>{const d=Math.floor(s/a),g=s%a;return i(d,g).bind(h=>{const v=h.row*a+h.column;return v>=0&&v<t.length?E.some(t[v]):E.none()})},lr=(t,s,a,i,d)=>W1(t,s,i,(g,h)=>{const _=g===a-1?t.length-g*i:i,T=_m(h,d,0,_-1);return E.some({row:g,column:T})}),di=(t,s,a,i,d)=>W1(t,s,i,(g,h)=>{const v=_m(g,d,0,a-1),T=v===a-1?t.length-v*i:i,D=jl(h,0,T-1);return E.some({row:v,column:D})}),Ai=(t,s,a,i)=>lr(t,s,a,i,1),Tu=(t,s,a,i)=>lr(t,s,a,i,-1),Oi=(t,s,a,i)=>di(t,s,a,i,-1),Tg=(t,s,a,i)=>di(t,s,a,i,1),fi=[_t("selector"),Ie("execute",C),xi("onEscape"),Ie("captureTab",!1),Cf()],Eb=(t,s,a)=>{jr(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},Tb=(t,s)=>s.focusManager.get(t).bind(a=>rl(a,s.selector)),rd=(t,s,a,i)=>Tb(t,a).bind(d=>a.execute(t,s,d)),yc=t=>(s,a,i,d)=>xb(s,a,i.selector).bind(g=>t(g.candidates,g.index,d.getNumRows().getOr(i.initSize.numRows),d.getNumColumns().getOr(i.initSize.numColumns))),Ok=(t,s,a)=>a.captureTab?E.some(!0):E.none(),cC=(t,s,a)=>a.onEscape(t,s),iC=yc(Tu),lC=yc(Ai),UT=yc(Oi),Dk=yc(Tg),WT=H([xs(ws($1),cn(iC,lC)),xs(ws(I1),vt(iC,lC)),xs(ws(Up),Qo(UT)),xs(ws(Sg),Ir(Dk)),xs(Eu([Wp,ws(Pd)]),Ok),xs(Eu([xg,ws(Pd)]),Ok),xs(ws(li.concat(Bd)),rd)]),Ab=H([xs(ws(Mf),cC),xs(ws(li),O)]);var jT=Fd(fi,Tt,WT,Ab,()=>E.some(Eb));const uC=(t,s,a,i,d)=>{const g=v=>Us(v)==="button"&&yr(v,"disabled")==="disabled",h=(v,_,T)=>d(v,_,i,0,T.length-1,T[_],D=>g(T[D])?h(v,D,T):E.from(T[D]));return xb(t,a,s).bind(v=>{const _=v.index,T=v.candidates;return h(_,_,T)})},qO=(t,s,a,i)=>uC(t,s,a,i,(d,g,h,v,_,T,D)=>{const N=jl(g+h,v,_);return N===d?E.from(T):D(N)}),ZT=(t,s,a,i)=>uC(t,s,a,i,(d,g,h,v,_,T,D)=>{const N=_m(g,h,v,_);return N===d?E.none():D(N)}),GO=[_t("selector"),Ie("getInitial",E.none),Ie("execute",C),xi("onEscape"),Ie("executeOnMove",!1),Ie("allowVertical",!0),Ie("allowHorizontal",!0),Ie("cycles",!0)],rP=(t,s)=>s.focusManager.get(t).bind(a=>rl(a,s.selector)),qT=(t,s,a)=>rP(t,a).bind(i=>a.execute(t,s,i)),ad=(t,s,a)=>{s.getInitial(t).orThunk(()=>jr(t.element,s.selector)).each(i=>{s.focusManager.set(t,i)})},KO=(t,s,a)=>(a.cycles?ZT:qO)(t,a.selector,s,-1),YO=(t,s,a)=>(a.cycles?ZT:qO)(t,a.selector,s,1),XO=t=>(s,a,i,d)=>t(s,a,i,d).bind(()=>i.executeOnMove?qT(s,a,i):E.some(!0)),aP=(t,s,a)=>a.onEscape(t,s),cP=(t,s,a,i)=>{const d=[...a.allowHorizontal?$1:[]].concat(a.allowVertical?Up:[]),g=[...a.allowHorizontal?I1:[]].concat(a.allowVertical?Sg:[]);return[xs(ws(d),XO(cn(KO,YO))),xs(ws(g),XO(vt(KO,YO))),xs(ws(Bd),qT),xs(ws(li),qT)]},j1=H([xs(ws(li),O),xs(ws(Mf),aP)]);var GT=Fd(GO,vu.init,cP,j1,()=>E.some(ad));const dC=(t,s,a)=>E.from(t[s]).bind(i=>E.from(i[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),fC=(t,s,a,i)=>{const g=t[s].length,h=_m(a,i,0,g-1);return dC(t,s,h)},zk=(t,s,a,i)=>{const d=_m(a,i,0,t.length-1),g=t[d].length,h=jl(s,0,g-1);return dC(t,d,h)},mC=(t,s,a,i)=>{const g=t[s].length,h=jl(a+i,0,g-1);return dC(t,s,h)},JO=(t,s,a,i)=>{const d=jl(a+i,0,t.length-1),g=t[d].length,h=jl(s,0,g-1);return dC(t,d,h)},iP=(t,s,a)=>fC(t,s,a,1),lP=(t,s,a)=>fC(t,s,a,-1),uP=(t,s,a)=>zk(t,a,s,-1),dP=(t,s,a)=>zk(t,a,s,1),fP=(t,s,a)=>mC(t,s,a,-1),QO=(t,s,a)=>mC(t,s,a,1),KT=(t,s,a)=>JO(t,a,s,-1),mP=(t,s,a)=>JO(t,a,s,1),gP=[Gu("selectors",[_t("row"),_t("cell")]),Ie("cycles",!0),Ie("previousSelector",E.none),Ie("execute",C)],pP=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return jr(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},hP=(t,s,a)=>ql(t.element).bind(i=>a.execute(t,s,i)),Ob=(t,s)=>Re(t,a=>Ti(a,s.selectors.cell)),gC=(t,s)=>(a,i,d)=>{const g=d.cycles?t:s;return rl(i,d.selectors.row).bind(h=>{const v=Ti(h,d.selectors.cell);return U1(v,i).bind(_=>{const T=Ti(a,d.selectors.row);return U1(T,h).bind(D=>{const N=Ob(T,d);return g(N,D,_).map(B=>B.cell)})})})},eD=gC(lP,fP),pC=gC(iP,QO),bP=gC(uP,KT),tD=gC(dP,mP),nD=H([xs(ws($1),cn(eD,pC)),xs(ws(I1),vt(eD,pC)),xs(ws(Up),Qo(bP)),xs(ws(Sg),Ir(tD)),xs(ws(li.concat(Bd)),hP)]),oD=H([xs(ws(li),O)]);var sD=Fd(gP,vu.init,nD,oD,()=>E.some(pP));const yP=[_t("selector"),Ie("execute",C),Ie("moveOnTab",!1)],rD=(t,s,a)=>a.focusManager.get(t).bind(i=>a.execute(t,s,i)),vP=(t,s,a)=>{jr(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},hC=(t,s,a)=>ZT(t,a.selector,s,-1),aD=(t,s,a)=>ZT(t,a.selector,s,1),kP=(t,s,a,i)=>a.moveOnTab?Fa(hC)(t,s,a,i):E.none(),wP=(t,s,a,i)=>a.moveOnTab?Fa(aD)(t,s,a,i):E.none(),_P=H([xs(ws(Up),Fa(hC)),xs(ws(Sg),Fa(aD)),xs(Eu([Wp,ws(Pd)]),kP),xs(Eu([xg,ws(Pd)]),wP),xs(ws(Bd),rD),xs(ws(li),rD)]),cD=H([xs(ws(li),O)]);var CP=Fd(yP,vu.init,_P,cD,()=>E.some(vP));const SP=[xi("onSpace"),xi("onEnter"),xi("onShiftEnter"),xi("onLeft"),xi("onRight"),xi("onTab"),xi("onShiftTab"),xi("onUp"),xi("onDown"),xi("onEscape"),Ie("stopSpaceKeyup",!1),Hs("focusIn")],xP=(t,s,a)=>[xs(ws(li),a.onSpace),xs(Eu([xg,ws(Bd)]),a.onEnter),xs(Eu([Wp,ws(Bd)]),a.onShiftEnter),xs(Eu([Wp,ws(Pd)]),a.onShiftTab),xs(Eu([xg,ws(Pd)]),a.onTab),xs(ws(Up),a.onUp),xs(ws(Sg),a.onDown),xs(ws($1),a.onLeft),xs(ws(I1),a.onRight),xs(ws(li),a.onSpace)],iD=(t,s,a)=>[...a.stopSpaceKeyup?[xs(ws(li),O)]:[],xs(ws(Mf),a.onEscape)];var EP=Fd(SP,vu.init,xP,iD,t=>t.focusIn);const TP=f.schema(),lD=p.schema(),AP=GT.schema(),OP=jT.schema(),bC=sD.schema(),DP=Be.schema(),uD=CP.schema(),Ml=EP.schema();var zP=Object.freeze({__proto__:null,acyclic:TP,cyclic:lD,flow:AP,flatgrid:OP,matrix:bC,execution:DP,menu:uD,special:Ml});const dD=t=>Js(t,"setGridSize"),fo=A0({branchKey:"mode",branches:zP,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},i=>{i(t,s,a)})},setGridSize:(t,s,a,i,d)=>{dD(a)?a.setGridSize(i,d):console.error("Layout does not support setGridSize")}},state:an}),fD=(t,s)=>{mg(()=>{qi(t,s,()=>Re(s,t.getSystem().build))},t.element)},YT=(t,s)=>{mg(()=>{ii(t,s,()=>Ul(t.element,s,t.getSystem().buildOrPatch))},t.element)},RP=(t,s,a,i)=>{Am(s);const d=Uy(t.element,a,i,t.getSystem().buildOrPatch);Al(t,d),t.syncComponents()},yC=(t,s,a)=>{const i=t.getSystem().build(a);Ol(t,i,s)},mD=(t,s,a,i)=>{Ic(s),yC(t,(d,g)=>Ua(d,g,a),i)},MP=(t,s,a,i)=>(s.reuseDom?YT:fD)(t,i),NP=(t,s,a,i)=>{yC(t,Nc,i)},PP=(t,s,a,i)=>{yC(t,Qf,i)},BP=(t,s,a,i)=>{const d=Rk(t);ee(d,h=>zs(i.element,h.element)).each(Ic)},Rk=(t,s)=>t.components(),XT=(t,s,a,i,d)=>{const g=Rk(t);return E.from(g[i]).map(h=>(d.fold(()=>Ic(h),v=>{(s.reuseDom?RP:mD)(t,h,i,v)}),h))};var gD=Object.freeze({__proto__:null,append:NP,prepend:PP,remove:BP,replaceAt:XT,replaceBy:(t,s,a,i,d)=>{const g=Rk(t);return he(g,i).bind(h=>XT(t,s,a,h,d))},set:MP,contents:Rk});const Ho=Ec({fields:[Ea("reuseDom",!0)],name:"replacing",apis:gD}),JT=(t,s)=>{const a=Er(s);return Ec({fields:[_t("enabled")],name:t,active:{events:H(a)}})},Go=(t,s)=>{const a=JT(t,s);return{key:t,value:{config:{},me:a,configAsRaw:H({}),initialConfig:{},state:vu}}},pD=(t,s)=>{s.ignore||(Zl(t.element),s.onFocus(t))};var hD=Object.freeze({__proto__:null,focus:pD,blur:(t,s)=>{s.ignore||a1(t.element)},isFocused:t=>_p(t.element)}),FP=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return nl(a)},events:t=>Er([St(Yu(),(s,a)=>{pD(s,t),a.stop()})].concat(t.stopMousedown?[St(Ks(),(s,a)=>{a.event.prevent()})]:[]))}),jp=[vs("onFocus"),Ie("stopMousedown",!1),Ie("ignore",!1)];const To=Ec({fields:jp,name:"focusing",active:FP,apis:hD}),vD=t=>({init:()=>{const a=bo(t);return{get:()=>a.get(),set:v=>a.set(v),clear:()=>a.set(t),readState:()=>a.get()}}}),$P=(t,s,a)=>{const i=s.aria;i.update(t,i,a.get())},IP=(t,s,a)=>{s.toggleClass.each(i=>{a.get()?ya(t.element,i):oa(t.element,i)})},Ag=(t,s,a,i)=>{const d=a.get();a.set(i),IP(t,s,a),$P(t,s,a),d!==i&&s.onToggled(t,i)},Z1=(t,s,a)=>{Ag(t,s,a,!a.get())},kD=(t,s,a)=>{Ag(t,s,a,!0)},wD=(t,s,a)=>{Ag(t,s,a,!1)},Zp=(t,s,a)=>a.get(),Og=(t,s,a)=>{Ag(t,s,a,s.selected)};var LP=Object.freeze({__proto__:null,onLoad:Og,toggle:Z1,isOn:Zp,on:kD,off:wD,set:Ag}),Dg=Object.freeze({__proto__:null,exhibit:()=>nl({}),events:(t,s)=>{const a=kE(t,s,Z1),i=T0(t,s,Og);return Er(we([t.toggleOnExecute?[a]:[],[i]]))}});const QT=(t,s,a)=>{pn(t.element,"aria-pressed",a),s.syncWithExpanded&&e3(t,s,a)},_D=(t,s,a)=>{pn(t.element,"aria-selected",a)},CD=(t,s,a)=>{pn(t.element,"aria-checked",a)},e3=(t,s,a)=>{pn(t.element,"aria-expanded",a)};var t3=[Ie("selected",!1),Hs("toggleClass"),Ie("toggleOnExecute",!0),vs("onToggled"),Yc("aria",{mode:"none"},fc("mode",{pressed:[Ie("syncWithExpanded",!1),Mr("update",QT)],checked:[Mr("update",CD)],expanded:[Mr("update",e3)],selected:[Mr("update",_D)],none:[Mr("update",W)]}))];const ts=Ec({fields:t3,name:"toggling",active:Dg,apis:LP,state:vD(!1)}),SD=()=>{const t=(s,a)=>{a.stop(),gm(s)};return[St(im(),t),St($h(),t),Sd(Ui()),Sd(Ks())]},vC=t=>{const s=a=>yu((i,d)=>{a(i),d.stop()});return Er(we([t.map(s).toArray(),SD()]))},xD="alloy.item-hover",Mk="alloy.item-focus",kC="alloy.item-toggled",wC=t=>{(ql(t.element).isNone()||To.isFocused(t))&&(To.isFocused(t)||To.focus(t),lo(t,xD,{item:t}))},ED=t=>{lo(t,Mk,{item:t})},VP=(t,s)=>{lo(t,kC,{item:t,state:s})},n3=H(xD),TD=H(Mk),AD=H(kC),OD=t=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),UP=t=>pt(te({aria:{mode:"checked"}},Jo(t,(s,a)=>a!=="exclusive")),{onToggled:(s,a)=>{ot(t.onToggled)&&t.onToggled(s,a),VP(s,a)}}),o3=t=>({dom:t.dom,domModification:pt(te({},t.domModification),{attributes:te(pt(te({role:OD(t)},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Su.augment(t.itemBehaviours,[t.toggling.fold(ts.revoke,s=>ts.config(UP(s))),To.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{ED(s)}}),fo.config({mode:"execution"}),hn.config({store:{mode:"memory",initialValue:t.data}}),Go("item-type-events",[...SD(),St(gc(),wC),St(Fh(),To.focus)])]),components:t.components,eventOrder:t.eventOrder}),WP=[_t("data"),_t("components"),_t("dom"),Ie("hasSubmenu",!1),Hs("toggling"),Su.field("itemBehaviours",[ts,To,fo,hn]),Ie("ignoreFocus",!1),Ie("domModification",{}),Mr("builder",o3),Ie("eventOrder",{})],jP=t=>({dom:t.dom,components:t.components,events:Er([By(Fh())])}),ZP=[_t("dom"),_t("components"),Mr("builder",jP)],s3=H("item-widget"),_C=H([Lc({name:"widget",overrides:t=>({behaviours:Vt([hn.config({store:{mode:"manual",getValue:s=>t.data,setValue:W}})])})})]),qP=t=>{const s=z1(s3(),t,_C()),a=yk(s3(),t,s.internals()),i=g=>hr(g,t,"widget").map(h=>(fo.focusIn(h),h)),d=(g,h)=>Nd(h.event.target)?E.none():(()=>(t.autofocus&&h.setSource(g.element),E.none()))();return{dom:t.dom,components:a,domModification:t.domModification,events:Er([yu((g,h)=>{i(g).each(v=>{h.stop()})}),St(gc(),wC),St(Fh(),(g,h)=>{t.autofocus?i(g):To.focus(g)})]),behaviours:Su.augment(t.widgetBehaviours,[hn.config({store:{mode:"memory",initialValue:t.data}}),To.config({ignore:t.ignoreFocus,onFocus:g=>{ED(g)}}),fo.config({mode:"special",focusIn:t.autofocus?g=>{i(g)}:En(),onLeft:d,onRight:d,onEscape:(g,h)=>!To.isFocused(g)&&!t.autofocus?(To.focus(g),E.some(!0)):(t.autofocus&&h.setSource(g.element),E.none())})])}},GP=[_t("uid"),_t("data"),_t("components"),_t("dom"),Ie("autofocus",!1),Ie("ignoreFocus",!1),Su.field("widgetBehaviours",[hn,To,fo]),Ie("domModification",{}),R1(_C()),Mr("builder",qP)],DD=fc("type",{widget:GP,item:WP,separator:ZP}),Nk=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),KP=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),Pk=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),r3=H([il({factory:{sketch:t=>{const s=As("menu.spec item",DD,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Oo(s,"uid")?s:pt(te({},s),{uid:bf("item")}),overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),zD=H([_t("value"),_t("items"),_t("dom"),_t("components"),Ie("eventOrder",{}),Ya("menuBehaviours",[$s,hn,ks,fo]),Yc("movement",{mode:"menu",moveOnTab:!0},fc("mode",{grid:[Cf(),Mr("config",Nk)],matrix:[Mr("config",KP),_t("rowSelector"),Ie("previousSelector",E.none)],menu:[Ie("moveOnTab",!0),Mr("config",Pk)]})),wf(),Ie("fakeFocus",!1),Ie("focusManager",H1()),vs("onHighlight"),vs("onDehighlight")]),a3=H("alloy.menu-focus"),YP=(t,s)=>{const a=Ti(t.element,'[role="menuitemradio"][aria-checked="true"]');it(a,i=>{zs(i,s.element)||t.getSystem().getByDom(i).each(d=>{ts.off(d)})})},XP=(t,s,a,i)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:sc(t.menuBehaviours,[$s.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),hn.config({store:{mode:"memory",initialValue:t.value}}),ks.config({find:E.some}),fo.config(t.movement.config(t,t.movement))]),events:Er([St(TD(),(d,g)=>{const h=g.event;d.getSystem().getByDom(h.target).each(v=>{$s.highlight(d,v),g.stop(),lo(d,a3(),{menu:d,item:v})})}),St(n3(),(d,g)=>{const h=g.event.item;$s.highlight(d,h)}),St(AD(),(d,g)=>{const{item:h,state:v}=g.event;v&&yr(h.element,"role")==="menuitemradio"&&YP(d,h)})]),components:s,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}),qp=Qc({name:"Menu",configFields:zD(),partFields:r3(),factory:XP}),JP=t=>ao(t,(s,a)=>({k:s,v:a})),c3=(t,s,a,i)=>xt(a,i).bind(d=>xt(t,d).bind(g=>{const h=c3(t,s,a,g);return E.some([g].concat(h))})).getOr([]),QP=(t,s)=>{const a={};to(t,(h,v)=>{it(h,_=>{a[_]=v})});const i=s,d=JP(s),g=Jn(d,(h,v)=>[v].concat(c3(a,i,d,v)));return Jn(a,h=>xt(g,h).getOr([h]))},eB=()=>{const t=bo({}),s=bo({}),a=bo({}),i=Nr(),d=bo({}),g=()=>{t.set({}),s.set({}),a.set({}),i.clear()},h=()=>i.get().isNone(),v=(Nt,zt)=>{s.set(pt(te({},s.get()),{[Nt]:{type:"prepared",menu:zt}}))},_=(Nt,zt,Xt,mn)=>{i.set(Nt),t.set(Xt),s.set(zt),d.set(mn);const ds=QP(mn,Xt);a.set(ds)},T=Nt=>xo(t.get(),(zt,Xt)=>zt===Nt),D=(Nt,zt,Xt)=>ye(Nt).bind(mn=>T(Nt).bind(ds=>zt(ds).map(Yn=>({triggeredMenu:mn,triggeringItem:Yn,triggeringPath:Xt})))),N=(Nt,zt)=>{const Xt=no(Ee(Nt).toArray(),mn=>ye(mn).isSome());return xt(a.get(),Nt).bind(mn=>{const ds=Pe(Xt.concat(mn)),Yn=ae(ds,(Wo,Lo)=>D(Wo,zt,ds.slice(0,Lo+1)).fold(()=>_r(i.get(),Wo)?[]:[E.none()],Ts=>[E.some(Ts)]));return Cs(Yn)})},B=Nt=>xt(t.get(),Nt).map(zt=>{const Xt=xt(a.get(),Nt).getOr([]);return[zt].concat(Xt)}),V=Nt=>xt(a.get(),Nt).bind(zt=>zt.length>1?E.some(zt.slice(1)):E.none()),X=Nt=>xt(a.get(),Nt),ye=Nt=>tt(Nt).bind(i3),tt=Nt=>xt(s.get(),Nt),Ee=Nt=>xt(t.get(),Nt);return{setMenuBuilt:v,setContents:_,expand:B,refresh:X,collapse:V,lookupMenu:tt,lookupItem:Ee,otherMenus:Nt=>{const zt=d.get();return Ye(Un(zt),Nt)},getPrimary:()=>i.get().bind(ye),getMenus:()=>s.get(),clear:g,isClear:h,getTriggeringPath:N}},i3=t=>t.type==="prepared"?E.some(t.menu):E.none(),Bk={init:eB,extractPreparedMenu:i3},CC=Bn("tiered-menu-item-highlight"),SC=Bn("tiered-menu-item-dehighlight");var ll;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(ll||(ll={}));const tB=(t,s)=>{const a=Nr(),i=(Qt,Wn,Bo)=>Jn(Bo,(bs,ho)=>{const Vo=()=>qp.sketch(pt(te({},bs),{value:ho,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(br,Vs)=>{lo(br,CC,{menuComp:br,itemComp:Vs})},onDehighlight:(br,Vs)=>{lo(br,SC,{menuComp:br,itemComp:Vs})},focusManager:t.fakeFocus?V1():H1()}));return ho===Wn?{type:"prepared",menu:Qt.getSystem().build(Vo())}:{type:"notbuilt",nbMenu:Vo}}),d=Bk.init(),g=Qt=>{const Wn=i(Qt,t.data.primary,t.data.menus),Bo=_();return d.setContents(t.data.primary,Wn,t.data.expansions,Bo),d.getPrimary()},h=Qt=>hn.getValue(Qt).value,v=(Qt,Wn,Bo)=>Nn(Wn,bs=>{if(!bs.getSystem().isConnected())return E.none();const ho=$s.getCandidates(bs);return ee(ho,Vo=>h(Vo)===Bo)}),_=Qt=>Jn(t.data.menus,(Wn,Bo)=>ae(Wn.items,bs=>bs.type==="separator"?[]:[bs.data.value])),T=$s.highlight,D=(Qt,Wn)=>{T(Qt,Wn),$s.getHighlighted(Wn).orThunk(()=>$s.getFirst(Wn)).each(Bo=>{t.fakeFocus?$s.highlight(Wn,Bo):Ry(Qt,Bo.element,Fh())})},N=(Qt,Wn)=>qr(Re(Wn,Bo=>Qt.lookupMenu(Bo).bind(bs=>bs.type==="prepared"?E.some(bs.menu):E.none()))),B=(Qt,Wn,Bo)=>{const bs=N(Wn,Wn.otherMenus(Bo));it(bs,ho=>{Ci(ho.element,[t.markers.backgroundMenu]),t.stayInDom||Ho.remove(Qt,ho)})},V=Qt=>a.get().getOrThunk(()=>{const Wn={},Bo=Ti(Qt.element,`.${t.markers.item}`),bs=no(Bo,ho=>yr(ho,"aria-haspopup")==="true");return it(bs,ho=>{Qt.getSystem().getByDom(ho).each(Vo=>{const br=h(Vo);Wn[br]=Vo})}),a.set(Wn),Wn}),X=(Qt,Wn)=>{const Bo=V(Qt);to(Bo,(bs,ho)=>{const Vo=uo(Wn,ho);pn(bs.element,"aria-expanded",Vo)})},ye=(Qt,Wn,Bo)=>E.from(Bo[0]).bind(bs=>Wn.lookupMenu(bs).bind(ho=>{if(ho.type==="notbuilt")return E.none();{const Vo=ho.menu,br=N(Wn,Bo.slice(1));return it(br,Vs=>{ya(Vs.element,t.markers.backgroundMenu)}),gs(Vo.element)||Ho.append(Qt,Si(Vo)),Ci(Vo.element,[t.markers.backgroundMenu]),D(Qt,Vo),B(Qt,Wn,Bo),E.some(Vo)}}));let tt;(function(Qt){Qt[Qt.HighlightSubmenu=0]="HighlightSubmenu",Qt[Qt.HighlightParent=1]="HighlightParent"})(tt||(tt={}));const Ee=(Qt,Wn,Bo)=>{if(Bo.type==="notbuilt"){const bs=Qt.getSystem().build(Bo.nbMenu());return d.setMenuBuilt(Wn,bs),bs}else return Bo.menu},Ce=(Qt,Wn,Bo=tt.HighlightSubmenu)=>{if(Wn.hasConfigured(Co)&&Co.isDisabled(Wn))return E.some(Wn);{const bs=h(Wn);return d.expand(bs).bind(ho=>(X(Qt,ho),E.from(ho[0]).bind(Vo=>d.lookupMenu(Vo).bind(br=>{const Vs=Ee(Qt,Vo,br);return gs(Vs.element)||Ho.append(Qt,Si(Vs)),t.onOpenSubmenu(Qt,Wn,Vs,Pe(ho)),Bo===tt.HighlightSubmenu?($s.highlightFirst(Vs),ye(Qt,d,ho)):($s.dehighlightAll(Vs),E.some(Wn))}))))}},gt=(Qt,Wn)=>{const Bo=h(Wn);return d.collapse(Bo).bind(bs=>(X(Qt,bs),ye(Qt,d,bs).map(ho=>(t.onCollapseMenu(Qt,Wn,ho),ho))))},He=(Qt,Wn)=>{const Bo=h(Wn);return d.refresh(Bo).bind(bs=>(X(Qt,bs),ye(Qt,d,bs)))},Nt=(Qt,Wn)=>Nd(Wn.element)?E.none():Ce(Qt,Wn,tt.HighlightSubmenu),zt=(Qt,Wn)=>Nd(Wn.element)?E.none():gt(Qt,Wn),Xt=(Qt,Wn)=>gt(Qt,Wn).orThunk(()=>t.onEscape(Qt,Wn).map(()=>Qt)),mn=Qt=>(Wn,Bo)=>rl(Bo.getSource(),`.${t.markers.item}`).bind(bs=>Wn.getSystem().getByDom(bs).toOptional().bind(ho=>Qt(Wn,ho).map(De))),ds=Er([St(a3(),(Qt,Wn)=>{const Bo=Wn.event.item;d.lookupItem(h(Bo)).each(()=>{const bs=Wn.event.menu;$s.highlight(Qt,bs);const ho=h(Wn.event.item);d.refresh(ho).each(Vo=>B(Qt,d,Vo))})}),yu((Qt,Wn)=>{const Bo=Wn.event.target;Qt.getSystem().getByDom(Bo).each(bs=>{h(bs).indexOf("collapse-item")===0&&gt(Qt,bs),Ce(Qt,bs,tt.HighlightSubmenu).fold(()=>{t.onExecute(Qt,bs)},W)})}),Dr((Qt,Wn)=>{g(Qt).each(Bo=>{Ho.append(Qt,Si(Bo)),t.onOpenMenu(Qt,Bo),t.highlightOnOpen===ll.HighlightMenuAndItem?D(Qt,Bo):t.highlightOnOpen===ll.HighlightJustMenu&&T(Qt,Bo)})}),St(CC,(Qt,Wn)=>{t.onHighlightItem(Qt,Wn.event.menuComp,Wn.event.itemComp)}),St(SC,(Qt,Wn)=>{t.onDehighlightItem(Qt,Wn.event.menuComp,Wn.event.itemComp)}),...t.navigateOnHover?[St(n3(),(Qt,Wn)=>{const Bo=Wn.event.item;He(Qt,Bo),Ce(Qt,Bo,tt.HighlightParent),t.onHover(Qt,Bo)})]:[]]),Yn=Qt=>$s.getHighlighted(Qt).bind($s.getHighlighted),Wo=Qt=>{Yn(Qt).each(Wn=>{gt(Qt,Wn)})},Lo=Qt=>{d.getPrimary().each(Wn=>{D(Qt,Wn)})},Ts=Qt=>E.from(Qt.components()[0]).filter(Wn=>yr(Wn.element,"role")==="menu"),_s={collapseMenu:Wo,highlightPrimary:Lo,repositionMenus:Qt=>{d.getPrimary().bind(Bo=>Yn(Qt).bind(bs=>{const ho=h(bs),Vo=wr(d.getMenus()),br=qr(Re(Vo,Bk.extractPreparedMenu));return d.getTriggeringPath(ho,Vs=>v(Qt,br,Vs))}).map(bs=>({primary:Bo,triggeringPath:bs}))).fold(()=>{Ts(Qt).each(Bo=>{t.onRepositionMenu(Qt,Bo,[])})},({primary:Bo,triggeringPath:bs})=>{t.onRepositionMenu(Qt,Bo,bs)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:sc(t.tmenuBehaviours,[fo.config({mode:"special",onRight:mn(Nt),onLeft:mn(zt),onEscape:mn(Xt),focusIn:(Qt,Wn)=>{d.getPrimary().each(Bo=>{Ry(Qt,Bo.element,Fh())})}}),$s.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ks.config({find:Qt=>$s.getHighlighted(Qt)}),Ho.config({})]),eventOrder:t.eventOrder,apis:_s,events:ds}},nB=H("collapse-item"),oB=(t,s,a)=>({primary:t,menus:s,expansions:a}),RD=(t,s)=>({primary:t,menus:rn(t,s),expansions:{}}),MD=t=>({value:Bn(nB()),meta:{text:t}}),zb=Hc({name:"TieredMenu",configFields:[k0("onExecute"),k0("onEscape"),_f("onOpenMenu"),_f("onOpenSubmenu"),vs("onRepositionMenu"),vs("onCollapseMenu"),Ie("highlightOnOpen",ll.HighlightMenuAndItem),Gu("data",[_t("primary"),_t("menus"),_t("expansions")]),Ie("fakeFocus",!1),vs("onHighlightItem"),vs("onDehighlightItem"),vs("onHover"),Kh(),_t("dom"),Ie("navigateOnHover",!0),Ie("stayInDom",!1),Ya("tmenuBehaviours",[fo,$s,ks,Ho]),Ie("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:tB,extraApis:{tieredData:oB,singleData:RD,collapseItem:MD}}),sB=(t,s,a,i,d)=>{const g=()=>t.lazySink(s),h=i.type==="horizontal"?{layouts:{onLtr:()=>H_(),onRtl:()=>$c()}}:{},v=T=>T.length===2,_=T=>v(T)?h:{};return zb.sketch({dom:{tag:"div"},data:i.data,markers:i.menu.markers,highlightOnOpen:i.menu.highlightOnOpen,fakeFocus:i.menu.fakeFocus,onEscape:()=>(ps.close(s),t.onEscape.map(T=>T(s)),E.some(!0)),onExecute:()=>E.some(!0),onOpenMenu:(T,D)=>{Jc.positionWithinBounds(g().getOrDie(),D,a,d())},onOpenSubmenu:(T,D,N,B)=>{const V=g().getOrDie();Jc.position(V,N,{anchor:te({type:"submenu",item:D},_(B))})},onRepositionMenu:(T,D,N)=>{const B=g().getOrDie();Jc.positionWithinBounds(B,D,a,d()),it(N,V=>{const X=_(V.triggeringPath);Jc.position(B,V.triggeredMenu,{anchor:te({type:"submenu",item:V.triggeringItem},X)})})}})},rB=(t,s)=>{const a=(B,V)=>t.getRelated(B).exists(ye=>ug(ye,V)),i=(B,V)=>{ps.setContent(B,V)},d=(B,V,X)=>{const ye=E.none;g(B,V,X,ye)},g=(B,V,X,ye)=>{const tt=t.lazySink(B).getOrDie();ps.openWhileCloaked(B,V,()=>Jc.positionWithinBounds(tt,B,X,ye())),hn.setValue(B,E.some({mode:"position",config:X,getBounds:ye}))},h=(B,V,X)=>{v(B,V,X,E.none)},v=(B,V,X,ye)=>{const tt=sB(t,B,V,X,ye);ps.open(B,tt),hn.setValue(B,E.some({mode:"menu",menu:tt}))},_=B=>{ps.isOpen(B)&&(hn.setValue(B,E.none()),ps.close(B))},T=B=>ps.getState(B),D=B=>{ps.isOpen(B)&&hn.getValue(B).each(V=>{switch(V.mode){case"menu":ps.getState(B).each(zb.repositionMenus);break;case"position":const X=t.lazySink(B).getOrDie();Jc.positionWithinBounds(X,B,V.config,V.getBounds());break}})},N={setContent:i,showAt:d,showWithinBounds:g,showMenuAt:h,showMenuWithinBounds:v,hide:_,getContent:T,reposition:D,isOpen:ps.isOpen};return{uid:t.uid,dom:t.dom,behaviours:sc(t.inlineBehaviours,[ps.config({isPartOf:(B,V,X)=>ug(V,X)||a(B,X),getAttachPoint:B=>t.lazySink(B).getOrDie(),onOpen:B=>{t.onShow(B)},onClose:B=>{t.onHide(B)}}),hn.config({store:{mode:"memory",initialValue:E.none()}}),Xc.config({channels:te(te({},Bp(te({isExtraPart:s.isExtraPart},t.fireDismissalEventInstead.map(B=>({fireEventInstead:{event:B.event}})).getOr({})))),sk(pt(te({},t.fireRepositionEventInstead.map(B=>({fireEventInstead:{event:B.event}})).getOr({})),{doReposition:D})))})]),eventOrder:t.eventOrder,apis:N}},sa=Hc({name:"InlineView",configFields:[_t("lazySink"),vs("onShow"),vs("onHide"),cf("onEscape"),Ya("inlineBehaviours",[ps,hn,Xc]),xa("fireDismissalEventInstead",[Ie("event",fm())]),xa("fireRepositionEventInstead",[Ie("event",Ay())]),Ie("getRelated",E.none),Ie("isExtraPart",Se),Ie("eventOrder",E.none)],factory:rB,apis:{showAt:(t,s,a,i)=>{t.showAt(s,a,i)},showWithinBounds:(t,s,a,i,d)=>{t.showWithinBounds(s,a,i,d)},showMenuAt:(t,s,a,i)=>{t.showMenuAt(s,a,i)},showMenuWithinBounds:(t,s,a,i,d)=>{t.showMenuWithinBounds(s,a,i,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var xC=tinymce.util.Tools.resolve("tinymce.util.Delay");const Vc=Hc({name:"Button",factory:t=>{const s=vC(t.action),a=t.dom.tag,i=g=>xt(t.dom,"attributes").bind(h=>xt(h,g)),d=()=>{if(a==="button"){const g=i("type").getOr("button"),h=i("role").map(v=>({role:v})).getOr({});return te({type:g},h)}else return{role:t.role.getOr(i("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Su.augment(t.buttonBehaviours,[To.config({}),fo.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[Ie("uid",void 0),_t("dom"),Ie("components",[]),Su.field("buttonBehaviours",[To,fo]),Hs("action"),Hs("role"),Ie("eventOrder",{})]}),nr=t=>{const s=M1(t)&&Js(t,"uid")?t.uid:bf("memento");return{get:g=>g.getSystem().getByUid(s).getOrDie(),getOpt:g=>g.getSystem().getByUid(s).toOptional(),asSpec:()=>pt(te({},t),{uid:s})}};var Au=tinymce.util.Tools.resolve("tinymce.util.I18n");const aB={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},ND="temporary-placeholder",l3=t=>()=>xt(t,ND).getOr("!not found!"),zg=(t,s)=>{const a=t.toLowerCase();if(Au.isRtl()){const i=xn(a,"-rtl");return Oo(s,i)?i:a}else return a},PD=(t,s)=>xt(s,zg(t,s)),BD=(t,s)=>{const a=s();return PD(t,a).getOrThunk(l3(a))},Rb=(t,s,a)=>{const i=s();return PD(t,i).or(a).getOrThunk(l3(i))},FD=t=>Au.isRtl()?Oo(aB,t):!1,u3=()=>Go("add-focusable",[Dr(t=>{Zy(t.element,"svg").each(s=>pn(s,"focusable","false"))})]),Rg=(t,s,a,i)=>{var d,g;const h=FD(s)?["tox-icon--flip"]:[],v=xt(a,zg(s,a)).or(i).getOrThunk(l3(a));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(h),innerHtml:v},behaviours:Vt([...(g=t.behaviours)!==null&&g!==void 0?g:[],u3()])}},$d=(t,s,a,i=E.none())=>Rg(s,t,a(),i),cB=(t,s,a)=>{const i=a(),d=ee(t,g=>Oo(i,zg(g,i)));return Rg(s,d.getOr(ND),i,E.none())},cd={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},EC=Hc({name:"Notification",factory:t=>{const s=nr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Vt([Ho.config({})])}),a=V=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${V}%`}}}),i=V=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${V}%`}}),d=nr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(0)]},i(0)],behaviours:Vt([Ho.config({})])}),v={updateProgress:(V,X)=>{V.getSystem().isConnected()&&d.getOpt(V).each(ye=>{Ho.set(ye,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[a(X)]},i(X)])})},updateText:(V,X)=>{if(V.getSystem().isConnected()){const ye=s.get(V);Ho.set(ye,[Fr(X)])}}},_=we([t.icon.toArray(),t.level.toArray(),t.level.bind(V=>E.from(cd[V])).toArray()]),T=nr(Vc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[$d("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:V=>{t.onAction(V)}})),D=cB(_,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),N={dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:Vt([Ho.config({})])},B=[D,N];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(V=>["tox-notification","tox-notification--in",`tox-notification--${V}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Vt([To.config({}),Go("notification-events",[St(Pc(),V=>{T.getOpt(V).each(To.focus)})])]),components:B.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[T.asSpec()]:[]),apis:v}},configFields:[Hs("level"),_t("progress"),Hs("icon"),_t("onAction"),_t("text"),_t("iconProvider"),_t("translationProvider"),Ea("closeButton",!0)],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var $D=(t,s,a)=>{const i=s.backstage.shared,d=()=>{const _=Ur(ke.fromDom(t.getContentAreaContainer())),T=R(),D=jl(T.x,_.x,_.right),N=jl(T.y,_.y,_.bottom),B=Math.max(_.right,T.right),V=Math.max(_.bottom,T.bottom);return E.some(Or(D,N,B-D,V-N))};return{open:(_,T)=>{const D=()=>{T(),sa.hide(B)},N=Bc(EC.sketch({text:_.text,level:uo(["success","error","warning","warn","info"],_.type)?_.type:void 0,progress:_.progressBar===!0,icon:_.icon,closeButton:_.closeButton,onAction:D,iconProvider:i.providers.icons,translationProvider:i.providers.translate})),B=Bc(sa.sketch(te({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:i.getSink,fireDismissalEventInstead:{}},i.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));a.add(B),Rt(_.timeout)&&_.timeout>0&&xC.setEditorTimeout(t,()=>{D()},_.timeout);const X={close:D,reposition:()=>{const ye=Si(N),tt={maxHeightFunction:xf()},Ee=t.notificationManager.getNotifications();if(Ee[0]===X){const Ce=pt(te({},i.anchors.banner()),{overrides:tt});sa.showWithinBounds(B,ye,{anchor:Ce},d)}else et(Ee,X).each(Ce=>{const gt=Ee[Ce-1].getEl(),He={type:"node",root:Cr(),node:E.some(ke.fromDom(gt)),overrides:tt,layouts:{onRtl:()=>[hc],onLtr:()=>[hc]}};sa.showWithinBounds(B,ye,{anchor:He},d)})},text:ye=>{EC.updateText(N,ye)},settings:_,getEl:()=>N.element.dom,progressBar:{value:ye=>{EC.updateProgress(N,ye)}}};return X},close:_=>{_.close()},getArgs:_=>_.settings}},Fk=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),d3=tinymce.util.Tools.resolve("tinymce.EditorManager"),q1=tinymce.util.Tools.resolve("tinymce.Env"),id;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(id||(id={}));var $k;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})($k||($k={}));const ur=t=>s=>s.options.get(t),Mb=t=>s=>E.from(t(s)),f3=t=>{const s=q1.deviceType.isPhone(),a=q1.deviceType.isTablet()||s,i=t.options.register,d=h=>Qe(h)||h===!1,g=h=>Qe(h)||Rt(h);i("skin",{processor:h=>Qe(h)||h===!1,default:"oxide"}),i("skin_url",{processor:"string"}),i("height",{processor:g,default:Math.max(t.getElement().offsetHeight,400)}),i("width",{processor:g,default:Fk.DOM.getStyle(t.getElement(),"width")}),i("min_height",{processor:"number",default:100}),i("min_width",{processor:"number"}),i("max_height",{processor:"number"}),i("max_width",{processor:"number"}),i("style_formats",{processor:"object[]"}),i("style_formats_merge",{processor:"boolean",default:!1}),i("style_formats_autohide",{processor:"boolean",default:!1}),i("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),i("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),i("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),i("font_size_input_default_unit",{processor:"string",default:"pt"}),i("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),i("content_langs",{processor:"object[]"}),i("removed_menuitems",{processor:"string",default:""}),i("menubar",{processor:h=>Qe(h)||dn(h),default:!s}),i("menu",{processor:"object",default:{}}),i("toolbar",{processor:h=>dn(h)||Qe(h)||Ln(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ct(9,h=>{i("toolbar"+(h+1),{processor:"string"})}),i("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),i("toolbar_groups",{processor:"object",default:{}}),i("toolbar_location",{processor:"string",default:$k.auto}),i("toolbar_persist",{processor:"boolean",default:!1}),i("toolbar_sticky",{processor:"boolean",default:t.inline}),i("toolbar_sticky_offset",{processor:"number",default:0}),i("fixed_toolbar_container",{processor:"string",default:""}),i("fixed_toolbar_container_target",{processor:"object"}),i("ui_mode",{processor:"string",default:"combined"}),i("file_picker_callback",{processor:"function"}),i("file_picker_validator_handler",{processor:"function"}),i("file_picker_types",{processor:"string"}),i("typeahead_urls",{processor:"boolean",default:!0}),i("anchor_top",{processor:d,default:"#top"}),i("anchor_bottom",{processor:d,default:"#bottom"}),i("draggable_modal",{processor:"boolean",default:!1}),i("statusbar",{processor:"boolean",default:!0}),i("elementpath",{processor:"boolean",default:!0}),i("branding",{processor:"boolean",default:!0}),i("promotion",{processor:"boolean",default:!0}),i("resize",{processor:h=>h==="both"||dn(h),default:!q1.deviceType.isTouch()}),i("sidebar_show",{processor:"string"}),i("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")})},m3=ur("readonly"),TC=ur("height"),g3=ur("width"),Ik=Mb(ur("min_width")),p3=Mb(ur("min_height")),G1=Mb(ur("max_width")),h3=Mb(ur("max_height")),K1=Mb(ur("style_formats")),Lk=ur("style_formats_merge"),b3=ur("style_formats_autohide"),y3=ur("content_langs"),ID=ur("removed_menuitems"),Y1=ur("toolbar_mode"),LD=ur("toolbar_groups"),v3=ur("toolbar_location"),k3=ur("fixed_toolbar_container"),HD=ur("fixed_toolbar_container_target"),w3=ur("toolbar_persist"),AC=ur("toolbar_sticky_offset"),VD=ur("menubar"),Hk=ur("toolbar"),UD=ur("file_picker_callback"),WD=ur("file_picker_validator_handler"),jD=ur("font_size_input_default_unit"),_3=ur("file_picker_types"),ZD=ur("typeahead_urls"),qD=ur("anchor_top"),OC=ur("anchor_bottom"),C3=ur("draggable_modal"),S3=ur("statusbar"),GD=ur("elementpath"),Vk=ur("branding"),KD=ur("resize"),YD=ur("paste_as_text"),XD=ur("sidebar_show"),JD=ur("promotion"),QD=ur("help_accessibility"),DC=t=>t.options.get("skin")===!1,X1=t=>t.options.get("menubar")!==!1,ez=t=>{const s=t.options.get("skin_url");if(DC(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return d3.baseURL+"/skins/ui/"+a}},Uk=t=>t.options.get("line_height_formats").split(" "),zC=t=>{const s=Hk(t),a=Qe(s),i=Ln(s)&&s.length>0;return!Wk(t)&&(i||a||s===!0)},x3=t=>{const s=Ct(9,i=>t.options.get("toolbar"+(i+1))),a=no(s,Qe);return qn(a.length>0,a)},Wk=t=>x3(t).fold(()=>{const s=Hk(t);return Ot(s,Qe)&&s.length>0},De),E3=t=>v3(t)===$k.bottom,tz=t=>{var s;if(!t.inline)return E.none();const a=(s=k3(t))!==null&&s!==void 0?s:"";if(a.length>0)return jr(Cr(),a);const i=HD(t);return ln(i)?E.some(ke.fromDom(i)):E.none()},J1=t=>t.inline&&tz(t).isSome(),RC=t=>tz(t).getOrThunk(()=>Pt(qe(ke.fromDom(t.getElement())))),T3=t=>t.inline&&!X1(t)&&!zC(t)&&!Wk(t),jk=t=>(t.options.get("toolbar_sticky")||t.inline)&&!J1(t)&&!T3(t),Mm=t=>!J1(t)&&t.options.get("ui_mode")==="split",Gp=t=>{const s=t.options.get("menu");return Jn(s,a=>pt(te({},a),{items:a.items}))};var lB=Object.freeze({__proto__:null,get ToolbarMode(){return id},get ToolbarLocation(){return $k},register:f3,getSkinUrl:ez,isReadOnly:m3,isSkinDisabled:DC,getHeightOption:TC,getWidthOption:g3,getMinWidthOption:Ik,getMinHeightOption:p3,getMaxWidthOption:G1,getMaxHeightOption:h3,getUserStyleFormats:K1,shouldMergeStyleFormats:Lk,shouldAutoHideStyleFormats:b3,getLineHeightFormats:Uk,getContentLanguages:y3,getRemovedMenuItems:ID,isMenubarEnabled:X1,isMultipleToolbars:Wk,isToolbarEnabled:zC,isToolbarPersist:w3,getMultipleToolbarsOption:x3,getUiContainer:RC,useFixedContainer:J1,isSplitUiMode:Mm,getToolbarMode:Y1,isDraggableModal:C3,isDistractionFree:T3,isStickyToolbar:jk,getStickyToolbarOffset:AC,getToolbarLocation:v3,isToolbarLocationBottom:E3,getToolbarGroups:LD,getMenus:Gp,getMenubar:VD,getToolbar:Hk,getFilePickerCallback:UD,getFilePickerTypes:_3,useTypeaheadUrls:ZD,getAnchorTop:qD,getAnchorBottom:OC,getFilePickerValidatorHandler:WD,getFontSizeInputDefaultUnit:jD,useStatusBar:S3,useElementPath:GD,promotionEnabled:JD,useBranding:Vk,getResize:KD,getPasteAsText:YD,getSidebarShow:XD,useHelpAccessibility:QD});const nz="[data-mce-autocompleter]",MC=t=>rl(t,nz),uB=t=>jr(t,nz),fB={setup:(t,s)=>{const a=(d,g)=>{lo(d,bu(),{raw:g})},i=()=>t.getMenu().bind($s.getHighlighted);s.on("keydown",d=>{const g=d.which;t.isActive()&&(t.isMenuOpen()?g===13?(i().each(gm),d.preventDefault()):g===40?(i().fold(()=>{t.getMenu().each($s.highlightFirst)},h=>{a(h,d)}),d.preventDefault(),d.stopImmediatePropagation()):(g===37||g===38||g===39)&&i().each(h=>{a(h,d),d.preventDefault(),d.stopImmediatePropagation()}):(g===13||g===38||g===40)&&t.cancelIfNecessary())}),s.on("NodeChange",d=>{t.isActive()&&!t.isProcessingAction()&&MC(ke.fromDom(d.element)).isNone()&&t.cancelIfNecessary()})}};var NC;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(NC||(NC={}));var Id=NC;const Zk="tox-menu-nav__js",PC="tox-collection__item",BC="tox-swatch",mB={normal:Zk,color:BC},Q1="tox-collection__item--enabled",gB="tox-collection__group-heading",oz="tox-collection__item-icon",qk="tox-collection__item-label",A3="tox-collection__item-accessory",sz="tox-collection__item-caret",rz="tox-collection__item-checkmark",Gk="tox-collection__item--active",az="tox-collection__item-container",O3="tox-collection__item-container--column",cz="tox-collection__item-container--row",pB="tox-collection__item-container--align-right",hB="tox-collection__item-container--align-left",bB="tox-collection__item-container--valign-top",yB="tox-collection__item-container--valign-middle",vB="tox-collection__item-container--valign-bottom",iz=t=>xt(mB,t).getOr(Zk),kB=t=>t==="color"?"tox-swatches":"tox-menu",D3=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:kB(t),tieredMenu:"tox-tiered-menu"}),Nb=t=>{const s=D3(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:iz(t)}},wB=(t,s,a)=>{const i=D3(a);return{tag:"div",classes:we([[i.menu,`tox-menu-${s}-column`],t?[i.hasIcons]:[]])}},_B=[qp.parts.items({})],ev=(t,s,a)=>{const i=D3(a);return{dom:{tag:"div",classes:we([[i.tieredMenu]])},markers:Nb(a)}},lz=H([Hs("data"),Ie("inputAttributes",{}),Ie("inputStyles",{}),Ie("tag","input"),Ie("inputClasses",[]),vs("onSetValue"),Ie("styles",{}),Ie("eventOrder",{}),Ya("inputBehaviours",[hn,To]),Ie("selectOnFocus",!0)]),uz=t=>Vt([To.config({onFocus:t.selectOnFocus?s=>{const a=s.element,i=va(a);a.dom.setSelectionRange(0,i.length)}:W})]),CB=t=>te(te({},uz(t)),sc(t.inputBehaviours,[hn.config({store:pt(te({mode:"manual"},t.data.map(s=>({initialValue:s})).getOr({})),{getValue:s=>va(s.element),setValue:(s,a)=>{va(s.element)!==a&&Ta(s.element,a)}}),onSetValue:t.onSetValue})])),z3=t=>({tag:t.tag,attributes:te({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}),SB=(t,s)=>({uid:t.uid,dom:z3(t),components:[],behaviours:CB(t),eventOrder:t.eventOrder}),Pb=Hc({name:"Input",configFields:lz(),factory:SB}),dz=Bn("refetch-trigger-event"),fz=Bn("redirect-menu-item-interaction"),mz="tox-menu__searcher",FC=t=>jr(t.element,`.${mz}`).bind(s=>t.getSystem().getByDom(s).toOptional()),$C=FC,xB=(t,s)=>{hn.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},gz=t=>{const s=hn.getValue(t),a=t.element.dom.selectionStart,i=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:i}},EB=(t,s)=>{P(s.element,"id").each(a=>pn(t.element,"aria-activedescendant",a))},TB=t=>{const s=(d,g)=>(g.cut(),E.none()),a=(d,g)=>{const h={interactionEvent:g.event,eventType:g.event.raw.type};return lo(d,fz,h),E.some(!0)},i="searcher-events";return{dom:{tag:"div",classes:[PC]},components:[Pb.sketch({inputClasses:[mz,"tox-textfield"],inputAttributes:pt(te({},t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({})),{type:"search","aria-autocomplete":"list"}),inputBehaviours:Vt([Go(i,[St(eg(),d=>{Ds(d,dz)}),St(bu(),(d,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),fo.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[i,fo.name()]}})]}},IC="tox-collection--results__js",pz=t=>{var s;return t.dom?pt(te({},t),{dom:pt(te({},t.dom),{attributes:pt(te({},(s=t.dom.attributes)!==null&&s!==void 0?s:{}),{id:Bn("aria-item-search-result-id"),"aria-selected":"false"})})}):t},R3=(t,s)=>a=>{const i=vn(a,s);return Re(i,d=>({dom:t,components:d}))},AB=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[qp.parts.items({preprocess:t!=="auto"?R3({tag:"div",classes:["tox-swatches__row"]},t):at})]}]}),OB=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[qp.parts.items({preprocess:R3({tag:"div",classes:["tox-collection__group"]},t)})]}),hz=(t,s)=>{const a=[];let i=[];return it(t,(d,g)=>{s(d,g)?(i.length>0&&a.push(i),i=[],(Oo(d.dom,"innerHtml")||d.components&&d.components.length>0)&&i.push(d)):i.push(d)}),i.length>0&&a.push(i),Re(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},M3=(t,s,a)=>qp.parts.items({preprocess:i=>{const d=Re(i,a);return t!=="auto"&&t>1?R3({tag:"div",classes:["tox-collection__group"]},t)(d):hz(d,(g,h)=>s[h].type==="separator")}}),bz=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[M3(t,s,at)]}),LC=(t,s,a=!0)=>{const i=Bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",IC].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:i}},components:[M3(t,s,pz)]}},DB=(t,s,a)=>{const i=Bn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[TB({i18n:Au.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],IC],attributes:{id:i}},components:[M3(t,s,pz)]}]}},N3=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[qp.parts.items({preprocess:a=>hz(a,(i,d)=>t[d].type==="separator")})]}),HC=t=>Yo(t,s=>"icon"in s&&s.icon!==void 0),Mg=t=>(console.error(gu(t)),console.log(t),E.none()),zB=(t,s,a,i,d)=>{const g=N3(a);return{value:t,dom:g.dom,components:g.components,items:a}},P3=(t,s,a,i,d)=>{const g=()=>d.menuType!=="searchable"?bz(i,a):d.searchMode.searchMode==="search-with-field"?DB(i,a,d.searchMode):LC(i,a);if(d.menuType==="color"){const h=AB(i);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"&&i==="auto"){const h=bz(i,a);return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="normal"||d.menuType==="searchable"){const h=g();return{value:t,dom:h.dom,components:h.components,items:a}}else if(d.menuType==="listpreview"&&i!=="auto"){const h=OB(i);return{value:t,dom:h.dom,components:h.components,items:a}}else return{value:t,dom:wB(s,i,d.menuType),components:_B,items:a}},$a=ga("type"),VC=ga("name"),B3=ga("label"),Pf=ga("text"),UC=ga("title"),F3=ga("icon"),Bb=ga("value"),WC=ki("fetch"),yz=ki("getSubmenuItems"),Jl=ki("onAction"),$3=ki("onItemAction"),Fb=Za("onSetup",()=>W),RB=Cc("name"),Kp=Cc("text"),ld=Cc("icon"),Ng=Cc("tooltip"),I3=Cc("label"),MB=Cc("shortcut"),vz=cf("select"),Kk=Ea("active",!1),L3=Ea("borderless",!1),Ld=Ea("enabled",!0),tv=Ea("primary",!1),jC=t=>Ie("columns",t),H3=Ie("meta",{}),ZC=Za("onAction",W),Yp=t=>Hi("type",t),V3=t=>mc("name","name",oi(()=>Bn(`${t}-name`)),tc),NB=t=>mc("value","value",oi(()=>Bn(`${t}-value`)),si()),kz=eo([$a,Kp]),PB=t=>Wr("separatormenuitem",kz,t),BB=eo([Yp("autocompleteitem"),Kk,Ld,H3,Bb,Kp,ld]),FB=t=>Wr("Autocompleter.Separator",kz,t),wz=t=>Wr("Autocompleter.Item",BB,t),nv=[Ld,Ng,ld,Kp,Fb],$B=eo([$a,Jl].concat(nv)),U3=t=>Wr("toolbarbutton",$B,t),qC=[Kk].concat(nv),Yk=eo(qC.concat([$a,Jl])),W3=t=>Wr("ToggleButton",Yk,t),_z=[Za("predicate",Se),Vi("scope","node",["node","editor"]),Vi("position","selection",["node","selection","line"])],IB=nv.concat([Yp("contextformbutton"),tv,Jl,_c("original",at)]),Cz=qC.concat([Yp("contextformbutton"),tv,Jl,_c("original",at)]),LB=nv.concat([Yp("contextformbutton")]),HB=qC.concat([Yp("contextformtogglebutton")]),Sz=fc("type",{contextformbutton:IB,contextformtogglebutton:Cz}),xz=eo([Yp("contextform"),Za("initValue",H("")),I3,Ii("commands",Sz),pu("launch",fc("type",{contextformbutton:LB,contextformtogglebutton:HB}))].concat(_z)),Ez=t=>Wr("ContextForm",xz,t),Tz=eo([Yp("contexttoolbar"),ga("items")].concat(_z)),VB=t=>Wr("ContextToolbar",Tz,t),UB=[$a,ga("src"),Cc("alt"),_i("classes",[],tc)],Az=eo(UB),j3=[$a,Pf,RB,_i("classes",["tox-collection__item-label"],tc)],Z3=eo(j3),q3=ja(()=>rf("type",{cardimage:Az,cardtext:Z3,cardcontainer:Oz})),Oz=eo([$a,Hi("direction","horizontal"),Hi("align","left"),Hi("valign","middle"),Ii("items",q3)]),$b=[Ld,Kp,MB,NB("menuitem"),H3],WB=eo([$a,I3,Ii("items",q3),Fb,ZC].concat($b)),G3=t=>Wr("cardmenuitem",WB,t),jB=eo([$a,Kk,ld].concat($b)),Dz=t=>Wr("choicemenuitem",jB,t),K3=[$a,ga("fancytype"),ZC],Ib=[Ie("initData",{})].concat(K3),ZB=[cf("select"),Ph("initData",{},[Ea("allowCustomColors",!0),Hi("storageKey","default"),xy("colors",si())])].concat(K3),Y3=fc("fancytype",{inserttable:Ib,colorswatch:ZB}),GC=t=>Wr("fancymenuitem",Y3,t),qB=eo([$a,Fb,ZC,ld].concat($b)),zz=t=>Wr("menuitem",qB,t),Rz=eo([$a,yz,Fb,ld].concat($b)),Mz=t=>Wr("nestedmenuitem",Rz,t),X3=eo([$a,ld,Kk,Fb,Jl].concat($b)),Nz=t=>Wr("togglemenuitem",X3,t),J3=(t,s,a)=>{const i=Ti(t.element,"."+a);if(i.length>0){const d=he(i,g=>{const h=g.dom.getBoundingClientRect().top,v=i[0].dom.getBoundingClientRect().top;return Math.abs(h-v)>s}).getOr(i.length);return E.some({numColumns:d,numRows:Math.ceil(i.length/d)})}else return E.none()},Q3=(t,s)=>Vt([Go(t,s)]),ov={namedEvents:Q3,unnamedEvents:t=>Q3(Bn("unnamed-events"),t)},e4=Bn("tooltip.exclusive"),Xk=Bn("tooltip.show"),sv=Bn("tooltip.hide"),Pz=(t,s,a)=>{t.getSystem().broadcastOn([e4],{})};var KB=Object.freeze({__proto__:null,hideAllExclusive:Pz,setComponents:(t,s,a,i)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&Ho.set(d,i)})}}),Bz=Object.freeze({__proto__:null,events:(t,s)=>{const a=d=>{s.getTooltip().each(g=>{Ic(g),t.onHide(d,g),s.clearTooltip()}),s.clearTimer()},i=d=>{if(!s.isShowing()){Pz(d);const g=t.lazySink(d).getOrDie(),h=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Er(t.mode==="normal"?[St(gc(),v=>{Ds(d,Xk)}),St(ai(),v=>{Ds(d,sv)})]:[]),behaviours:Vt([Ho.config({})])});s.setTooltip(h),ka(g,h),t.onShow(d,h),Jc.position(g,h,{anchor:t.anchor(d)})}};return Er(we([[St(Xk,d=>{s.resetTimer(()=>{i(d)},t.delay)}),St(sv,d=>{s.resetTimer(()=>{a(d)},t.delay)}),St(Cd(),(d,g)=>{const h=g;h.universal||uo(h.channels,e4)&&a(d)}),xd(d=>{a(d)})],t.mode==="normal"?[St(Pc(),d=>{Ds(d,Xk)}),St(um(),d=>{Ds(d,sv)}),St(gc(),d=>{Ds(d,Xk)}),St(ai(),d=>{Ds(d,sv)})]:[St(mm(),(d,g)=>{Ds(d,Xk)}),St(qv(),d=>{Ds(d,sv)})]]))}}),Jk=[_t("lazySink"),_t("tooltipDom"),Ie("exclusive",!0),Ie("tooltipComponents",[]),Ie("delay",300),Vi("mode","normal",["normal","follow-highlight"]),Ie("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:H([hc,xc,Ga,Zi,Sc,$r]),onRtl:H([hc,xc,Ga,Zi,Sc,$r])}})),vs("onHide"),vs("onShow")],XB=Object.freeze({__proto__:null,init:()=>{const t=Nr(),s=Nr(),a=()=>{t.on(clearTimeout)},i=(g,h)=>{a(),t.set(setTimeout(g,h))},d=H("not-implemented");return Wi({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:a,resetTimer:i,readState:d})}});const Fz=Ec({fields:Jk,name:"tooltipping",active:Bz,state:XB,apis:KB}),JB=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),$z="silver.readonly",QB=eo([dp("readonly")]),Lb=(t,s)=>{const i=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s&&it(d,g=>{g.broadcastOn([Gl()],{target:i})}),it(d,g=>{g.broadcastOn([$z],{readonly:s})})},Iz=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&Lb(s,!0)}),t.on("SwitchMode",()=>Lb(s,t.mode.isReadOnly())),m3(t)&&t.mode.set("readonly")},rc=()=>Xc.config({channels:{[$z]:{schema:QB,onReceive:(t,s)=>{Co.set(t,s.readonly)}}}}),ud={item:t=>Co.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Co.config({disabled:t}),splitButton:t=>Co.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Co.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Qk=(t,s)=>{const a=t.getApi(s);return i=>{i(a)}},Pg=(t,s)=>Dr(a=>{Qk(t,a)(d=>{const g=t.onSetup(d);ot(g)&&s.set(g)})}),Bg=(t,s)=>xd(a=>Qk(t,a)(s.get())),nF=(t,s)=>yu((a,i)=>{Qk(t,a)(t.onAction),!t.triggersSubmenu&&s===Id.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&Ds(a,ba()),i.stop())}),oF={[tl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},rv=qr,av=(t,s,a,i)=>{const d=bo(W);return{type:"item",dom:s.dom,components:rv(s.optComponents),data:t.data,eventOrder:oF,hasSubmenu:t.triggersSubmenu,itemBehaviours:Vt([Go("item-events",[nF(t,a),Pg(t,d),Bg(t,d)]),ud.item(()=>!t.enabled||i.isDisabled()),rc(),Ho.config({})].concat(t.itemBehaviours))}},Hb=t=>({value:t.value,meta:te({text:t.text.getOr("")},t.meta)}),t4=t=>{const s=q1.os.isMacOS()||q1.os.isiOS(),d=s?{alt:"\u2325",ctrl:"\u2303",shift:"\u21E7",meta:"\u2318",access:"\u2303\u2325"}:{meta:"Ctrl",access:"Shift+Alt"},g=t.split("+"),h=Re(g,v=>{const _=v.toLowerCase().trim();return Oo(d,_)?d[_]:v});return s?h.join(""):h.join("+")},n4=(t,s,a=[oz])=>$d(t,{tag:"div",classes:a},s),Lz=t=>({dom:{tag:"div",classes:[qk]},components:[Fr(Au.translate(t))]}),Hz=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),sF=(t,s)=>({dom:{tag:"div",classes:[qk]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Fr(Au.translate(s))]}]}),rF=t=>({dom:{tag:"div",classes:[A3]},components:[Fr(t4(t))]}),o4=t=>n4("checkmark",t,[rz]),aF=t=>n4("chevron-right",t,[sz]),cF=t=>n4("chevron-down",t,[sz]),s4=(t,s)=>{const a=t.direction==="vertical"?O3:cz,i=t.align==="left"?hB:pB;return{dom:{tag:"div",classes:[az,a,i,(()=>{switch(t.valign){case"top":return bB;case"middle":return yB;case"bottom":return vB}})()]},components:s}},Vz=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),iF=(t,s,a)=>{const i="custom",d="remove",g=t.ariaLabel,h=t.value,v=t.iconContent.map(T=>Rb(T,s.icons,a));return{dom:(()=>{const T=BC,D=v.getOr(""),B={tag:"div",attributes:g.map(V=>({title:s.translate(V)})).getOr({}),classes:[T]};return h===i?pt(te({},B),{tag:"button",classes:[...B.classes,"tox-swatches__picker-btn"],innerHtml:D}):h===d?pt(te({},B),{classes:[...B.classes,"tox-swatch--remove"],innerHtml:D}):ln(h)?pt(te({},B),{attributes:pt(te({},B.attributes),{"data-mce-color":h}),styles:{"background-color":h},innerHtml:D}):B})(),optComponents:[]}},Uz=t=>{const s=t.map(a=>({attributes:{title:Au.translate(a),id:Bn("menu-item")}})).getOr({});return te({tag:"div",classes:[Zk,PC]},s)},Wz=(t,s,a,i)=>{const d={tag:"div",classes:[oz]},g=B=>$d(B,d,s.icons,i),h=()=>E.some({dom:d}),v=a?t.iconContent.map(g).orThunk(h):E.none(),_=t.checkMark,T=E.from(t.meta).fold(()=>Lz,B=>Oo(B,"style")?Jt(sF,B.style):Lz),D=t.htmlContent.fold(()=>t.textContent.map(T),B=>E.some(Hz(B,[qk])));return{dom:Uz(t.ariaLabel),optComponents:[v,D,t.shortcutContent.map(rF),_,t.caret]}},ew=(t,s,a,i=E.none())=>t.presets==="color"?iF(t,s,i):Wz(t,s,a,i),jz=(t,s)=>xt(t,"tooltipWorker").map(a=>[Fz.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:i=>({type:"submenu",item:i,overrides:{maxHeightFunction:xf}}),mode:"follow-highlight",onShow:(i,d)=>{a(g=>{Fz.setComponents(i,[g0({element:ke.fromDom(g)})])})}})]).getOr([]),Zz=t=>Fk.DOM.encode(t),r4=(t,s)=>{const a=Au.translate(t),i=Zz(a);if(s.length>0){const d=new RegExp(JB(s),"gi");return i.replace(d,g=>`<span class="tox-autocompleter-highlight">${g}</span>`)}else return i},qz=(t,s,a,i,d,g,h,v=!0)=>{const _=ew({presets:i,textContent:E.none(),htmlContent:a?t.text.map(T=>r4(T,s)):E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:t.value},h.providers,v,t.icon);return av({data:Hb(t),enabled:t.enabled,getApi:H({}),onAction:T=>d(t.value,t.meta),onSetup:H(W),triggersSubmenu:!1,itemBehaviours:jz(t.meta,h)},_,g,h.providers)},Gz=(t,s)=>Re(t,a=>{switch(a.type){case"cardcontainer":return s4(a,Gz(a.items,s));case"cardimage":return Vz(a.src,a.classes,a.alt);case"cardtext":const d=a.name.exists(g=>uo(s.cardText.highlightOn,g))?E.from(s.cardText.matchText).getOr(""):"";return Hz(r4(a.text,d),a.classes)}}),lF=(t,s,a,i)=>{const d=h=>({isEnabled:()=>!Co.isDisabled(h),setEnabled:v=>{Co.set(h,!v),it(Ti(h.element,"*"),_=>{h.getSystem().getByDom(_).each(T=>{T.hasConfigured(Co)&&Co.set(T,!v)})})}}),g={dom:Uz(t.label),optComponents:[E.some({dom:{tag:"div",classes:[az,cz]},components:Gz(t.items,i)})]};return av({data:Hb(te({text:E.none()},t)),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(i.itemBehaviours).getOr([])},g,s,a.providers)},uF=(t,s,a,i,d,g,h,v=!0)=>{const _=D=>({setActive:N=>{ts.set(D,N)},isActive:()=>ts.isOn(D),isEnabled:()=>!Co.isDisabled(D),setEnabled:N=>Co.set(D,!N)}),T=ew({presets:a,textContent:s?t.text:E.none(),htmlContent:E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:E.none(),checkMark:s?E.some(o4(h.icons)):E.none(),caret:E.none(),value:t.value},h,v);return rr(av({data:Hb(t),enabled:t.enabled,getApi:_,onAction:D=>i(t.value),onSetup:D=>(D.setActive(d),W),triggersSubmenu:!1,itemBehaviours:[]},T,g,h),{toggling:{toggleClass:Q1,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},Kz=bk(s3(),_C()),Yz=t=>({value:tw(t)}),Xp=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,KC=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Xz=t=>Xp.test(t)||KC.test(t),tw=t=>Yt(t,"#").toUpperCase(),Bf=t=>Xz(t)?E.some({value:tw(t)}):E.none(),dF=t=>({value:t.value.replace(Xp,(a,i,d,g)=>i+i+d+d+g+g)}),fF=t=>{const s=dF(t),a=KC.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},a4=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Vb=t=>{const s=a4(t.red)+a4(t.green)+a4(t.blue);return Yz(s)},Jz=Math.min,Qz=Math.max,nw=Math.round,mF=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,gF=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Jp=(t,s,a,i)=>({red:t,green:s,blue:a,alpha:i}),ul=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},Ff=t=>{let s,a,i;const d=(t.hue||0)%360;let g=t.saturation/100,h=t.value/100;if(g=Qz(0,Jz(g,1)),h=Qz(0,Jz(h,1)),g===0)return s=a=i=nw(255*h),Jp(s,a,i,1);const v=d/60,_=h*g,T=_*(1-Math.abs(v%2-1)),D=h-_;switch(Math.floor(v)){case 0:s=_,a=T,i=0;break;case 1:s=T,a=_,i=0;break;case 2:s=0,a=_,i=T;break;case 3:s=0,a=T,i=_;break;case 4:s=T,a=0,i=_;break;case 5:s=_,a=0,i=T;break;default:s=a=i=0}return s=nw(255*(s+D)),a=nw(255*(a+D)),i=nw(255*(i+D)),Jp(s,a,i,1)},ow=t=>{const s=fF(t),a=parseInt(s[1],16),i=parseInt(s[2],16),d=parseInt(s[3],16);return Jp(a,i,d,1)},c4=(t,s,a,i)=>{const d=parseInt(t,10),g=parseInt(s,10),h=parseInt(a,10),v=parseFloat(i);return Jp(d,g,h,v)},cv=t=>{if(t==="transparent")return E.some(Jp(0,0,0,0));const s=mF.exec(t);if(s!==null)return E.some(c4(s[1],s[2],s[3],"1"));const a=gF.exec(t);return a!==null?E.some(c4(a[1],a[2],a[3],a[4])):E.none()},YC=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,e6=Jp(255,0,0,1),pF=t=>{t.dispatch("SkinLoaded")},sw=(t,s)=>{t.dispatch("SkinLoadError",s)},XC=t=>{t.dispatch("ResizeEditor")},i4=(t,s)=>{t.dispatch("ResizeContent",s)},Qp=(t,s)=>{t.dispatch("ScrollContent",s)},t6=(t,s)=>{t.dispatch("TextColorChange",s)},hF=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},Ql=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),l4=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},dd=(t,s)=>()=>{t(),s()},Gi=t=>Pm(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),kr=(t,s)=>a=>{const i=xp(),d=()=>{a.setActive(t.formatter.match(s));const g=t.formatter.formatChanged(s,a.setActive);i.set(g)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),i.clear()}},Nm=(t,s)=>a=>{const i=Gi(t)(a),d=kr(t,s)(a);return()=>{i(),d()}},Pm=(t,s,a)=>i=>{const d=()=>a(i),g=()=>{a(i),t.on(s,d)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),t.off(s,d)}},u4=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},dl=(t,s)=>()=>t.execCommand(s);var Fg=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const n6={},d4=(t,s=10)=>{const a=Fg.getItem(t),i=Qe(a)?JSON.parse(a):[],g=(T=>s-T.length<0?T.slice(0,s):T)(i),h=T=>{et(g,T).each(v),g.unshift(T),g.length>s&&g.pop(),Fg.setItem(t,JSON.stringify(g))},v=T=>{g.splice(T,1)};return{add:h,state:()=>g.slice(0)}},o6=t=>xt(n6,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=Fg.getItem(s);if(Wt(a)){const d=Fg.getItem("tinymce-custom-colors");Fg.setItem(s,ln(d)?d:"[]")}const i=d4(s,10);return n6[t]=i,i}),s6=t=>Re(o6(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),f4=(t,s)=>{o6(t).add(s)},Ub=(t,s,a)=>({hue:t,saturation:s,value:a}),JC=t=>{let s=0,a=0,i=0;const d=t.red/255,g=t.green/255,h=t.blue/255,v=Math.min(d,Math.min(g,h)),_=Math.max(d,Math.max(g,h));if(v===_)return i=v,Ub(0,0,i*100);const T=d===v?g-h:h===v?d-g:h-d;return s=d===v?3:h===v?1:5,s=60*(s-T/(_-v)),a=(_-v)/_,i=_,Ub(Math.round(s),Math.round(a*100),Math.round(i*100))},QC=t=>JC(ow(t)),r6=t=>Vb(Ff(t)),bF=t=>Bf(t).orThunk(()=>cv(t).map(Vb)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const i=a.getImageData(0,0,1,1).data,d=i[0],g=i[1],h=i[2],v=i[3];return Vb(Jp(d,g,h,v))}),m4="forecolor",g4="hilitecolor",yF=5,vF=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+bF(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},Bm=t=>s=>s.options.get(t),p4="#000000",kF=t=>{const s=t.options.register,a=d=>Ot(d,Qe)?{value:vF(d),valid:!0}:{valid:!1,message:"Must be an array of strings."},i=d=>Rt(d)&&d>0?{value:d,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:i,default:eS(t)}),s("color_cols_foreground",{processor:i,default:a6(t,m4)}),s("color_cols_background",{processor:i,default:a6(t,g4)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:p4}),s("color_default_background",{processor:"string",default:p4})},h4=(t,s)=>s===m4&&t.options.isSet("color_map_foreground")?Bm("color_map_foreground")(t):s===g4&&t.options.isSet("color_map_background")?Bm("color_map_background")(t):Bm("color_map")(t),eS=(t,s="default")=>Math.max(yF,Math.ceil(Math.sqrt(h4(t,s).length))),a6=(t,s)=>{const a=Bm("color_cols")(t),i=eS(t,s);return a===eS(t)?i:a},b4=(t,s="default")=>Math.round((()=>s===m4?Bm("color_cols_foreground")(t):s===g4?Bm("color_cols_background")(t):Bm("color_cols")(t))()),c6=Bm("custom_colors"),wF=Bm("color_default_foreground"),_F=Bm("color_default_background"),CF="rgba(0, 0, 0, 0)",SF=t=>cv(t).exists(s=>s.alpha!==0),xF=t=>el(t,s=>{if(wo(s)){const a=Zs(s,"background-color");return qn(SF(a),a)}else return E.none()}).getOr(CF),y4=(t,s)=>{const a=ke.fromDom(t.selection.getStart()),i=s==="hilitecolor"?xF(a):Zs(a,"color");return cv(i).map(d=>"#"+Vb(d).value)},$f=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},EF=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},v4=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{$f(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{EF(t,s)})},k4=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},tS=(t,s,a,i)=>{a==="custom"?d6(t)(g=>{g.each(h=>{f4(s,h),t.execCommand("mceApplyTextcolor",s,h),i(h)})},y4(t,s).getOr(p4)):a==="remove"?(i(""),t.execCommand("mceRemoveTextcolor",s)):(i(a),t.execCommand("mceApplyTextcolor",s,a))},w4=(t,s,a)=>t.concat(s6(s).concat(k4(a))),_4=(t,s,a)=>i=>{i(w4(t,s,a))},nS=(t,s,a)=>{const i=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(i,a)},i6=(t,s)=>a=>{const i=y4(t,s);return _r(i,a.toUpperCase())},l6=(t,s,a,i,d)=>{t.ui.registry.addSplitButton(s,{tooltip:i,presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:i6(t,a),columns:b4(t,a),fetch:_4(h4(t,a),a,c6(t)),onAction:g=>{tS(t,a,d.get(),W)},onItemAction:(g,h)=>{tS(t,a,h,v=>{d.set(v),t6(t,{name:s,color:v})})},onSetup:g=>{nS(g,s,d.get());const h=v=>{v.name===s&&nS(g,v.name,v.color)};return t.on("TextColorChange",h),dd(Gi(t)(g),()=>{t.off("TextColorChange",h)})}})},u6=(t,s,a,i,d)=>{t.ui.registry.addNestedMenuItem(s,{text:i,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(nS(g,s,d.get()),Gi(t)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:i6(t,a),initData:{storageKey:a},onAction:g=>{tS(t,a,g.value,h=>{d.set(h),t6(t,{name:s,color:h})})}}]})},d6=t=>(s,a)=>{let i=!1;const d=v=>{const T=v.getData().colorpicker;i?(s(E.from(T)),v.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",T]))},g=(v,_)=>{_.name==="hex-valid"&&(i=_.value)},h={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:g,onSubmit:d,onClose:W,onCancel:()=>{s(E.none())}})},f6=t=>{v4(t);const s=wF(t),a=_F(t),i=bo(s),d=bo(a);l6(t,"forecolor","forecolor","Text color",i),l6(t,"backcolor","hilitecolor","Background color",d),u6(t,"forecolor","forecolor","Text color",i),u6(t,"backcolor","hilitecolor","Background color",d)},oS=(t,s,a,i,d,g,h,v)=>{const _=HC(s),D=m6(s,a,i,d!=="color"?"normal":"color",g,h,v);return P3(t,_,D,i,{menuType:d})},m6=(t,s,a,i,d,g,h)=>qr(Re(t,v=>v.type==="choiceitem"?Dz(v).fold(Mg,_=>E.some(uF(_,a===1,i,s,g(_.value),d,h,HC(t)))):E.none())),sS=(t,s)=>{const a=Nb(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?jr(d.element,"[aria-checked=true]"):E.none()}},TF=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${BC}`:`.${PC}`}},AF=(t,s)=>{const a=iv(t,s),i=s.colorinput.getColorCols(t.initData.storageKey),d="color",g=oS(Bn("menu-value"),a,v=>{t.onAction({value:v})},i,d,Id.CLOSE_ON_EXECUTE,t.select.getOr(Se),s.shared.providers),h=pt(te({},g),{markers:Nb(d),movement:sS(i,d)});return{type:"widget",data:{value:Bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Kz.widget(qp.sketch(h))]}},iv=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>w4(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),i=>i.concat(k4(a)))},g6=Bn("cell-over"),C4=Bn("cell-execute"),p6=t=>(s,a)=>t.shared.providers.translate(`${a} columns, ${s} rows`),h6=(t,s,a)=>{const i=h=>lo(h,g6,{row:t,col:s}),d=h=>lo(h,C4,{row:t,col:s}),g=(h,v)=>{v.stop(),d(h)};return Bc({dom:{tag:"div",attributes:{role:"button",["aria-label"]:a}},behaviours:Vt([Go("insert-table-picker-cell",[St(gc(),To.focus),St(tl(),d),St(im(),g),St($h(),g)]),ts.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),To.config({onFocus:i})])})},S4=(t,s,a)=>{const i=[];for(let d=0;d<s;d++){const g=[];for(let h=0;h<a;h++){const v=t(d+1,h+1);g.push(h6(d,h,v))}i.push(g)}return i},x4=(t,s,a,i,d)=>{for(let g=0;g<i;g++)for(let h=0;h<d;h++)ts.set(t[g][h],g<=s&&h<=a)},E4=t=>ae(t,s=>Re(s,Si)),T4=(t,s)=>Fr(`${s}x${t}`),b6={inserttable:(t,s)=>{const d=p6(s),g=S4(d,10,10),h=T4(0,0),v=nr({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[h],behaviours:Vt([Ho.config({})])});return{type:"widget",data:{value:Bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Kz.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:E4(g).concat(v.asSpec()),behaviours:Vt([Go("insert-table-picker",[Dr(_=>{Ho.set(v.get(_),[h])}),Xv(g6,(_,T,D)=>{const{row:N,col:B}=D.event;x4(g,N,B,10,10),Ho.set(v.get(_),[T4(N+1,B+1)])}),Xv(C4,(_,T,D)=>{const{row:N,col:B}=D.event;t.onAction({numRows:N+1,numColumns:B+1}),Ds(_,ba())})]),fo.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:AF},OF=(t,s)=>xt(b6,t.fancytype).map(a=>a(t,s)),DF=(t,s,a,i=!0,d=!1)=>{const g=d?cF(a.icons):aF(a.icons),h=_=>({isEnabled:()=>!Co.isDisabled(_),setEnabled:T=>Co.set(_,!T),setIconFill:(T,D)=>{jr(_.element,`svg path[class="${T}"], rect[class="${T}"]`).each(N=>{pn(N,"fill",D)})}}),v=ew({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.some(g),checkMark:E.none(),shortcutContent:t.shortcut},a,i);return av({data:Hb(t),getApi:h,enabled:t.enabled,onAction:W,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},v,s,a)},zF=(t,s,a,i=!0)=>{const d=h=>({isEnabled:()=>!Co.isDisabled(h),setEnabled:v=>Co.set(h,!v)}),g=ew({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.none(),checkMark:E.none(),shortcutContent:t.shortcut},a,i);return av({data:Hb(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a)},y6=t=>({type:"separator",dom:{tag:"div",classes:[PC,gB]},components:t.text.map(Fr).toArray()}),v6=(t,s,a,i=!0)=>{const d=h=>({setActive:v=>{ts.set(h,v)},isActive:()=>ts.isOn(h),isEnabled:()=>!Co.isDisabled(h),setEnabled:v=>Co.set(h,!v)}),g=ew({iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,checkMark:E.some(o4(a.icons)),caret:E.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,i);return rr(av({data:Hb(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a),{toggling:{toggleClass:Q1,toggleOnExecute:!1,selected:t.active}})},k6=qz,w6=y6,RF=zF,MF=DF,NF=v6,PF=OF,BF=lF;var FF=Object.freeze({__proto__:null,getCoupled:(t,s,a,i)=>a.getOrCreate(t,s,i),getExistingCoupled:(t,s,a,i)=>a.getExisting(t,s,i)}),$F=[pr("others",lp($t.value,si()))],_6=Object.freeze({__proto__:null,init:()=>{const t={},s=(g,h)=>{if(Un(g.others).length===0)throw new Error("Cannot find any known coupled components");return xt(t,h)},a=(g,h,v)=>s(h,v).getOrThunk(()=>{const T=xt(h.others,v).getOrDie("No information found for coupled component: "+v)(g),D=g.getSystem().build(T);return t[v]=D,D}),i=(g,h,v)=>s(h,v).orThunk(()=>(xt(h.others,v).getOrDie("No information found for coupled component: "+v),E.none())),d=H({});return Wi({readState:d,getExisting:i,getOrCreate:a})}});const wa=Ec({fields:$F,name:"coupling",apis:FF,state:_6}),A4=t=>{let s=E.none(),a=[];const i=T=>A4(D=>{d(N=>{D(T(N))})}),d=T=>{h()?_(T):a.push(T)},g=T=>{h()||(s=E.some(T),v(a),a=[])},h=()=>s.isSome(),v=T=>{it(T,_)},_=T=>{s.each(D=>{setTimeout(()=>{T(D)},0)})};return t(g),{get:d,map:i,isReady:h}},IF={nu:A4,pure:t=>A4(s=>{s(t)})},LF=t=>{setTimeout(()=>{throw t},0)},$g=t=>{const s=_=>{t().then(_,LF)};return{map:_=>$g(()=>t().then(_)),bind:_=>$g(()=>t().then(T=>_(T).toPromise())),anonBind:_=>$g(()=>t().then(()=>_.toPromise())),toLazy:()=>IF.nu(s),toCached:()=>{let _=null;return $g(()=>(_===null&&(_=t()),_))},toPromise:t,get:s}},mi={nu:t=>$g(()=>new Promise(t)),pure:t=>$g(()=>Promise.resolve(t))},C6=H("sink"),S6=H(Rl({name:C6(),overrides:H({dom:{tag:"div"},behaviours:Vt([Jc.config({useFixed:De})]),events:Er([Sd(bu()),Sd(Ks()),Sd(im())])})})),x6=(t,s)=>{const a=t.getHotspot(s).getOr(s),i="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:i,hotspot:a,overrides:d}),g=>({type:i,hotspot:a,overrides:d,layouts:g}))},VF=(t,s,a)=>{const i=t.fetch;return i(a).map(s)},O4=(t,s,a,i,d,g,h)=>{const v=VF(t,s,i),_=A6(i,t);return v.map(T=>T.bind(D=>E.from(zb.sketch(pt(te({},g.menu()),{uid:bf(""),data:D,highlightOnOpen:h,onOpenMenu:(N,B)=>{const V=_().getOrDie();Jc.position(V,B,{anchor:a}),ps.decloak(d)},onOpenSubmenu:(N,B,V)=>{const X=_().getOrDie();Jc.position(X,V,{anchor:{type:"submenu",item:B}}),ps.decloak(d)},onRepositionMenu:(N,B,V)=>{const X=_().getOrDie();Jc.position(X,B,{anchor:a}),it(V,ye=>{Jc.position(X,ye.triggeredMenu,{anchor:{type:"submenu",item:ye.triggeringItem}})})},onEscape:()=>(To.focus(i),ps.close(d),E.some(!0))})))))},rw=(t,s,a,i,d,g,h)=>{const v=x6(t,a);return O4(t,s,v,a,i,d,h).map(T=>(T.fold(()=>{ps.isOpen(i)&&ps.close(i)},D=>{ps.cloak(i),ps.open(i,D),g(i)}),i))},E6=(t,s,a,i,d,g,h)=>(ps.close(i),mi.pure(i)),D4=(t,s,a,i,d,g)=>{const h=wa.getCoupled(a,"sandbox");return(ps.isOpen(h)?E6:rw)(t,s,a,h,i,d,g)},T6=(t,s,a)=>{const i=ks.getCurrent(s).getOr(s),d=ir(t.element);a?Dn(i.element,"min-width",d+"px"):qs(i.element,d)},A6=(t,s)=>t.getSystem().getByUid(s.uid+"-"+C6()).map(a=>()=>$t.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>$t.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),O6=t=>{ps.getState(t).each(s=>{zb.repositionMenus(s)})},z4=(t,s,a)=>{const i=b0(),d=(v,_)=>{const T=x6(t,s);i.link(s.element),t.matchWidth&&T6(T.hotspot,_,t.useMinWidth),t.onOpen(T,v,_),a!==void 0&&a.onOpen!==void 0&&a.onOpen(v,_)},g=(v,_)=>{i.unlink(s.element),a!==void 0&&a.onClose!==void 0&&a.onClose(v,_)},h=A6(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:i.id,role:"listbox"}},behaviours:Su.augment(t.sandboxBehaviours,[hn.config({store:{mode:"memory",initialValue:s}}),ps.config({onOpen:d,onClose:g,isPartOf:(v,_,T)=>ug(_,T)||ug(s,T),getAttachPoint:()=>h().getOrDie()}),ks.config({find:v=>ps.getState(v).bind(_=>ks.getCurrent(_))}),Xc.config({channels:te(te({},Bp({isExtraPart:Se})),sk({doReposition:O6}))})])}},D6=t=>{const s=wa.getCoupled(t,"sandbox");O6(s)},R4=()=>[Ie("sandboxClasses",[]),Su.field("sandboxBehaviours",[ks,Xc,ps,hn])],UF=H([_t("dom"),_t("fetch"),vs("onOpen"),xi("onExecute"),Ie("getHotspot",E.some),Ie("getAnchorOverrides",H({})),td(),Ya("dropdownBehaviours",[ts,wa,fo,To]),_t("toggleClass"),Ie("eventOrder",{}),Hs("lazySink"),Ie("matchWidth",!1),Ie("useMinWidth",!1),Hs("role")].concat(R4())),WF=H([Yl({schema:[Kh(),Ie("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),S6()]),jF=(t,s,a,i)=>{const d=D=>xt(t.dom,"attributes").bind(N=>xt(N,D)),g=D=>{ps.getState(D).each(N=>{zb.highlightPrimary(N)})},h=(D,N,B)=>D4(t,at,D,i,N,B),v=D=>{h(D,g,ll.HighlightMenuAndItem).get(W)},_={expand:D=>{ts.isOn(D)||h(D,W,ll.HighlightNone).get(W)},open:D=>{ts.isOn(D)||h(D,W,ll.HighlightMenuAndItem).get(W)},refetch:D=>wa.getExistingCoupled(D,"sandbox").fold(()=>h(D,W,ll.HighlightMenuAndItem).map(W),B=>rw(t,at,D,B,i,W,ll.HighlightMenuAndItem).map(W)),isOpen:ts.isOn,close:D=>{ts.isOn(D)&&h(D,W,ll.HighlightMenuAndItem).get(W)},repositionMenus:D=>{ts.isOn(D)&&D6(D)}},T=(D,N)=>(gm(D),E.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:sc(t.dropdownBehaviours,[ts.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),wa.config({others:{sandbox:D=>z4(t,D,{onOpen:()=>ts.on(D),onClose:()=>ts.off(D)})}}),fo.config({mode:"special",onSpace:T,onEnter:T,onDown:(D,N)=>{if(fd.isOpen(D)){const B=wa.getCoupled(D,"sandbox");g(B)}else fd.open(D);return E.some(!0)},onEscape:(D,N)=>fd.isOpen(D)?(fd.close(D),E.some(!0)):E.none()}),To.config({})]),events:vC(E.some(v)),eventOrder:pt(te({},t.eventOrder),{[tl()]:["disabling","toggling","alloy.base.behaviour"]}),apis:_,domModification:{attributes:te(te({"aria-haspopup":"true"},t.role.fold(()=>({}),D=>({role:D}))),t.dom.tag==="button"?{type:d("type").getOr("button")}:{})}}},fd=Qc({name:"Dropdown",configFields:UF(),partFields:WF(),factory:jF,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),ZF=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},rS=t=>{const s=hn.getValue(t),a=FC(t).map(gz);fd.refetch(s).get(()=>{const i=wa.getCoupled(s,"sandbox");a.each(d=>FC(i).each(g=>xB(g,d)))})},M4=(t,s)=>{N4(t).each(a=>{eE(t,a.element,s.event.eventType,s.event.interactionEvent)})},N4=t=>ps.getState(t).bind($s.getHighlighted).bind($s.getHighlighted),z6=t=>ol(t.element,IC)?E.some(t.element):jr(t.element,"."+IC),R6=(t,s,a)=>{$C(t).each(i=>{EB(i,a),z6(s).each(g=>{P(g,"id").each(h=>pn(i.element,"aria-controls",h))})}),pn(a.element,"aria-selected","true")},qF=(t,s,a)=>{pn(a.element,"aria-selected","false")},P4=t=>{$C(t).each(s=>To.focus(s))},B4=t=>wa.getExistingCoupled(t,"sandbox").bind(FC).map(gz).map(a=>a.fetchPattern).getOr("");var Wb;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Wb||(Wb={}));const M6=(t,s,a,i,d)=>{const g=a.shared.providers,h=v=>d?pt(te({},v),{shortcut:E.none(),icon:v.text.isSome()?E.none():v.icon}):v;switch(t.type){case"menuitem":return zz(t).fold(Mg,v=>E.some(RF(h(v),s,g,i)));case"nestedmenuitem":return Mz(t).fold(Mg,v=>E.some(MF(h(v),s,g,i,d)));case"togglemenuitem":return Nz(t).fold(Mg,v=>E.some(NF(h(v),s,g,i)));case"separator":return PB(t).fold(Mg,v=>E.some(w6(v)));case"fancymenuitem":return GC(t).fold(Mg,v=>PF(v,a));default:return console.error("Unknown item in general menu",t),E.none()}},GF=(t,s,a,i,d,g,h)=>{const v=i===1,_=!v||HC(t);return qr(Re(t,T=>{switch(T.type){case"separator":return FB(T).fold(Mg,D=>E.some(w6(D)));case"cardmenuitem":return G3(T).fold(Mg,D=>E.some(BF(pt(te({},D),{onAction:N=>{D.onAction(N),a(D.value,D.meta)}}),d,g,{itemBehaviours:jz(D.meta,g),cardText:{matchText:s,highlightOn:h}})));case"autocompleteitem":default:return wz(T).fold(Mg,D=>E.some(k6(D,s,v,"normal",a,d,g,_)))}}))},N6=(t,s,a,i,d,g)=>{const h=HC(s),v=qr(Re(s,D=>{const N=V=>d?!Oo(V,"text"):h,B=V=>M6(V,a,i,N(V),d);return D.type==="nestedmenuitem"&&D.getSubmenuItems().length<=0?B(pt(te({},D),{enabled:!1})):B(D)})),_=ZF(g);return(d?zB:P3)(t,h,v,1,_)},F4=t=>zb.singleData(t.value,t),KF=(t,s,a,i)=>{const d=sS(s,i),g=Nb(i);return{data:F4(pt(te({},t),{movement:d,menuBehaviours:ov.unnamedEvents(s!=="auto"?[]:[Dr((h,v)=>{J3(h,4,g.item).each(({numColumns:_,numRows:T})=>{fo.setGridSize(h,T,_)})})])})),menu:{markers:Nb(i),fakeFocus:a===Wb.ContentFocus}}},YF=(t,s)=>MC(ke.fromDom(s.startContainer)).map(a=>{const i=t.createRng();return i.selectNode(a.dom),i}),XF={register:(t,s)=>{const a=bo(!1),i=bo(!1),d=Bc(sa.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Vt([Go("dismissAutocompleter",[St(fm(),()=>T())])]),lazySink:s.getSink})),g=()=>sa.isOpen(d),h=i.get,v=()=>{g()&&sa.hide(d)},_=()=>sa.getContent(d).bind(X=>Le(X.components(),0)),T=()=>t.execCommand("mceAutocompleterClose"),D=X=>{const ye=Nn(X,tt=>E.from(tt.columns)).getOr(1);return ae(X,tt=>{const Ee=tt.items;return GF(Ee,tt.matchText,(Ce,gt)=>{const He=t.selection.getRng();YF(t.dom,He).each(Nt=>{const zt={hide:()=>T(),reload:Xt=>{v(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Xt})}};a.set(!0),tt.onAction(zt,Nt,Ce,gt),a.set(!1)})},ye,Id.BUBBLE_TO_SANDBOX,s,tt.highlightOn)})},N=(X,ye)=>{uB(ke.fromDom(t.getBody())).each(tt=>{const Ee=Nn(X,Ce=>E.from(Ce.columns)).getOr(1);sa.showMenuAt(d,{anchor:{type:"node",root:ke.fromDom(t.getBody()),node:E.from(tt)}},KF(P3("autocompleter-value",!0,ye,Ee,{menuType:"normal"}),Ee,Wb.ContentFocus,"normal"))}),_().each($s.highlightFirst)},B=X=>{const ye=D(X);ye.length>0?N(X,ye):v()};t.on("AutocompleterStart",({lookupData:X})=>{i.set(!0),a.set(!1),B(X)}),t.on("AutocompleterUpdate",({lookupData:X})=>B(X)),t.on("AutocompleterEnd",()=>{v(),i.set(!1),a.set(!1)});const V={cancelIfNecessary:T,isMenuOpen:g,isActive:h,isProcessingAction:a.get,getMenu:_};fB.setup(V,t)}},JF=["visible","hidden","clip"],P6=t=>er(t).length>0&&!uo(JF,t),B6=t=>{if(ic(t)){const s=Zs(t,"overflow-x"),a=Zs(t,"overflow-y");return P6(s)||P6(a)}else return!1},QF=t=>{const s=Ap(t,B6),a=s.length===0?Bs(t).map(js).map(i=>Ap(i,B6)).getOr([]):s;return Mt(a).map(i=>({element:i,others:a.slice(1)}))},jb=(t,s)=>Mm(t)?QF(s):E.none(),lv=t=>{const s=[...Re(t.others,Ur),R()];return A(Ur(t.element),s)},uv=(t,s,a)=>rl(t,s,a).isSome(),F6=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...g)=>{a=setTimeout(()=>{t.apply(null,g),a=null},s)}}},$6=5,Fm=400,I6=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?E.none():E.some(s.touches[0])},e$=(t,s)=>{const a=Math.abs(t.clientX-s.x),i=Math.abs(t.clientY-s.y);return a>$6||i>$6},$4=t=>{const s=Nr(),a=bo(!1),i=F6(T=>{t.triggerEvent(Qx(),T),a.set(!0)},Fm),d=T=>(I6(T).each(D=>{i.cancel();const N={x:D.clientX,y:D.clientY,target:T.target};i.schedule(T),a.set(!1),s.set(N)}),E.none()),g=T=>(i.cancel(),I6(T).each(D=>{s.on(N=>{e$(D,N)&&s.clear()})}),E.none()),h=T=>{i.cancel();const D=N=>zs(N.target,T.target);return s.get().filter(D).map(N=>a.get()?(T.prevent(),!1):t.triggerEvent($h(),T))},v=_o([{key:Ui(),value:d},{key:Qm(),value:g},{key:ff(),value:h}]);return{fireIfReady:(T,D)=>xt(v,D).bind(N=>N(T))}},ac=t=>t.raw.which===Ak[0]&&!uo(["input","textarea"],Us(t.target))&&!uv(t.target,'[contenteditable="true"]'),t$=(t,s)=>{const a=te({stopBackspace:!0},s),i=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=$4(a),g=Re(i.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),V=>Ei(t,V,X=>{d.fireIfReady(X,V).each(tt=>{tt&&X.kill()}),a.triggerEvent(V,X)&&X.kill()})),h=Nr(),v=Ei(t,"paste",V=>{d.fireIfReady(V,"paste").each(ye=>{ye&&V.kill()}),a.triggerEvent("paste",V)&&V.kill(),h.set(setTimeout(()=>{a.triggerEvent(ng(),V)},0))}),_=Ei(t,"keydown",V=>{a.triggerEvent("keydown",V)?V.kill():a.stopBackspace&&ac(V)&&V.prevent()}),T=Ei(t,"focusin",V=>{a.triggerEvent("focusin",V)&&V.kill()}),D=Nr(),N=Ei(t,"focusout",V=>{a.triggerEvent("focusout",V)&&V.kill(),D.set(setTimeout(()=>{a.triggerEvent(um(),V)},0))});return{unbind:()=>{it(g,V=>{V.unbind()}),_.unbind(),T.unbind(),N.unbind(),v.unbind(),h.on(clearTimeout),D.on(clearTimeout)}}},L6=(t,s)=>{const a=xt(t,"target").getOr(s);return bo(a)},n$=(t,s)=>{const a=bo(!1),i=bo(!1);return{stop:()=>{a.set(!0)},cut:()=>{i.set(!0)},isStopped:a.get,isCut:i.get,event:t,setSource:s.set,getSource:s.get}},o$=t=>{const s=bo(!1);return{stop:()=>{s.set(!0)},cut:W,isStopped:s.get,isCut:Se,event:t,setSource:ce("Cannot set source of a broadcasted event"),getSource:ce("Cannot get source of a broadcasted event")}},aw=x.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),H6=(t,s,a,i,d,g)=>{const h=t(s,i),v=n$(a,d);return h.fold(()=>(g.logEventNoHandlers(s,i),aw.complete()),_=>{const T=_.descHandler;return ag(T)(v),v.isStopped()?(g.logEventStopped(s,_.element,T.purpose),aw.stopped()):v.isCut()?(g.logEventCut(s,_.element,T.purpose),aw.complete()):aa(_.element).fold(()=>(g.logNoParent(s,_.element,T.purpose),aw.complete()),N=>(g.logEventResponse(s,_.element,T.purpose),aw.resume(N)))})},V6=(t,s,a,i,d,g)=>H6(t,s,a,i,d,g).fold(De,h=>V6(t,s,a,h,d,g),Se),s$=(t,s,a,i,d)=>{const g=L6(a,i);return H6(t,s,a,i,g,d)},r$=(t,s,a)=>{const i=o$(s);return it(t,d=>{const g=d.descHandler;ag(g)(i)}),i.isStopped()},a$=(t,s,a,i)=>U6(t,s,a,a.target,i),U6=(t,s,a,i,d)=>{const g=L6(a,i);return V6(t,s,a,i,g,d)},c$=(t,s)=>({element:t,descHandler:s}),i$=(t,s)=>({id:t,descHandler:s}),l$=()=>{const t={},s=(h,v,_)=>{to(_,(T,D)=>{const N=t[D]!==void 0?t[D]:{};N[v]=v_(T,h),t[D]=N})},a=(h,v)=>ym(v).bind(_=>xt(h,_)).map(_=>c$(v,_));return{registerId:s,unregisterId:h=>{to(t,(v,_)=>{Oo(v,h)&&delete v[h]})},filterByType:h=>xt(t,h).map(v=>as(v,(_,T)=>i$(T,_))).getOr([]),find:(h,v,_)=>xt(t,v).bind(T=>el(_,D=>a(T,D),h))}},u$=()=>{const t=l$(),s={},a=T=>{const D=T.element;return ym(D).getOrThunk(()=>rE("uid-",T.element))},i=(T,D)=>{const N=s[D];if(N===T)g(T);else throw new Error('The tagId "'+D+'" is already used by: '+hm(N.element)+`
Cannot use it for: `+hm(T.element)+`
The conflicting element is`+(gs(N.element)?" ":" not ")+"already in the DOM")},d=T=>{const D=a(T);Js(s,D)&&i(T,D);const N=[T];t.registerId(N,D,T.events),s[D]=T},g=T=>{ym(T.element).each(D=>{delete s[D],t.unregisterId(D)})};return{find:(T,D,N)=>t.find(T,D,N),filter:T=>t.filterByType(T),register:d,unregister:g,getById:T=>xt(s,T)}},If=Hc({name:"Container",factory:t=>{const i=t.dom,{attributes:s}=i,a=d_(i,["attributes"]);return{uid:t.uid,dom:te({tag:"div",attributes:te({role:"presentation"},s)},a),components:t.components,behaviours:Cu(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Ie("components",[]),Ya("containerBehaviours",[]),Ie("events",{}),Ie("domModification",{}),Ie("eventOrder",{})]}),I4=t=>{const s=Ee=>aa(t.element).fold(De,Ce=>zs(Ee,Ce)),a=u$(),i=(Ee,Ce)=>a.find(s,Ee,Ce),d=t$(t.element,{triggerEvent:(Ee,Ce)=>Gy(Ee,Ce.target,gt=>a$(i,Ee,Ce,gt))}),g={debugInfo:H("real"),triggerEvent:(Ee,Ce,gt)=>{Gy(Ee,Ce,He=>U6(i,Ee,gt,Ce,He))},triggerFocus:(Ee,Ce)=>{ym(Ee).fold(()=>{Zl(Ee)},gt=>{Gy(Yu(),Ee,He=>(s$(i,Yu(),{originator:Ce,kill:W,prevent:W,target:Ee},Ee,He),!1))})},triggerEscape:(Ee,Ce)=>{g.triggerEvent("keydown",Ee.element,Ce.event)},getByUid:Ee=>ye(Ee),getByDom:Ee=>tt(Ee),build:Bc,buildOrPatch:vf,addToGui:Ee=>{_(Ee)},removeFromGui:Ee=>{T(Ee)},addToWorld:Ee=>{h(Ee)},removeFromWorld:Ee=>{v(Ee)},broadcast:Ee=>{B(Ee)},broadcastOn:(Ee,Ce)=>{V(Ee,Ce)},broadcastEvent:(Ee,Ce)=>{X(Ee,Ce)},isConnected:De},h=Ee=>{Ee.connect(g),ms(Ee.element)||(a.register(Ee),it(Ee.components(),h),g.triggerEvent(dm(),Ee.element,{target:Ee.element}))},v=Ee=>{ms(Ee.element)||(it(Ee.components(),v),a.unregister(Ee)),Ee.disconnect()},_=Ee=>{ka(t,Ee)},T=Ee=>{Ic(Ee)},D=()=>{d.unbind(),Fi(t.element)},N=Ee=>{const Ce=a.filter(Cd());it(Ce,gt=>{const He=gt.descHandler;ag(He)(Ee)})},B=Ee=>{N({universal:!0,data:Ee})},V=(Ee,Ce)=>{N({universal:!1,channels:Ee,data:Ce})},X=(Ee,Ce)=>{const gt=a.filter(Ee);return r$(gt,Ce)},ye=Ee=>a.getById(Ee).fold(()=>$t.error(new Error('Could not find component with uid: "'+Ee+'" in system.')),$t.value),tt=Ee=>{const Ce=ym(Ee).getOr("not found");return ye(Ce)};return h(t),{root:t,element:t.element,destroy:D,add:_,remove:T,getByUid:ye,getByDom:tt,addToWorld:h,removeFromWorld:v,broadcast:B,broadcastOn:V,broadcastEvent:X}},d$=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Re(t.items,s.interpreter)}),f$=H([Ie("prefix","form-field"),Ya("fieldBehaviours",[ks,hn])]),m$=H([Rl({schema:[_t("dom")],name:"label"}),Rl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[_t("text")],name:"aria-descriptor"}),Lc({factory:{sketch:t=>{const s=Ht(t,["factory"]);return t.factory.sketch(s)}},schema:[_t("factory")],name:"field"})]),g$=(t,s,a,i)=>{const d=sc(t.fieldBehaviours,[ks.config({find:v=>hr(v,t,"field")}),hn.config({store:{mode:"manual",getValue:v=>ks.getCurrent(v).bind(hn.getValue),setValue:(v,_)=>{ks.getCurrent(v).each(T=>{hn.setValue(T,_)})}}})]),g=Er([Dr((v,_)=>{const T=Ip(v,t,["label","field","aria-descriptor"]);T.field().each(D=>{const N=Bn(t.prefix);T.label().each(B=>{pn(B.element,"for",N),pn(D.element,"id",N)}),T["aria-descriptor"]().each(B=>{const V=Bn(t.prefix);pn(B.element,"id",V),pn(D.element,"aria-describedby",V)})})})]),h={getField:v=>hr(v,t,"field"),getLabel:v=>hr(v,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:g,apis:h}},or=Qc({name:"FormField",configFields:f$(),partFields:m$(),factory:g$,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var p$=Object.freeze({__proto__:null,exhibit:(t,s)=>nl({attributes:_o([{key:s.tabAttr,value:"true"}])})}),W6=[Ie("tabAttr","data-alloy-tabstop")];const da=Ec({fields:W6,name:"tabstopping",active:p$});var h$=tinymce.util.Tools.resolve("tinymce.html.Entities");const cw=(t,s,a,i)=>{const d=b$(t,s,a,i);return or.sketch(d)},j6=(t,s)=>cw(t,s,[],[]),b$=(t,s,a,i)=>({dom:Z6(a),components:t.toArray().concat([s]),fieldBehaviours:Vt(i)}),y$=()=>Z6([]),Z6=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),Ig=(t,s)=>or.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Fr(s.translate(t))]}),eu=Bn("form-component-change"),iw=Bn("form-close"),eh=Bn("form-cancel"),$m=Bn("form-action"),dv=Bn("form-submit"),L4=Bn("form-block"),aS=Bn("form-unblock"),q6=Bn("form-tabchange"),H4=Bn("form-resize"),v$=(t,s,a)=>{const i=t.label.map(N=>Ig(N,s)),d=N=>(B,V)=>{rl(V.event.target,"[data-collection-item-value]").each(X=>{N(B,V,X,yr(X,"data-collection-item-value"))})},g=(N,B)=>{const V=Re(B,tt=>{const Ee=Au.translate(tt.text),Ce=t.columns===1?`<div class="tox-collection__item-label">${Ee}</div>`:"",gt=`<div class="tox-collection__item-icon">${tt.icon}</div>`,He={_:" "," - ":" ","-":" "},Nt=Ee.replace(/\_| \- |\-/g,Xt=>He[Xt]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${h$.encodeAllRaw(tt.value)}" title="${Nt}" aria-label="${Nt}">${gt}${Ce}</div>`}),X=t.columns!=="auto"&&t.columns>1?vn(V,t.columns):[V],ye=Re(X,tt=>`<div class="tox-collection__group">${tt.join("")}</div>`);pf(N.element,ye.join(""))},h=d((N,B,V,X)=>{B.stop(),s.isDisabled()||lo(N,$m,{name:t.name,value:X})}),v=[St(gc(),d((N,B,V)=>{Zl(V)})),St(im(),h),St($h(),h),St(Pc(),d((N,B,V)=>{jr(N.element,"."+Gk).each(X=>{oa(X,Gk)}),ya(V,Gk)})),St(_d(),d(N=>{jr(N.element,"."+Gk).each(B=>{oa(B,Gk)})})),yu(d((N,B,V,X)=>{lo(N,$m,{name:t.name,value:X})}))],_=(N,B)=>Re(Ti(N.element,".tox-collection__item"),B),T=or.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:at},behaviours:Vt([Co.config({disabled:s.isDisabled,onDisabled:N=>{_(N,B=>{ya(B,"tox-collection__item--state-disabled"),pn(B,"aria-disabled",!0)})},onEnabled:N=>{_(N,B=>{oa(B,"tox-collection__item--state-disabled"),re(B,"aria-disabled")})}}),rc(),Ho.config({}),hn.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(N,B)=>{g(N,B),t.columns==="auto"&&J3(N,5,"tox-collection__item").each(({numRows:V,numColumns:X})=>{fo.setGridSize(N,V,X)}),Ds(N,H4)}}),da.config({}),fo.config(TF(t.columns,"normal")),Go("collection-events",v)]),eventOrder:{[tl()]:["disabling","alloy.base.behaviour","collection-events"]}});return cw(i,T,["tox-form__group--collection"],[])},k$=["input","textarea"],G6=t=>{const s=Us(t);return uo(k$,s)},K6=(t,s)=>{const a=s.getRoot(t).getOr(t.element);oa(a,s.invalidClass),s.notify.each(i=>{G6(t.element)&&pn(t.element,"aria-invalid",!1),i.getContainer(t).each(d=>{pf(d,i.validHtml)}),i.onValid(t)})},Y6=(t,s,a,i)=>{const d=s.getRoot(t).getOr(t.element);ya(d,s.invalidClass),s.notify.each(g=>{G6(t.element)&&pn(t.element,"aria-invalid",!0),g.getContainer(t).each(h=>{pf(h,i)}),g.onInvalid(t,i)})},X6=(t,s,a)=>s.validator.fold(()=>mi.pure($t.value(!0)),i=>i.validate(t)),V4=(t,s,a)=>(s.notify.each(i=>{i.onValidate(t)}),X6(t,s).map(i=>t.getSystem().isConnected()?i.fold(d=>(Y6(t,s,a,d),$t.error(d)),d=>(K6(t,s),$t.value(d))):$t.error("No longer in system")));var w$=Object.freeze({__proto__:null,markValid:K6,markInvalid:Y6,query:X6,run:V4,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return ol(a,s.invalidClass)}}),_$=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Er([St(a.onEvent,i=>{V4(i,t,s).get(at)})].concat(a.validateOnLoad?[Dr(i=>{V4(i,t,s).get(W)})]:[]))).getOr({})}),C$=[_t("invalidClass"),Ie("getRoot",E.none),xa("notify",[Ie("aria","alert"),Ie("getContainer",E.none),Ie("validHtml",""),vs("onValid"),vs("onInvalid"),vs("onValidate")]),xa("validator",[_t("validate"),Ie("onEvent","input"),Ie("validateOnLoad",!0)])];const Lf=Ec({fields:C$,name:"invalidating",active:_$,apis:w$,extra:{validation:t=>s=>{const a=hn.getValue(s);return mi.pure(t(a))}}});var S$=Object.freeze({__proto__:null,events:()=>Er([Kv(jv(),De)]),exhibit:()=>nl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const lw=Ec({fields:[],name:"unselecting",active:S$}),x$=(t,s)=>fd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Vt([ud.button(s.providers.isDisabled),rc(),lw.config({}),da.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>mi.nu(i=>t.fetch(i)).map(i=>E.from(F4(rr(oS(Bn("menu-value"),i,d=>{t.onItemAction(a,d)},t.columns,t.presets,Id.CLOSE_ON_EXECUTE,Se,s.providers),{movement:sS(t.columns,t.presets)})))),parts:{menu:ev(!1,1,t.presets)}}),cS=Bn("color-input-change"),J6=Bn("color-swatch-change"),Q6=Bn("color-picker-cancel"),E$=(t,s,a,i)=>{const d=or.parts.field({factory:Pb,inputClasses:["tox-textfield"],data:i,onSetValue:T=>Lf.run(T).get(W),inputBehaviours:Vt([Co.config({disabled:s.providers.isDisabled}),rc(),da.config({}),Lf.config({invalidClass:"tox-textbox-field-invalid",getRoot:T=>zc(T.element),notify:{onValid:T=>{const D=hn.getValue(T);lo(T,cS,{color:D})}},validator:{validateOnLoad:!1,validate:T=>{const D=hn.getValue(T);if(D.length===0)return mi.pure($t.value(!0));{const N=ke.fromTag("span");Dn(N,"background-color",D);const B=zr(N,"background-color").fold(()=>$t.error("blah"),V=>$t.value(D));return mi.pure(B)}}}})]),selectOnFocus:!1}),g=t.label.map(T=>Ig(T,s.providers)),h=(T,D)=>{lo(T,J6,{value:D})},v=(T,D)=>{_.getOpt(T).each(N=>{D==="custom"?a.colorPicker(B=>{B.fold(()=>Ds(N,Q6),V=>{h(N,V),f4(t.storageKey,V)})},"#ffffff"):D==="remove"?h(N,""):h(N,D)})},_=nr(x$({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Sc,Ga,hc],onLtr:()=>[Ga,Sc,hc]},components:[],fetch:_4(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:v},s));return or.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:g.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,_.asSpec()]}]),fieldBehaviours:Vt([Go("form-field-events",[St(cS,(T,D)=>{_.getOpt(T).each(N=>{Dn(N.element,"background-color",D.event.color)}),lo(T,eu,{name:t.name})}),St(J6,(T,D)=>{or.getField(T).each(N=>{hn.setValue(N,D.event.value),ks.getCurrent(T).each(To.focus)})}),St(Q6,(T,D)=>{or.getField(T).each(N=>{ks.getCurrent(T).each(To.focus)})})])])})},eR=Rl({schema:[_t("dom")],name:"label"}),Lg=t=>Rl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),i=>({events:Er([Ny(Ui(),(d,g,h)=>i(d,h),[s]),Ny(Ks(),(d,g,h)=>i(d,h),[s]),Ny(qa(),(d,g,h)=>{h.mouseIsDown.get()&&i(d,h)},[s])])}))}),T$=Lg("top-left"),A$=Lg("top"),tR=Lg("top-right"),O$=Lg("right"),D$=Lg("bottom-right"),z$=Lg("bottom"),R$=Lg("bottom-left"),M$=Lg("left"),N$=Lc({name:"thumb",defaults:H({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Er([pm(Ui(),t,"spectrum"),pm(Qm(),t,"spectrum"),pm(ff(),t,"spectrum"),pm(Ks(),t,"spectrum"),pm(qa(),t,"spectrum"),pm(Bh(),t,"spectrum")])})}),iS=Lc({schema:[_c("mouseIsDown",()=>bo(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,i=(d,g)=>a.getValueFromEvent(g).map(h=>a.setValueFrom(d,t,h));return{behaviours:Vt([fo.config({mode:"special",onLeft:d=>a.onLeft(d,t),onRight:d=>a.onRight(d,t),onUp:d=>a.onUp(d,t),onDown:d=>a.onDown(d,t)}),To.config({})]),events:Er([St(Ui(),i),St(Qm(),i),St(Ks(),i),St(qa(),(d,g)=>{t.mouseIsDown.get()&&i(d,g)})])}}});var P$=[eR,M$,O$,A$,z$,T$,tR,R$,D$,N$,iS];const uw=H("slider.change.value"),B$=t=>t.type.indexOf("touch")!==-1,W4=t=>{const s=t.event.raw;if(B$(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?E.some(a.touches[0]).map(i=>cs(i.clientX,i.clientY)):E.none()}else{const a=s;return a.clientX!==void 0?E.some(a).map(i=>cs(i.clientX,i.clientY)):E.none()}},F$="top",Yj="right",lS="bottom",fv="left",th=t=>t.model.minX,nh=t=>t.model.minY,uS=t=>t.model.minX-1,dS=t=>t.model.minY-1,Zb=t=>t.model.maxX,qb=t=>t.model.maxY,fS=t=>t.model.maxX+1,mS=t=>t.model.maxY+1,nR=(t,s,a)=>s(t)-a(t),j4=t=>nR(t,Zb,th),Z4=t=>nR(t,qb,nh),oR=t=>j4(t)/2,sR=t=>Z4(t)/2,Gb=t=>t.stepSize,Kb=t=>t.snapToGrid,oh=t=>t.snapStart,rR=t=>t.rounded,dw=(t,s)=>t[s+"-edge"]!==void 0,q4=t=>dw(t,fv),fw=t=>dw(t,Yj),aR=t=>dw(t,F$),mv=t=>dw(t,lS),md=t=>t.model.value.get(),sh=(t,s)=>({x:t,y:s}),Hd=(t,s)=>{lo(t,uw(),{value:s})},$$=(t,s)=>{Hd(t,sh(uS(s),dS(s)))},I$=(t,s)=>{Hd(t,dS(s))},L$=(t,s)=>{Hd(t,sh(oR(s),dS(s)))},H$=(t,s)=>{Hd(t,sh(fS(s),dS(s)))},gS=(t,s)=>{Hd(t,fS(s))},V$=(t,s)=>{Hd(t,sh(fS(s),sR(s)))},U$=(t,s)=>{Hd(t,sh(fS(s),mS(s)))},W$=(t,s)=>{Hd(t,mS(s))},cR=(t,s)=>{Hd(t,sh(oR(s),mS(s)))},j$=(t,s)=>{Hd(t,sh(uS(s),mS(s)))},Z$=(t,s)=>{Hd(t,uS(s))},q$=(t,s)=>{Hd(t,sh(uS(s),sR(s)))},pS=(t,s,a,i)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-i),G4=(t,s,a,i)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+i),iR=(t,s,a)=>Math.max(s,Math.min(a,t)),G$=(t,s,a,i,d)=>d.fold(()=>{const g=t-s,h=Math.round(g/i)*i;return iR(s+h,s-1,a+1)},g=>{const h=(t-g)%i,v=Math.round(h/i),_=Math.floor((t-g)/i),T=Math.floor((a-g)/i),D=Math.min(T,_+v),N=g+D*i;return Math.max(g,N)}),K$=(t,s,a)=>Math.min(a,Math.max(t,s))-s,lR=t=>{const{min:s,max:a,range:i,value:d,step:g,snap:h,snapStart:v,rounded:_,hasMinEdge:T,hasMaxEdge:D,minBound:N,maxBound:B,screenRange:V}=t,X=T?s-1:s,ye=D?a+1:a;if(d<N)return X;if(d>B)return ye;{const tt=K$(d,N,B),Ee=iR(tt/V*i+s,X,ye);return h&&Ee>=s&&Ee<=a?G$(Ee,s,a,g,v):_?Math.round(Ee):Ee}},K4=t=>{const{min:s,max:a,range:i,value:d,hasMinEdge:g,hasMaxEdge:h,maxBound:v,maxOffset:_,centerMinEdge:T,centerMaxEdge:D}=t;return d<s?g?0:T:d>a?h?v:D:(d-s)/i*_},hS="top",uR="right",dR="bottom",Y4="left",Y$="width",X$="height",Hf=t=>t.element.dom.getBoundingClientRect(),fl=(t,s)=>t[s],bS=t=>{const s=Hf(t);return fl(s,Y4)},fR=t=>{const s=Hf(t);return fl(s,uR)},yS=t=>{const s=Hf(t);return fl(s,hS)},mw=t=>{const s=Hf(t);return fl(s,dR)},Ou=t=>{const s=Hf(t);return fl(s,Y$)},vS=t=>{const s=Hf(t);return fl(s,X$)},X4=(t,s,a)=>(t+s)/2-a,mR=(t,s)=>{const a=Hf(t),i=Hf(s),d=fl(a,Y4),g=fl(a,uR),h=fl(i,Y4);return X4(d,g,h)},gR=(t,s)=>{const a=Hf(t),i=Hf(s),d=fl(a,hS),g=fl(a,dR),h=fl(i,hS);return X4(d,g,h)},kS=(t,s)=>{lo(t,uw(),{value:s})},J4=(t,s,a)=>{const i={min:th(s),max:Zb(s),range:j4(s),value:a,step:Gb(s),snap:Kb(s),snapStart:oh(s),rounded:rR(s),hasMinEdge:q4(s),hasMaxEdge:fw(s),minBound:bS(t),maxBound:fR(t),screenRange:Ou(t)};return lR(i)},pR=(t,s,a)=>{const i=J4(t,s,a);return kS(t,i),i},hR=(t,s)=>{const a=th(s);kS(t,a)},J$=(t,s)=>{const a=Zb(s);kS(t,a)},Q$=(t,s,a)=>{const d=(t>0?G4:pS)(md(a),th(a),Zb(a),Gb(a));return kS(s,d),E.some(d)},Q4=t=>(s,a)=>Q$(t,s,a).map(De),eI=t=>W4(t).map(a=>a.left),bR=(t,s,a,i,d)=>{const h=Ou(t),v=i.bind(D=>E.some(mR(D,t))).getOr(0),_=d.bind(D=>E.some(mR(D,t))).getOr(h),T={min:th(s),max:Zb(s),range:j4(s),value:a,hasMinEdge:q4(s),hasMaxEdge:fw(s),minBound:bS(t),minOffset:0,maxBound:fR(t),maxOffset:h,centerMinEdge:v,centerMaxEdge:_};return K4(T)},wS=(t,s,a,i,d,g)=>{const h=bR(s,g,a,i,d);return bS(s)-bS(t)+h},yR=(t,s,a,i)=>{const d=md(a),g=wS(t,i.getSpectrum(t),d,i.getLeftEdge(t),i.getRightEdge(t),a),h=ir(s.element)/2;Dn(s.element,"left",g-h+"px")},tI=Q4(-1),nI=Q4(1),oI=E.none,sI=E.none,rI={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some(gS),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some(Z$)};var aI=Object.freeze({__proto__:null,setValueFrom:pR,setToMin:hR,setToMax:J$,findValueOfOffset:J4,getValueFromEvent:eI,findPositionOfValue:wS,setPositionFromValue:yR,onLeft:tI,onRight:nI,onUp:oI,onDown:sI,edgeActions:rI});const gv=(t,s)=>{lo(t,uw(),{value:s})},eA=(t,s,a)=>{const i={min:nh(s),max:qb(s),range:Z4(s),value:a,step:Gb(s),snap:Kb(s),snapStart:oh(s),rounded:rR(s),hasMinEdge:aR(s),hasMaxEdge:mv(s),minBound:yS(t),maxBound:mw(t),screenRange:vS(t)};return lR(i)},vR=(t,s,a)=>{const i=eA(t,s,a);return gv(t,i),i},cI=(t,s)=>{const a=nh(s);gv(t,a)},iI=(t,s)=>{const a=qb(s);gv(t,a)},lI=(t,s,a)=>{const d=(t>0?G4:pS)(md(a),nh(a),qb(a),Gb(a));return gv(s,d),E.some(d)},kR=t=>(s,a)=>lI(t,s,a).map(De),uI=t=>W4(t).map(a=>a.top),dI=(t,s,a,i,d)=>{const h=vS(t),v=i.bind(D=>E.some(gR(D,t))).getOr(0),_=d.bind(D=>E.some(gR(D,t))).getOr(h),T={min:nh(s),max:qb(s),range:Z4(s),value:a,hasMinEdge:aR(s),hasMaxEdge:mv(s),minBound:yS(t),minOffset:0,maxBound:mw(t),maxOffset:h,centerMinEdge:v,centerMaxEdge:_};return K4(T)},tA=(t,s,a,i,d,g)=>{const h=dI(s,g,a,i,d);return yS(s)-yS(t)+h},wR=(t,s,a,i)=>{const d=md(a),g=tA(t,i.getSpectrum(t),d,i.getTopEdge(t),i.getBottomEdge(t),a),h=un(s.element)/2;Dn(s.element,"top",g-h+"px")},_R=E.none,fI=E.none,mI=kR(-1),gI=kR(1),pI={"top-left":E.none(),top:E.some(I$),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some(W$),"bottom-left":E.none(),left:E.none()};var hI=Object.freeze({__proto__:null,setValueFrom:vR,setToMin:cI,setToMax:iI,findValueOfOffset:eA,getValueFromEvent:uI,findPositionOfValue:tA,setPositionFromValue:wR,onLeft:_R,onRight:fI,onUp:mI,onDown:gI,edgeActions:pI});const gw=(t,s)=>{lo(t,uw(),{value:s})},pw=(t,s)=>({x:t,y:s}),CR=(t,s,a)=>{const i=J4(t,s,a.left),d=eA(t,s,a.top),g=pw(i,d);return gw(t,g),g},nA=(t,s,a,i)=>{const d=t>0?G4:pS,g=s?md(i).x:d(md(i).x,th(i),Zb(i),Gb(i)),h=s?d(md(i).y,nh(i),qb(i),Gb(i)):md(i).y;return gw(a,pw(g,h)),E.some(g)},_S=(t,s)=>(a,i)=>nA(t,s,a,i).map(De),SR=(t,s)=>{const a=th(s),i=nh(s);gw(t,pw(a,i))},bI=(t,s)=>{const a=Zb(s),i=qb(s);gw(t,pw(a,i))},yI=t=>W4(t),vI=(t,s,a,i)=>{const d=md(a),g=wS(t,i.getSpectrum(t),d.x,i.getLeftEdge(t),i.getRightEdge(t),a),h=tA(t,i.getSpectrum(t),d.y,i.getTopEdge(t),i.getBottomEdge(t),a),v=ir(s.element)/2,_=un(s.element)/2;Dn(s.element,"left",g-v+"px"),Dn(s.element,"top",h-_+"px")},kI=_S(-1,!1),oA=_S(1,!1),Hg=_S(-1,!0),wI=_S(1,!0),hw={"top-left":E.some($$),top:E.some(L$),"top-right":E.some(H$),right:E.some(V$),"bottom-right":E.some(U$),bottom:E.some(cR),"bottom-left":E.some(j$),left:E.some(q$)};var _I=Object.freeze({__proto__:null,setValueFrom:CR,setToMin:SR,setToMax:bI,getValueFromEvent:yI,setPositionFromValue:vI,onLeft:kI,onRight:oA,onUp:Hg,onDown:wI,edgeActions:hw});const sA=[Ie("stepSize",1),Ie("onChange",W),Ie("onChoose",W),Ie("onInit",W),Ie("onDragStart",W),Ie("onDragEnd",W),Ie("snapToGrid",!1),Ie("rounded",!0),Hs("snapStart"),pr("model",fc("mode",{x:[Ie("minX",0),Ie("maxX",100),_c("value",t=>bo(t.mode.minX)),_t("getInitialValue"),Mr("manager",aI)],y:[Ie("minY",0),Ie("maxY",100),_c("value",t=>bo(t.mode.minY)),_t("getInitialValue"),Mr("manager",hI)],xy:[Ie("minX",0),Ie("maxX",100),Ie("minY",0),Ie("maxY",100),_c("value",t=>bo({x:t.mode.minX,y:t.mode.minY})),_t("getInitialValue"),Mr("manager",_I)]})),Ya("sliderBehaviours",[fo,hn]),_c("mouseIsDown",()=>bo(!1))],Vd=Qc({name:"Slider",configFields:sA,partFields:P$,factory:(t,s,a,i)=>{const d=He=>zf(He,t,"thumb"),g=He=>zf(He,t,"spectrum"),h=He=>hr(He,t,"left-edge"),v=He=>hr(He,t,"right-edge"),_=He=>hr(He,t,"top-edge"),T=He=>hr(He,t,"bottom-edge"),D=t.model,N=D.manager,B=(He,Nt)=>{N.setPositionFromValue(He,Nt,t,{getLeftEdge:h,getRightEdge:v,getTopEdge:_,getBottomEdge:T,getSpectrum:g})},V=(He,Nt)=>{D.value.set(Nt);const zt=d(He);B(He,zt)},X=(He,Nt)=>{V(He,Nt);const zt=d(He);return t.onChange(He,zt,Nt),E.some(!0)},ye=He=>{N.setToMin(He,t)},tt=He=>{N.setToMax(He,t)},Ee=He=>{const Nt=()=>{hr(He,t,"thumb").each(Xt=>{const mn=D.value.get();t.onChoose(He,Xt,mn)})},zt=t.mouseIsDown.get();t.mouseIsDown.set(!1),zt&&Nt()},Ce=(He,Nt)=>{Nt.stop(),t.mouseIsDown.set(!0),t.onDragStart(He,d(He))},gt=(He,Nt)=>{Nt.stop(),t.onDragEnd(He,d(He)),Ee(He)};return{uid:t.uid,dom:t.dom,components:s,behaviours:sc(t.sliderBehaviours,[fo.config({mode:"special",focusIn:He=>hr(He,t,"spectrum").map(fo.focusIn).map(De)}),hn.config({store:{mode:"manual",getValue:He=>D.value.get(),setValue:V}}),Xc.config({channels:{[ok()]:{onReceive:Ee}}})]),events:Er([St(uw(),(He,Nt)=>{X(He,Nt.event.value)}),Dr((He,Nt)=>{const zt=D.getInitialValue();D.value.set(zt);const Xt=d(He);B(He,Xt);const mn=g(He);t.onInit(He,Xt,mn,D.value.get())}),St(Ui(),Ce),St(ff(),gt),St(Ks(),Ce),St(Bh(),gt)]),apis:{resetToMin:ye,resetToMax:tt,setValue:V,refresh:B},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),rA=Bn("rgb-hex-update"),aA=Bn("slider-update"),xR=Bn("palette-update"),cA=(t,s)=>{const a=Vd.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),i=Vd.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Vd.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:H(0)},components:[a,i],sliderBehaviours:Vt([To.config({})]),onChange:(d,g,h)=>{lo(d,aA,{value:h})}})},CS="form",iA=[Ya("formBehaviours",[hn])],ER=t=>"<alloy.field."+t+">",Du=t=>{const s=(()=>{const g=[];return{field:(v,_)=>(g.push(v),q2(CS,ER(v),_)),record:H(g)}})(),a=t(s),i=s.record(),d=Re(i,g=>Lc({name:g,pname:ER(g)}));return wk(CS,iA,d,SI,a)},CI=(t,s)=>t.fold(()=>$t.error(s),$t.value),SI=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:sc(t.formBehaviours,[hn.config({store:{mode:"manual",getValue:a=>{const i=vk(a,t);return Jn(i,(d,g)=>d().bind(h=>{const v=ks.getCurrent(h);return CI(v,new Error(`Cannot find a current component to extract the value from for form part '${g}': `+hm(h.element)))}).map(hn.getValue))},setValue:(a,i)=>{to(i,(d,g)=>{hr(a,t,g).each(h=>{ks.getCurrent(h).each(v=>{hn.setValue(v,d)})})})}}})]),apis:{getField:(a,i)=>hr(a,t,i).bind(ks.getCurrent)}}),Yb={getField:vm((t,s,a)=>t.getField(s,a)),sketch:Du},lA=Bn("valid-input"),TR=Bn("invalid-input"),AR=Bn("validating-input"),uA="colorcustom.rgb.",xI=(t,s,a,i)=>{const d=(B,V)=>Lf.config({invalidClass:s("invalid"),notify:{onValidate:X=>{lo(X,AR,{type:B})},onValid:X=>{lo(X,lA,{type:B,value:hn.getValue(X)})},onInvalid:X=>{lo(X,TR,{type:B,value:hn.getValue(X)})}},validator:{validate:X=>{const ye=hn.getValue(X),tt=V(ye)?$t.value(!0):$t.error(t("aria.input.invalid"));return mi.pure(tt)},validateOnLoad:!1}}),g=(B,V,X,ye,tt)=>{const Ee=t(uA+"range"),Ce=or.parts.label({dom:{tag:"label",attributes:{"aria-label":ye}},components:[Fr(X)]}),gt=or.parts.field({data:tt,factory:Pb,inputAttributes:te({type:"text"},V==="hex"?{"aria-live":"polite"}:{}),inputClasses:[s("textfield")],inputBehaviours:Vt([d(V,B),da.config({})]),onSetValue:Xt=>{Lf.isInvalid(Xt)&&Lf.run(Xt).get(W)}}),He=[Ce,gt],Nt=V!=="hex"?[or.parts["aria-descriptor"]({text:Ee})]:[],zt=He.concat(Nt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:zt}},h=(B,V)=>{const X=Vb(V);return Yb.getField(B,"hex").each(ye=>{To.isFocused(ye)||hn.setValue(B,{hex:X.value})}),X},v=(B,V)=>{const X=V.red,ye=V.green,tt=V.blue;hn.setValue(B,{red:X,green:ye,blue:tt})},_=nr({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),T=(B,V)=>{_.getOpt(B).each(X=>{Dn(X.element,"background-color","#"+V.value)})};return Hc({factory:()=>{const B={red:bo(E.some(255)),green:bo(E.some(255)),blue:bo(E.some(255)),hex:bo(E.some("ffffff"))},V=(Lo,Ts)=>{const go=ow(Ts);v(Lo,go),Ee(go)},X=Lo=>B[Lo].get(),ye=(Lo,Ts)=>{B[Lo].set(Ts)},tt=()=>X("red").bind(Lo=>X("green").bind(Ts=>X("blue").map(go=>Jp(Lo,Ts,go,1)))),Ee=Lo=>{const Ts=Lo.red,go=Lo.green,_s=Lo.blue;ye("red",E.some(Ts)),ye("green",E.some(go)),ye("blue",E.some(_s))},Ce=(Lo,Ts)=>{const go=Ts.event;go.type!=="hex"?ye(go.type,E.none()):i(Lo)},gt=(Lo,Ts)=>{a(Lo);const go=Yz(Ts);ye("hex",E.some(go.value));const _s=ow(go);v(Lo,_s),Ee(_s),lo(Lo,rA,{hex:go}),T(Lo,go)},He=(Lo,Ts,go)=>{const _s=parseInt(go,10);ye(Ts,E.some(_s)),tt().each(Qt=>{const Wn=h(Lo,Qt);lo(Lo,rA,{hex:Wn}),T(Lo,Wn)})},Nt=Lo=>Lo.type==="hex",zt=(Lo,Ts)=>{const go=Ts.event;Nt(go)?gt(Lo,go.value):He(Lo,go.type,go.value)},Xt=Lo=>({label:t(uA+Lo+".label"),description:t(uA+Lo+".description")}),mn=Xt("red"),ds=Xt("green"),Yn=Xt("blue"),Wo=Xt("hex");return rr(Yb.sketch(Lo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Lo.field("red",or.sketch(g(ul,"red",mn.label,mn.description,255))),Lo.field("green",or.sketch(g(ul,"green",ds.label,ds.description,255))),Lo.field("blue",or.sketch(g(ul,"blue",Yn.label,Yn.description,255))),Lo.field("hex",or.sketch(g(Xz,"hex",Wo.label,Wo.description,"ffffff"))),_.asSpec()],formBehaviours:Vt([Lf.config({invalidClass:s("form-invalid")}),Go("rgb-form-events",[St(lA,zt),St(TR,Ce),St(AR,Ce)])])})),{apis:{updateHex:(Lo,Ts)=>{hn.setValue(Lo,{hex:Ts.value}),V(Lo,Ts),T(Lo,Ts)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(B,V,X)=>{B.updateHex(V,X)}},extraApis:{}})},EI=(t,s)=>{const a=Vd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),i=Vd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(T,D)=>{const{width:N,height:B}=T,V=T.getContext("2d");if(V===null)return;V.fillStyle=D,V.fillRect(0,0,N,B);const X=V.createLinearGradient(0,0,N,0);X.addColorStop(0,"rgba(255,255,255,1)"),X.addColorStop(1,"rgba(255,255,255,0)"),V.fillStyle=X,V.fillRect(0,0,N,B);const ye=V.createLinearGradient(0,0,0,B);ye.addColorStop(0,"rgba(0,0,0,0)"),ye.addColorStop(1,"rgba(0,0,0,1)"),V.fillStyle=ye,V.fillRect(0,0,N,B)},g=(T,D)=>{const N=T.components()[0].element.dom,B=Ub(D,100,100),V=Ff(B);d(N,YC(V))},h=(T,D)=>{const N=JC(ow(D));Vd.setValue(T,{x:N.saturation,y:100-N.value})};return Hc({factory:T=>{const D=H({x:0,y:0}),N=(X,ye,tt)=>{lo(X,xR,{value:tt})},B=(X,ye,tt,Ee)=>{d(tt.element.dom,YC(e6))},V=Vt([ks.config({find:E.some}),To.config({})]);return Vd.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:D},rounded:!1,components:[a,i],onChange:N,onInit:B,sliderBehaviours:V})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(T,D,N)=>{g(D,N)},setThumb:(T,D,N)=>{h(D,N)}},extraApis:{}})},TI=(t,s)=>{const a=d=>{const g=xI(t,s,d.onValidHex,d.onInvalidHex),h=EI(t,s),v=zt=>(100-zt)/100*360,_=zt=>100-zt/360*100,T={paletteRgba:bo(e6),paletteHue:bo(0)},D=nr(cA(t,s)),N=nr(h.sketch({})),B=nr(g.sketch({})),V=(zt,Xt,mn)=>{N.getOpt(zt).each(ds=>{h.setHue(ds,mn)})},X=(zt,Xt)=>{B.getOpt(zt).each(mn=>{g.updateHex(mn,Xt)})},ye=(zt,Xt,mn)=>{D.getOpt(zt).each(ds=>{Vd.setValue(ds,_(mn))})},tt=(zt,Xt)=>{N.getOpt(zt).each(mn=>{h.setThumb(mn,Xt)})},Ee=(zt,Xt)=>{const mn=ow(zt);T.paletteRgba.set(mn),T.paletteHue.set(Xt)},Ce=(zt,Xt,mn,ds)=>{Ee(Xt,mn),it(ds,Yn=>{Yn(zt,Xt,mn)})},gt=()=>{const zt=[X];return(Xt,mn)=>{const ds=mn.event.value,Yn=T.paletteHue.get(),Wo=Ub(Yn,ds.x,100-ds.y),Lo=r6(Wo);Ce(Xt,Lo,Yn,zt)}},He=()=>{const zt=[V,X];return(Xt,mn)=>{const ds=v(mn.event.value),Yn=T.paletteRgba.get(),Wo=JC(Yn),Lo=Ub(ds,Wo.saturation,Wo.value),Ts=r6(Lo);Ce(Xt,Ts,ds,zt)}},Nt=()=>{const zt=[V,ye,tt];return(Xt,mn)=>{const ds=mn.event.hex,Yn=QC(ds);Ce(Xt,ds,Yn.hue,zt)}};return{uid:d.uid,dom:d.dom,components:[N.asSpec(),D.asSpec(),B.asSpec()],behaviours:Vt([Go("colour-picker-events",[St(rA,Nt()),St(xR,gt()),St(aA,He())]),ks.config({find:zt=>B.getOpt(zt)}),fo.config({mode:"acyclic"})])}};return Hc({name:"ColourPicker",configFields:[_t("dom"),Ie("onValidHex",W),Ie("onInvalidHex",W)],factory:a})},Ud={self:()=>ks.config({find:E.some}),memento:t=>ks.config({find:t.getOpt}),childAt:t=>ks.config({find:s=>Wc(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},OI=eo([Ie("preprocess",at),Ie("postprocess",at)]),OR=(t,s)=>{const a=As("RepresentingConfigs.memento processors",OI,s);return hn.config({store:{mode:"manual",getValue:i=>{const d=t.get(i),g=hn.getValue(d);return a.postprocess(g)},setValue:(i,d)=>{const g=a.preprocess(d),h=t.get(i);hn.setValue(h,g)}}})},Vg=(t,s,a)=>hn.config({store:pt(te({mode:"manual"},t.map(i=>({initialValue:i})).getOr({})),{getValue:s,setValue:a})}),DR=(t,s,a)=>Vg(t,i=>s(i.element),(i,d)=>a(i.element,d)),dA=t=>DR(t,Fy,pf),Ug=t=>hn.config({store:{mode:"memory",initialValue:t}}),zR={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},RR=t=>s=>t.translate(zR[s]),MR=(t,s,a)=>{const i=_=>"tox-"+_,d=TI(RR(s),i),g=_=>{lo(_,$m,{name:"hex-valid",value:!0})},h=_=>{lo(_,$m,{name:"hex-valid",value:!1})},v=nr(d.sketch({dom:{tag:"div",classes:[i("color-picker-container")],attributes:{role:"presentation"}},onValidHex:g,onInvalidHex:h}));return{dom:{tag:"div"},components:[v.asSpec()],behaviours:Vt([Vg(a,_=>{const T=v.get(_);return ks.getCurrent(T).bind(B=>hn.getValue(B).hex).map(B=>"#"+Yt(B,"#")).getOr("")},(_,T)=>{const D=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,N=E.from(D.exec(T)).bind(X=>Le(X,1)),B=v.get(_);ks.getCurrent(B).fold(()=>{console.log("Can not find form")},X=>{hn.setValue(X,{hex:N.getOr("")}),Yb.getField(X,"hex").each(ye=>{Ds(ye,eg())})})}),Ud.self()])}};var DI=tinymce.util.Tools.resolve("tinymce.Resource");const zI=t=>Oo(t,"init"),SS=t=>{const s=Nr(),a=nr({dom:{tag:t.tag}}),i=Nr();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Vt([Go("custom-editor-events",[Dr(d=>{a.getOpt(d).each(g=>{(zI(t)?t.init(g.element.dom):DI.load(t.scriptId,t.scriptUrl).then(h=>h(g.element.dom,t.settings))).then(h=>{i.on(v=>{h.setValue(v)}),i.clear(),s.set(h)})})})]),Vg(E.none(),()=>s.get().fold(()=>i.get().getOr(""),d=>d.getValue()),(d,g)=>{s.get().fold(()=>i.set(g),h=>h.setValue(g))}),Ud.self()]),components:[a.asSpec()]}};var Wg=tinymce.util.Tools.resolve("tinymce.util.Tools");const RI=(t,s)=>{const a=Wg.explode(s.getOption("images_file_types")),i=d=>Yo(a,g=>fr(d.name.toLowerCase(),`.${g.toLowerCase()}`));return no(On(t),i)},NR=(t,s,a)=>{const i=(B,V)=>{V.stop()},d=B=>(V,X)=>{it(B,ye=>{ye(V,X)})},g=(B,V)=>{var X;if(!Co.isDisabled(B)){const ye=V.event.raw;v(B,(X=ye.dataTransfer)===null||X===void 0?void 0:X.files)}},h=(B,V)=>{const X=V.event.raw.target;v(B,X.files)},v=(B,V)=>{V&&(hn.setValue(B,RI(V,s)),lo(B,eu,{name:t.name}))},_=nr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Vt([Go("input-file-events",[Sd(im()),Sd($h())])])}),T=B=>({uid:B.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Vt([Ug(a.getOr([])),Ud.self(),Co.config({}),ts.config({toggleClass:"dragenter",toggleOnExecute:!1}),Go("dropzone-events",[St("dragenter",d([i,ts.toggle])),St("dragleave",d([i,ts.toggle])),St("dragover",i),St("drop",d([i,g])),St(tg(),h)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Fr(s.translate("Drop an image here"))]},Vc.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Fr(s.translate("Browse for an image")),_.asSpec()],action:V=>{_.get(V).element.dom.click()},buttonBehaviours:Vt([da.config({}),ud.button(s.isDisabled),rc()])})]}]}),D=t.label.map(B=>Ig(B,s)),N=or.parts.field({factory:{sketch:T}});return cw(D,N,["tox-form__group--stretched"],[])},PR=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Re(t.items,s.interpreter)}),fA=(t,s)=>{let a=null,i=null;return{cancel:()=>{zo(a)||(clearTimeout(a),a=null,i=null)},throttle:(...h)=>{i=h,zo(a)&&(a=setTimeout(()=>{const v=i;a=null,i=null,t.apply(null,v)},s))}}},BR=(t,s)=>{let a=null;return{cancel:()=>{zo(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{zo(a)&&(a=setTimeout(()=>{a=null,t.apply(null,g)},s))}}},Di=(t,s)=>{let a=null;const i=()=>{zo(a)||(clearTimeout(a),a=null)};return{cancel:i,throttle:(...g)=>{i(),a=setTimeout(()=>{a=null,t.apply(null,g)},s)}}},xS=Bn("alloy-fake-before-tabstop"),mA=Bn("alloy-fake-after-tabstop"),FR=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Vt([To.config({ignore:!0}),da.config({})])}),gA=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[FR([xS]),s,FR([mA])],behaviours:Vt([Ud.childAt(1)])}),$R=(t,s)=>{lo(t,bu(),{raw:{which:9,shiftKey:s}})},MI=(t,s)=>{const a=s.element;ol(a,xS)?$R(t,!0):ol(a,mA)&&$R(t,!1)},bw=t=>uv(t,["."+xS,"."+mA].join(","),Se),ES=Bn("update-dialog"),Vf=Bn("update-title"),TS=Bn("update-body"),pA=Bn("update-footer"),yw=Bn("body-send-message"),pv=Bn("dialog-focus-shifted"),hA=vl().browser,vw=hA.isSafari(),NI=hA.isFirefox(),IR=vw||NI,PI=hA.isChromium(),BI=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,LR=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),HR=(t,s)=>{const a=t.body;return E.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!PI&&!vw||ln(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},VR=(t,s,a)=>{const i=t.dom;E.from(i.contentDocument).fold(a,d=>{let g=0;const h=HR(d,s).map(_=>(g=_.scrollTop,_)).forall(BI),v=()=>{const _=i.contentWindow;ln(_)&&(h?LR(_,"bottom"):!h&&IR&&g!==0&&LR(_,g))};vw&&i.addEventListener("load",v,{once:!0}),d.open(),d.write(s),d.close(),vw||v()})},AS=qn(IR,vw?500:200).map(t=>fA(VR,t)),FI=(t,s)=>{const a=bo(t.getOr(""));return{getValue:i=>a.get(),setValue:(i,d)=>{if(a.get()!==d){const g=i.element,h=()=>pn(g,"srcdoc",d);s?AS.fold(H(VR),v=>v.throttle)(g,d,h):h()}a.set(d)}}},$I=(t,s,a)=>{const i="tox-dialog__iframe",d=t.transparent?[]:[`${i}--opaque`],g=t.border?["tox-navobj-bordered"]:[],h=te(te(te({},t.label.map(N=>({title:N})).getOr({})),a.map(N=>({srcdoc:N})).getOr({})),t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}),v=FI(a,t.streamContent),_=t.label.map(N=>Ig(N,s)),T=N=>gA(E.from(g),{uid:N.uid,dom:{tag:"iframe",attributes:h,classes:[i,...d]},behaviours:Vt([da.config({}),To.config({}),Vg(a,v.getValue,v.setValue),Xc.config({channels:{[pv]:{onReceive:(B,V)=>{V.newFocus.each(X=>{zc(B.element).each(ye=>{(zs(B.element,X)?ya:oa)(ye,"tox-navobj-bordered-focus")})})}}}})])}),D=or.parts.field({factory:{sketch:T}});return cw(_,D,["tox-form__group--stretched"],[])},UR=t=>new Promise((s,a)=>{const i=()=>{g(),s(t)},d=[Ei(t,"load",i),Ei(t,"error",()=>{g(),a("Unable to load data from image: "+t.dom.src)})],g=()=>it(d,h=>h.unbind());t.dom.complete&&i()}),WR=(t,s,a,i,d)=>{const g=a*d,h=i*d,v=Math.max(0,t/2-g/2),_=Math.max(0,s/2-h/2);return{left:v.toString()+"px",top:_.toString()+"px",width:g.toString()+"px",height:h.toString()+"px"}},bA=(t,s,a)=>{const i=ir(t),d=un(t);return Math.min(i/s,d/a,1)},OS=(t,s)=>{const a=bo(s.getOr({url:""})),i=nr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(_=>({src:_.url})).getOr({})}}),d=nr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[i.asSpec()]}),g=(_,T)=>{const D={url:T.url};T.zoom.each(B=>D.zoom=B),T.cachedWidth.each(B=>D.cachedWidth=B),T.cachedHeight.each(B=>D.cachedHeight=B),a.set(D);const N=()=>{const{cachedWidth:B,cachedHeight:V,zoom:X}=D;if(!en(B)&&!en(V)){if(en(X)){const tt=bA(_.element,B,V);D.zoom=tt}const ye=WR(ir(_.element),un(_.element),B,V,D.zoom);d.getOpt(_).each(tt=>{gr(tt.element,ye)})}};i.getOpt(_).each(B=>{const V=B.element;T.url!==yr(V,"src")&&(pn(V,"src",T.url),oa(_.element,"tox-imagepreview__loaded")),N(),UR(V).then(X=>{_.getSystem().isConnected()&&(ya(_.element,"tox-imagepreview__loaded"),D.cachedWidth=X.dom.naturalWidth,D.cachedHeight=X.dom.naturalHeight,N())})})},h={};t.height.each(_=>h.height=_);const v=s.map(_=>({url:_.url,zoom:E.from(_.zoom),cachedWidth:E.from(_.cachedWidth),cachedHeight:E.from(_.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:h,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:Vt([Ud.self(),Vg(v,()=>a.get(),g)])}},kw=(t,s)=>{const a="tox-label",i=t.align==="center"?[`${a}--center`]:[],d=t.align==="end"?[`${a}--end`]:[],g={dom:{tag:"label",classes:[a,...i,...d]},components:[Fr(s.providers.translate(t.label))]},h=Re(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[g,...h],behaviours:Vt([Ud.self(),Ho.config({}),dA(E.none()),fo.config({mode:"acyclic"})])}},hv=Bn("toolbar.button.execute"),jR=t=>yu((s,a)=>{Qk(t,s)(i=>{lo(s,hv,{buttonApi:i}),t.onAction(i)})}),rh=Bn("common-button-display-events"),yA={[tl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Ll()]:["toolbar-button-events",rh],[Ks()]:["focusing","alloy.base.behaviour",rh]},DS=t=>Dn(t.element,"width",Zs(t.element,"width")),ZR=(t,s,a)=>$d(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),vA=(t,s)=>ZR(t,s,[]),ah=(t,s)=>ZR(t,s,[Ho.config({})]),qR=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Fr(a.translate(t))],behaviours:Vt([Ho.config({})])}),gd=Bn("update-menu-text"),ch=Bn("update-menu-icon"),zS=(t,s,a)=>{const i=bo(W),d=t.text.map(B=>nr(qR(B,s,a.providers))),g=t.icon.map(B=>nr(ah(B,a.providers.icons))),h=(B,V)=>{const X=hn.getValue(B);return To.focus(X),lo(X,"keydown",{raw:V.event.raw}),fd.close(X),E.some(!0)},v=t.role.fold(()=>({}),B=>({role:B})),_=t.tooltip.fold(()=>({}),B=>{const V=a.providers.translate(B);return{title:V,"aria-label":V}}),T=$d("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),D=Bn("common-button-display-events");return nr(fd.sketch(pt(te(te({},t.uid?{uid:t.uid}:{}),v),{dom:{tag:"button",classes:[s,`${s}--select`].concat(Re(t.classes,B=>`${s}--${B}`)),attributes:te({},_)},components:rv([g.map(B=>B.asSpec()),d.map(B=>B.asSpec()),E.some(T)]),matchWidth:!0,useMinWidth:!0,onOpen:(B,V,X)=>{t.searchable&&P4(X)},dropdownBehaviours:Vt([...t.dropdownBehaviours,ud.button(()=>t.disabled||a.providers.isDisabled()),rc(),lw.config({}),Ho.config({}),Go("dropdown-events",[Pg(t,i),Bg(t,i)]),Go(D,[Dr((B,V)=>DS(B))]),Go("menubutton-update-display-text",[St(gd,(B,V)=>{d.bind(X=>X.getOpt(B)).each(X=>{Ho.set(X,[Fr(a.providers.translate(V.event.text))])})}),St(ch,(B,V)=>{g.bind(X=>X.getOpt(B)).each(X=>{Ho.set(X,[ah(V.event.icon,a.providers.icons)])})})])]),eventOrder:rr(yA,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ll()]:["toolbar-button-events","dropdown-events",D]}),sandboxBehaviours:Vt([fo.config({mode:"special",onLeft:h,onRight:h}),Go("dropdown-sandbox-events",[St(dz,(B,V)=>{rS(B),V.stop()}),St(fz,(B,V)=>{M4(B,V),V.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:pt(te({},ev(!1,t.columns,t.presets)),{fakeFocus:t.searchable,onHighlightItem:R6,onCollapseMenu:(B,V,X)=>{$s.getHighlighted(X).each(ye=>{R6(B,X,ye)})},onDehighlightItem:qF})},getAnchorOverrides:()=>({maxHeightFunction:(B,V)=>{P0()(B,V-10)}}),fetch:B=>mi.nu(Jt(t.fetch,B))}))).asSpec()},II=t=>Qe(t),kA=t=>t.type==="separator",LI=t=>Oo(t,"getSubmenuItems"),GR={type:"separator"},ww=(t,s)=>{const a=bt(t,(i,d)=>II(d)?d===""?i:d==="|"?i.length>0&&!kA(i[i.length-1])?i.concat([GR]):i:Oo(s,d.toLowerCase())?i.concat([s[d.toLowerCase()]]):i:i.concat([d]),[]);return a.length>0&&kA(a[a.length-1])&&a.pop(),a},HI=(t,s)=>{const a=t.getSubmenuItems(),i=YR(a,s),d=rr(i.menus,{[t.value]:i.items}),g=rr(i.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:g}},KR=t=>{const s=xt(t,"value").getOrThunk(()=>Bn("generated-menu-item"));return rr({value:s},t)},YR=(t,s)=>{const a=ww(Qe(t)?t.split(" "):t,s);return lt(a,(i,d)=>{if(LI(d)){const g=KR(d),h=HI(g,s);return{menus:rr(i.menus,h.menus),items:[h.item,...i.items],expansions:rr(i.expansions,h.expansions)}}else return pt(te({},i),{items:[d,...i.items]})},{menus:{},expansions:{},items:[]})},VI=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),UI=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),bv=(t,s,a,i)=>{const d=Bn("primary-menu"),g=YR(t,a.shared.providers.menuItems());if(g.items.length===0)return E.none();const h=VI(i),v=N6(d,g.items,s,a,i.isHorizontalMenu,h),_=UI(i),T=Jn(g.menus,(N,B)=>N6(B,N,s,a,!1,_)),D=rr(T,rn(d,v));return E.from(zb.tieredData(d,D,g.expansions))},RS=t=>!Oo(t,"items"),XR="data-value",wA=(t,s,a,i)=>Re(a,d=>RS(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===i,onAction:()=>{hn.setValue(t,d.value),lo(t,eu,{name:s}),To.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:()=>wA(t,s,d.items,i)}),_w=(t,s)=>Nn(t,a=>RS(a)?qn(a.value===s,a):_w(a.items,s)),Zg=(t,s,a)=>{const i=s.shared.providers,d=a.bind(_=>_w(t.items,_)).orThunk(()=>Mt(t.items).filter(RS)),g=t.label.map(_=>Ig(_,i)),h=or.parts.field({dom:{},factory:{sketch:_=>zS({uid:_.uid,text:d.map(T=>T.text),icon:E.none(),tooltip:t.label,role:E.none(),fetch:(T,D)=>{const N=wA(T,t.name,t.items,hn.getValue(T));D(bv(N,Id.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:E.none()}))},onSetup:H(W),getApi:H({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[da.config({}),Vg(d.map(T=>T.value),T=>yr(T.element,XR),(T,D)=>{_w(t.items,D).each(N=>{pn(T.element,XR,N.value),lo(T,gd,{text:N.text})})})]},"tox-listbox",s.shared)}}),v={dom:{tag:"div",classes:["tox-listboxfield"]},components:[h]};return or.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:we([g.toArray(),[v]]),fieldBehaviours:Vt([Co.config({disabled:H(!t.enabled),onDisabled:_=>{or.getField(_).each(Co.disable)},onEnabled:_=>{or.getField(_).each(Co.enable)}})])})},_A=(t,s)=>({dom:{tag:"div",classes:t.classes},components:Re(t.items,s.shared.interpreter)}),JR=(t,s)=>{const a=Re(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),i=t.data.map(d=>rn("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:sc(t.selectBehaviours,[To.config({}),hn.config({store:te({mode:"manual",getValue:d=>va(d.element),setValue:(d,g)=>{const h=Mt(t.options);ee(t.options,_=>_.value===g).isSome()?Ta(d.element,g):d.element.dom.selectedIndex===-1&&g===""&&h.each(_=>Ta(d.element,_.value))}},i)})])}},QR=Hc({name:"HtmlSelect",configFields:[_t("options"),Ya("selectBehaviours",[To,hn]),Ie("selectClasses",[]),Ie("selectAttributes",{}),Hs("data")],factory:JR}),CA=(t,s,a)=>{const i=Re(t.items,_=>({text:s.translate(_.text),value:_.value})),d=t.label.map(_=>Ig(_,s)),g=or.parts.field(pt(te({dom:{}},a.map(_=>({data:_})).getOr({})),{selectAttributes:{size:t.size},options:i,factory:QR,selectBehaviours:Vt([Co.config({disabled:()=>!t.enabled||s.isDisabled()}),da.config({}),Go("selectbox-change",[St(tg(),(_,T)=>{lo(_,eu,{name:t.name})})])])})),h=t.size>1?E.none():E.some($d("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),v={dom:{tag:"div",classes:["tox-selectfield"]},components:we([[g],h.toArray()])};return or.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:we([d.toArray(),[v]]),fieldBehaviours:Vt([Co.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{or.getField(_).each(Co.disable)},onEnabled:_=>{or.getField(_).each(Co.enable)}}),rc()])})},eM=H([Ie("field1Name","field1"),Ie("field2Name","field2"),_f("onLockedChange"),al(["lockClass"]),Ie("locked",!1),Su.field("coupledFieldBehaviours",[ks,hn])]),MS=(t,s,a)=>hr(t,s,a).bind(ks.getCurrent),SA=(t,s)=>Lc({factory:or,name:t,overrides:a=>({fieldBehaviours:Vt([Go("coupled-input-behaviour",[St(eg(),i=>{MS(i,a,s).each(d=>{hr(i,a,"lock").each(g=>{ts.isOn(g)&&a.onLockedChange(i,d,g)})})})])])})}),tM=H([SA("field1","field2"),SA("field2","field1"),Lc({factory:Vc,schema:[_t("dom")],name:"lock",overrides:t=>({buttonBehaviours:Vt([ts.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),WI=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Su.augment(t.coupledFieldBehaviours,[ks.config({find:E.some}),hn.config({store:{mode:"manual",getValue:d=>{const g=kk(d,t,["field1","field2"]);return{[t.field1Name]:hn.getValue(g.field1()),[t.field2Name]:hn.getValue(g.field2())}},setValue:(d,g)=>{const h=kk(d,t,["field1","field2"]);Js(g,t.field1Name)&&hn.setValue(h.field1(),g[t.field1Name]),Js(g,t.field2Name)&&hn.setValue(h.field2(),g[t.field2Name])}}})]),apis:{getField1:d=>hr(d,t,"field1"),getField2:d=>hr(d,t,"field2"),getLock:d=>hr(d,t,"lock")}}),zu=Qc({name:"FormCoupledInputs",configFields:eM(),partFields:tM(),factory:WI,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),jI=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=d=>d in s?s[d]:1;let i=t.value.toFixed(a(t.unit));return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+t.unit},xA=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const i=parseFloat(a[1]),d=a[2];return $t.value({value:i,unit:d})}else return $t.error(t)},nM=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},i=d=>Oo(a,d);return t.unit===s?E.some(t.value):i(t.unit)&&i(s)?a[t.unit]===a[s]?E.some(t.value):E.some(t.value/a[t.unit]*a[s]):E.none()},NS=t=>E.none(),oM=(t,s)=>a=>nM(a,s).map(i=>({value:i*t,unit:s})),ZI=(t,s)=>{const a=xA(t).toOptional(),i=xA(s).toOptional();return Jr(a,i,(d,g)=>nM(d,g.unit).map(h=>g.value/h).map(h=>oM(h,g.unit)).getOr(NS)).getOr(NS)},qI=(t,s)=>{let a=NS;const i=Bn("ratio-event"),d=N=>$d(N,{tag:"span",classes:["tox-icon","tox-lock-icon__"+N]},s.icons),g=zu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:s.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:Vt([Co.config({disabled:()=>!t.enabled||s.isDisabled()}),rc(),da.config({})])}),h=N=>({dom:{tag:"div",classes:["tox-form__group"]},components:N}),v=N=>or.parts.field({factory:Pb,inputClasses:["tox-textfield"],inputBehaviours:Vt([Co.config({disabled:()=>!t.enabled||s.isDisabled()}),rc(),da.config({}),Go("size-input-events",[St(Pc(),(B,V)=>{lo(B,i,{isField1:N})}),St(tg(),(B,V)=>{lo(B,eu,{name:t.name})})])]),selectOnFocus:!1}),_=N=>({dom:{tag:"label",classes:["tox-label"]},components:[Fr(s.translate(N))]}),T=zu.parts.field1(h([or.parts.label(_("Width")),v(!0)])),D=zu.parts.field2(h([or.parts.label(_("Height")),v(!1)]));return zu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[T,D,h([_(h2),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(N,B,V)=>{xA(hn.getValue(N)).each(X=>{a(X).each(ye=>{hn.setValue(B,jI(ye))})})},coupledFieldBehaviours:Vt([Co.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:N=>{zu.getField1(N).bind(or.getField).each(Co.disable),zu.getField2(N).bind(or.getField).each(Co.disable),zu.getLock(N).each(Co.disable)},onEnabled:N=>{zu.getField1(N).bind(or.getField).each(Co.enable),zu.getField2(N).bind(or.getField).each(Co.enable),zu.getLock(N).each(Co.enable)}}),rc(),Go("size-input-events2",[St(i,(N,B)=>{const V=B.event.isField1,X=V?zu.getField1(N):zu.getField2(N),ye=V?zu.getField2(N):zu.getField1(N),tt=X.map(hn.getValue).getOr(""),Ee=ye.map(hn.getValue).getOr("");a=ZI(tt,Ee)})])])})},GI=(t,s,a)=>{const i=Vd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Fr(s.translate(t.label))]}),d=Vd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),g=Vd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Vd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:H(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[i,d,g],sliderBehaviours:Vt([Ud.self(),To.config({})]),onChoose:(h,v,_)=>{lo(h,eu,{name:t.name,value:_})}})},PS=(t,s)=>{const a=v=>({dom:{tag:"th",innerHtml:s.translate(v)}}),i=v=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Re(v,a)}]}),d=v=>({dom:{tag:"td",innerHtml:s.translate(v)}}),g=v=>({dom:{tag:"tr"},components:Re(v,d)}),h=v=>({dom:{tag:"tbody"},components:Re(v,g)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[i(t.header),h(t.cells)],behaviours:Vt([da.config({}),To.config({})])}},sM=(t,s)=>{const a=t.label.map(V=>Ig(V,s)),i=[Co.config({disabled:()=>t.disabled||s.isDisabled()}),rc(),fo.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:V=>(Ds(V,dv),E.some(!0))}),Go("textfield-change",[St(eg(),(V,X)=>{lo(V,eu,{name:t.name})}),St(ng(),(V,X)=>{lo(V,eu,{name:t.name})})]),da.config({})],d=t.validation.map(V=>Lf.config({getRoot:X=>zc(X.element),invalidClass:"tox-invalid",validator:{validate:X=>{const ye=hn.getValue(X),tt=V.validator(ye);return mi.pure(tt===!0?$t.value(ye):$t.error(tt))},validateOnLoad:V.validateOnLoad}})).toArray(),g=t.placeholder.fold(H({}),V=>({placeholder:s.translate(V)})),h=t.inputMode.fold(H({}),V=>({inputmode:V})),v=te(te({},g),h),_=or.parts.field(pt(te({tag:t.multiline===!0?"textarea":"input"},t.data.map(V=>({data:V})).getOr({})),{inputAttributes:v,inputClasses:[t.classname],inputBehaviours:Vt(we([i,d])),selectOnFocus:!1,factory:Pb})),T=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[_]}:_,N=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),B=[Co.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:V=>{or.getField(V).each(Co.disable)},onEnabled:V=>{or.getField(V).each(Co.enable)}}),rc()];return cw(a,T,N,B)},KI=(t,s,a)=>sM({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:E.none(),maximized:t.maximized,data:a},s),rM=(t,s,a)=>sM({name:t.name,multiline:!0,label:t.label,inputMode:E.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:E.none(),maximized:t.maximized,data:a},s),yv=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),qg=t=>t.dimension.property,Xb=(t,s)=>t.dimension.getDimension(s),vv=(t,s)=>{const a=yv(t,s);Ci(a,[s.shrinkingClass,s.growingClass])},EA=(t,s)=>{oa(t.element,s.openClass),ya(t.element,s.closedClass),Dn(t.element,qg(s),"0px"),ue(t.element)},BS=(t,s)=>{oa(t.element,s.closedClass),ya(t.element,s.openClass),q(t.element,qg(s))},aM=(t,s,a,i)=>{a.setCollapsed(),Dn(t.element,qg(s),Xb(s,t.element)),vv(t,s),EA(t,s),s.onStartShrink(t),s.onShrunk(t)},YI=(t,s,a,i)=>{const d=i.getOrThunk(()=>Xb(s,t.element));a.setCollapsed(),Dn(t.element,qg(s),d),ue(t.element);const g=yv(t,s);oa(g,s.growingClass),ya(g,s.shrinkingClass),EA(t,s),s.onStartShrink(t)},cM=(t,s,a)=>{const i=Xb(s,t.element);(i==="0px"?aM:YI)(t,s,a,E.some(i))},TA=(t,s,a)=>{const i=yv(t,s),d=ol(i,s.shrinkingClass),g=Xb(s,t.element);BS(t,s);const h=Xb(s,t.element);(d?()=>{Dn(t.element,qg(s),g),ue(t.element)}:()=>{EA(t,s)})(),oa(i,s.shrinkingClass),ya(i,s.growingClass),BS(t,s),Dn(t.element,qg(s),h),a.setExpanded(),s.onStartGrow(t)},iM=(t,s,a)=>{if(a.isExpanded()){q(t.element,qg(s));const i=Xb(s,t.element);Dn(t.element,qg(s),i)}},XI=(t,s,a)=>{a.isExpanded()||TA(t,s,a)},JI=(t,s,a)=>{a.isExpanded()&&cM(t,s,a)},QI=(t,s,a)=>{a.isExpanded()&&aM(t,s,a)},eL=(t,s,a)=>a.isExpanded(),lM=(t,s,a)=>a.isCollapsed(),uM=(t,s,a)=>{const i=yv(t,s);return ol(i,s.growingClass)===!0},AA=(t,s,a)=>{const i=yv(t,s);return ol(i,s.shrinkingClass)===!0};var tL=Object.freeze({__proto__:null,refresh:iM,grow:XI,shrink:JI,immediateShrink:QI,hasGrown:eL,hasShrunk:lM,isGrowing:uM,isShrinking:AA,isTransitioning:(t,s,a)=>uM(t,s)||AA(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?cM:TA)(t,s,a)},disableTransitions:vv,immediateGrow:(t,s,a)=>{a.isExpanded()||(BS(t,s),Dn(t.element,qg(s),Xb(s,t.element)),vv(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),nL=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const i=s.expanded;return nl(i?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:rn(s.dimension.property,"0px")})},events:(t,s)=>Er([rg(fp(),(a,i)=>{i.event.raw.propertyName===t.dimension.property&&(vv(a,t),s.isExpanded()&&q(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),oL=[_t("closedClass"),_t("openClass"),_t("shrinkingClass"),_t("growingClass"),Hs("getAnimationRoot"),vs("onShrunk"),vs("onStartShrink"),vs("onGrown"),vs("onStartGrow"),Ie("expanded",!1),pr("dimension",fc("property",{width:[Mr("property","width"),Mr("getDimension",t=>ir(t)+"px")],height:[Mr("property","height"),Mr("getDimension",t=>un(t)+"px")]}))],OA=Object.freeze({__proto__:null,init:t=>{const s=bo(t.expanded),a=()=>"expanded: "+s.get();return Wi({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Jt(s.set,!1),setExpanded:Jt(s.set,!0),readState:a})}});const tu=Ec({fields:oL,name:"sliding",active:nL,apis:tL,state:OA}),dM=t=>({isEnabled:()=>!Co.isDisabled(t),setEnabled:s=>Co.set(t,!s),setActive:s=>{const a=t.element;s?(ya(a,"tox-tbtn--enabled"),pn(a,"aria-pressed",!0)):(oa(a,"tox-tbtn--enabled"),re(a,"aria-pressed"))},isActive:()=>ol(t.element,"tox-tbtn--enabled"),setText:s=>{lo(t,gd,{text:s})},setIcon:s=>lo(t,ch,{icon:s})}),Cw=(t,s,a,i,d=!0)=>zS({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:i,fetch:(g,h)=>{const v={pattern:t.search.isSome()?B4(g):""};t.fetch(_=>{h(bv(_,Id.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},v,dM(g))},onSetup:t.onSetup,getApi:dM,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[da.config({})]:[]]},s,a.shared),Sw=(t,s,a)=>{const i=g=>h=>{const v=!h.isActive();h.setActive(v),g.storage.set(v),a.shared.getSink().each(_=>{s().getOpt(_).each(T=>{Zl(T.element),lo(T,$m,{name:g.name,value:g.storage.get()})})})},d=g=>h=>{h.setActive(g.storage.get())};return g=>{g(Re(t,h=>{const v=h.text.fold(()=>({}),_=>({text:_}));return pt(te({type:h.type,active:!1},v),{onAction:i(h),onSetup:d(h)})}))}},FS=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[Fr(t)]}),fM=Bn("leaf-label-event-id"),DA=({leaf:t,onLeafAction:s,visible:a,treeId:i,selectedId:d,backstage:g})=>{const h=t.menu.map(_=>Cw(_,"tox-mbtn",g,E.none(),a)),v=[FS(t.title)];return h.each(_=>v.push(_)),Vc.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:v,role:"treeitem",action:_=>{s(t.id),_.getSystem().broadcastOn([`update-active-item-${i}`],{value:t.id})},eventOrder:{[bu()]:[fM,"keying"]},buttonBehaviours:Vt([...a?[da.config({})]:[],ts.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Xc.config({channels:{[`update-active-item-${i}`]:{onReceive:(_,T)=>{(T.value===t.id?ts.on:ts.off)(_)}}}}),Go(fM,[Dr((_,T)=>{d.each(D=>{(D===t.id?ts.on:ts.off)(_)})}),St(bu(),(_,T)=>{const D=T.event.raw.code==="ArrowLeft",N=T.event.raw.code==="ArrowRight";D?(kf(_.element,".tox-tree--directory").each(B=>{_.getSystem().getByDom(B).each(V=>{Zy(B,".tox-tree--directory__label").each(X=>{V.getSystem().getByDom(X).each(To.focus)})})}),T.stop()):N&&T.stop()})])])})},zA=(t,s,a)=>$d(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),sL=(t,s)=>zA(t,s,[]),$S=Bn("directory-label-event-id"),mM=({directory:t,visible:s,noChildren:a,backstage:i})=>{const d=t.menu.map(v=>Cw(v,"tox-mbtn",i,E.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[sL("chevron-right",i.shared.providers.icons)]},FS(t.title)];d.each(v=>{g.push(v)});const h=v=>{kf(v.element,".tox-tree--directory").each(_=>{v.getSystem().getByDom(_).each(T=>{const D=!ts.isOn(T);ts.toggle(T),lo(v,"expand-tree-node",{expanded:D,node:t.id})})})};return Vc.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:g,action:h,eventOrder:{[bu()]:[$S,"keying"]},buttonBehaviours:Vt([...s?[da.config({})]:[],Go($S,[St(bu(),(v,_)=>{const T=_.event.raw.code==="ArrowRight",D=_.event.raw.code==="ArrowLeft";T&&a&&_.stop(),(T||D)&&kf(v.element,".tox-tree--directory").each(N=>{v.getSystem().getByDom(N).each(B=>{!ts.isOn(B)&&T||ts.isOn(B)&&D?(h(v),_.stop()):D&&!ts.isOn(B)&&(kf(B.element,".tox-tree--directory").each(V=>{Zy(V,".tox-tree--directory__label").each(X=>{B.getSystem().getByDom(X).each(To.focus)})}),_.stop())})})})])])})},rL=({children:t,onLeafAction:s,visible:a,treeId:i,expandedIds:d,selectedId:g,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(v=>v.type==="leaf"?DA({leaf:v,selectedId:g,onLeafAction:s,visible:a,treeId:i,backstage:h}):IS({directory:v,expandedIds:d,selectedId:g,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:h})),behaviours:Vt([tu.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Ho.config({})])}),aL=Bn("directory-event-id"),IS=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:d,expandedIds:g,selectedId:h})=>{const{children:v}=t,_=bo(g),T=N=>v.map(B=>B.type==="leaf"?DA({leaf:B,selectedId:h,onLeafAction:s,visible:N,treeId:i,backstage:d}):IS({directory:B,expandedIds:_.get(),selectedId:h,onLeafAction:s,labelTabstopping:N,treeId:i,backstage:d})),D=g.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[mM({directory:t,visible:a,noChildren:t.children.length===0,backstage:d}),rL({children:v,expandedIds:g,selectedId:h,onLeafAction:s,visible:D,treeId:i,backstage:d})],behaviours:Vt([Go(aL,[Dr((N,B)=>{ts.set(N,D)}),St("expand-tree-node",(N,B)=>{const{expanded:V,node:X}=B.event;_.set(V?[..._.get(),X]:_.get().filter(ye=>ye!==X))})]),ts.config(pt(te({},t.children.length>0?{aria:{mode:"expanded"}}:{}),{toggleClass:"tox-tree--directory--expanded",onToggled:(N,B)=>{const V=N.components()[1],X=T(B);B?tu.grow(V):tu.shrink(V),Ho.set(V,X)}}))])}},gM=Bn("tree-event-id"),cL=(t,s)=>{const a=t.onLeafAction.getOr(W),i=t.onToggleExpand.getOr(W),d=t.defaultExpandedIds,g=bo(d),h=bo(t.defaultSelectedId),v=Bn("tree-id"),_=(T,D)=>t.items.map(N=>N.type==="leaf"?DA({leaf:N,selectedId:T,onLeafAction:a,visible:!0,treeId:v,backstage:s}):IS({directory:N,selectedId:T,onLeafAction:a,expandedIds:D,labelTabstopping:!0,treeId:v,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:_(h.get(),g.get()),behaviours:Vt([fo.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Go(gM,[St("expand-tree-node",(T,D)=>{const{expanded:N,node:B}=D.event;g.set(N?[...g.get(),B]:g.get().filter(V=>V!==B)),i(g.get(),{expanded:N,node:B})})]),Xc.config({channels:{[`update-active-item-${v}`]:{onReceive:(T,D)=>{h.set(E.some(D.value)),Ho.set(T,_(E.some(D.value),g.get()))}}}}),Ho.config({})])}};var pM=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.stream.streams.setup(t,s);return Er([St(t.event,i),xd(()=>s.cancel())].concat(t.cancelEvent.map(d=>[St(d,()=>s.cancel())]).getOr([])))}});const hM=t=>{const s=bo(null);return Wi({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:g=>{s.set(g)},cancel:()=>{const g=s.get();g!==null&&g.cancel()}})};var bM=Object.freeze({__proto__:null,throttle:hM,init:t=>t.stream.streams.state(t)});const yM=(t,s)=>{const a=t.stream,i=Di(t.onStream,a.delay);return s.setTimer(i),(d,g)=>{i.throttle(d,g),a.stopEvent&&g.stop()}};var uL=[pr("stream",fc("mode",{throttle:[_t("delay"),Ie("stopEvent",!0),Mr("streams",{setup:yM,state:hM})]})),Ie("event","input"),Hs("cancelEvent"),_f("onStream")];const RA=Ec({fields:uL,name:"streaming",active:pM,state:bM}),LS=(t,s,a)=>{const i=hn.getValue(a);hn.setValue(s,i),vM(s)},MA=(t,s)=>{const a=t.element,i=va(a),d=a.dom;yr(a,"type")!=="number"&&s(d,i)},vM=t=>{MA(t,(s,a)=>s.setSelectionRange(a.length,a.length))},kM=(t,s)=>{MA(t,(a,i)=>a.setSelectionRange(s,i.length))},dL=(t,s,a)=>{if(t.selectsOver){const i=hn.getValue(s),d=t.getDisplayText(i),g=hn.getValue(a);return t.getDisplayText(g).indexOf(d)===0?E.some(()=>{LS(t,s,a),kM(s,d.length)}):E.none()}else return E.none()},NA=H("alloy.typeahead.itemexecute"),PA=(t,s,a,i)=>{const d=(N,B,V)=>{t.previewing.set(!1);const X=wa.getCoupled(N,"sandbox");if(ps.isOpen(X))ks.getCurrent(X).each(ye=>{$s.getHighlighted(ye).fold(()=>{V(ye)},()=>{Gv(X,ye.element,"keydown",B)})});else{const ye=tt=>{ks.getCurrent(tt).each(V)};rw(t,h(N),N,X,i,ye,ll.HighlightMenuAndItem).get(W)}},g=uz(t),h=N=>B=>B.map(V=>{const X=wr(V.menus),ye=ae(X,Ee=>no(Ee.items,Ce=>Ce.type==="item"));return hn.getState(N).update(Re(ye,Ee=>Ee.data)),V}),v=N=>ks.getCurrent(N),_="typeaheadevents",T=[To.config({}),hn.config({onSetValue:t.onSetValue,store:te({mode:"dataset",getDataKey:N=>va(N.element),getFallbackEntry:N=>({value:N,meta:{}}),setValue:(N,B)=>{Ta(N.element,t.model.getDisplayText(B))}},t.initialData.map(N=>rn("initialValue",N)).getOr({}))}),RA.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(N,B)=>{const V=wa.getCoupled(N,"sandbox");if(To.isFocused(N)&&va(N.element).length>=t.minChars){const ye=v(V).bind(Ee=>$s.getHighlighted(Ee).map(hn.getValue));t.previewing.set(!0);const tt=Ee=>{v(V).each(Ce=>{ye.fold(()=>{t.model.selectsOver&&$s.highlightFirst(Ce)},gt=>{$s.highlightBy(Ce,He=>hn.getValue(He).value===gt.value),$s.getHighlighted(Ce).orThunk(()=>($s.highlightFirst(Ce),E.none()))})})};rw(t,h(N),N,V,i,tt,ll.HighlightJustMenu).get(W)}},cancelEvent:og()}),fo.config({mode:"special",onDown:(N,B)=>(d(N,B,$s.highlightFirst),E.some(!0)),onEscape:N=>{const B=wa.getCoupled(N,"sandbox");return ps.isOpen(B)?(ps.close(B),E.some(!0)):E.none()},onUp:(N,B)=>(d(N,B,$s.highlightLast),E.some(!0)),onEnter:N=>{const B=wa.getCoupled(N,"sandbox"),V=ps.isOpen(B);if(V&&!t.previewing.get())return v(B).bind(X=>$s.getHighlighted(X)).map(X=>(lo(N,NA(),{item:X}),!0));{const X=hn.getValue(N);return Ds(N,og()),t.onExecute(B,N,X),V&&ps.close(B),E.some(!0)}}}),ts.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),wa.config({others:{sandbox:N=>z4(t,N,{onOpen:()=>ts.on(N),onClose:()=>{t.lazyTypeaheadComp.get().each(B=>re(B.element,"aria-activedescendant")),ts.off(N)}})}}),Go(_,[Dr(N=>{t.lazyTypeaheadComp.set(E.some(N))}),xd(N=>{t.lazyTypeaheadComp.set(E.none())}),yu(N=>{const B=W;D4(t,h(N),N,i,B,ll.HighlightMenuAndItem).get(W)}),St(NA(),(N,B)=>{const V=wa.getCoupled(N,"sandbox");LS(t.model,N,B.event.item),Ds(N,og()),t.onItemExecute(N,V,B.event.item,hn.getValue(N)),ps.close(V),vM(N)})].concat(t.dismissOnBlur?[St(um(),N=>{const B=wa.getCoupled(N,"sandbox");ql(B.element).isNone()&&ps.close(B)})]:[]))],D=te({[sg()]:[hn.name(),RA.name(),_]},t.eventOrder);return{uid:t.uid,dom:z3(rr(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:te(te({},g),sc(t.typeaheadBehaviours,T)),eventOrder:D}},fL=H([Hs("lazySink"),_t("fetch"),Ie("minChars",5),Ie("responseTime",1e3),vs("onOpen"),Ie("getHotspot",E.some),Ie("getAnchorOverrides",H({})),Ie("layouts",E.none()),Ie("eventOrder",{}),Ph("model",{},[Ie("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),Ie("selectsOver",!0),Ie("populateFromBrowse",!0)]),vs("onSetValue"),xi("onExecute"),vs("onItemExecute"),Ie("inputClasses",[]),Ie("inputAttributes",{}),Ie("inputStyles",{}),Ie("matchWidth",!0),Ie("useMinWidth",!1),Ie("dismissOnBlur",!0),al(["openClass"]),Hs("initialData"),Ya("typeaheadBehaviours",[To,hn,RA,fo,ts,wa]),_c("lazyTypeaheadComp",()=>bo(E.none)),_c("previewing",()=>bo(!0))].concat(lz()).concat(R4())),mL=H([Yl({schema:[Kh()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,i)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{dL(t.model,d,i).fold(()=>{t.model.selectsOver?($s.dehighlight(a,i),t.previewing.set(!0)):t.previewing.set(!1)},g=>{g(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&LS(t.model,d,i),P(i.element,"id").each(g=>pn(d.element,"aria-activedescendant",g))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(i=>(lo(i,NA(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(i=>{t.model.populateFromBrowse&&LS(t.model,i,a)})}})})]),gL=Qc({name:"Typeahead",configFields:fL(),partFields:mL(),factory:PA}),pd=t=>{const s=()=>pd(t.toCached()),a=_=>pd(t.bind(T=>T.fold(D=>mi.pure($t.error(D)),D=>_(D)))),i=_=>pd(t.map(T=>T.bind(_))),d=_=>pd(t.map(T=>T.map(_))),g=_=>pd(t.map(T=>T.mapError(_))),h=(_,T)=>t.map(D=>D.fold(_,T)),v=(_,T)=>pd(mi.nu(D=>{let N=!1;const B=setTimeout(()=>{N=!0,D($t.error(T()))},_);t.get(V=>{N||(clearTimeout(B),D(V))})}));return pt(te({},t),{toCached:s,bindFuture:a,bindResult:i,mapResult:d,mapError:g,foldResult:h,withTimeout:v})},wM=t=>pd(mi.nu(t)),BA=t=>pd(mi.pure($t.value(t))),hL={nu:wM,wrap:pd,pure:BA,value:BA,error:t=>pd(mi.pure($t.error(t))),fromResult:t=>pd(mi.pure(t)),fromFuture:t=>pd(t.map($t.value)),fromPromise:t=>wM(s=>{t.then(a=>{s($t.value(a))},a=>{s($t.error(a))})})},HS=(t,s,a=[],i,d,g)=>{const h=s.fold(()=>({}),T=>({action:T})),v=te({buttonBehaviours:Vt([ud.button(()=>!t.enabled||g.isDisabled()),rc(),da.config({}),Go("button press",[Yv("click"),Yv("mousedown")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},h),_=rr(v,{dom:i});return rr(_,{components:d})},_M=(t,s,a,i=[])=>{const d=t.tooltip.map(_=>({"aria-label":a.translate(_),title:a.translate(_)})).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},h=t.icon.map(_=>vA(_,a.icons)),v=rv([h]);return HS(t,s,i,g,v,a)},FA=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},CM=(t,s,a,i=[],d=[])=>{const g=a.translate(t.text),h=t.icon.map(B=>vA(B,a.icons)),v=[h.getOrThunk(()=>Fr(g))],_=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),N={tag:"button",classes:[...FA(_),...h.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{title:g}};return HS(t,s,i,N,v,a)},$A=(t,s,a,i=[],d=[])=>{const g=CM(t,E.some(s),a,i,d);return Vc.sketch(g)},SM=(t,s)=>a=>{s==="custom"?lo(a,$m,{name:t,value:{}}):s==="submit"?Ds(a,dv):s==="cancel"?Ds(a,eh):console.error("Unknown button type: ",s)},bL=(t,s)=>s==="menu",yL=(t,s)=>s==="custom"||s==="cancel"||s==="submit",xM=(t,s)=>s==="togglebutton",vL=(t,s)=>{var a,i;const d=t.icon.map(Ce=>ah(Ce,s.icons)).map(nr),g=Ce=>{lo(Ce,$m,{name:t.name,value:{setIcon:gt=>{d.map(He=>He.getOpt(Ce).each(Nt=>{Ho.set(Nt,[ah(gt,s.icons)])}))}}})},h=t.buttonType.getOr(t.primary?"primary":"secondary"),v=pt(te({},t),{name:(a=t.name)!==null&&a!==void 0?a:"",primary:h==="primary",tooltip:E.from(t.tooltip),enabled:(i=t.enabled)!==null&&i!==void 0?i:!1,borderless:!1}),_=v.tooltip.map(Ce=>({"aria-label":s.translate(Ce),title:s.translate(Ce)})).getOr({}),T=FA(h!=null?h:"secondary"),D=t.icon.isSome()&&t.text.isSome(),N={tag:"button",classes:[...T.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...D?["tox-button--icon-and-text"]:[]],attributes:_},B=[],V=s.translate(t.text.getOr("")),X=Fr(V),tt=[...rv([d.map(Ce=>Ce.asSpec())]),...t.text.isSome()?[X]:[]],Ee=HS(v,E.some(g),B,N,tt,s);return Vc.sketch(Ee)},VS=(t,s,a)=>{if(bL(t,s)){const i=()=>h,d=t,g=pt(te({},t),{type:"menubutton",search:E.none(),onSetup:v=>(v.setEnabled(t.enabled),W),fetch:Sw(d.items,i,a)}),h=nr(Cw(g,"tox-tbtn",a,E.none()));return h.asSpec()}else if(yL(t,s)){const i=SM(t.name,s),d=pt(te({},t),{borderless:!1});return $A(d,i,a.shared.providers,[])}else{if(xM(t,s))return vL(t,a.shared.providers);throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},kL=(t,s)=>{const a=SM(t.name,"custom");return j6(E.none(),or.parts.field(te({factory:Vc},CM(t,E.some(a),s,[Ug(""),Ud.self()]))))},EM={type:"separator"},TM=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:W}),US=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:W}),WS=t=>Re(t,TM),wL=(t,s)=>no(s,a=>a.type===t),AM=(t,s)=>WS(wL(t,s)),_L=t=>AM("header",t.targets),CL=t=>AM("anchor",t.targets),OM=t=>E.from(t.anchorTop).map(s=>US("<top>",s)).toArray(),SL=t=>E.from(t.anchorBottom).map(s=>US("<bottom>",s)).toArray(),xL=t=>Re(t,s=>US(s,s)),EL=t=>bt(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(EM,a),[]),jS=(t,s)=>{const a=t.toLowerCase();return no(s,i=>{var d;const g=i.meta!==void 0&&i.meta.text!==void 0?i.meta.text:i.text,h=(d=i.value)!==null&&d!==void 0?d:"";return po(g.toLowerCase(),a)||po(h.toLowerCase(),a)})},DM=(t,s,a)=>{var i,d;const g=hn.getValue(s),h=(d=(i=g==null?void 0:g.meta)===null||i===void 0?void 0:i.text)!==null&&d!==void 0?d:g.value;return a.getLinkInformation().fold(()=>[],_=>{const T=jS(h,xL(a.getHistory(t)));return t==="file"?EL([T,jS(h,_L(_)),jS(h,we([OM(_),CL(_),SL(_)]))]):T})},zM=Bn("aria-invalid"),TL=(t,s,a,i)=>{const d=s.shared.providers,g=Ce=>{const gt=hn.getValue(Ce);a.addToHistory(gt.value,t.filetype)},h=pt(te({},i.map(Ce=>({initialData:Ce})).getOr({})),{dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":zM,type:"url"},minChars:0,responseTime:0,fetch:Ce=>{const gt=DM(t.filetype,Ce,a),He=bv(gt,Id.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:E.none()});return mi.pure(He)},getHotspot:Ce=>X.getOpt(Ce),onSetValue:(Ce,gt)=>{Ce.hasConfigured(Lf)&&Lf.run(Ce).get(W)},typeaheadBehaviours:Vt([...a.getValidationHandler().map(Ce=>Lf.config({getRoot:gt=>zc(gt.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(gt,He)=>{D.getOpt(gt).each(Nt=>{pn(Nt.element,"title",d.translate(He))})}},validator:{validate:gt=>{const He=hn.getValue(gt);return hL.nu(Nt=>{Ce({type:t.filetype,url:He.value},zt=>{if(zt.status==="invalid"){const Xt=$t.error(zt.message);Nt(Xt)}else{const Xt=$t.value(zt.message);Nt(Xt)}})})},validateOnLoad:!1}})).toArray(),Co.config({disabled:()=>!t.enabled||d.isDisabled()}),da.config({}),Go("urlinput-events",[St(eg(),Ce=>{const gt=va(Ce.element),He=gt.trim();He!==gt&&Ta(Ce.element,He),t.filetype==="file"&&lo(Ce,eu,{name:t.name})}),St(tg(),Ce=>{lo(Ce,eu,{name:t.name}),g(Ce)}),St(ng(),Ce=>{lo(Ce,eu,{name:t.name}),g(Ce)})])]),eventOrder:{[eg()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Ce=>Ce.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:ev(!1,1,"normal")},onExecute:(Ce,gt,He)=>{lo(gt,dv,{})},onItemExecute:(Ce,gt,He,Nt)=>{g(Ce),lo(Ce,eu,{name:t.name})}}),v=or.parts.field(pt(te({},h),{factory:gL})),_=t.label.map(Ce=>Ig(Ce,d)),D=nr(((Ce,gt,He=Ce,Nt=Ce)=>$d(He,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Ce],attributes:te({title:d.translate(Nt),"aria-live":"polite"},gt.fold(()=>({}),zt=>({id:zt})))},d.icons))("invalid",E.some(zM),"warning")),N=nr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[D.asSpec()]}),B=a.getUrlPicker(t.filetype),V=Bn("browser.url.event"),X=nr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[v,N.asSpec()],behaviours:Vt([Co.config({disabled:()=>!t.enabled||d.isDisabled()})])}),ye=nr($A({name:t.name,icon:E.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:E.none(),borderless:!0},Ce=>Ds(Ce,V),d,[],["tox-browse-url"])),tt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:we([[X.asSpec()],B.map(()=>ye.asSpec()).toArray()])}),Ee=Ce=>{ks.getCurrent(Ce).each(gt=>{const He=hn.getValue(gt),Nt=te({fieldname:t.name},He);B.each(zt=>{zt(Nt).get(Xt=>{hn.setValue(gt,Xt),lo(Ce,eu,{name:t.name})})})})};return or.sketch({dom:y$(),components:_.toArray().concat([tt()]),fieldBehaviours:Vt([Co.config({disabled:()=>!t.enabled||d.isDisabled(),onDisabled:Ce=>{or.getField(Ce).each(Co.disable),ye.getOpt(Ce).each(Co.disable)},onEnabled:Ce=>{or.getField(Ce).each(Co.enable),ye.getOpt(Ce).each(Co.enable)}}),rc(),Go("url-input-events",[St(V,Ee)])])})},RM=(t,s)=>{const a=BD(t.icon,s.icons);return If.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[Vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:i=>lo(i,$m,{name:"alert-banner",value:t.url}),buttonBehaviours:Vt([u3()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},AL=(t,s)=>{t.dom.checked=s},OL=t=>t.dom.checked,Io=(t,s,a)=>{const i=_=>(_.element.dom.click(),E.some(!0)),d=or.parts.field({factory:{sketch:at},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Vt([Ud.self(),Co.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:_=>{zc(_.element).each(T=>ya(T,"tox-checkbox--disabled"))},onEnabled:_=>{zc(_.element).each(T=>oa(T,"tox-checkbox--disabled"))}}),da.config({}),To.config({}),DR(a,OL,AL),fo.config({mode:"special",onEnter:i,onSpace:i,stopSpaceKeyup:!0}),Go("checkbox-events",[St(tg(),(_,T)=>{lo(_,eu,{name:t.name})})])])}),g=or.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Fr(s.translate(t.label))],behaviours:Vt([lw.config({})])}),h=_=>$d(_==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+_]},s.icons),v=nr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[h("checked"),h("unchecked")]});return or.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,v.asSpec(),g],fieldBehaviours:Vt([Co.config({disabled:()=>!t.enabled||s.isDisabled()}),rc()])})},xw=t=>t.presets==="presentation"?If.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):If.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Vt([da.config({}),To.config({})])}),cc=t=>(s,a,i,d)=>xt(a,"name").fold(()=>t(a,d,E.none()),g=>s.field(g,t(a,d,xt(i,g)))),MM=t=>(s,a,i,d)=>{const g=rr(a,{source:"dynamic"});return cc(t)(s,g,i,d)},NM={bar:cc((t,s)=>d$(t,s.shared)),collection:cc((t,s,a)=>v$(t,s.shared.providers,a)),alertbanner:cc((t,s)=>RM(t,s.shared.providers)),input:cc((t,s,a)=>KI(t,s.shared.providers,a)),textarea:cc((t,s,a)=>rM(t,s.shared.providers,a)),label:cc((t,s)=>kw(t,s.shared)),iframe:MM((t,s,a)=>$I(t,s.shared.providers,a)),button:cc((t,s)=>kL(t,s.shared.providers)),checkbox:cc((t,s,a)=>Io(t,s.shared.providers,a)),colorinput:cc((t,s,a)=>E$(t,s.shared,s.colorinput,a)),colorpicker:cc((t,s,a)=>MR(t,s.shared.providers,a)),dropzone:cc((t,s,a)=>NR(t,s.shared.providers,a)),grid:cc((t,s)=>PR(t,s.shared)),listbox:cc((t,s,a)=>Zg(t,s,a)),selectbox:cc((t,s,a)=>CA(t,s.shared.providers,a)),sizeinput:cc((t,s)=>qI(t,s.shared.providers)),slider:cc((t,s,a)=>GI(t,s.shared.providers,a)),urlinput:cc((t,s,a)=>TL(t,s,s.urlinput,a)),customeditor:cc(SS),htmlpanel:cc(xw),imagepreview:cc((t,s,a)=>OS(t,a)),table:cc((t,s)=>PS(t,s.shared.providers)),tree:cc((t,s)=>cL(t,s)),panel:cc((t,s)=>_A(t,s))},PM={field:(t,s)=>s,record:H([])},IA=(t,s,a,i)=>{const d=rr(i,{shared:{interpreter:g=>LA(t,g,a,d)}});return LA(t,s,a,d)},LA=(t,s,a,i)=>xt(NM,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),d=>d(t,s,a,i)),kv=(t,s,a)=>LA(PM,t,s,a),ih="layout-inset",ZS=t=>t.x,BM=(t,s)=>t.x+t.width/2-s.width/2,HA=(t,s)=>t.x+t.width-s.width,VA=t=>t.y,qS=(t,s)=>t.y+t.height-s.height,GS=(t,s)=>t.y+t.height/2-s.height/2,Ew=(t,s,a)=>Aa(HA(t,s),qS(t,s),a.insetSouthwest(),Yh(),"southwest",Fc(t,{right:0,bottom:3}),ih),KS=(t,s,a)=>Aa(ZS(t),qS(t,s),a.insetSoutheast(),Tl(),"southeast",Fc(t,{left:1,bottom:3}),ih),Tw=(t,s,a)=>Aa(HA(t,s),VA(t),a.insetNorthwest(),Od(),"northwest",Fc(t,{right:0,top:2}),ih),Aw=(t,s,a)=>Aa(ZS(t),VA(t),a.insetNortheast(),Xy(),"northeast",Fc(t,{left:1,top:2}),ih),Wd=(t,s,a)=>Aa(BM(t,s),VA(t),a.insetNorth(),Jy(),"north",Fc(t,{top:2}),ih),Ow=(t,s,a)=>Aa(BM(t,s),qS(t,s),a.insetSouth(),_0(),"south",Fc(t,{bottom:3}),ih),UA=(t,s,a)=>Aa(HA(t,s),GS(t,s),a.insetEast(),B_(),"east",Fc(t,{right:0}),ih),FM=(t,s,a)=>Aa(ZS(t),GS(t,s),a.insetWest(),Qy(),"west",Fc(t,{left:1}),ih),DL=t=>{switch(t){case"north":return Wd;case"northeast":return Aw;case"northwest":return Tw;case"south":return Ow;case"southeast":return KS;case"southwest":return Ew;case"east":return UA;case"west":return FM}},$M=(t,s,a,i,d)=>J_(i).map(DL).getOr(Wd)(t,s,a,i,d),zL=t=>{switch(t){case"north":return Ow;case"northeast":return KS;case"northwest":return Ew;case"south":return Wd;case"southeast":return Aw;case"southwest":return Tw;case"east":return FM;case"west":return UA}},RL=(t,s,a,i,d)=>J_(i).map(zL).getOr(Wd)(t,s,a,i,d),Dw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},ML=(t,s,a)=>{const d={maxHeightFunction:xf()},g=()=>({type:"node",root:Pt(qe(t())),node:E.from(t()),bubble:Ef(12,12,Dw),layouts:{onRtl:()=>[Aw],onLtr:()=>[Tw]},overrides:d}),h=()=>({type:"hotspot",hotspot:s(),bubble:Ef(-12,12,Dw),layouts:{onRtl:()=>[Ga,Sc,hc],onLtr:()=>[Sc,Ga,hc]},overrides:d});return()=>a()?g():h()},NL=(t,s,a,i)=>{const g={maxHeightFunction:xf()},h=()=>({type:"node",root:Pt(qe(s())),node:E.from(s()),bubble:Ef(12,12,Dw),layouts:{onRtl:()=>[Wd],onLtr:()=>[Wd]},overrides:g}),v=()=>t?{type:"node",root:Pt(qe(s())),node:E.from(s()),bubble:Ef(0,-ns(s()),Dw),layouts:{onRtl:()=>[xc],onLtr:()=>[xc]},overrides:g}:{type:"hotspot",hotspot:a(),bubble:Ef(0,0,Dw),layouts:{onRtl:()=>[xc],onLtr:()=>[xc]},overrides:g};return()=>i()?h():v()},PL=(t,s,a)=>{const i=()=>({type:"node",root:Pt(qe(t())),node:E.from(t()),layouts:{onRtl:()=>[Wd],onLtr:()=>[Wd]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[hc],onLtr:()=>[hc]}});return()=>a()?i():d()},BL=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),i=t.model.table.getSelectedCells();if(i.length>1){const d=i[0],g=i[i.length-1],h={firstCell:ke.fromDom(d),lastCell:ke.fromDom(g)};return E.some(h)}return E.some(ob.range(ke.fromDom(a.startContainer),a.startOffset,ke.fromDom(a.endContainer),a.endOffset))}}),FL=t=>s=>({type:"node",root:t(),node:s}),IM=(t,s,a,i)=>{const d=J1(t),g=()=>ke.fromDom(t.getBody()),h=()=>ke.fromDom(t.getContentAreaContainer()),v=()=>d||!i();return{inlineDialog:ML(h,s,v),inlineBottomDialog:NL(t.inline,h,a,v),banner:PL(h,s,v),cursor:BL(t,g),node:FL(g)}},$L=t=>(s,a)=>{d6(t)(s,a)},IL=t=>()=>c6(t),LL=t=>s=>h4(t,s),HL=t=>s=>b4(t,s),VL=t=>({colorPicker:$L(t),hasCustomColors:IL(t),getColors:LL(t),getColorCols:HL(t)}),UL=t=>()=>C3(t),LM=t=>({isDraggableModal:UL(t)}),WL=t=>{const s=bo(E3(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},WA=t=>Js(t,"items"),HM=t=>Js(t,"format"),jA=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],VM=t=>Oo(t,"items"),ZA=t=>Oo(t,"block"),jL=t=>Oo(t,"inline"),UM=t=>Oo(t,"selector"),qA=t=>bt(t,(s,a)=>{if(VM(a)){const i=qA(a.items);return{customFormats:s.customFormats.concat(i.customFormats),formats:s.formats.concat([{title:a.title,items:i.formats}])}}else if(jL(a)||ZA(a)||UM(a)){const d=`custom-${Qe(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:a}]),formats:s.formats.concat([{title:a.title,format:d,icon:a.icon}])}}else return pt(te({},s),{formats:s.formats.concat(a)})},{customFormats:[],formats:[]}),ZL=(t,s)=>{const a=qA(s),i=d=>{it(d,g=>{t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?i(a.customFormats):t.on("init",()=>{i(a.customFormats)}),a.formats},GA=t=>K1(t).map(s=>{const a=ZL(t,s);return Lk(t)?jA.concat(a):a}).getOr(jA),qL=t=>{const s=Un(t);return s.length===1&&uo(s,"title")},WM=(t,s,a)=>pt(te({},t),{type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),jd=(t,s,a,i)=>{const d=_=>WM(_,a,i),g=_=>{const T=v(_.items);return pt(te({},_),{type:"submenu",getStyleItems:H(T)})},h=_=>{const T=Qe(_.name)?_.name:Bn(_.title),D=`custom-${T}`,N=pt(te({},_),{type:"formatter",format:D,isSelected:a(D),getStylePreview:i(D)});return t.formatter.register(T,N),N},v=_=>Re(_,T=>WA(T)?g(T):HM(T)?d(T):qL(T)?pt(te({},T),{type:"separator"}):h(T));return v(s)},YS=t=>{const s=v=>()=>t.formatter.match(v),a=v=>()=>{const _=t.formatter.get(v);return _!==void 0?E.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(v))}):E.none()},i=bo([]),d=bo([]),g=bo(!1);return t.on("PreInit",v=>{const _=GA(t),T=jd(t,_,s,a);i.set(T)}),t.on("addStyleModifications",v=>{const _=jd(t,v.items,s,a);d.set(_),g.set(v.replace)}),{getData:()=>{const v=g.get()?[]:i.get(),_=d.get();return v.concat(_)}}},XS=t=>ln(t)&&t.nodeType===1,GL=Wg.trim,JS=t=>s=>!!(XS(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),KL=JS("true"),KA=JS("false"),YA=(t,s,a,i,d)=>({type:t,title:s,url:a,level:i,attach:d}),XA=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return KL(s)}return!1},YL=(t,s)=>Re(Ti(ke.fromDom(s),t),a=>a.dom),JA=t=>t.innerText||t.textContent,jM=t=>t.id?t.id:Bn("h"),QA=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,XL=t=>QA(t)&&e5(t),ZM=t=>t&&/^(H[1-6])$/.test(t.nodeName),e5=t=>XA(t)&&!KA(t),JL=t=>ZM(t)&&e5(t),QL=t=>ZM(t)?parseInt(t.nodeName.substr(1),10):0,qM=t=>{var s;const a=jM(t),i=()=>{t.id=a};return YA("header",(s=JA(t))!==null&&s!==void 0?s:"","#"+a,QL(t),i)},GM=t=>{const s=t.id||t.name,a=JA(t);return YA("anchor",a||"#"+s,"#"+s,0,W)},e9=t=>Re(no(t,JL),qM),t9=t=>Re(no(t,XL),GM),n9=t=>YL("h1,h2,h3,h4,h5,h6,a:not([href])",t),o9=t=>GL(t.title).length>0,Uf={find:t=>{const s=n9(t);return no(e9(s).concat(t9(s)),o9)}},wv="tinymce-url-history",KM=5,YM=t=>Qe(t)&&/^https?/.test(t),r9=t=>Ln(t)&&t.length<=KM&&Ne(t,YM),XM=t=>yn(t)&&xo(t,s=>!r9(s)).isNone(),JM=()=>{const t=Fg.getItem(wv);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+wv+" was not valid JSON",a),{};throw a}return XM(s)?s:(console.log("Local storage "+wv+" was not valid format",s),{})},QM=t=>{if(!XM(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Fg.setItem(wv,JSON.stringify(t))},e8=t=>{const s=JM();return xt(s,t).getOr([])},lZ=(t,s)=>{if(!YM(t))return;const a=JM(),i=xt(a,s).getOr([]),d=no(i,g=>g!==t);a[s]=[t].concat(d).slice(0,KM),QM(a)},a9=t=>!!t,gi=t=>Jn(Wg.makeMap(t,/[, ]/),a9),zw=t=>E.from(UD(t)),c9=t=>{const s=E.from(_3(t)).filter(a9).map(gi);return zw(t).fold(Se,a=>s.fold(De,i=>Un(i).length>0?i:!1))},QS=(t,s)=>{const a=c9(t);return dn(a)?a?zw(t):E.none():a[s]?zw(t):E.none()},i9=(t,s)=>QS(t,s).map(a=>i=>mi.nu(d=>{const g=(v,_)=>{if(!Qe(v))throw new Error("Expected value to be string");if(_!==void 0&&!yn(_))throw new Error("Expected meta to be a object");d({value:v,meta:_})},h=te({filetype:s,fieldname:i.fieldname},E.from(i.meta).getOr({}));a.call(t,g,i.value,h)})),t8=t=>E.from(t).filter(Qe).getOrUndefined(),l9=t=>ZD(t)?E.some({targets:Uf.find(t.getBody()),anchorTop:t8(qD(t)),anchorBottom:t8(OC(t))}):E.none(),u9=t=>E.from(WD(t)),d9=t=>({getHistory:e8,addToHistory:lZ,getLinkInformation:()=>l9(t),getValidationHandler:()=>u9(t),getUrlPicker:s=>i9(t,s)}),f9=(t,s,a,i)=>{const d=bo(!1),g=WL(s),h={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:Au.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get},v=d9(s),_=YS(s),T=VL(s),D=LM(s),N=()=>d.get(),B=tt=>d.set(tt),V={shared:{providers:h,anchors:IM(s,a,i,g.isPositionedAtTop),header:g},urlinput:v,styles:_,colorinput:T,dialog:D,isContextMenuOpen:N,setContextMenuState:B},X=pt(te({},V),{shared:pt(te({},V.shared),{interpreter:tt=>kv(tt,{},X),getSink:t.popup})}),ye=pt(te({},V),{shared:pt(te({},V.shared),{interpreter:tt=>kv(tt,{},ye),getSink:t.dialog})});return{popup:X,dialog:ye}},m9=(t,s,a)=>{const i=(zt,Xt)=>{it([s,...a],mn=>{mn.broadcastEvent(zt,Xt)})},d=(zt,Xt)=>{it([s,...a],mn=>{mn.broadcastOn([zt],Xt)})},g=zt=>d(Gl(),{target:zt.target}),h=tm(),v=Ei(h,"touchstart",g),_=Ei(h,"touchmove",zt=>i(Ty(),zt)),T=Ei(h,"touchend",zt=>i(Ih(),zt)),D=Ei(h,"mousedown",g),N=Ei(h,"mouseup",zt=>{zt.raw.button===0&&d(ok(),{target:zt.target})}),B=zt=>d(Gl(),{target:ke.fromDom(zt.target)}),V=zt=>{zt.button===0&&d(ok(),{target:ke.fromDom(zt.target)})},X=()=>{it(t.editorManager.get(),zt=>{t!==zt&&zt.dispatch("DismissPopups",{relatedTarget:t})})},ye=zt=>i(mf(),oc(zt)),tt=zt=>{d(Dm(),{}),i(Xu(),oc(zt))},Ee=qe(ke.fromDom(t.getElement())),Ce=Ep(Ee,"scroll",zt=>{requestAnimationFrame(()=>{const Xt=t.getContainer();if(Xt!=null){const ds=jb(t,s.element).map(Yn=>[Yn.element,...Yn.others]).getOr([]);Yo(ds,Yn=>zs(Yn,zt.target))&&(t.dispatch("ElementScroll",{target:zt.target.dom}),i(mp(),zt))}})}),gt=()=>d(Dm(),{}),He=zt=>{zt.state&&d(Gl(),{target:ke.fromDom(t.getContainer())})},Nt=zt=>{d(Gl(),{target:ke.fromDom(zt.relatedTarget.getContainer())})};t.on("PostRender",()=>{t.on("click",B),t.on("tap",B),t.on("mouseup",V),t.on("mousedown",X),t.on("ScrollWindow",ye),t.on("ResizeWindow",tt),t.on("ResizeEditor",gt),t.on("AfterProgressState",He),t.on("DismissPopups",Nt)}),t.on("remove",()=>{t.off("click",B),t.off("tap",B),t.off("mouseup",V),t.off("mousedown",X),t.off("ScrollWindow",ye),t.off("ResizeWindow",tt),t.off("ResizeEditor",gt),t.off("AfterProgressState",He),t.off("DismissPopups",Nt),D.unbind(),v.unbind(),_.unbind(),T.unbind(),N.unbind(),Ce.unbind()}),t.on("detach",()=>{it([s,...a],J0),it([s,...a],zt=>zt.destroy())})},Tc=wT,Wf=_g,ex=H([Ie("shell",!1),_t("makeItem"),Ie("setupItem",W),Su.field("listBehaviours",[Ho])]),n8=Rl({name:"items",overrides:()=>({behaviours:Vt([Ho.config({})])})}),g9=H([n8]),o8=H("CustomList"),p9=(t,s,a,i)=>{const d=(v,_)=>{h(v).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},T=>{const D=Ho.contents(T),N=_.length,B=N-D.length,V=B>0?Ct(B,()=>t.makeItem()):[],X=D.slice(N);it(X,tt=>Ho.remove(T,tt)),it(V,tt=>Ho.append(T,tt));const ye=Ho.contents(T);it(ye,(tt,Ee)=>{t.setupItem(v,tt,_[Ee],Ee)})})},g=t.shell?{behaviours:[Ho.config({})],components:[]}:{behaviours:[],components:s},h=v=>t.shell?E.some(v):hr(v,t,"items");return{uid:t.uid,dom:t.dom,components:g.components,behaviours:sc(t.listBehaviours,g.behaviours),apis:{setItems:d}}},s8=Qc({name:o8(),configFields:ex(),partFields:g9(),factory:p9,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),Jb=H([_t("dom"),Ie("shell",!0),Ya("toolbarBehaviours",[Ho])]),dZ=H([Rl({name:"groups",overrides:()=>({behaviours:Vt([Ho.config({})])})})]),h9=(t,s,a,i)=>{const d=(v,_)=>{g(v).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},T=>{Ho.set(T,_)})},g=v=>t.shell?E.some(v):hr(v,t,"groups"),h=t.shell?{behaviours:[Ho.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:h.components,behaviours:sc(t.toolbarBehaviours,h.behaviours),apis:{setGroups:d,refresh:W},domModification:{attributes:{role:"group"}}}},jf=Qc({name:"Toolbar",configFields:Jb(),partFields:dZ(),factory:h9,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),b9=W,r8=Se,tx=H([]);var y9=Object.freeze({__proto__:null,setup:b9,isDocked:r8,getBehaviours:tx});const t5=t=>(_r(zr(t,"position"),"fixed")?E.none():Ni(t)).orThunk(()=>{const i=ke.fromTag("span");return aa(t).bind(d=>{Nc(d,i);const g=Ni(i);return Fi(i),g})}),n5=t=>t5(t).map(ia).getOrThunk(()=>cs(0,0)),v9=(t,s)=>{const a=t.element;ya(a,s.transitionClass),oa(a,s.fadeOutClass),ya(a,s.fadeInClass),s.onShow(t)},k9=(t,s)=>{const a=t.element;ya(a,s.transitionClass),oa(a,s.fadeInClass),ya(a,s.fadeOutClass),s.onHide(t)},w9=(t,s)=>t.y<s.bottom&&t.bottom>s.y,a8=(t,s)=>t.y>=s.y,nx=(t,s)=>t.bottom<=s.bottom,ox=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),o5=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),s5=t=>t.box.x-t.win.x,_9=(t,s,a)=>{const i=s.win,d=s.box,g=s5(s);return Nn(t,h=>{switch(h){case"bottom":return nx(d,a.bounds)?E.none():E.some(o5(i,g,a));case"top":return a8(d,a.bounds)?E.none():E.some(ox(i,g,a));default:return E.none()}}).getOr({location:"no-dock"})},C9=(t,s,a)=>Ne(t,i=>{switch(i){case"bottom":return nx(s,a.bounds);case"top":return a8(s,a.bounds)}}),c8=(t,s)=>{const a=s.optScrollEnv.fold(H(t.bounds.y),i=>i.scrollElmTop+(t.bounds.y-i.currentScrollTop));return cs(t.bounds.x,a)},S9=(t,s)=>{const a=s.optScrollEnv.fold(H(t.y),i=>t.y+i.currentScrollTop-i.scrollElmTop);return cs(t.x,a)},_v=(t,s,a)=>a.getInitialPos().map(i=>{const d=c8(i,s);return{box:Or(d.left,d.top,ir(t),un(t)),location:i.location}}),i8=(t,s,a,i,d)=>{const g=S9(s,a),h=Or(g.left,g.top,s.width,s.height);i.setInitialPos({style:ca(t),position:Zs(t,"position")||"static",bounds:h,location:d.location})},sx=(t,s,a,i,d)=>{i.getInitialPos().fold(()=>i8(t,s,a,i,d),()=>W)},l8=(t,s,a)=>a.getInitialPos().bind(i=>{var d;switch(a.clearInitialPos(),i.position){case"static":return E.some({morph:"static"});case"absolute":const g=t5(t).getOr(Cr()),h=Ur(g),v=(d=g.dom.scrollTop)!==null&&d!==void 0?d:0;return E.some({morph:"absolute",positionCss:ku("absolute",xt(i.style,"left").map(_=>s.x-h.x),xt(i.style,"top").map(_=>s.y-h.y+v),xt(i.style,"right").map(_=>h.right-s.right),xt(i.style,"bottom").map(_=>h.bottom-s.bottom))});default:return E.none()}}),r5=(t,s,a)=>_v(t,s,a).filter(({box:i})=>C9(a.getModes(),i,s)).bind(({box:i})=>l8(t,i,a)),Qb=t=>{switch(t.location){case"top":return E.some({morph:"fixed",positionCss:ku("fixed",E.some(t.leftX),E.some(t.topY),E.none(),E.none())});case"bottom":return E.some({morph:"fixed",positionCss:ku("fixed",E.some(t.leftX),E.none(),E.none(),E.some(t.bottomY))});default:return E.none()}},u8=(t,s,a)=>{const i=Ur(t),d=R(),g=_9(a.getModes(),{win:d,box:i},s);return g.location==="top"||g.location==="bottom"?(i8(t,i,s,a,g),Qb(g)):E.none()},x9=(t,s,a)=>r5(t,s,a).orThunk(()=>s.optScrollEnv.bind(i=>_v(t,s,a)).bind(({box:i,location:d})=>{const g=R(),h=s5({win:g,box:i}),v=d==="top"?ox(g,h,s):o5(g,h,s);return Qb(v)})),d8=(t,s,a)=>{const i=t.element;return _r(zr(i,"position"),"fixed")?x9(i,s,a):u8(i,s,a)},f8=(t,s,a)=>{const i=t.element;return _v(i,s,a).bind(({box:d})=>l8(i,d,a))},m8=(t,s,a,i)=>{const d=Ur(t),g=R(),h=s5({win:g,box:d}),v=i(g,h,s);return v.location==="bottom"||v.location==="top"?(sx(t,d,s,a,v),Qb(v)):E.none()},g8=(t,s,a)=>{a.setDocked(!1),it(["left","right","top","bottom","position"],i=>q(t.element,i)),s.onUndocked(t)},Rw=(t,s,a,i)=>{const d=i.position==="fixed";a.setDocked(d),Cp(t.element,i),(d?s.onDocked:s.onUndocked)(t)},Mw=(t,s,a,i,d=!1)=>{s.contextual.each(g=>{g.lazyContext(t).each(h=>{const v=w9(h,i.bounds);v!==a.isVisible()&&(a.setVisible(v),d&&!v?(yf(t.element,[g.fadeOutClass]),g.onHide(t)):(v?v9:k9)(t,g))})})},p8=(t,s,a,i,d)=>{Mw(t,s,a,i,!0),Rw(t,s,a,d.positionCss)},E9=(t,s,a,i,d)=>{switch(d.morph){case"static":return g8(t,s,a);case"absolute":return Rw(t,s,a,d.positionCss);case"fixed":return p8(t,s,a,i,d)}},Cv=(t,s,a)=>{const i=s.lazyViewport(t);Mw(t,s,a,i),d8(t,i,a).each(d=>{E9(t,s,a,i,d)})},h8=(t,s,a)=>{const i=t.element;a.setDocked(!1);const d=s.lazyViewport(t);f8(t,d,a).each(g=>{switch(g.morph){case"static":{g8(t,s,a);break}case"absolute":{Rw(t,s,a,g.positionCss);break}}}),a.setVisible(!0),s.contextual.each(g=>{Ci(i,[g.fadeInClass,g.fadeOutClass,g.transitionClass]),g.onShow(t)}),rx(t,s,a)},rx=(t,s,a)=>{t.getSystem().isConnected()&&Cv(t,s,a)},a5=(t,s,a)=>{a.isDocked()&&h8(t,s,a)},ax=t=>(s,a,i)=>{const d=a.lazyViewport(s);m8(s.element,d,i,t).each(h=>{p8(s,a,i,d,h)})},c5=ax(ox),T9=ax(o5);var A9=Object.freeze({__proto__:null,refresh:rx,reset:a5,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,i)=>a.setModes(i),forceDockToTop:c5,forceDockToBottom:T9}),O9=Object.freeze({__proto__:null,events:(t,s)=>Er([rg(fp(),(a,i)=>{t.contextual.each(d=>{ol(a.element,d.transitionClass)&&(Ci(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),i.stop()})}),St(mf(),(a,i)=>{rx(a,t,s)}),St(mp(),(a,i)=>{rx(a,t,s)}),St(Xu(),(a,i)=>{a5(a,t,s)})])}),D9=[xa("contextual",[ga("fadeInClass"),ga("fadeOutClass"),ga("transitionClass"),ki("lazyContext"),vs("onShow"),vs("onShown"),vs("onHide"),vs("onHidden")]),Za("lazyViewport",()=>({bounds:R(),optScrollEnv:E.none()})),_i("modes",["top","bottom"],tc),vs("onDocked"),vs("onUndocked")],z9=Object.freeze({__proto__:null,init:t=>{const s=bo(!1),a=bo(!0),i=Nr(),d=bo(t.modes),g=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`;return Wi({isDocked:s.get,setDocked:s.set,getInitialPos:i.get,setInitialPos:i.set,clearInitialPos:i.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:g})}});const Da=Ec({fields:D9,name:"docking",active:O9,apis:A9,state:z9}),cx=H(Bn("toolbar-height-change")),Im={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Sv="tox-tinymce--toolbar-sticky-on",y8="tox-tinymce--toolbar-sticky-off",R9=(t,s)=>{const a=ma(s),d=Dc(s).dom.innerHeight,g=Gc(a),h=ke.fromDom(t.elm),v=Kc(h),_=un(h),T=v.y,D=T+_,N=ia(s),B=un(s),V=N.top,X=V+B,ye=Math.abs(V-g.top)<2,tt=Math.abs(X-(g.top+d))<2;if(ye&&T<X)Zm(g.left,T-B,a);else if(tt&&D>V){const Ee=T-d+_+B;Zm(g.left,Ee,a)}},xv=(t,s)=>uo(Da.getModes(t),s),ix=t=>{const s=i=>ns(i)+(parseInt(Zs(i,"margin-top"),10)||0)+(parseInt(Zs(i,"margin-bottom"),10)||0),a=t.element;zc(a).each(i=>{const d="padding-"+Da.getModes(t)[0];if(Da.isDocked(t)){const g=ir(i);Dn(a,"width",g+"px"),Dn(i,d,s(a)+"px")}else q(a,"width"),q(i,d)})},v8=(t,s)=>{s?(oa(t,Im.fadeOutClass),yf(t,[Im.transitionClass,Im.fadeInClass])):(oa(t,Im.fadeInClass),yf(t,[Im.fadeOutClass,Im.transitionClass]))},k8=(t,s)=>{const a=ke.fromDom(t.getContainer());s?(ya(a,Sv),oa(a,y8)):(ya(a,y8),oa(a,Sv))},M9=(t,s)=>{const a=ma(s);ed(a).filter(i=>!zs(s,i)).filter(i=>zs(i,ke.fromDom(a.dom.body))||Ma(t,i)).each(()=>Zl(s))},N9=(t,s)=>ql(t).orThunk(()=>s().toOptional().bind(a=>ql(a.element))),P9=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Da.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(ix)}),t.on("SkinLoaded",()=>{a().each(i=>{Da.isDocked(i)?Da.reset(i):Da.refresh(i)})}),t.on("FullscreenStateChanged",()=>{a().each(Da.reset)})),t.on("AfterScrollIntoView",i=>{a().each(d=>{Da.refresh(d);const g=d.element;ui(g)&&R9(i,g)})}),t.on("PostRender",()=>{k8(t,!1)})},B9=t=>t().map(Da.isDocked).getOr(!1),F9=()=>[Xc.config({channels:{[cx()]:{onReceive:ix}}})],w8=(t,s)=>{const a=Nr(),i=s.getSink,d=v=>{i().each(_=>v(_.element))},g=v=>{t.inline||ix(v),k8(t,Da.isDocked(v)),v.getSystem().broadcastOn([Dm()],{}),i().each(_=>_.getSystem().broadcastOn([Dm()],{}))},h=t.inline?[]:F9();return[To.config({}),Da.config({contextual:te({lazyContext:v=>{const _=ns(v.element),T=t.inline?t.getContentAreaContainer():t.getContainer();return E.from(T).map(D=>{const N=Ur(ke.fromDom(D));return jb(t,v.element).fold(()=>{const V=N.height-_,X=N.y+(xv(v,"top")?0:_);return Or(N.x,X,N.width,V)},V=>{const X=Km(N,lv(V)),ye=xv(v,"top")?X.y:X.y+_;return Or(X.x,ye,X.width,X.height-_)})})},onShow:()=>{d(v=>v8(v,!0))},onShown:v=>{d(_=>Ci(_,[Im.transitionClass,Im.fadeInClass])),a.get().each(_=>{M9(v.element,_),a.clear()})},onHide:v=>{N9(v.element,i).fold(a.clear,a.set),d(_=>v8(_,!1))},onHidden:()=>{d(v=>Ci(v,[Im.transitionClass]))}},Im),lazyViewport:v=>jb(t,v.element).fold(()=>{const T=R(),D=AC(t),N=T.y+(xv(v,"top")?D:0),B=T.height-(xv(v,"bottom")?D:0);return{bounds:Or(T.x,N,T.width,B),optScrollEnv:E.none()}},T=>({bounds:lv(T),optScrollEnv:E.some({currentScrollTop:T.element.dom.scrollTop,scrollElmTop:ia(T.element).top})})),modes:[s.header.getDockingMode()],onDocked:g,onUndocked:g}),...h]};var $9=Object.freeze({__proto__:null,setup:P9,isDocked:B9,getBehaviours:w8});const hZ=t=>{const s=t.editor,a=t.sticky?w8:tx;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Vt(a(s,t.sharedBackstage))}},I9=eo([$a,pr("items",wn([Zu([VC,Ii("items",tc)]),tc]))].concat(nv)),_8=t=>Wr("GroupToolbarButton",I9,t),C8=[Cc("text"),Cc("tooltip"),Cc("icon"),Yc("search",!1,wn([Qi,eo([Cc("placeholder")])],t=>dn(t)?t?E.some({placeholder:E.none()}):E.none():E.some(t))),ki("fetch"),Za("onSetup",()=>W)],Nw=eo([$a,...C8]),i5=t=>Wr("menubutton",Nw,t),L9=eo([$a,Ng,ld,Kp,vz,WC,Fb,Vi("presets","normal",["normal","color","listpreview"]),jC(1),Jl,$3]),H9=t=>Wr("SplitButton",L9,t);var l5=Hc({factory:(t,s)=>{const a=(d,g)=>{const h=Re(g,v=>{const _={type:"menubutton",text:v.text,fetch:D=>{D(v.getItems())}},T=i5(_).mapError(D=>gu(D)).getOrDie();return Cw(T,"tox-mbtn",s.backstage,E.some("menuitem"))});Ho.set(d,h)},i={focus:fo.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:Vt([Ho.config({}),Go("menubar-events",[Dr(d=>{t.onSetup(d)}),St(gc(),(d,g)=>{jr(d.element,".tox-mbtn--active").each(h=>{rl(g.event.target,".tox-mbtn").each(v=>{zs(h,v)||d.getSystem().getByDom(h).each(_=>{d.getSystem().getByDom(v).each(T=>{fd.expand(T),fd.close(_),To.focus(T)})})})})}),St(Oy(),(d,g)=>{g.event.prevFocus.bind(h=>d.getSystem().getByDom(h).toOptional()).each(h=>{g.event.newFocus.bind(v=>d.getSystem().getByDom(v).toOptional()).each(v=>{fd.isOpen(h)&&(fd.expand(v),fd.close(h))})})})]),fo.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),E.some(!0))}),da.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[_t("dom"),_t("uid"),_t("onEscape"),_t("backstage"),Ie("onSetup",W)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const V9="\u26A1\uFE0FUpgrade",U9="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",W9=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:U9,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:V9}}]}),u5="container",S8=[Ya("slotBehaviours",[])],x8=t=>"<alloy.field."+t+">",E8=t=>{const s=(()=>{const g=[];return{slot:(v,_)=>(g.push(v),q2(u5,x8(v),_)),record:H(g)}})(),a=t(s),i=s.record(),d=Re(i,g=>Lc({name:g,pname:x8(g)}));return wk(u5,S8,d,j9,a)},j9=(t,s)=>{const a=ye=>Y2(t),i=(ye,tt)=>hr(ye,t,tt),d=(ye,tt)=>(Ee,Ce)=>hr(Ee,t,Ce).map(gt=>ye(gt,Ce)).getOr(tt),g=ye=>(tt,Ee)=>{it(Ee,Ce=>ye(tt,Ce))},h=(ye,tt)=>yr(ye.element,"aria-hidden")!=="true",v=(ye,tt)=>{if(!h(ye)){const Ee=ye.element;q(Ee,"display"),re(Ee,"aria-hidden"),lo(ye,Zv(),{name:tt,visible:!0})}},_=(ye,tt)=>{if(h(ye)){const Ee=ye.element;Dn(Ee,"display","none"),pn(Ee,"aria-hidden","true"),lo(ye,Zv(),{name:tt,visible:!1})}},T=d(h,!1),D=d(_),N=g(D),B=ye=>N(ye,a()),V=d(v),X={getSlotNames:a,getSlot:i,isShowing:T,hideSlot:D,hideAllSlots:B,showSlot:V};return{uid:t.uid,dom:t.dom,components:s,behaviours:Cu(t.slotBehaviours),apis:X}},Z9=Jn({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>vm(t)),zi=pt(te({},Z9),{sketch:E8}),ey=eo([ld,Ng,Za("onShow",W),Za("onHide",W),Fb]),T8=t=>Wr("sidebar",ey,t),Pw=t=>{const{sidebars:s}=t.ui.registry.getAll();it(Un(s),a=>{const i=s[a],d=()=>_r(E.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:i.icon,tooltip:i.tooltip,onAction:g=>{t.execCommand("ToggleSidebar",!1,a),g.setActive(d())},onSetup:g=>{g.setActive(d());const h=()=>g.setActive(d());return t.on("ToggleSidebar",h),()=>{t.off("ToggleSidebar",h)}}})})},lx=t=>({element:()=>t.element.dom}),A8=(t,s)=>{const a=Re(Un(s),i=>{const d=s[i],g=nc(T8(d));return{name:i,getApi:lx,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Re(a,i=>{const d=bo(W);return t.slot(i.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:ov.unnamedEvents([Pg(i,d),Bg(i,d),St(Zv(),(g,h)=>{const v=h.event;ee(a,T=>T.name===v.name).each(T=>{(v.visible?T.onShow:T.onHide)(T.getApi(g))})})])})})},O8=t=>zi.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:A8(s,t),slotBehaviours:ov.unnamedEvents([Dr(a=>zi.hideAllSlots(a))])})),D8=(t,s,a)=>{ks.getCurrent(t).each(d=>{Ho.set(d,[O8(s)]);const g=a==null?void 0:a.toLowerCase();Qe(g)&&Oo(s,g)&&ks.getCurrent(d).each(h=>{zi.showSlot(h,g),tu.immediateGrow(d),q(d.element,"width"),d5(t.element,"region")})})},d5=(t,s)=>{pn(t,"role",s)},q9=(t,s)=>{ks.getCurrent(t).each(i=>{ks.getCurrent(i).each(g=>{tu.hasGrown(i)?zi.isShowing(g,s)?(tu.shrink(i),d5(t.element,"presentation")):(zi.hideAllSlots(g),zi.showSlot(g,s),d5(t.element,"region")):(zi.hideAllSlots(g),zi.showSlot(g,s),tu.grow(i),d5(t.element,"region"))})})},G9=t=>ks.getCurrent(t).bind(a=>tu.isGrowing(a)||tu.hasGrown(a)?ks.getCurrent(a).bind(g=>ee(zi.getSlotNames(g),h=>zi.isShowing(g,h))):E.none()),f5=Bn("FixSizeEvent"),m5=Bn("AutoSizeEvent"),K9=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Vt([da.config({}),To.config({}),tu.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{ks.getCurrent(s).each(zi.hideAllSlots),Ds(s,m5)},onGrown:s=>{Ds(s,m5)},onStartGrow:s=>{lo(s,f5,{width:zr(s.element,"width").getOr("")})},onStartShrink:s=>{lo(s,f5,{width:ir(s.element)+"px"})}}),Ho.config({}),ks.config({find:s=>{const a=Ho.contents(s);return Mt(a)}})])}],behaviours:Vt([Ud.childAt(0),Go("sidebar-sliding-events",[St(f5,(s,a)=>{Dn(s.element,"width",a.event.width)}),St(m5,(s,a)=>{q(s.element,"width")})])])});var Y9=Object.freeze({__proto__:null,block:(t,s,a,i)=>{pn(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),g=Vt([fo.config({mode:"special",onTab:()=>E.some(!0),onShiftTab:()=>E.some(!0)}),To.config({})]),h=i(d,g),v=d.getSystem().build(h);Ho.append(d,Si(v)),v.hasConfigured(fo)&&s.focus&&fo.focusIn(v),a.isBlocked()||s.onBlock(t),a.blockWith(()=>Ho.remove(d,v))},unblock:(t,s,a)=>{re(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),X9=[Za("getRoot",E.none),Ea("focus",!0),vs("onBlock"),vs("onUnblock")],J9=Object.freeze({__proto__:null,init:()=>{const t=Sm(),s=a=>{t.set({destroy:a})};return Wi({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const nu=Ec({fields:X9,name:"blocking",apis:Y9,state:J9}),M8=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return bt(s,(a,i)=>i.name==="class"?a:pt(te({},a),{[i.name]:i.value}),{})},Q9=t=>Array.prototype.slice.call(t.dom.classList,0),lh=t=>{const s=ke.fromHtml(t),a=Va(s),i=M8(s),d=Q9(s),g=a.length===0?{}:{innerHtml:Fy(s)};return te({tag:Us(s),classes:d,attributes:i},g)},eH=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:lh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),N8=t=>ks.getCurrent(t).each(s=>Zl(s.element)),tH=(t,s)=>{const a="tabindex",i=`data-mce-${a}`;E.from(t.iframeElement).map(ke.fromDom).each(d=>{s?(P(d,a).each(g=>pn(d,i,g)),pn(d,a,-1)):(re(d,a),P(d,i).each(g=>{pn(d,a,g),re(d,i)}))})},nH=(t,s,a,i)=>{const d=s.element;if(tH(t,a),a)nu.block(s,eH(i)),q(d,"display"),re(d,"aria-hidden"),t.hasFocus()&&N8(s);else{const g=ks.getCurrent(s).exists(h=>_p(h.element));nu.unblock(s),Dn(d,"display","none"),pn(d,"aria-hidden","true"),g&&t.focus()}},P8=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Vt([Ho.config({}),nu.config({focus:!1}),ks.config({find:s=>Mt(s.components())})]),components:[]}),B8=t=>t.type==="focusin",oH=t=>B8(t)?(t.composed?Mt(t.composedPath()):E.from(t.target)).map(ke.fromDom).filter(wo).exists(a=>ol(a,"mce-pastebin")):!1,sH=(t,s,a)=>{const i=bo(!1),d=Nr(),g=v=>{i.get()&&!oH(v)&&(v.preventDefault(),N8(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",v=>{v.command.toLowerCase()==="mcefocus"&&v.value!==!0&&g(v)})});const h=v=>{v!==i.get()&&(i.set(v),nH(t,s(),v,a.providers),hF(t,v))};t.on("ProgressState",v=>{if(d.on(clearTimeout),Rt(v.time)){const _=xC.setEditorTimeout(t,()=>h(v.state),v.time);d.set(_)}else h(v.state),d.clear()})},dx=(t,s)=>bt(t,(d,g)=>s(g,d.len).fold(H(d),v=>({len:v.finish,list:d.list.concat([v])})),{len:0,list:[]}).list,Ev=(t,s,a)=>({within:t,extra:s,withinWidth:a}),F8=(t,s,a)=>{const i=dx(t,(v,_)=>{const T=a(v);return E.some({element:v,start:_,finish:_+T,width:T})}),d=no(i,v=>v.finish<=s),g=lt(d,(v,_)=>v+_.width,0),h=i.slice(d.length);return{within:d,extra:h,withinWidth:g}},fx=t=>Re(t,s=>s.element),rH=(t,s,a)=>{const i=fx(t.concat(s));return Ev(i,[],a)},aH=(t,s,a,i)=>{const d=fx(t).concat([a]);return Ev(d,fx(s),i)},g5=(t,s,a)=>Ev(fx(t),[],a),p5=(t,s,a)=>{const i=F8(s,t,a);return i.extra.length===0?E.some(i):E.none()},cH=(t,s,a,i)=>{const d=p5(t,s,a).getOrThunk(()=>F8(s,t-a(i),a)),g=d.within,h=d.extra,v=d.withinWidth;return h.length===1&&h[0].width<=a(i)?rH(g,h,v):h.length>=1?aH(g,h,i,v):g5(g,h,v)},mx=(t,s)=>{const a=Re(s,i=>Si(i));jf.setGroups(t,a)},iH=t=>Nn(t,s=>ql(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),$8=(t,s,a)=>{const i=s.builtGroups.get();if(i.length===0)return;const d=zf(t,s,"primary"),g=wa.getCoupled(t,"overflowGroup");Dn(d.element,"visibility","hidden");const h=i.concat([g]),v=iH(h);a([]),mx(d,h);const _=ir(d.element),T=cH(_,s.builtGroups.get(),D=>ir(D.element),g);T.extra.length===0?(Ho.remove(d,g),a([])):(mx(d,T.within),a(T.extra)),q(d.element,"visibility"),ue(d.element),v.each(To.focus)},I8=H([Ya("splitToolbarBehaviours",[wa]),_c("builtGroups",()=>bo([]))]),lH=H([al(["overflowToggledClass"]),cf("getOverflowBounds"),_t("lazySink"),_c("overflowGroups",()=>bo([])),vs("onOpened"),vs("onClosed")].concat(I8())),uH=H([Lc({factory:jf,schema:Jb(),name:"primary"}),Yl({schema:Jb(),name:"overflow"}),Yl({name:"overflow-button"}),Yl({name:"overflow-group"})]),L8=H((t,s)=>{ep(t,Math.floor(s))}),yZ=H([al(["toggledClass"]),_t("lazySink"),ki("fetch"),cf("getBounds"),xa("fireDismissalEventInstead",[Ie("event",fm())]),td(),vs("onToggled")]),H8=H([Yl({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Vt([ts.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Yl({factory:jf,schema:Jb(),name:"toolbar",overrides:t=>({toolbarBehaviours:Vt([fo.config({mode:"cyclic",onEscape:s=>(hr(s,t,"button").each(To.focus),E.none())})])})})]),gx=Nr(),V8=(t,s)=>{gx.set(!0),h5(t,s),gx.clear()},h5=(t,s)=>{const a=wa.getCoupled(t,"toolbarSandbox");ps.isOpen(a)?ps.close(a):ps.open(a,s.toolbar())},b5=(t,s,a,i)=>{const d=a.getBounds.map(h=>h()),g=a.lazySink(t).getOrDie();Jc.positionWithinBounds(g,s,{anchor:{type:"hotspot",hotspot:t,layouts:i,overrides:{maxWidthFunction:L8()}}},d)},U8=(t,s,a,i,d)=>{jf.setGroups(s,d),b5(t,s,a,i),ts.on(t)},dH=(t,s,a)=>{const i=b0(),d=(h,v)=>{const _=gx.get().getOr(!1);a.fetch().get(T=>{U8(t,v,a,s.layouts,T),i.link(t.element),_||fo.focusIn(v)})},g=()=>{ts.off(t),gx.get().getOr(!1)||To.focus(t),i.unlink(t.element)};return{dom:{tag:"div",attributes:{id:i.id}},behaviours:Vt([fo.config({mode:"special",onEscape:h=>(ps.close(h),E.some(!0))}),ps.config({onOpen:d,onClose:g,isPartOf:(h,v,_)=>ug(v,_)||ug(t,_),getAttachPoint:()=>a.lazySink(t).getOrDie()}),Xc.config({channels:te(te({},Bp(te({isExtraPart:Se},a.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})))),sk({doReposition:()=>{ps.getState(wa.getCoupled(t,"toolbarSandbox")).each(h=>{b5(t,h,a,s.layouts)})}}))})])}},Gg=Qc({name:"FloatingToolbarButton",factory:(t,s,a,i)=>pt(te({},Vc.sketch(pt(te({},i.button()),{action:d=>{h5(d,i)},buttonBehaviours:Su.augment({dump:i.button().buttonBehaviours},[wa.config({others:{toolbarSandbox:d=>dH(d,a,t)}})])}))),{apis:{setGroups:(d,g)=>{ps.getState(wa.getCoupled(d,"toolbarSandbox")).each(h=>{U8(d,h,t,a.layouts,g)})},reposition:d=>{ps.getState(wa.getCoupled(d,"toolbarSandbox")).each(g=>{b5(d,g,t,a.layouts)})},toggle:d=>{h5(d,i)},toggleWithoutFocusing:d=>{V8(d,i)},getToolbar:d=>ps.getState(wa.getCoupled(d,"toolbarSandbox")),isOpen:d=>ps.isOpen(wa.getCoupled(d,"toolbarSandbox"))}}),configFields:yZ(),partFields:H8(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),fH=H([_t("items"),al(["itemSelector"]),Ya("tgroupBehaviours",[fo])]),mH=H([il({name:"items",unit:"item"})]),gH=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:sc(t.tgroupBehaviours,[fo.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),y5=Qc({name:"ToolbarGroup",configFields:fH(),partFields:mH(),factory:gH}),pH=t=>Re(t,s=>Si(s)),v5=(t,s,a)=>{$8(t,a,i=>{a.overflowGroups.set(i),s.getOpt(t).each(d=>{Gg.setGroups(d,pH(i))})})},W8=(t,s,a,i)=>{const d=nr(Gg.sketch({fetch:()=>mi.nu(g=>{g(pH(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Sc,Ga],onRtl:()=>[Ga,Sc],onBottomLtr:()=>[$r,Zi],onBottomRtl:()=>[Zi,$r]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:i["overflow-button"](),toolbar:i.overflow()},onToggled:(g,h)=>t[h?"onOpened":"onClosed"](g)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:sc(t.splitToolbarBehaviours,[wa.config({others:{overflowGroup:()=>y5.sketch(pt(te({},i["overflow-group"]()),{items:[d.asSpec()]}))}})]),apis:{setGroups:(g,h)=>{t.builtGroups.set(Re(h,g.getSystem().build)),v5(g,d,t)},refresh:g=>v5(g,d,t),toggle:g=>{d.getOpt(g).each(h=>{Gg.toggle(h)})},toggleWithoutFocusing:g=>{d.getOpt(g).each(Gg.toggleWithoutFocusing)},isOpen:g=>d.getOpt(g).map(Gg.isOpen).getOr(!1),reposition:g=>{d.getOpt(g).each(h=>{Gg.reposition(h)})},getOverflow:g=>d.getOpt(g).bind(Gg.getToolbar)},domModification:{attributes:{role:"group"}}}},j8=Qc({name:"SplitFloatingToolbar",configFields:lH(),partFields:uH(),factory:W8,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),hH=H([al(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),vs("onOpened"),vs("onClosed")].concat(I8())),Ru=H([Lc({factory:jf,schema:Jb(),name:"primary"}),Lc({factory:jf,schema:Jb(),name:"overflow",overrides:t=>({toolbarBehaviours:Vt([tu.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{hr(s,t,"overflow-button").each(a=>{ts.off(a),To.focus(a)}),t.onClosed(s)},onGrown:s=>{fo.focusIn(s),t.onOpened(s)},onStartGrow:s=>{hr(s,t,"overflow-button").each(ts.on)}}),fo.config({mode:"acyclic",onEscape:s=>(hr(s,t,"overflow-button").each(To.focus),E.some(!0))})])})}),Yl({name:"overflow-button",overrides:t=>({buttonBehaviours:Vt([ts.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Yl({name:"overflow-group"})]),bH=(t,s)=>hr(t,s,"overflow").map(tu.hasGrown).getOr(!1),k5=(t,s)=>{hr(t,s,"overflow-button").bind(()=>hr(t,s,"overflow")).each(a=>{px(t,s),tu.toggleGrow(a)})},px=(t,s)=>{hr(t,s,"overflow").each(a=>{$8(t,s,i=>{const d=Re(i,g=>Si(g));jf.setGroups(a,d)}),hr(t,s,"overflow-button").each(i=>{tu.hasGrown(a)&&ts.on(i)}),tu.refresh(a)})},yH=(t,s,a,i)=>{const d="alloy.toolbar.toggle",g=(h,v)=>{const _=Re(v,h.getSystem().build);t.builtGroups.set(_)};return{uid:t.uid,dom:t.dom,components:s,behaviours:sc(t.splitToolbarBehaviours,[wa.config({others:{overflowGroup:h=>y5.sketch(pt(te({},i["overflow-group"]()),{items:[Vc.sketch(pt(te({},i["overflow-button"]()),{action:v=>{Ds(h,d)}}))]}))}}),Go("toolbar-toggle-events",[St(d,h=>{k5(h,t)})])]),apis:{setGroups:(h,v)=>{g(h,v),px(h,t)},refresh:h=>px(h,t),toggle:h=>k5(h,t),isOpen:h=>bH(h,t)},domModification:{attributes:{role:"group"}}}},ty=Qc({name:"SplitSlidingToolbar",configFields:hH(),partFields:Ru(),factory:yH,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),Z8=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:te({tag:"div",classes:["tox-toolbar__group"]},s),components:[y5.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Vt([da.config({}),To.config({})])}},ny=t=>y5.sketch(Z8(t)),q8=(t,s)=>{const a=Dr(i=>{const d=Re(t.initGroups,ny);jf.setGroups(i,d)});return Vt([ud.toolbarButton(t.providers.isDisabled),rc(),fo.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Go("toolbar-events",[a])])},Fw=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Z8({title:E.none(),items:[]}),"overflow-button":_M({name:"more",icon:E.some("more-drawer"),enabled:!0,tooltip:E.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:E.none(),borderless:!1},E.none(),t.providers)},splitToolbarBehaviours:q8(t,s)}},vH=t=>{const s=Fw(t),a=4,i=j8.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return j8.sketch(pt(te({},s),{lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,g=Kc(d),h=pi(d),v=Kc(h),_=Math.max(h.dom.scrollHeight,v.height);return Or(g.x+a,v.y,g.width-a*2,_)},parts:pt(te({},s.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)}))},kH=t=>{const s=ty.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=ty.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),i=Fw(t);return ty.sketch(pt(te({},i),{components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([cx()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([cx()],{type:"closed"}),t.onToggled(d,!1)}}))},Nl=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return jf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===id.scrolling?["tox-toolbar--scrolling"]:[])},components:[jf.parts.groups({})],toolbarBehaviours:q8(t,s)})},G8=[Kp,ld,Cc("tooltip"),Vi("buttonType","secondary",["primary","secondary"]),Ea("borderless",!1),ki("onAction")],hx=[...G8,Pf,kd("type",["button"])],K8=[...G8,Ea("active",!1),kd("type",["togglebutton"])],w5={button:hx,togglebutton:K8},wH=[kd("type",["group"]),_i("buttons",[],fc("type",w5))],Y8=fc("type",pt(te({},w5),{group:wH})),_H=eo([_i("buttons",[],Y8),ki("onShow"),ki("onHide")]),CH=t=>Wr("view",_H,t),SH=(t,s)=>{var a,i;const d=t.type==="togglebutton",g=t.icon.map(gt=>ah(gt,s.icons)).map(nr),v=(()=>gt=>{const He=Xt=>{g.map(mn=>mn.getOpt(gt).each(ds=>{Ho.set(ds,[ah(Xt,s.icons)])}))},Nt=Xt=>{const mn=gt.element;Xt?(ya(mn,"tox-button--enabled"),pn(mn,"aria-pressed",!0)):(oa(mn,"tox-button--enabled"),re(mn,"aria-pressed"))},zt=()=>ol(gt.element,"tox-button--enabled");if(d)return t.onAction({setIcon:He,setActive:Nt,isActive:zt});if(t.type==="button")return t.onAction({setIcon:He})})(),_=pt(te({},t),{name:d?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:E.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless}),T=FA((i=t.buttonType)!==null&&i!==void 0?i:"secondary"),D=d?t.text.map(s.translate):E.some(s.translate(t.text)),N=D.map(Fr),B=_.tooltip.or(D).map(gt=>({"aria-label":s.translate(gt),title:s.translate(gt)})).getOr({}),V=g.map(gt=>gt.asSpec()),X=rv([V,N]),ye=t.icon.isSome()&&N.isSome(),tt={tag:"button",classes:T.concat(...t.icon.isSome()&&!ye?["tox-button--icon"]:[]).concat(...ye?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:B},Ee=[],Ce=HS(_,E.some(v),Ee,tt,X,s);return Vc.sketch(Ce)},X8=(t,s)=>SH(t,s),xH=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Re(t.buttons,a=>X8(a,s))}),J8=vl().deviceType,EH=J8.isPhone(),Q8=J8.isTablet(),e7=t=>{let s=!1;const a=Re(t.buttons,i=>i.type==="group"?(s=!0,xH(i,t.providers)):X8(i,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...EH||Q8?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Vt([To.config({}),fo.config({mode:"flow",selector:"button, .tox-button",focusInside:Nf.OnEnterOrSpaceMode})]),components:s?a:[If.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),If.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},t7=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}),TH=(t,s,a,i)=>{const d={getPane:g=>Tc.getPart(g,t,"pane"),getOnShow:g=>t.viewConfig.onShow,getOnHide:g=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,apis:d}};var oy=Qc({name:"silver.View",configFields:[_t("viewConfig")],partFields:[Rl({factory:{sketch:e7},schema:[_t("buttons"),_t("providers")],name:"header"}),Rl({factory:{sketch:t7},schema:[],name:"pane"})],factory:TH,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const n7=(t,s,a)=>as(s,(i,d)=>{const g=nc(CH(i));return t.slot(d,oy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[oy.parts.header({buttons:g.buttons,providers:a})]:[],oy.parts.pane({})]}))}),o7=(t,s)=>zi.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:n7(a,t,s),slotBehaviours:ov.unnamedEvents([Dr(i=>zi.hideAllSlots(i))])})),s7=t=>ee(zi.getSlotNames(t),s=>zi.isShowing(t,s)),AH=t=>{const s=t.element;Dn(s,"display","none"),pn(s,"aria-hidden","true")},OH=t=>{const s=t.element;q(s,"display"),re(s,"aria-hidden")},r7=t=>({getContainer:H(t)}),a7=(t,s,a)=>{zi.getSlot(t,s).each(i=>{oy.getPane(i).each(d=>{a(i)(r7(d.element.dom))})})},DH=(t,s)=>a7(t,s,oy.getOnShow),zH=(t,s)=>a7(t,s,oy.getOnHide);var bx=Hc({factory:(t,s)=>{const g={setViews:(h,v)=>{Ho.set(h,[o7(v,s.backstage.shared.providers)])},whichView:h=>ks.getCurrent(h).bind(s7),toggleView:(h,v,_,T)=>ks.getCurrent(h).exists(D=>{const N=s7(D),B=N.exists(X=>T===X),V=zi.getSlot(D,T).isSome();return V&&(zi.hideAllSlots(D),B?(AH(h),v()):(_(),OH(h),zi.showSlot(D,T),DH(D,T)),N.each(X=>zH(D,X))),V})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Vt([Ho.config({}),ks.config({find:h=>{const v=Ho.contents(h);return Mt(v)}})]),apis:g}},name:"silver.ViewWrapper",configFields:[_t("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,i,d)=>t.toggleView(s,a,i,d),whichView:(t,s)=>t.whichView(s)}});const RH=(t,s,a)=>{let i=!1;const d={getSocket:g=>Tc.getPart(g,t,"socket"),setSidebar:(g,h,v)=>{Tc.getPart(g,t,"sidebar").each(_=>D8(_,h,v))},toggleSidebar:(g,h)=>{Tc.getPart(g,t,"sidebar").each(v=>q9(v,h))},whichSidebar:g=>Tc.getPart(g,t,"sidebar").bind(G9).getOrNull(),getHeader:g=>Tc.getPart(g,t,"header"),getToolbar:g=>Tc.getPart(g,t,"toolbar"),setToolbar:(g,h)=>{Tc.getPart(g,t,"toolbar").each(v=>{const _=Re(h,ny);v.getApis().setGroups(v,_)})},setToolbars:(g,h)=>{Tc.getPart(g,t,"multiple-toolbar").each(v=>{const _=Re(h,T=>Re(T,ny));s8.setItems(v,_)})},refreshToolbar:g=>{Tc.getPart(g,t,"toolbar").each(v=>v.getApis().refresh(v))},toggleToolbarDrawer:g=>{Tc.getPart(g,t,"toolbar").each(h=>{fs(h.getApis().toggle,v=>v(h))})},toggleToolbarDrawerWithoutFocusing:g=>{Tc.getPart(g,t,"toolbar").each(h=>{fs(h.getApis().toggleWithoutFocusing,v=>v(h))})},isToolbarDrawerToggled:g=>Tc.getPart(g,t,"toolbar").bind(h=>E.from(h.getApis().isOpen).map(v=>v(h))).getOr(!1),getThrobber:g=>Tc.getPart(g,t,"throbber"),focusToolbar:g=>{Tc.getPart(g,t,"toolbar").orThunk(()=>Tc.getPart(g,t,"multiple-toolbar")).each(v=>{fo.focusIn(v)})},setMenubar:(g,h)=>{Tc.getPart(g,t,"menubar").each(v=>{l5.setMenus(v,h)})},focusMenubar:g=>{Tc.getPart(g,t,"menubar").each(h=>{l5.focus(h)})},setViews:(g,h)=>{Tc.getPart(g,t,"viewWrapper").each(v=>{bx.setViews(v,h)})},toggleView:(g,h)=>Tc.getPart(g,t,"viewWrapper").exists(v=>bx.toggleView(v,()=>d.showMainView(g),()=>d.hideMainView(g),h)),whichView:g=>Tc.getPart(g,t,"viewWrapper").bind(bx.whichView).getOrNull(),hideMainView:g=>{i=d.isToolbarDrawerToggled(g),i&&d.toggleToolbarDrawer(g),Tc.getPart(g,t,"editorContainer").each(h=>{const v=h.element;Dn(v,"display","none"),pn(v,"aria-hidden","true")})},showMainView:g=>{i&&d.toggleToolbarDrawer(g),Tc.getPart(g,t,"editorContainer").each(h=>{const v=h.element;q(v,"display"),re(v,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:d,behaviours:t.behaviours}},MH=Wf.optional({factory:l5,name:"menubar",schema:[_t("backstage")]}),NH=t=>t.type===id.sliding?kH:t.type===id.floating?vH:Nl,PH=Wf.optional({factory:{sketch:t=>s8.sketch({uid:t.uid,dom:t.dom,listBehaviours:Vt([fo.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>Nl({type:t.type,uid:Bn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),E.some(!0))}),setupItem:(s,a,i,d)=>{jf.setGroups(a,i)},shell:!0})},name:"multiple-toolbar",schema:[_t("dom"),_t("onEscape")]}),BH=Wf.optional({factory:{sketch:t=>{const s=NH(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),E.some(!0)),onToggled:(i,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[_t("dom"),_t("onEscape"),_t("getSink")]}),c7=Wf.optional({factory:{sketch:hZ},name:"header",schema:[_t("dom")]}),FH=Wf.optional({factory:{sketch:W9},name:"promotion",schema:[_t("dom")]}),$H=Wf.optional({name:"socket",schema:[_t("dom")]}),_5=Wf.optional({factory:{sketch:K9},name:"sidebar",schema:[_t("dom")]}),IH=Wf.optional({factory:{sketch:P8},name:"throbber",schema:[_t("dom")]}),yx=Wf.optional({factory:bx,name:"viewWrapper",schema:[_t("backstage")]}),LH=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),i7=Wf.optional({factory:{sketch:LH},name:"editorContainer",schema:[]});var Tr=Qc({name:"OuterContainer",factory:RH,configFields:[_t("dom"),_t("behaviours")],partFields:[c7,MH,BH,PH,$H,_5,FH,IH,yx,i7],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,i)=>{t.setSidebar(s,a,i)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const HH="file edit view insert format tools table help",VH={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},UH=(t,s,a)=>{const i=ID(a).split(/[ ,]/);return{text:t.title,getItems:()=>ae(t.items,d=>{const g=d.toLowerCase();return g.trim().length===0?[]:Yo(i,h=>h===g)?[]:g==="separator"||g==="|"?[{type:"separator"}]:s.menuItems[g]?[s.menuItems[g]]:[]})}},C5=t=>t.split(" "),vx=(t,s)=>{const a=te(te({},VH),s.menus),i=Un(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?C5(HH):C5(s.menubar===!1?"":s.menubar),g=no(d,v=>{const _=Oo(VH,v);return i?_||xt(s.menus,v).exists(T=>Oo(T,"items")):_}),h=Re(g,v=>{const _=a[v];return UH({title:_.title,items:C5(_.items)},s,t)});return no(h,v=>{const _=T=>Qe(T)||T.type!=="separator";return v.getItems().length>0&&Yo(v.getItems(),_)})},l7=t=>{const s=()=>{t._skinLoaded=!0,pF(t)};return()=>{t.initialized?s():t.on("init",s)}},kx=(t,s)=>()=>sw(t,{message:s}),S5=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),u7=(t,s)=>{const a=s+"/skin.min.css";return S5(t,a,t.ui.styleSheetLoader)},x5=(t,s)=>{if(io(ke.fromDom(t.getElement()))){const i=s+"/skin.shadowdom.min.css";return S5(t,i,Fk.DOM.styleSheetLoader)}else return Promise.resolve()},d7=(t,s)=>{const a=ez(s);return a&&s.contentCSS.push(a+(t?"/content.inline":"/content")+".min.css"),!DC(s)&&Qe(a)?Promise.all([u7(s,a),x5(s,a)]).then(l7(s),kx(s,"Skin could not be loaded")):Promise.resolve(l7(s)())},f7=Jt(d7,!1),Tv=Jt(d7,!0),m7=(t,s,a)=>{const i=(v,_,T,D)=>{const N=s.shared.providers.translate(v.title);if(v.type==="separator")return E.some({type:"separator",text:N});if(v.type==="submenu"){const B=ae(v.getStyleItems(),V=>d(V,_,D));return _===0&&B.length<=0?E.none():E.some({type:"nestedmenuitem",text:N,enabled:B.length>0,getSubmenuItems:()=>ae(v.getStyleItems(),V=>d(V,_,D))})}else return E.some(te({type:"togglemenuitem",text:N,icon:v.icon,active:v.isSelected(D),enabled:!T,onAction:a.onAction(v)},v.getStylePreview().fold(()=>({}),B=>({meta:{style:B}}))))},d=(v,_,T)=>{const D=v.type==="formatter"&&a.isInvalid(v);return _===0?D?[]:i(v,_,!1,T).toArray():i(v,_,D,T).toArray()},g=v=>{const _=a.getCurrentValue(),T=a.shouldHide?0:1;return ae(v,D=>d(D,T,_))};return{validateItems:g,getFetch:(v,_)=>(T,D)=>{const N=_(),B=g(N),V=bv(B,Id.CLOSE_ON_EXECUTE,v,{isHorizontalMenu:!1,search:E.none()});D(V)}}},Av=(t,s,a)=>{const i=a.dataset,d=i.type==="basic"?()=>Re(i.data,g=>WM(g,a.isSelectedFor,a.getPreviewFor)):i.getData;return{items:m7(t,s,a),getStyleItems:d}},$w=(t,s,a)=>{const{items:i,getStyleItems:d}=Av(t,s,a),g=v=>({getComponent:H(v)}),h=Pm(t,"NodeChange",v=>{const _=v.getComponent();a.updateText(_),Co.set(v.getComponent(),!t.selection.isEditable())});return zS({text:a.icon.isSome()?E.none():a.text,icon:a.icon,tooltip:E.from(a.tooltip),role:E.none(),fetch:i.getFetch(s,d),onSetup:h,getApi:g,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",s.shared)},WH=t=>Re(t,s=>{let a=s,i=s;const d=s.split("=");return d.length>1&&(a=d[0],i=d[1]),{title:a,format:i}}),E5=t=>({type:"basic",data:t});var Ov;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Ov||(Ov={}));const jH=(t,s)=>s===Ov.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),wx=(t,s,a)=>{const i=t.options.get(s);return{type:"basic",data:WH(jH(i,a))}},_x=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Iw=t=>{const s=()=>ee(_x,v=>t.formatter.match(v.format)),a=v=>()=>t.formatter.match(v),i=v=>E.none,d=v=>{const T=s().fold(H("left"),D=>D.title.toLowerCase());lo(v,ch,{icon:`align-${T}`})},g=E5(_x),h=v=>()=>ee(_x,_=>_.format===v.format).each(_=>t.execCommand(_.command));return{tooltip:"Align",text:E.none(),icon:E.some("align-left"),isSelectedFor:a,getCurrentValue:E.none,getPreviewFor:i,onAction:h,updateText:d,dataset:g,shouldHide:!1,isInvalid:v=>!t.formatter.canApply(v.format)}},T5=(t,s)=>$w(t,s,Iw(t)),ZH=(t,s)=>{const a=Av(t,s,Iw(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate("Align"),onSetup:Gi(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},g7=(t,s)=>{const a=s(),i=Re(a,d=>d.format);return E.from(t.formatter.closest(i)).bind(d=>ee(a,g=>g.format===d)).orThunk(()=>qn(t.formatter.match("p"),{title:"Paragraph",format:"p"}))},A5=t=>{const s="Paragraph",a=h=>()=>t.formatter.match(h),i=h=>()=>{const v=t.formatter.get(h);return v?E.some({tag:v.length>0&&(v[0].inline||v[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):E.none()},d=h=>{const _=g7(t,()=>g.data).fold(H(s),T=>T.title);lo(h,gd,{text:_})},g=wx(t,"block_formats",Ov.SemiColon);return{tooltip:"Blocks",text:E.some(s),icon:E.none(),isSelectedFor:a,getCurrentValue:E.none,getPreviewFor:i,onAction:u4(t),updateText:d,dataset:g,shouldHide:!1,isInvalid:h=>!t.formatter.canApply(h.format)}},qH=(t,s)=>$w(t,s,A5(t)),GH=(t,s)=>{const a=Av(t,s,A5(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Gi(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},KH=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],O5=t=>{const s=t.split(/\s*,\s*/);return Re(s,a=>a.replace(/^['"]+|['"]+$/g,""))},YH=t=>{const s=()=>{const a=O5(t.toLowerCase());return Ne(KH,i=>a.indexOf(i.toLowerCase())>-1)};return t.indexOf("-apple-system")===0&&s()},p7=t=>{const s="System Font",a=()=>{const T=X=>X?O5(X)[0]:"",D=t.queryCommandValue("FontName"),N=_.data,B=D?D.toLowerCase():"";return{matchOpt:ee(N,X=>{const ye=X.format;return ye.toLowerCase()===B||T(ye).toLowerCase()===T(B).toLowerCase()}).orThunk(()=>qn(YH(B),{title:s,format:B})),font:D}},i=T=>D=>D.exists(N=>N.format===T),d=()=>{const{matchOpt:T}=a();return T},g=T=>()=>E.some({tag:"div",styles:T.indexOf("dings")===-1?{"font-family":T}:{}}),h=T=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,T.format)})},v=T=>{const{matchOpt:D,font:N}=a(),B=D.fold(H(N),V=>V.title);lo(T,gd,{text:B})},_=wx(t,"font_family_formats",Ov.SemiColon);return{tooltip:"Fonts",text:E.some(s),icon:E.none(),isSelectedFor:i,getCurrentValue:d,getPreviewFor:g,onAction:h,updateText:v,dataset:_,shouldHide:!1,isInvalid:Se}},D5=(t,s)=>$w(t,s,p7(t)),XH=(t,s)=>{const a=Av(t,s,p7(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate("Fonts"),onSetup:Gi(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},JH={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},h7=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),i="\\.",d=v=>`(?:${v})?`,h=`[+-]?(?:${["Infinity",t+i+d(t)+d(a),i+t+d(a),t+d(a)].join("|")})`;return new RegExp(`^(${h})(.*)$`)})(),QH=(t,s)=>Yo(s,a=>Yo(JH[a],i=>t===i)),Lw=(t,s)=>E.from(h7.exec(t)).bind(i=>{const d=Number(i[1]),g=i[2];return QH(g,s)?E.some({value:d,unit:g}):E.none()}),eV=(t,s)=>Lw(t,s).map(({value:a,unit:i})=>a+i),z5={tab:H(9),escape:H(27),enter:H(13),backspace:H(8),delete:H(46),left:H(37),up:H(38),right:H(39),down:H(40),space:H(32),home:H(36),end:H(35),pageUp:H(33),pageDown:H(34)},tV=(t,s,a)=>{let i=E.none();const d=Ce=>Ce.map(gt=>hn.getValue(gt)).getOr(""),g=Pm(t,"NodeChange SwitchMode",Ce=>{const gt=Ce.getComponent();i=E.some(gt),a.updateInputValue(gt),Co.set(gt,!t.selection.isEditable())}),h=Ce=>({getComponent:H(Ce)}),v=bo(W),_=Bn("custom-number-input-events"),T=(Ce,gt,He)=>{const Nt=d(i),zt=a.getNewValue(Nt,Ce),Xt=Nt.length-`${zt}`.length,mn=i.map(Yn=>Yn.element.dom.selectionStart-Xt),ds=i.map(Yn=>Yn.element.dom.selectionEnd-Xt);a.onAction(zt,He),i.each(Yn=>{hn.setValue(Yn,zt),gt&&(mn.each(Wo=>Yn.element.dom.selectionStart=Wo),ds.each(Wo=>Yn.element.dom.selectionEnd=Wo))})},D=(Ce,gt)=>T((He,Nt)=>He-Nt,Ce,gt),N=(Ce,gt)=>T((He,Nt)=>He+Nt,Ce,gt),B=Ce=>zc(Ce.element).fold(E.none,gt=>(Zl(gt),E.some(!0))),V=Ce=>_p(Ce.element)?(hi(Ce.element).each(gt=>Zl(gt)),E.some(!0)):E.none(),X=(Ce,gt,He,Nt)=>{const zt=s.shared.providers.translate(He),Xt=Bn("altExecuting"),mn=Pm(t,"NodeChange SwitchMode",Yn=>{Co.set(Yn.getComponent(),!t.selection.isEditable())}),ds=Yn=>{Co.isDisabled(Yn)||Ce(!0)};return Vc.sketch({dom:{tag:"button",attributes:{title:zt,"aria-label":zt},classes:Nt.concat(gt)},components:[vA(gt,s.shared.providers.icons)],buttonBehaviours:Vt([Co.config({}),Go(Xt,[Pg({onSetup:mn,getApi:h},v),Bg({getApi:h},v),St(bu(),(Yn,Wo)=>{(Wo.event.raw.keyCode===z5.space()||Wo.event.raw.keyCode===z5.enter())&&(Co.isDisabled(Yn)||Ce(!1))}),St(im(),ds),St(ff(),ds)])]),eventOrder:{[bu()]:[Xt,"keying"],[im()]:[Xt,"alloy.base.behaviour"],[ff()]:[Xt,"alloy.base.behaviour"]}})},ye=nr(X(Ce=>D(!1,Ce),"minus","Decrease font size",["highlight-on-focus"])),tt=nr(X(Ce=>N(!1,Ce),"plus","Increase font size",["highlight-on-focus"])),Ee=nr({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Pb.sketch({inputBehaviours:Vt([Co.config({}),Go(_,[Pg({onSetup:g,getApi:h},v),Bg({getApi:h},v)]),Go("input-update-display-text",[St(gd,(Ce,gt)=>{hn.setValue(Ce,gt.event.text)}),St(_d(),Ce=>{a.onAction(hn.getValue(Ce))}),St(tg(),Ce=>{a.onAction(hn.getValue(Ce))})]),fo.config({mode:"special",onEnter:Ce=>(T(at,!0,!0),E.some(!0)),onEscape:B,onUp:Ce=>(N(!0,!1),E.some(!0)),onDown:Ce=>(D(!0,!1),E.some(!0)),onLeft:(Ce,gt)=>(gt.cut(),E.none()),onRight:(Ce,gt)=>(gt.cut(),E.none())})])})],behaviours:Vt([To.config({}),fo.config({mode:"special",onEnter:V,onSpace:V,onEscape:B}),Go("input-wrapper-events",[St(gc(),Ce=>{it([ye,tt],gt=>{const He=ke.fromDom(gt.get(Ce).element.dom);_p(He)&&a1(He)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[ye.asSpec(),Ee.asSpec(),tt.asSpec()],behaviours:Vt([To.config({}),fo.config({mode:"flow",focusInside:Nf.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ce=>_p(Ce.element)?E.none():(Zl(Ce.element),E.some(!0))})])}},nV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},oV={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},b7=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},sV=(t,s)=>/[0-9.]+px$/.test(t)?b7(parseInt(t,10)*72/96,s||0)+"pt":xt(oV,t).getOr(t),rV=t=>xt(nV,t).getOr(""),y7=t=>{const s=()=>{let _=E.none();const T=v.data,D=t.queryCommandValue("FontSize");if(D)for(let N=3;_.isNone()&&N>=0;N--){const B=sV(D,N),V=rV(B);_=ee(T,X=>X.format===D||X.format===B||X.format===V)}return{matchOpt:_,size:D}},a=_=>T=>T.exists(D=>D.format===_),i=()=>{const{matchOpt:_}=s();return _},d=H(E.none),g=_=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,_.format)})},h=_=>{const{matchOpt:T,size:D}=s(),N=T.fold(H(D),B=>B.title);lo(_,gd,{text:N})},v=wx(t,"font_size_formats",Ov.Space);return{tooltip:"Font sizes",text:E.some("12pt"),icon:E.none(),isSelectedFor:a,getPreviewFor:d,getCurrentValue:i,onAction:g,updateText:h,dataset:v,shouldHide:!1,isInvalid:Se}},R5=(t,s)=>$w(t,s,y7(t)),M5=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},aV=16,cV=t=>t>=0,iV=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:i=>lo(i,gd,{text:s()}),onAction:(i,d)=>t.execCommand("FontSize",!1,i,{skip_focus:!d}),getNewValue:(i,d)=>{Lw(i,["unsupportedLength","empty"]);const g=Lw(i,["unsupportedLength","empty"]).or(Lw(s(),["unsupportedLength","empty"])),h=g.map(D=>D.value).getOr(aV),v=jD(t),_=g.map(D=>D.unit).filter(D=>D!=="").getOr(v),T=d(h,M5(_).step);return`${cV(T)?T:h}${_}`}}},lV=(t,s)=>tV(t,s,iV(t)),uV=(t,s)=>{const a=Av(t,s,y7(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Gi(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},v7=(t,s)=>{const a="Paragraph",i=h=>()=>t.formatter.match(h),d=h=>()=>{const v=t.formatter.get(h);return v!==void 0?E.some({tag:v.length>0&&(v[0].inline||v[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):E.none()},g=h=>{const v=N=>WA(N)?ae(N.items,v):HM(N)?[{title:N.title,format:N.format}]:[],_=ae(GA(t),v),D=g7(t,H(_)).fold(H(a),N=>N.title);lo(h,gd,{text:D})};return{tooltip:"Formats",text:E.some(a),icon:E.none(),isSelectedFor:i,getCurrentValue:E.none,getPreviewFor:d,onAction:u4(t),updateText:g,shouldHide:b3(t),isInvalid:h=>!t.formatter.canApply(h.format),dataset:s}},dV=(t,s)=>{const a=te({type:"advanced"},s.styles);return $w(t,s,v7(t,a))},fV=(t,s)=>{const a=te({type:"advanced"},s.styles),i=Av(t,s,v7(t,a));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Gi(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},mV=H([_t("toggleClass"),_t("fetch"),_f("onExecute"),Ie("getHotspot",E.some),Ie("getAnchorOverrides",H({})),td(),_f("onItemExecute"),Hs("lazySink"),_t("dom"),vs("onOpen"),Ya("splitDropdownBehaviours",[wa,fo,To]),Ie("matchWidth",!1),Ie("useMinWidth",!1),Ie("eventOrder",{}),Hs("role")].concat(R4())),k7=Lc({factory:Vc,schema:[_t("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Vt([To.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(gm)},buttonBehaviours:Vt([ts.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),Cx=Lc({factory:Vc,schema:[_t("dom")],name:"button",defaults:()=>({buttonBehaviours:Vt([To.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),N5=H([k7,Cx,Rl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[_t("text")],name:"aria-descriptor"}),Yl({schema:[Kh()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(i=>{t.onItemExecute(i,s,a)})}})}),S6()]),w7=(t,s,a,i)=>{const d=D=>{ks.getCurrent(D).each(N=>{$s.highlightFirst(N),fo.focusIn(N)})},g=D=>{D4(t,at,D,i,d,ll.HighlightMenuAndItem).get(W)},h=D=>(g(D),E.some(!0)),v=D=>{const N=zf(D,t,"button");return gm(N),E.some(!0)},_=te(te({},Er([Dr((D,N)=>{hr(D,t,"aria-descriptor").each(V=>{const X=Bn("aria");pn(V.element,"id",X),pn(D.element,"aria-describedby",X)})})])),vC(E.some(g))),T={repositionMenus:D=>{ts.isOn(D)&&D6(D)}};return{uid:t.uid,dom:t.dom,components:s,apis:T,eventOrder:pt(te({},t.eventOrder),{[tl()]:["disabling","toggling","alloy.base.behaviour"]}),events:_,behaviours:sc(t.splitDropdownBehaviours,[wa.config({others:{sandbox:D=>{const N=zf(D,t,"arrow");return z4(t,D,{onOpen:()=>{ts.on(N),ts.on(D)},onClose:()=>{ts.off(N),ts.off(D)}})}}}),fo.config({mode:"special",onSpace:v,onEnter:v,onDown:h}),To.config({}),ts.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Zf=Qc({name:"SplitDropdown",configFields:mV(),partFields:N5(),factory:w7,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),P5=t=>({isEnabled:()=>!Co.isDisabled(t),setEnabled:s=>Co.set(t,!s),setText:s=>lo(t,gd,{text:s}),setIcon:s=>lo(t,ch,{icon:s})}),gV=t=>({setActive:s=>{ts.set(t,s)},isActive:()=>ts.isOn(t),isEnabled:()=>!Co.isDisabled(t),setEnabled:s=>Co.set(t,!s),setText:s=>lo(t,gd,{text:s}),setIcon:s=>lo(t,ch,{icon:s})}),_7=(t,s)=>t.map(a=>({"aria-label":s.translate(a),title:s.translate(a)})).getOr({}),C7=Bn("focus-button"),B5=(t,s,a,i,d)=>{const g=s.map(v=>nr(qR(v,"tox-tbtn",d))),h=t.map(v=>nr(ah(v,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:_7(a,d)},components:rv([h.map(v=>v.asSpec()),g.map(v=>v.asSpec())]),eventOrder:{[Ks()]:["focusing","alloy.base.behaviour",rh],[Ll()]:[rh,"toolbar-group-button-events"]},buttonBehaviours:Vt([ud.toolbarButton(d.isDisabled),rc(),Go(rh,[Dr((v,_)=>DS(v)),St(gd,(v,_)=>{g.bind(T=>T.getOpt(v)).each(T=>{Ho.set(T,[Fr(d.translate(_.event.text))])})}),St(ch,(v,_)=>{h.bind(T=>T.getOpt(v)).each(T=>{Ho.set(T,[ah(_.event.icon,d.icons)])})}),St(Ks(),(v,_)=>{_.event.prevent(),Ds(v,C7)})])].concat(i.getOr([])))}},pV=(t,s,a,i)=>{const d=s.shared,g=bo(W),h={toolbarButtonBehaviours:[],getApi:P5,onSetup:t.onSetup},v=[Go("toolbar-group-button-events",[Pg(h,g),Bg(h,g)])];return Gg.sketch({lazySink:d.getSink,fetch:()=>mi.nu(_=>{_(Re(a(t.items),ny))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:B5(t.icon,t.text,t.tooltip,E.some(v),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:i}}}})},S7=(t,s,a)=>{var i;const d=bo(W),g=B5(t.icon,t.text,t.tooltip,E.none(),a);return Vc.sketch({dom:g.dom,components:g.components,eventOrder:yA,buttonBehaviours:pt(te({},Vt([Go("toolbar-button-events",[jR({onAction:t.onAction,getApi:s.getApi}),Pg(s,d),Bg(s,d)]),ud.toolbarButton(()=>!t.enabled||a.isDisabled()),rc()].concat(s.toolbarButtonBehaviours))),{[rh]:(i=g.buttonBehaviours)===null||i===void 0?void 0:i[rh]})})},hV=(t,s)=>F5(t,s,[]),F5=(t,s,a)=>S7(t,{toolbarButtonBehaviours:a.length>0?[Go("toolbarButtonWith",a)]:[],getApi:P5,onSetup:t.onSetup},s),bV=(t,s)=>x7(t,s,[]),x7=(t,s,a)=>S7(t,{toolbarButtonBehaviours:[Ho.config({}),ts.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Go("toolbarToggleButtonWith",a)]:[]),getApi:gV,onSetup:t.onSetup},s),$5=(t,s,a)=>i=>mi.nu(d=>s.fetch(d)).map(d=>E.from(F4(rr(oS(Bn("menu-value"),d,g=>{s.onItemAction(t(i),g)},s.columns,s.presets,Id.CLOSE_ON_EXECUTE,s.select.getOr(Se),a),{movement:sS(s.columns,s.presets),menuBehaviours:ov.unnamedEvents(s.columns!=="auto"?[]:[Dr((g,h)=>{J3(g,4,iz(s.presets)).each(({numRows:v,numColumns:_})=>{fo.setGridSize(g,v,_)})})])})))),yV=(t,s)=>{const a=g=>({isEnabled:()=>!Co.isDisabled(g),setEnabled:h=>Co.set(g,!h),setIconFill:(h,v)=>{jr(g.element,`svg path[class="${h}"], rect[class="${h}"]`).each(_=>{pn(_,"fill",v)})},setActive:h=>{pn(g.element,"aria-pressed",h),jr(g.element,"span").each(v=>{g.getSystem().getByDom(v).each(_=>ts.set(_,h))})},isActive:()=>jr(g.element,"span").exists(h=>g.getSystem().getByDom(h).exists(ts.isOn)),setText:h=>jr(g.element,"span").each(v=>g.getSystem().getByDom(v).each(_=>lo(_,gd,{text:h}))),setIcon:h=>jr(g.element,"span").each(v=>g.getSystem().getByDom(v).each(_=>lo(_,ch,{icon:h})))}),i=bo(W),d={getApi:a,onSetup:t.onSetup};return Zf.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:te({"aria-pressed":!1},_7(t.tooltip,s.providers))},onExecute:g=>{const h=a(g);h.isEnabled()&&t.onAction(h)},onItemExecute:(g,h,v)=>{},splitDropdownBehaviours:Vt([ud.splitButton(s.providers.isDisabled),rc(),Go("split-dropdown-events",[Dr((g,h)=>DS(g)),St(C7,To.focus),Pg(d,i),Bg(d,i)]),lw.config({})]),eventOrder:{[Ll()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:$5(a,t,s.providers),parts:{menu:ev(!1,t.columns,t.presets)},components:[Zf.parts.button(B5(t.icon,t.text,E.none(),E.some([ts.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Zf.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:BD("chevron-down",s.providers.icons)},buttonBehaviours:Vt([ud.splitButton(s.providers.isDisabled),rc(),u3()])}),Zf.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},vV=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Hw=(t,s)=>(a,i,d)=>{const g=t(a).mapError(h=>gu(h)).getOrDie();return s(g,i,d)},kV={button:Hw(U3,(t,s)=>hV(t,s.shared.providers)),togglebutton:Hw(W3,(t,s)=>bV(t,s.shared.providers)),menubutton:Hw(i5,(t,s)=>Cw(t,"tox-tbtn",s,E.none(),!1)),splitbutton:Hw(H9,(t,s)=>yV(t,s.shared)),grouptoolbarbutton:Hw(_8,(t,s,a)=>{const i=a.ui.registry.getAll().buttons,d=h=>Sx(a,{buttons:i,toolbar:h,allowToolbarGroups:!1},s,E.none()),g={[f1]:s.shared.header.isPositionedAtTop()?zd.TopToBottom:zd.BottomToTop};switch(Y1(a)){case id.floating:return pV(t,s,d,g);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},wV=(t,s,a)=>xt(kV,t.type).fold(()=>(console.error("skipping button defined by",t),E.none()),i=>E.some(i(t,s,a))),E7={styles:dV,fontsize:R5,fontsizeinput:lV,fontfamily:D5,blocks:qH,align:T5},T7=t=>{const s=Re(vV,a=>{const i=no(a.items,d=>Oo(t,d)||Oo(E7,d));return{name:a.name,items:i}});return no(s,a=>a.items.length>0)},A7=t=>{const s=t.split("|");return Re(s,a=>({items:a.trim().split(" ")}))},O7=t=>Ot(t,s=>Oo(s,"name")&&Oo(s,"items")),_V=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?T7(a):Qe(s)?A7(s):O7(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},D7=(t,s,a,i,d,g)=>xt(s,a.toLowerCase()).orThunk(()=>g.bind(h=>Nn(h,v=>xt(s,v+a.toLowerCase())))).fold(()=>xt(E7,a.toLowerCase()).map(h=>h(t,d)),h=>h.type==="grouptoolbarbutton"&&!i?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),E.none()):wV(h,d,t)),Sx=(t,s,a,i)=>{const d=_V(s),g=Re(d,h=>{const v=ae(h.items,_=>_.trim().length===0?[]:D7(t,s.buttons,_,s.allowToolbarGroups,a,i).toArray());return{title:E.from(t.translate(h.name)),items:v}});return no(g,h=>h.items.length>0)},z7=(t,s,a,i)=>{const d=s.mainUi.outerContainer,g=a.toolbar,h=a.buttons;if(Ot(g,Qe)){const v=g.map(_=>{const T={toolbar:_,buttons:h,allowToolbarGroups:a.allowToolbarGroups};return Sx(t,T,i,E.none())});Tr.setToolbars(d,v)}else Tr.setToolbar(d,Sx(t,a,i,E.none()))},R7=vl(),M7=R7.os.isiOS()&&R7.os.version.major<=12,CV=(t,s)=>{const{uiMotherships:a}=s,i=t.dom;let d=t.getWin();const g=t.getDoc().documentElement,h=bo(cs(d.innerWidth,d.innerHeight)),v=bo(cs(g.offsetWidth,g.offsetHeight)),_=()=>{const B=h.get();(B.left!==d.innerWidth||B.top!==d.innerHeight)&&(h.set(cs(d.innerWidth,d.innerHeight)),i4(t))},T=()=>{const B=t.getDoc().documentElement,V=v.get();(V.left!==B.offsetWidth||V.top!==B.offsetHeight)&&(v.set(cs(B.offsetWidth,B.offsetHeight)),i4(t))},D=B=>{Qp(t,B)};i.bind(d,"resize",_),i.bind(d,"scroll",D);const N=Ep(ke.fromDom(t.getBody()),"load",T);t.on("hide",()=>{it(a,B=>{Dn(B.element,"display","none")})}),t.on("show",()=>{it(a,B=>{q(B.element,"display")})}),t.on("NodeChange",T),t.on("remove",()=>{N.unbind(),i.unbind(d,"resize",_),i.unbind(d,"scroll",D),d=null})},N7=(t,s,a)=>{Mm(t)&&lb(a.mainUi.mothership.element,a.popupUi.mothership),Pp(s,a.dialogUi.mothership)};var SV=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>f_(this,null,function*(){const{mainUi:g,uiMotherships:h}=s,v=bo(0),_=g.outerContainer;yield f7(t);const T=ke.fromDom(d.targetNode),D=Pt(qe(T));lb(T,g.mothership),N7(t,D,s),t.on("PostRender",()=>{Tr.setSidebar(_,a.sidebar,XD(t)),z7(t,s,a,i),v.set(t.getWin().innerWidth),Tr.setMenubar(_,vx(t,a)),Tr.setViews(_,a.views),CV(t,s)});const N=Tr.getSocket(_).getOrDie("Could not find expected socket element");if(M7){gr(N.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const ye=BR(()=>{t.dispatch("ScrollContent")},20),tt=Ei(N.element,"scroll",ye.throttle);t.on("remove",tt.unbind)}Iz(t,s),t.addCommand("ToggleSidebar",(ye,tt)=>{Tr.toggleSidebar(_,tt),t.dispatch("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",()=>{var ye;return(ye=Tr.whichSidebar(_))!==null&&ye!==void 0?ye:""}),t.addCommand("ToggleView",(ye,tt)=>{if(Tr.toggleView(_,tt)){const Ee=_.element;g.mothership.broadcastOn([Gl()],{target:Ee}),it(h,Ce=>{Ce.broadcastOn([Gl()],{target:Ee})}),zo(Tr.whichView(_))&&(t.focus(),t.nodeChanged(),Tr.refreshToolbar(_))}}),t.addQueryValueHandler("ToggleView",()=>{var ye;return(ye=Tr.whichView(_))!==null&&ye!==void 0?ye:""});const B=Y1(t),V=()=>{Tr.refreshToolbar(s.mainUi.outerContainer)};(B===id.sliding||B===id.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const ye=t.getWin().innerWidth;ye!==v.get()&&(V(),v.set(ye))});const X={setEnabled:ye=>{Lb(s,!ye)},isEnabled:()=>!Co.isDisabled(_)};return{iframeContainer:N.element.dom,editorContainer:_.element.dom,api:X}})});const I5=t=>/^[0-9\.]+(|px)$/i.test(""+t)?E.some(parseInt(""+t,10)):E.none(),L5=t=>Rt(t)?t+"px":t,xx=(t,s,a)=>{const i=s.filter(g=>t<g),d=a.filter(g=>t>g);return i.or(d).getOr(t)},xV=t=>{const s=TC(t),a=p3(t),i=h3(t);return I5(s).map(d=>xx(d,a,i))},EV=t=>xV(t).getOr(TC(t)),H5=t=>{const s=g3(t),a=Ik(t),i=G1(t);return I5(s).map(d=>xx(d,a,i))},TV=t=>H5(t).getOr(g3(t)),{ToolbarLocation:V5,ToolbarMode:P7}=lB,AV=40,OV=(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:h}=a,v=Fk.DOM,_=J1(t),T=jk(t),D=G1(t).or(H5(t)),N=i.shared.header,B=N.isPositionedAtTop,V=Y1(t),X=V===P7.sliding||V===P7.floating,ye=bo(!1),tt=()=>ye.get()&&!t.removed,Ee=go=>X?go.fold(H(0),_s=>_s.components().length>1?un(_s.components()[1].element):0):0,Ce=go=>{switch(v3(t)){case V5.auto:const _s=Tr.getToolbar(g.outerContainer),Qt=Ee(_s),Wn=un(go.element)-Qt,Bo=Ur(s);if(Bo.y>Wn)return"top";{const ho=pi(s),Vo=Math.max(ho.dom.scrollHeight,un(ho));return Bo.bottom<Vo-Wn||R().bottom<Bo.bottom-Wn?"bottom":"top"}case V5.bottom:return"bottom";case V5.top:default:return"top"}},gt=go=>{d.on(_s=>{Da.setModes(_s,[go]),N.setDockingMode(go);const Qt=B()?zd.TopToBottom:zd.BottomToTop;pn(_s.element,f1,Qt)})},He=()=>{d.on(go=>{const _s=D.getOrThunk(()=>{const Qt=I5(Zs(Cr(),"margin-left")).getOr(0);return ir(Cr())-ia(s).left+Qt});Dn(go.element,"max-width",_s+"px")})},Nt=go=>{d.on(_s=>{const Qt=Tr.getToolbar(g.outerContainer),Wn=Ee(Qt),Bo=Ur(s),{top:bs,left:ho}=zt(t,g.outerContainer.element).fold(()=>({top:B()?Math.max(Bo.y-un(_s.element)+Wn,0):Bo.bottom,left:Bo.x}),Vs=>{var Ri;const Zr=Ur(Vs),Fl=(Ri=Vs.dom.scrollTop)!==null&&Ri!==void 0?Ri:0,Zd=zs(Vs,Cr()),hh=Zd?Math.max(Bo.y-un(_s.element)+Wn,0):Bo.y-Zr.y+Fl-un(_s.element)+Wn;return{top:B()?hh:Bo.bottom,left:Zd?Bo.x:Bo.x-Zr.x}}),Vo={position:"absolute",left:Math.round(ho)+"px",top:Math.round(bs)+"px"},br=go.map(Vs=>{const Ri=Gc(),Zr=150,Fl=window.innerWidth-(ho-Ri.left);return{width:Math.max(Math.min(Vs,Fl),Zr)+"px"}}).getOr({});gr(g.outerContainer.element,te(te({},Vo),br))})},zt=(go,_s)=>Mm(go)?t5(_s):E.none(),Xt=()=>{it(h,go=>{go.broadcastOn([Dm()],{})})},mn=()=>{if(_)return E.none();if(ia(g.outerContainer.element).left+la(g.outerContainer.element)>=window.innerWidth-AV||zr(g.outerContainer.element,"width").isSome()){Dn(g.outerContainer.element,"position","absolute"),Dn(g.outerContainer.element,"left","0px"),q(g.outerContainer.element,"width");const _s=la(g.outerContainer.element);return E.some(_s)}else return E.none()},ds=go=>{if(!tt())return;_||He();const _s=_?E.none():mn();X&&Tr.refreshToolbar(g.outerContainer),_||Nt(_s),T&&d.on(go),Xt()},Yn=()=>_||!T||!tt()?!1:d.get().exists(go=>{const _s=N.getDockingMode(),Qt=Ce(go);return Qt!==_s?(gt(Qt),!0):!1});return{isVisible:tt,isPositionedAtTop:B,show:()=>{ye.set(!0),Dn(g.outerContainer.element,"display","flex"),v.addClass(t.getBody(),"mce-edit-focus"),it(h,go=>{q(go.element,"display")}),Yn(),Mm(t)?ds(go=>Da.isDocked(go)?Da.reset(go):Da.refresh(go)):ds(Da.refresh)},hide:()=>{ye.set(!1),Dn(g.outerContainer.element,"display","none"),v.removeClass(t.getBody(),"mce-edit-focus"),it(h,go=>{Dn(go.element,"display","none")})},update:ds,updateMode:()=>{Yn()&&ds(Da.reset)},repositionPopups:Xt}},B7=(t,s)=>{const a=Ur(t);return{pos:s?a.y:a.bottom,bounds:a}},DV=(t,s,a,i)=>{const d=bo(B7(s,a.isPositionedAtTop())),g=T=>{const{pos:D,bounds:N}=B7(s,a.isPositionedAtTop()),{pos:B,bounds:V}=d.get(),X=N.height!==V.height||N.width!==V.width;d.set({pos:D,bounds:N}),X&&i4(t,T),a.isVisible()&&(B!==D?a.update(Da.reset):X&&(a.updateMode(),a.repositionPopups()))};i||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Da.reset)),t.on("NodeChange keydown",T=>{requestAnimationFrame(()=>g(T))});let h=0;const v=Di(()=>a.update(Da.refresh),33);t.on("ScrollWindow",()=>{const T=Gc().left;T!==h&&(h=T,v.throttle()),a.updateMode()}),Mm(t)&&t.on("ElementScroll",T=>{a.update(Da.refresh)});const _=xp();_.set(Ep(ke.fromDom(t.getBody()),"load",T=>g(T.raw))),t.on("remove",()=>{_.clear()})};var RV=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>f_(this,null,function*(){const{mainUi:g}=s,h=Nr(),v=ke.fromDom(d.targetNode),_=OV(t,v,s,i,h),T=w3(t);yield Tv(t);const D=()=>{if(h.isSet()){_.show();return}h.set(Tr.getHeader(g.outerContainer).getOrDie());const B=RC(t);Mm(t)?(lb(v,g.mothership),lb(v,s.popupUi.mothership)):Pp(B,g.mothership),Pp(B,s.dialogUi.mothership),z7(t,s,a,i),Tr.setMenubar(g.outerContainer,vx(t,a)),_.show(),DV(t,v,_,T),t.nodeChanged()};t.on("show",D),t.on("hide",_.hide),T||(t.on("focus",D),t.on("blur",_.hide)),t.on("init",()=>{(t.hasFocus()||T)&&D()}),Iz(t,s);const N={show:D,hide:_.hide,setEnabled:B=>{Lb(s,!B)},isEnabled:()=>!Co.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:N}})});const MV=()=>{const t=Nr(),s=Nr(),a=Nr();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const g=t.get().map(v=>v.mothership),h=s.get().map(v=>v.mothership);return g.fold(()=>h.toArray(),v=>h.fold(()=>[v],_=>zs(v.element,_.element)?[v]:[v,_]))},lazyGetInOuterOrDie:(g,h)=>()=>a.get().bind(v=>h(v.outerContainer)).getOrDie(`Could not find ${g} element in OuterContainer`)}},F7="contexttoolbar-show",$7="contexttoolbar-hide",I7=t=>({hide:()=>Ds(t,ba()),getValue:()=>hn.getValue(t)}),U5=(t,s)=>St(hv,(a,i)=>{const d=t.get(a),g=I7(d);s.onAction(g,i.event.buttonApi)}),NV=(t,s,a)=>{const h=s.original,{primary:i}=h,d=d_(h,["primary"]),g=nc(U3(pt(te({},d),{type:"button",onAction:W})));return F5(g,a,[U5(t,s)])},PV=(t,s,a)=>{const h=s.original,{primary:i}=h,d=d_(h,["primary"]),g=nc(W3(pt(te({},d),{type:"togglebutton",onAction:W})));return x7(g,a,[U5(t,s)])},BV=t=>t.type==="contextformtogglebutton",Dv=(t,s,a)=>BV(s)?PV(t,s,a):NV(t,s,a),FV=(t,s,a)=>{const i=Re(s,h=>nr(Dv(t,h,a)));return{asSpecs:()=>Re(i,h=>h.asSpec()),findPrimary:h=>Nn(s,(v,_)=>v.primary?E.from(i[_]).bind(T=>T.getOpt(h)).filter($e(Co.isDisabled)):E.none())}},L7=(t,s)=>{const a=t.label.fold(()=>({}),g=>({"aria-label":g})),i=nr(Pb.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:Vt([fo.config({mode:"special",onEnter:g=>d.findPrimary(g).map(h=>(gm(h),!0)),onLeft:(g,h)=>(h.cut(),E.none()),onRight:(g,h)=>(h.cut(),E.none())})])})),d=FV(i,t.commands,s);return[{title:E.none(),items:[i.asSpec()]},{title:E.none(),items:d.asSpecs()}]},$V={renderContextForm:(t,s,a)=>Nl({type:t,uid:Bn("context-toolbar"),initGroups:L7(s,a),onEscape:E.none,cyclicKeying:!0,providers:a}),buildInitGroups:L7},H7=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,IV=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=gl(ke.fromDom(t.startContainer),t.startOffset).element;return(ms(a)?aa(a):E.some(a)).filter(wo).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},W5=t=>{const s=t.selection.getRng(),a=IV(s);if(t.inline){const i=Gc();return Or(i.left+a.left,i.top+a.top,a.width,a.height)}else{const i=Kc(ke.fromDom(t.getBody()));return Or(i.x+a.left,i.y+a.top,a.width,a.height)}},LV=(t,s)=>s.filter(a=>gs(a)&&ic(a)).map(Kc).getOrThunk(()=>W5(t)),j5=(t,s,a)=>{const i=Math.max(t.x+a,s.x),d=Math.min(t.right-a,s.right);return{x:i,width:d-i}},HV=(t,s,a,i,d,g)=>{const h=ke.fromDom(t.getContainer()),v=jr(h,".tox-editor-header").getOr(h),_=Ur(v),T=_.y>=s.bottom,D=i&&!T;if(t.inline&&D)return{y:Math.max(_.bottom+g,a.y),bottom:a.bottom};if(t.inline&&!D)return{y:a.y,bottom:Math.min(_.y-g,a.bottom)};const N=d==="line"?Ur(h):s;return D?{y:Math.max(_.bottom+g,a.y),bottom:Math.min(N.bottom-g,a.bottom)}:{y:Math.max(N.y+g,a.y),bottom:Math.min(_.y-g,a.bottom)}},V7=(t,s,a,i=0)=>{const d=em(window),g=Ur(ke.fromDom(t.getContentAreaContainer())),h=X1(t)||zC(t)||Wk(t),{x:v,width:_}=j5(g,d,i);if(t.inline&&!h)return Or(v,d.y,_,d.height);{const T=s.header.isPositionedAtTop(),{y:D,bottom:N}=HV(t,g,d,T,a,i);return Or(v,D,_,N-D)}},Vw=12,Z5={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},U7={maxHeightFunction:xf(),maxWidthFunction:L8()},VV=(t,s)=>{const a=t.selection.getRng(),i=gl(ke.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&zs(i.element,s)},UV=(t,s,a)=>{const i=zr(t,"position");Dn(t,"position",s);const d=a(t);return i.each(g=>Dn(t,"position",g)),d},W7=t=>t==="node",WV=(t,s,a,i,d)=>{const g=W5(t),h=i.lastElement().exists(v=>zs(a,v));if(VV(t,a))return h?$M:Wd;if(h)return UV(s,i.getMode(),()=>H7(g,Ur(s),-20)&&!i.isReposition()?RL:$M);{const v=i.getMode()==="fixed"?d.y+Gc().top:d.y,_=un(s)+Vw;return v+_<=g.y?Wd:Ow}},jV=(t,s,a,i)=>{const d=_=>(T,D,N,B,V)=>{const X=WV(t,B,_,a,V),ye=pt(te({},T),{y:V.y,height:V.height});return pt(te({},X(ye,D,N,B,V)),{alwaysFit:!0})},g=_=>W7(i)?[d(_)]:[];return s?{onLtr:_=>[hc,Ga,Sc,Zi,$r,xc].concat(g(_)),onRtl:_=>[hc,Sc,Ga,$r,Zi,xc].concat(g(_))}:{onLtr:_=>[xc,hc,Zi,Ga,$r,Sc].concat(g(_)),onRtl:_=>[xc,hc,$r,Sc,Zi,Ga].concat(g(_))}},j7=(t,s,a,i)=>s==="line"?{bubble:Ef(Vw,0,Z5),layouts:{onLtr:()=>[n1],onRtl:()=>[o1]},overrides:U7}:{bubble:Ef(0,Vw,Z5,1/Vw),layouts:jV(t,a,i,s),overrides:U7},q5=(t,s)=>{const a=no(s,g=>g.predicate(t.dom)),{pass:i,fail:d}=Xo(a,g=>g.type==="contexttoolbar");return{contextToolbars:i,contextForms:d}},ZV=t=>{if(t.length<=1)return t;{const s=g=>Yo(t,h=>h.position===g),a=g=>no(t,h=>h.position===g),i=s("selection"),d=s("node");if(i||d)if(d&&i){const g=a("node"),h=Re(a("selection"),v=>pt(te({},v),{position:"node"}));return g.concat(h)}else return a(i?"selection":"node");else return a("line")}},qV=t=>{if(t.length<=1)return t;{const s=i=>ee(t,d=>d.position===i);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(i=>i.position).fold(()=>[],i=>no(t,d=>d.position===i))}},GV=(t,s,a)=>{const i=q5(t,s);if(i.contextForms.length>0)return E.some({elem:t,toolbars:[i.contextForms[0]]});{const d=q5(t,a);if(d.contextForms.length>0)return E.some({elem:t,toolbars:[d.contextForms[0]]});if(i.contextToolbars.length>0||d.contextToolbars.length>0){const g=ZV(i.contextToolbars.concat(d.contextToolbars));return E.some({elem:t,toolbars:g})}else return E.none()}},Ex=(t,s,a)=>t(s)?E.none():ri(s,i=>{if(wo(i)){const{contextToolbars:d,contextForms:g}=q5(i,a.inNodeScope),h=g.length>0?g:qV(d);return h.length>0?E.some({elem:i,toolbars:h}):E.none()}else return E.none()},t),KV=(t,s)=>{const a=ke.fromDom(s.getBody()),i=h=>zs(h,a),d=h=>!i(h)&&!Ma(a,h),g=ke.fromDom(s.selection.getNode());return d(g)?E.none():GV(g,t.inNodeScope,t.inEditorScope).orThunk(()=>Ex(i,g,t))},Tx=(t,s)=>{const a={},i=[],d=[],g={},h={},v=(D,N)=>{const B=nc(Ez(N));a[D]=B,B.launch.map(V=>{g["form:"+D]=pt(te({},N.launch),{type:V.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(B)}})}),B.scope==="editor"?d.push(B):i.push(B),h[D]=B},_=(D,N)=>{VB(N).each(B=>{N.scope==="editor"?d.push(B):i.push(B),h[D]=B})},T=Un(t);return it(T,D=>{const N=t[D];N.type==="contextform"?v(D,N):N.type==="contexttoolbar"&&_(D,N)}),{forms:a,inNodeScope:i,inEditorScope:d,lookupTable:h,formNavigators:g}},Uw=Bn("forward-slide"),G5=Bn("backward-slide"),K5=Bn("change-slide-event"),Y5="tox-pop--resizing",YV=t=>{const s=bo([]);return sa.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),sa.getContent(a).each(i=>{q(i.element,"visibility")}),oa(a.element,Y5),q(a.element,"width")},inlineBehaviours:Vt([Go("context-toolbar-events",[rg(fp(),(a,i)=>{i.event.raw.propertyName==="width"&&(oa(a.element,Y5),q(a.element,"width"))}),St(K5,(a,i)=>{const d=a.element;q(d,"width");const g=ir(d);sa.setContent(a,i.event.contents),ya(d,Y5);const h=ir(d);Dn(d,"width",g+"px"),sa.getContent(a).each(v=>{i.event.focus.bind(_=>(Zl(_),ql(d))).orThunk(()=>(fo.focusIn(v),ed(qe(d))))}),setTimeout(()=>{Dn(a.element,"width",h+"px")},0)}),St(Uw,(a,i)=>{sa.getContent(a).each(d=>{s.set(s.get().concat([{bar:d,focus:ed(qe(a.element))}]))}),lo(a,K5,{contents:i.event.forwardContents,focus:E.none()})}),St(G5,(a,i)=>{Zn(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),lo(a,K5,{contents:Si(d.bar),focus:d.focus})})})]),fo.config({mode:"special",onEscape:a=>Zn(s.get()).fold(()=>t.onEscape(),i=>(Ds(a,G5),E.some(!0)))})]),lazySink:()=>$t.value(t.sink)})},X5="tox-pop--transition",XV=(t,s,a,i)=>{const d=i.backstage,g=d.shared,h=vl().deviceType.isTouch,v=Nr(),_=Nr(),T=Nr(),D=Bc(YV({sink:a,onEscape:()=>(t.focus(),E.some(!0))})),N=()=>{const Yn=T.get().getOr("node"),Wo=W7(Yn)?1:0;return V7(t,g,Yn,Wo)},B=()=>!t.removed&&!(h()&&d.isContextMenuOpen()),V=Yn=>_r(Jr(Yn,v.get(),zs),!0),X=()=>{if(B()){const Yn=N(),Wo=_r(T.get(),"node")?LV(t,v.get()):W5(t);return Yn.height<=0||!H7(Wo,Yn,.01)}else return!0},ye=()=>{v.clear(),_.clear(),T.clear(),sa.hide(D)},tt=()=>{if(sa.isOpen(D)){const Yn=D.element;q(Yn,"display"),X()?Dn(Yn,"display","none"):(_.set(0),sa.reposition(D))}},Ee=Yn=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Yn],behaviours:Vt([fo.config({mode:"acyclic"}),Go("pop-dialog-wrap-events",[Dr(Wo=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>fo.focusIn(Wo))}),xd(Wo=>{t.shortcuts.remove("ctrl+F9")})])])}),Ce=Ar(()=>Tx(s,Yn=>{const Wo=Nt([Yn]);lo(D,Uw,{forwardContents:Ee(Wo)})})),gt=(Yn,Wo)=>Sx(t,{buttons:Yn,toolbar:Wo.items,allowToolbarGroups:!1},i.backstage,E.some(["form:"])),He=(Yn,Wo)=>$V.buildInitGroups(Yn,Wo),Nt=Yn=>{const{buttons:Wo}=t.ui.registry.getAll(),Lo=Ce(),Ts=te(te({},Wo),Lo.formNavigators),go=Y1(t)===id.scrolling?id.scrolling:id.default,_s=we(Re(Yn,Qt=>Qt.type==="contexttoolbar"?gt(Ts,Qt):He(Qt,g.providers)));return Nl({type:go,uid:Bn("context-toolbar"),initGroups:_s,onEscape:E.none,cyclicKeying:!0,providers:g.providers})},zt=(Yn,Wo)=>{const Lo=Yn==="node"?g.anchors.node(Wo):g.anchors.cursor(),Ts=j7(t,Yn,h(),{lastElement:v.get,isReposition:()=>_r(_.get(),0),getMode:()=>Jc.getMode(a)});return rr(Lo,Ts)},Xt=(Yn,Wo)=>{if(ds.cancel(),!B())return;const Lo=Nt(Yn),Ts=Yn[0].position,go=zt(Ts,Wo);T.set(Ts),_.set(1);const _s=D.element;q(_s,"display"),V(Wo)||(oa(_s,X5),Jc.reset(a,D)),sa.showWithinBounds(D,Ee(Lo),{anchor:go,transition:{classes:[X5],mode:"placement"}},()=>E.some(N())),Wo.fold(v.clear,v.set),X()&&Dn(_s,"display","none")};let mn=!1;const ds=Di(()=>{if(!(!t.hasFocus()||t.removed||mn))if(ol(D.element,X5))ds.throttle();else{const Yn=Ce();KV(Yn,t).fold(ye,Wo=>{Xt(Wo.toolbars,E.some(Wo.elem))})}},17);t.on("init",()=>{t.on("remove",ye),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",tt),t.on("click keyup focus SetContent",ds.throttle),t.on($7,ye),t.on(F7,Yn=>{const Wo=Ce();xt(Wo.lookupTable,Yn.toolbarKey).each(Lo=>{Xt([Lo],qn(Yn.target!==t,Yn.target)),sa.getContent(D).each(fo.focusIn)})}),t.on("focusout",Yn=>{xC.setEditorTimeout(t,()=>{ql(a.element).isNone()&&ql(D.element).isNone()&&ye()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&ye()}),t.on("AfterProgressState",Yn=>{Yn.state?ye():t.hasFocus()&&ds.throttle()}),t.on("dragstart",()=>{mn=!0}),t.on("dragend drop",()=>{mn=!1}),t.on("NodeChange",Yn=>{ql(D.element).fold(ds.throttle,W)})})},Ax=t=>{it([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:dl(t,a.cmd),onSetup:Nm(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Gi(t),onAction:dl(t,"JustifyNone")})},J5=(t,s)=>{const a=()=>{const i=s.getOptions(t),d=s.getCurrent(t).map(s.hash),g=Nr();return Re(i,h=>({type:"togglemenuitem",text:s.display(h),onSetup:v=>{const _=D=>{D&&(g.on(N=>N.setActive(!1)),g.set(v)),v.setActive(D)};_(_r(d,s.hash(h)));const T=s.watcher(t,h,_);return()=>{g.clear(),T()}},onAction:()=>s.setCurrent(t,h)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:i=>i(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},Z7=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Uk,hash:s=>eV(s,["fixed","relative","empty"]).getOr(s),display:at,watcher:(s,a,i)=>s.formatter.formatChanged("lineheight",i,!1,{value:a}).unbind,getCurrent:s=>E.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:Gi(t),onMenuSetup:Gi(t)}),q7=t=>E.from(y3(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:H(a),hash:i=>en(i.customCode)?i.code:`${i.code}/${i.customCode}`,display:i=>i.title,watcher:(i,d,g)=>{var h;return i.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:(h=d.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:i=>{const d=ke.fromDom(i.selection.getNode());return el(d,g=>E.some(g).filter(wo).bind(h=>P(h,"lang").map(_=>{const T=P(h,"data-mce-lang").getOrUndefined();return{code:_,customCode:T,title:""}})))},setCurrent:(i,d)=>i.execCommand("Lang",!1,d),onToolbarSetup:i=>{const d=xp();return i.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",i.setActive,!0)),dd(d.clear,Gi(t)(i))},onMenuSetup:Gi(t)})),G7=t=>{J5(t,Z7(t)),q7(t).each(s=>J5(t,s))},JV=(t,s)=>{ZH(t,s),XH(t,s),fV(t,s),GH(t,s),uV(t,s)},K7=t=>Pm(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),QV=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:K7(t),onAction:dl(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Gi(t),onAction:dl(t,"indent")})},eU=t=>{QV(t)},Y7=(t,s)=>a=>{a.setActive(s.get());const i=d=>{s.set(d.state),a.setActive(d.state)};return t.on("PastePlainTextToggle",i),dd(()=>t.off("PastePlainTextToggle",i),Gi(t)(a))},tU=t=>{const s=bo(YD(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:Y7(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:Y7(t,s)})},Q5=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},Ww=t=>{Wg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Nm(t,s.name),onAction:Q5(t,s.name)})});for(let s=1;s<=6;s++){const a="h"+s;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:Nm(t,a),onAction:Q5(t,a)})}},nU=t=>{Wg.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:dl(t,s.action)})}),Wg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Gi(t),onAction:dl(t,s.action)})})},oU=t=>{Wg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:dl(t,s.action),onSetup:Nm(t,s.name)})})},sU=t=>{Ww(t),nU(t),oU(t)},X7=t=>{Wg.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:dl(t,s.action)})}),Wg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Gi(t),onAction:dl(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Gi(t),onAction:Q5(t,"code")})},rU=t=>{sU(t),X7(t)},jw=(t,s)=>Pm(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),aU=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:jw(t,"hasUndo"),onAction:dl(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:jw(t,"hasRedo"),onAction:dl(t,"redo")})},cU=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:jw(t,"hasUndo"),onAction:dl(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:jw(t,"hasRedo"),onAction:dl(t,"redo")})},iU=t=>{aU(t),cU(t)},lU=t=>Pm(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),uU=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:lU(t),onAction:dl(t,"mceToggleVisualAid")})},Zw=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:dl(t,"mceToggleVisualAid")})},J7=t=>{Zw(t),uU(t)},dU=(t,s)=>{Ax(t),rU(t),JV(t,s),iU(t),f6(t),J7(t),eU(t),G7(t),tU(t)},fU=t=>Qe(t)?t.split(/[ ,]/):t,eO=t=>s=>s.options.get(t),tO=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:Qe(a)||Ot(a,Qe)?{value:fU(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},nO=eO("contextmenu_never_use_native"),Q7=eO("contextmenu_avoid_overlap"),mU=t=>sy(t).length===0,sy=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:no(a,i=>Oo(s,i))},uh=(t,s)=>({type:"makeshift",x:t,y:s}),oO=(t,s,a)=>uh(t.x+s,t.y+a),sO=t=>t.type==="longpress"||t.type.indexOf("touch")===0,eN=t=>{if(sO(t)){const s=t.touches[0];return uh(s.pageX,s.pageY)}else return uh(t.pageX,t.pageY)},gU=t=>{if(sO(t)){const s=t.touches[0];return uh(s.clientX,s.clientY)}else return uh(t.clientX,t.clientY)},tN=(t,s)=>{const a=Fk.DOM.getPos(t);return oO(s,a.x,a.y)},pU=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?eN(s):tN(t.getContentAreaContainer(),gU(s)):nN(t),nN=t=>({type:"selection",root:ke.fromDom(t.selection.getNode())}),hU=t=>({type:"node",node:E.some(ke.fromDom(t.selection.getNode())),root:ke.fromDom(t.getBody())}),oN=(t,s,a)=>{switch(a){case"node":return hU(t);case"point":return pU(t,s);case"selection":return nN(t)}},bU=(t,s,a,i,d,g)=>{const h=a(),v=oN(t,s,g);bv(h,Id.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:E.none()}).map(_=>{s.preventDefault(),sa.showMenuAt(d,{anchor:v},{menu:{markers:Nb("normal")},data:_})})},sN={onLtr:()=>[hc,Ga,Sc,Zi,$r,xc,Wd,Ow,Aw,KS,Tw,Ew],onRtl:()=>[hc,Sc,Ga,$r,Zi,xc,Wd,Ow,Tw,Ew,Aw,KS]},Ox=12,rN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},aN=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const i=s.touches[0],d=a.getRng();return nT(t.getWin(),ob.domRange(d)).exists(h=>h.left<=i.clientX&&h.right>=i.clientX&&h.top<=i.clientY&&h.bottom>=i.clientY)}},rO=t=>{const s=t.selection.getRng(),a=()=>{xC.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),g()};t.once("touchend",a);const i=h=>{h.preventDefault(),h.stopImmediatePropagation()};t.on("mousedown",i,!0);const d=()=>g();t.once("longpresscancel",d);const g=()=>{t.off("touchend",a),t.off("longpresscancel",d),t.off("mousedown",i)}},yU=(t,s,a)=>{const i=oN(t,s,a);return te({bubble:Ef(0,a==="point"?Ox:0,rN),layouts:sN,overrides:{maxWidthFunction:L8(),maxHeightFunction:xf()}},i)},cN=(t,s,a,i,d,g,h)=>{const v=yU(t,s,g);bv(a,Id.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!0,search:E.none()}).map(_=>{s.preventDefault();const T=h?ll.HighlightMenuAndItem:ll.HighlightNone;sa.showMenuWithinBounds(d,{anchor:v},{menu:{markers:Nb("normal"),highlightOnOpen:T},data:_,type:"horizontal"},()=>E.some(V7(t,i.shared,g==="node"?"node":"selection"))),t.dispatch($7)})},vU=(t,s,a,i,d,g)=>{const h=vl(),v=h.os.isiOS(),_=h.os.isMacOS(),T=h.os.isAndroid(),D=h.deviceType.isTouch(),N=()=>!(T||v||_&&D),B=()=>{const V=a();cN(t,s,V,i,d,g,N())};if((_||v)&&g!=="node"){const V=()=>{rO(t),B()};aN(t,s)?V():(t.once("selectionchange",V),t.once("touchend",()=>t.off("selectionchange",V)))}else B()},iN=t=>Qe(t)?t==="|":t.type==="separator",zv={type:"separator"},aO=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(Qe(t))return t;switch(t.type){case"separator":return zv;case"submenu":return pt(te({type:"nestedmenuitem"},s(t)),{getSubmenuItems:()=>{const i=t.getSubmenuItems();return Qe(i)?i:Re(i,aO)}});default:const a=t;return pt(te({type:"menuitem"},s(a)),{onAction:ft(a.onAction)})}},lN=(t,s)=>{if(s.length===0)return t;const i=Zn(t).filter(d=>!iN(d)).fold(()=>[],d=>[zv]);return t.concat(i).concat(s).concat([zv])},kU=(t,s,a)=>{const i=bt(s,(d,g)=>xt(t,g.toLowerCase()).map(h=>{const v=h.update(a);if(Qe(v)&&ie(er(v)))return lN(d,v.split(" "));if(Ln(v)&&v.length>0){const _=Re(v,aO);return lN(d,_)}else return d}).getOrThunk(()=>d.concat([g])),[]);return i.length>0&&iN(i[i.length-1])&&i.pop(),i},wU=(t,s)=>s.ctrlKey&&!nO(t),_U=t=>t.type==="longpress"||Oo(t,"touches"),uN=(t,s)=>!_U(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),cO=(t,s)=>uN(t,s)?t.selection.getStart(!0):s.target,dN=(t,s)=>{const a=Q7(t),i=uN(t,s)?"selection":"point";if(ie(a)){const d=cO(t,s);return uv(ke.fromDom(d),a)?"node":i}else return i},CU=(t,s,a)=>{const d=vl().deviceType.isTouch,g=Bc(sa.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Vt([Go("dismissContextMenu",[St(fm(),(_,T)=>{ps.close(_),t.focus()})])])})),h=()=>sa.hide(g),v=_=>{if(nO(t)&&_.preventDefault(),wU(t,_)||mU(t))return;const T=dN(t,_),D=()=>{const B=cO(t,_),V=t.ui.registry.getAll(),X=sy(t);return kU(V.contextMenus,X,B)};(d()?vU:bU)(t,_,D,a,g,T)};t.on("init",()=>{const _="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(_,h),t.on("longpress contextmenu",v)})},iO=x.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),qw=t=>s=>s.translate(-t.left,-t.top),Dx=t=>s=>s.translate(t.left,t.top),Kg=t=>(s,a)=>bt(t,(i,d)=>d(i),cs(s,a)),zx=(t,s,a)=>t.fold(Kg([Dx(a),qw(s)]),Kg([qw(s)]),Kg([])),Rv=(t,s,a)=>t.fold(Kg([Dx(a)]),Kg([]),Kg([Dx(s)])),fN=(t,s,a)=>t.fold(Kg([]),Kg([qw(a)]),Kg([Dx(s),qw(a)])),lO=(t,s,a,i,d,g)=>{const h=Rv(t,d,g),v=Rv(s,d,g);return Math.abs(h.left-v.left)<=a&&Math.abs(h.top-v.top)<=i},SU=(t,s,a,i,d,g)=>{const h=Rv(t,d,g),v=Rv(s,d,g),_=Math.abs(h.left-v.left),T=Math.abs(h.top-v.top);return cs(_,T)},mN=(t,s,a)=>{const i=t.fold((d,g)=>({position:E.some("absolute"),left:E.some(d+"px"),top:E.some(g+"px")}),(d,g)=>({position:E.some("absolute"),left:E.some(d-a.left+"px"),top:E.some(g-a.top+"px")}),(d,g)=>({position:E.some("fixed"),left:E.some(d+"px"),top:E.some(g+"px")}));return te({right:E.none(),bottom:E.none()},i)},uO=(t,s,a)=>t.fold((i,d)=>Gw(i+s,d+a),(i,d)=>dh(i+s,d+a),(i,d)=>ry(i+s,d+a)),Rx=(t,s,a,i)=>{const d=(g,h)=>(v,_)=>{const T=g(s,a,i);return h(v.getOr(T.left),_.getOr(T.top))};return t.fold(d(fN,Gw),d(Rv,dh),d(zx,ry))},Gw=iO.offset,dh=iO.absolute,ry=iO.fixed,gN=(t,s)=>{const a=yr(t,s);return en(a)?NaN:parseInt(a,10)},xU=(t,s)=>{const a=t.element,i=gN(a,s.leftAttr),d=gN(a,s.topAttr);return isNaN(i)||isNaN(d)?E.none():E.some(cs(i,d))},EU=(t,s,a)=>{const i=t.element;pn(i,s.leftAttr,a.left+"px"),pn(i,s.topAttr,a.top+"px")},pN=(t,s)=>{const a=t.element;re(a,s.leftAttr),re(a,s.topAttr)},TU=(t,s,a,i)=>xU(t,s).fold(()=>a,d=>ry(d.left+i.left,d.top+i.top)),hN=(t,s,a,i,d,g)=>{const h=TU(t,s,a,i),v=s.mustSnap?dO(t,s,h,d,g):OU(t,s,h,d,g),_=zx(h,d,g);return EU(t,s,_),v.fold(()=>({coord:ry(_.left,_.top),extra:E.none()}),T=>({coord:T.output,extra:T.extra}))},AU=(t,s)=>{pN(t,s)},bN=(t,s,a,i)=>Nn(t,d=>{const g=d.sensor;return lO(s,g,d.range.left,d.range.top,a,i)?E.some({output:Rx(d.output,s,a,i),extra:d.extra}):E.none()}),dO=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return bN(g,a,i,d).orThunk(()=>bt(g,(_,T)=>{const D=T.sensor,N=SU(a,D,T.range.left,T.range.top,i,d);return _.deltas.fold(()=>({deltas:E.some(N),snap:E.some(T)}),B=>{const V=(N.left+N.top)/2,X=(B.left+B.top)/2;return V<=X?{deltas:E.some(N),snap:E.some(T)}:_})},{deltas:E.none(),snap:E.none()}).snap.map(_=>({output:Rx(_.output,a,i,d),extra:_.extra})))},OU=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return bN(g,a,i,d)},yN=(t,s,a)=>({coord:Rx(t.output,t.output,s,a),extra:t.extra});var DU=Object.freeze({__proto__:null,snapTo:(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=ma(t.element),h=Gc(g),v=n5(d),_=yN(i,h,v),T=mN(_.coord,h,v);Dt(d,T)}}});const Kw="data-initial-z-index",zU=t=>{aa(t.element).filter(wo).each(s=>{P(s,Kw).fold(()=>q(s,"z-index"),a=>Dn(s,"z-index",a)),re(s,Kw)})},RU=t=>{aa(t.element).filter(wo).each(s=>{zr(s,"z-index").each(a=>{pn(s,Kw,a)}),Dn(s,"z-index",Zs(t.element,"z-index"))})},vN=(t,s)=>{t.getSystem().addToGui(s),RU(s)},MU=t=>{zU(t),t.getSystem().removeFromGui(t)},kN=(t,s,a)=>t.getSystem().build(If.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var wN=xa("snaps",[_t("getSnapPoints"),vs("onSensor"),_t("leftAttr"),_t("topAttr"),Ie("lazyViewport",R),Ie("mustSnap",!1)]);const fO=[Ie("useFixed",Se),_t("blockerClass"),Ie("getTarget",at),Ie("onDrag",W),Ie("repositionTarget",!0),Ie("onDrop",W),Za("getBounds",R),wN],NU=t=>Hr(zr(t,"left"),zr(t,"top"),zr(t,"position"),(s,a,i)=>(i==="fixed"?ry:Gw)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=ia(t);return dh(s.left,s.top)}),PU=(t,s,a,i,d)=>{const g=d.bounds,h=Rv(s,a,i),v=jl(h.left,g.x,g.x+g.width-d.width),_=jl(h.top,g.y,g.y+g.height-d.height),T=dh(v,_);return s.fold(()=>{const D=fN(T,a,i);return Gw(D.left,D.top)},H(T),()=>{const D=zx(T,a,i);return ry(D.left,D.top)})},BU=(t,s,a,i,d,g,h)=>{const v=s.fold(()=>{const _=uO(a,g.left,g.top),T=zx(_,i,d);return ry(T.left,T.top)},_=>{const T=hN(t,_,a,g,i,d);return T.extra.each(D=>{_.onSensor(t,D)}),T.coord});return PU(t,v,i,d,h)},FU=(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=ma(t.element),h=Gc(g),v=n5(d),_=NU(d),T=BU(t,s.snaps,_,h,v,i,a),D=mN(T,h,v);Dt(d,D)}s.onDrag(t,d,i)},_N=(t,s)=>({bounds:t.getBounds(),height:ns(s.element),width:la(s.element)}),mO=(t,s,a,i,d)=>{const g=a.update(i,d),h=a.getStartData().getOrThunk(()=>_N(s,t));g.each(v=>{FU(t,s,h,v)})},CN=(t,s,a,i)=>{s.each(MU),a.snaps.each(g=>{AU(t,g)});const d=a.getTarget(t.element);i.reset(),a.onDrop(t,d)},Mx=t=>(s,a)=>{const i=d=>{a.setStartData(_N(s,d))};return Er([St(mf(),d=>{a.getStartData().each(()=>i(d))}),...t(s,a,i)])},$U=t=>Er([St(Ks(),t.forceDrop),St(Bh(),t.drop),St(qa(),(s,a)=>{t.move(a.event)}),St(ai(),t.delayDrop)]);var LU=Object.freeze({__proto__:null,getData:t=>E.from(cs(t.x,t.y)),getDelta:(t,s)=>cs(s.left-t.left,s.top-t.top)});const SN=(t,s,a)=>[St(Ks(),(i,d)=>{if(d.event.raw.button!==0)return;d.stop();const h=()=>CN(i,E.some(T),t,s),v=F6(h,200),_={drop:h,delayDrop:v.schedule,forceDrop:h,move:N=>{v.cancel(),mO(i,t,s,LU,N)}},T=kN(i,t.blockerClass,$U(_));(()=>{a(i),vN(i,T)})()})],ay=[...fO,Mr("dragger",{handlers:Mx(SN)})],xN=t=>Er([St(Ui(),t.forceDrop),St(ff(),t.drop),St(Ns(),t.drop),St(Qm(),(s,a)=>{t.move(a.event)})]),HU=t=>{const s=t[0];return E.some(cs(s.clientX,s.clientY))};var EN=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?HU(a):E.none()},getDelta:(t,s)=>cs(s.left-t.left,s.top-t.top)});const gO=(t,s,a)=>{const i=Nr(),d=g=>{CN(g,i.get(),t,s),i.clear()};return[St(Ui(),(g,h)=>{h.stop();const v=()=>d(g),_={drop:v,delayDrop:W,forceDrop:v,move:N=>{mO(g,t,s,EN,N)}},T=kN(g,t.blockerClass,xN(_));i.set(T),(()=>{a(g),vN(g,T)})()}),St(Qm(),(g,h)=>{h.stop(),mO(g,t,s,EN,h.event)}),St(ff(),(g,h)=>{h.stop(),d(g)}),St(Ns(),d)]},VU=[...fO,Mr("dragger",{handlers:Mx(gO)})],UU=(t,s,a)=>[...SN(t,s,a),...gO(t,s,a)],WU=[...fO,Mr("dragger",{handlers:Mx(UU)})];var jU=Object.freeze({__proto__:null,mouse:ay,touch:VU,mouseOrTouch:WU}),ZU=Object.freeze({__proto__:null,init:()=>{let t=E.none(),s=E.none();const a=()=>{t=E.none(),s=E.none()},i=(_,T)=>{const D=t.map(N=>_.getDelta(N,T));return t=E.some(T),D},d=(_,T)=>_.getData(T).bind(D=>i(_,D)),g=_=>{s=E.some(_)},h=()=>s,v=H({});return Wi({readState:v,reset:a,update:d,getStartData:h,setStartData:g})}});const cy=A0({branchKey:"mode",branches:jU,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:E.from(t.extra)})},state:ZU,apis:DU}),Nx=40,Yw=Nx/2,TN=(t,s,a,i,d,g)=>t.fold(()=>cy.snap({sensor:dh(a-Yw,i-Yw),range:cs(d,g),output:dh(E.some(a),E.some(i)),extra:{td:s}}),h=>{const v=a-Yw,_=i-Yw,T=Nx,D=Nx,N=h.element.dom.getBoundingClientRect();return cy.snap({sensor:dh(v,_),range:cs(T,D),output:dh(E.some(a-N.width/2),E.some(i-N.height/2)),extra:{td:s}})}),Mv=(t,s,a)=>{const i=(d,g)=>d.exists(h=>zs(h,g));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,g)=>{const h=g.td;i(s.get(),h)||(s.set(h),a(h))},mustSnap:!0}},AN=t=>nr(Vc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Vt([cy.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),lw.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),qU=(t,s)=>{const a=bo([]),i=bo([]),d=bo(!1),g=Nr(),h=Nr(),v=Xt=>{const mn=Kc(Xt);return TN(V.getOpt(s),Xt,mn.x,mn.y,mn.width,mn.height)},_=()=>Re(a.get(),Xt=>v(Xt)),T=Xt=>{const mn=Kc(Xt);return TN(X.getOpt(s),Xt,mn.right,mn.bottom,mn.width,mn.height)},D=()=>Re(i.get(),Xt=>T(Xt)),N=Mv(_,g,Xt=>{h.get().each(mn=>{t.dispatch("TableSelectorChange",{start:Xt,finish:mn})})}),B=Mv(D,h,Xt=>{g.get().each(mn=>{t.dispatch("TableSelectorChange",{start:mn,finish:Xt})})}),V=AN(N),X=AN(B),ye=Bc(V.asSpec()),tt=Bc(X.asSpec()),Ee=(Xt,mn,ds,Yn)=>{const Wo=mn.dom.getBoundingClientRect();q(Xt.element,"display");const Lo=Dc(ke.fromDom(t.getBody())).dom.innerHeight,Ts=ds(Wo),go=Yn(Wo,Lo);(Ts||go)&&Dn(Xt.element,"display","none")},Ce=(Xt,mn,ds,Yn)=>{const Wo=ds(mn);cy.snapTo(Xt,Wo),Ee(Xt,mn,go=>go[Yn]<0,(go,_s)=>go[Yn]>_s)},gt=Xt=>Ce(ye,Xt,v,"top"),He=()=>g.get().each(gt),Nt=Xt=>Ce(tt,Xt,T,"bottom"),zt=()=>h.get().each(Nt);vl().deviceType.isTouch()&&(t.on("TableSelectionChange",Xt=>{d.get()||(ka(s,ye),ka(s,tt),d.set(!0)),g.set(Xt.start),h.set(Xt.finish),Xt.otherCells.each(mn=>{a.set(mn.upOrLeftCells),i.set(mn.downOrRightCells),gt(Xt.start),Nt(Xt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{He(),zt()}),t.on("TableSelectionClear",()=>{d.get()&&(Ic(ye),Ic(tt),d.set(!1)),g.clear(),h.clear()}))};var pO=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const GU=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",KU=(t,s,a)=>{var i;const d=(i=s.delimiter)!==null&&i!==void 0?i:"\u203A",g=(T,D,N)=>Vc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":N,"aria-level":N+1}},components:[Fr(T)],action:B=>{t.focus(),t.selection.select(D),t.nodeChanged()},buttonBehaviours:Vt([ud.button(a.isDisabled),rc()])}),h=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Fr(` ${d} `)]}),v=T=>bt(T,(D,N,B)=>{const V=g(N.name,N.element,B);return B===0?D.concat([V]):D.concat([h(),V])},[]),_=T=>{const D=[];let N=T.length;for(;N-- >0;){const B=T[N];if(B.nodeType===1&&!GU(B)){const V=Ql(t,B);if(V.isDefaultPrevented()||D.push({name:V.name,element:B}),V.isPropagationStopped())break}}return D};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Vt([fo.config({mode:"flow",selector:"div[role=button]"}),Co.config({disabled:a.isDisabled}),rc(),da.config({}),Ho.config({}),Go("elementPathEvents",[Dr((T,D)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>fo.focusIn(T)),t.on("NodeChange",N=>{const B=_(N.parents),V=B.length>0?v(B):[];Ho.set(T,V)})})])]),components:[]}};var fh;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(fh||(fh={}));const YU=(t,s,a,i,d)=>{const g={height:xx(i+s.top,p3(t),h3(t))};return a===fh.Both&&(g.width=xx(d+s.left,Ik(t),G1(t))),g},ON=(t,s,a)=>{const i=ke.fromDom(t.getContainer()),d=YU(t,s,a,un(i),ir(i));to(d,(g,h)=>{Rt(g)&&Dn(i,h,L5(g))}),XC(t)},XU=t=>{const s=KD(t);return s===!1?fh.None:s==="both"?fh.Both:fh.Vertical},Px=(t,s,a,i)=>{const g=cs(a*20,i*20);return ON(t,g,s),E.some(!0)},JU=(t,s)=>{const a=XU(t);if(a===fh.None)return E.none();const i=a===fh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return E.some($d("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:s.translate("Resize"),"aria-label":s.translate(i)},behaviours:[cy.config({mode:"mouse",repositionTarget:!1,onDrag:(d,g,h)=>ON(t,h,a),blockerClass:"tox-blocker"}),fo.config({mode:"special",onLeft:()=>Px(t,a,-1,0),onRight:()=>Px(t,a,1,0),onUp:()=>Px(t,a,0,-1),onDown:()=>Px(t,a,0,1)}),da.config({}),To.config({})]},s.icons))},QU=(t,s)=>{const a=(i,d,g)=>Ho.set(i,[Fr(s.translate(["{0} "+g,d[g]]))]);return Vc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Vt([ud.button(s.isDisabled),rc(),da.config({}),Ho.config({}),hn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Go("wordcount-events",[yu(i=>{const d=hn.getValue(i),g=d.mode==="words"?"characters":"words";hn.setValue(i,{mode:g,count:d.count}),a(i,d.count,g)}),Dr(i=>{t.on("wordCountUpdate",d=>{const{mode:g}=hn.getValue(i);hn.setValue(i,{mode:g,count:d.wordCount}),a(i,d.wordCount,g)})})])]),eventOrder:{[tl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},eW=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Au.translate(["Powered by {0}","Tiny"])},innerHtml:pO.trim()},behaviours:Vt([To.config({})])}]}),i=()=>{const v=t4("Alt+0"),_="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Fr(Au.translate([_,v]))]}},d=()=>{const v=[];return t.hasPlugin("wordcount")&&v.push(QU(t,s)),Vk(t)&&v.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:v}},g=()=>{const v=[],_=QD(t),T=GD(t),D=Vk(t)||t.hasPlugin("wordcount"),N=()=>{const B="tox-statusbar__text-container--flex-start",V="tox-statusbar__text-container--flex-end",X="tox-statusbar__text-container--space-around";if(_){const ye="tox-statusbar__text-container-3-cols";return!D&&!T?[ye,X]:D&&!T?[ye,V]:[ye,B]}return[D&&!T?V:B]};return T&&v.push(KU(t,{},s)),_&&v.push(i()),D&&v.push(d()),v.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...N()]},components:v}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const v=g(),_=JU(t,s);return v.concat(_.toArray())})()}},DN=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),tW=(t,s)=>{const a=t.inline,i=a?RV:SV,d=jk(t)?$9:y9,g=MV(),h=Nr(),v=Nr(),_=Nr(),B=vl().deviceType.isTouch()?["tox-platform-touch"]:[],V=E3(t),X=Y1(t),ye=nr({dom:{tag:"div",classes:["tox-anchorbar"]}}),tt=nr({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Ee=()=>g.mainUi.get().map(ho=>ho.outerContainer).bind(Tr.getHeader),Ce=()=>$t.fromOption(g.dialogUi.get().map(ho=>ho.sink),"UI has not been rendered"),gt=()=>$t.fromOption(g.popupUi.get().map(ho=>ho.sink),"(popup) UI has not been rendered"),He=g.lazyGetInOuterOrDie("anchor bar",ye.getOpt),Nt=g.lazyGetInOuterOrDie("bottom anchor bar",tt.getOpt),zt=g.lazyGetInOuterOrDie("toolbar",Tr.getToolbar),Xt=g.lazyGetInOuterOrDie("throbber",Tr.getThrobber),mn=f9({popup:gt,dialog:Ce},t,He,Nt),ds=()=>{const ho={attributes:{[f1]:V?zd.BottomToTop:zd.TopToBottom}},Vo=Tr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:mn.popup,onEscape:()=>{t.focus()}}),br=Tr.parts.toolbar(te({dom:{tag:"div",classes:["tox-toolbar"]},getSink:mn.popup.shared.getSink,providers:mn.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Qg=>{l4(t,Qg)},type:X,lazyToolbar:zt,lazyHeader:()=>Ee().getOrDie("Could not find header element")},ho)),Vs=Tr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:mn.popup.shared.providers,onEscape:()=>{t.focus()},type:X}),Ri=Wk(t),Zr=zC(t),Fl=X1(t),Zd=JD(t),hh=Yn(),bh=Ri||Zr||Fl,by=()=>Ri?[Vs]:Zr?[br]:[],yh=Zd?[hh,Vo]:[Vo];return Tr.parts.header({dom:te({tag:"div",classes:["tox-editor-header"].concat(bh?[]:["tox-editor-header--empty"])},ho),components:we([Fl?yh:[],by(),J1(t)?[]:[ye.asSpec()]]),sticky:jk(t),editor:t,sharedBackstage:mn.popup.shared})},Yn=()=>Tr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Wo=()=>{const ho=Tr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Vo=Tr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ho,Vo]}},Lo=()=>{const ho=RC(t),Vo=zs(Cr(),ho)&&Zs(ho,"display")==="grid",br={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(B),attributes:te({},Au.isRtl()?{dir:"rtl"}:{})},behaviours:Vt([Jc.config({useFixed:()=>d.isDocked(Ee)})])},Vs={dom:{styles:{width:document.body.clientWidth+"px"}},events:Er([St(Xu(),Fl=>{Dn(Fl.element,"width",document.body.clientWidth+"px")})])},Ri=Bc(rr(br,Vo?Vs:{})),Zr=I4(Ri);return v.set(Zr),{sink:Ri,mothership:Zr}},Ts=()=>{const ho={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(B),attributes:te({},Au.isRtl()?{dir:"rtl"}:{})},behaviours:Vt([Jc.config({useFixed:()=>d.isDocked(Ee),getBounds:()=>s.getPopupSinkBounds()})])},Vo=Bc(ho),br=I4(Vo);return _.set(br),{sink:Vo,mothership:br}},go=()=>{const ho=ds(),Vo=Wo(),br=Tr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:mn.popup}),Vs=Tr.parts.viewWrapper({backstage:mn.popup}),Ri=S3(t)&&!a?E.some(eW(t,mn.popup.shared.providers)):E.none(),Zr=we([V?[]:[ho],a?[]:[Vo],V?[ho]:[]]),Fl=Tr.parts.editorContainer({components:we([Zr,a?[]:[tt.asSpec(),...Ri.toArray()]])}),Zd=T3(t),hh=te(te({role:"application"},Au.isRtl()?{dir:"rtl"}:{}),Zd?{"aria-hidden":"true"}:{}),bh=Bc(Tr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(V?["tox-tinymce--toolbar-bottom"]:[]).concat(B),styles:te({visibility:"hidden"},Zd?{opacity:"0",border:"0"}:{}),attributes:hh},components:[Fl,...a?[]:[Vs],br],behaviours:Vt([rc(),Co.config({disableClass:"tox-tinymce--disabled"}),fo.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),by=I4(bh);return h.set(by),{mothership:by,outerContainer:bh}},_s=ho=>{const Vo=L5(EV(t)),br=L5(TV(t));return t.inline||(Pi("div","width",br)&&Dn(ho.element,"width",br),Pi("div","height",Vo)?Dn(ho.element,"height",Vo):Dn(ho.element,"height","400px")),Vo},Qt=ho=>{t.addShortcut("alt+F9","focus menubar",()=>{Tr.focusMenubar(ho)}),t.addShortcut("alt+F10","focus toolbar",()=>{Tr.focusToolbar(ho)}),t.addCommand("ToggleToolbarDrawer",(Vo,br)=>{br!=null&&br.skipFocus?Tr.toggleToolbarDrawerWithoutFocusing(ho):Tr.toggleToolbarDrawer(ho)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Tr.isToolbarDrawerToggled(ho))},Wn=ho=>{const{mainUi:Vo,popupUi:br,uiMotherships:Vs}=ho;Jn(LD(t),(PO,Lv)=>{t.ui.registry.addGroupToolbarButton(Lv,PO)});const{buttons:Ri,menuItems:Zr,contextToolbars:Fl,sidebars:Zd,views:hh}=t.ui.registry.getAll(),bh=x3(t),by={menuItems:Zr,menus:Gp(t),menubar:VD(t),toolbar:bh.getOrThunk(()=>Hk(t)),allowToolbarGroups:X===id.floating,buttons:Ri,sidebar:Zd,views:hh};Qt(Vo.outerContainer),m9(t,Vo.mothership,Vs),d.setup(t,mn.popup.shared,Ee),dU(t,mn.popup),CU(t,mn.popup.shared.getSink,mn.popup),Pw(t),sH(t,Xt,mn.popup.shared),XV(t,Fl,br.sink,{backstage:mn.popup}),qU(t,br.sink);const yh=t.getElement(),Qg=_s(Vo.outerContainer),NO={targetNode:yh,height:Qg};return i.render(t,ho,by,mn.popup,NO)},Bo=ho=>(_.set(ho.mothership),ho),bs=()=>{const ho=go(),Vo=Lo(),br=Mm(t)?Ts():Bo(Vo);g.dialogUi.set(Vo),g.popupUi.set(br),g.mainUi.set(ho);const Vs={popupUi:br,dialogUi:Vo,mainUi:ho,uiMotherships:g.getUiMotherships()};return Wn(Vs)};return{popups:{backstage:mn.popup,getMothership:()=>DN("popups",_)},dialogs:{backstage:mn.dialog,getMothership:()=>DN("dialogs",v)},renderUI:bs}},nW=(t,s)=>{const a=P(t,"id").fold(()=>{const i=Bn("dialog-label");return pn(s,"id",i),i},at);pn(t,"aria-labelledby",a)},oW=H([_t("lazySink"),Hs("dragBlockClass"),Za("getBounds",R),Ie("useTabstopAt",De),Ie("firstTabstop",0),Ie("eventOrder",{}),Ya("modalBehaviours",[fo]),xi("onExecute"),k0("onEscape")]),hO={sketch:at},sW=H([Rl({name:"draghandle",overrides:(t,s)=>({behaviours:Vt([cy.config({mode:"mouse",getTarget:a=>kf(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Lc({schema:[_t("dom")],name:"title"}),Lc({factory:hO,schema:[_t("dom")],name:"close"}),Lc({factory:hO,schema:[_t("dom")],name:"body"}),Rl({factory:hO,schema:[_t("dom")],name:"footer"}),Yl({factory:{sketch:(t,s)=>pt(te({},t),{dom:s.dom,components:s.components})},schema:[Ie("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ie("components",[])],name:"blocker"})]),rW=(t,s,a,i)=>{const d=Nr(),g=V=>{d.set(V);const X=t.lazySink(V).getOrDie(),ye=i.blocker(),tt=X.getSystem().build(pt(te({},ye),{components:ye.components.concat([Si(V)]),behaviours:Vt([To.config({}),Go("dialog-blocker-events",[rg(Pc(),()=>{nu.isBlocked(V)?W():fo.focusIn(V)})])])}));ka(X,tt),fo.focusIn(V)},h=V=>{d.clear(),aa(V.element).each(X=>{V.getSystem().getByDom(X).each(ye=>{Ic(ye)})})},v=V=>zf(V,t,"body"),_=V=>hr(V,t,"footer"),T=(V,X)=>{nu.block(V,X)},D=V=>{nu.unblock(V)},N=Bn("modal-events"),B=pt(te({},t.eventOrder),{[Ll()]:[N].concat(t.eventOrder["alloy.system.attached"]||[])});return{uid:t.uid,dom:t.dom,components:s,apis:{show:g,hide:h,getBody:v,getFooter:_,setIdle:D,setBusy:T},eventOrder:B,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:sc(t.modalBehaviours,[Ho.config({}),fo.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),nu.config({getRoot:d.get}),Go(N,[Dr(V=>{nW(V.element,zf(V,t,"title").element)})])])}},Ia=Qc({name:"ModalDialog",configFields:oW(),partFields:sW(),factory:rW,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),aW=eo([$a,VC].concat($b)),cW=Qi,bO=[V3("button"),ld,Vi("align","end",["start","end"]),tv,Ld,Nh("buttonType",["primary","secondary"])],zN=[...bO,Pf],yO=[kd("type",["submit","cancel","custom"]),...zN],iW=[kd("type",["menu"]),Kp,Ng,ld,Ii("items",aW),...bO],RN=[...bO,kd("type",["togglebutton"]),ga("tooltip"),ld,Kp,Ea("active",!1)],lW=fc("type",{submit:yO,cancel:yO,custom:yO,menu:iW,togglebutton:RN}),uW=[$a,Pf,kd("level",["info","warn","error","success"]),F3,Ie("url","")],dW=eo(uW),fW=t=>[$a,t],mW=[$a,Pf,Ld,V3("button"),ld,L3,Nh("buttonType",["primary","secondary","toolbar"]),tv],vO=eo(mW),iy=[$a,VC],qf=iy.concat([I3]),gW=iy.concat([B3,Ld]),pW=eo(gW),hW=Qi,bW=qf.concat([jC("auto")]),yW=eo(bW),vW=Zu([Bb,Pf,F3]),kW=qf.concat([Hi("storageKey","default")]),wW=eo(kW),_W=tc,CW=eo(qf),SW=tc,xW=iy.concat([Hi("tag","textarea"),ga("scriptId"),ga("scriptUrl"),cm("settings",void 0)]),EW=iy.concat([Hi("tag","textarea"),ki("init")]),TW=Cl(t=>Wr("customeditor.old",vr(EW),t).orThunk(()=>Wr("customeditor.new",vr(xW),t))),AW=tc,DW=eo(qf),zW=qu(),RW=t=>[$a,Mh("columns"),t],MW=[$a,ga("html"),Vi("presets","presentation",["presentation","document"])],NW=eo(MW),PW=qf.concat([Ea("border",!1),Ea("sandboxed",!0),Ea("streamContent",!1),Ea("transparent",!0)]),BW=eo(PW),FW=tc,MN=eo(iy.concat([Cc("height")])),NN=eo([ga("url"),af("zoom"),af("cachedWidth"),af("cachedHeight")]),ly=qf.concat([Cc("inputMode"),Cc("placeholder"),Ea("maximized",!1),Ld]),$W=eo(ly),kO=tc,Bx=t=>[$a,B3,t,Vi("align","start",["start","center","end"])],IW=[Pf,Bb],LW=[Pf,Ii("items",Sl("items",()=>PN))],PN=wn([eo(IW),eo(LW)]),HW=qf.concat([Ii("items",PN),Ld]),VW=eo(HW),uy=tc,BN=qf.concat([Sy("items",[Pf,Bb]),wi("size",1),Ld]),UW=eo(BN),WW=tc,jW=qf.concat([Ea("constrain",!0),Ld]),ZW=eo(jW),FN=eo([ga("width"),ga("height")]),qW=iy.concat([B3,wi("min",0),wi("max",0)]),GW=eo(qW),KW=mu,wO=[$a,Ii("header",tc),Ii("cells",fu(tc))],Xw=eo(wO),_O=qf.concat([Cc("placeholder"),Ea("maximized",!1),Ld]),Fx=eo(_O),dy=tc,Jw=[kd("type",["directory","leaf"]),UC,ga("id"),pu("menu",Nw)],CO=eo(Jw),$N=Jw.concat([Ii("children",Sl("children",()=>rf("type",{directory:SO,leaf:CO})))]),SO=eo($N),YW=rf("type",{directory:SO,leaf:CO}),XW=[$a,Ii("items",YW),cf("onLeafAction"),cf("onToggleExpand"),_i("defaultExpandedIds",[],tc),Cc("defaultSelectedId")],JW=eo(XW),IN=qf.concat([Vi("filetype","file",["image","media","file"]),Ld]),LN=eo(IN),xO=eo([Bb,H3]),EO=t=>mc("items","items",Ms(),fu(Cl(s=>Wr(`Checking item of ${t}`,TO,s).fold(a=>$t.error(gu(a)),a=>$t.value(a))))),TO=ja(()=>rf("type",{alertbanner:dW,bar:eo(fW(EO("bar"))),button:vO,checkbox:pW,colorinput:wW,colorpicker:CW,dropzone:DW,grid:eo(RW(EO("grid"))),iframe:BW,input:$W,listbox:VW,selectbox:UW,sizeinput:ZW,slider:GW,textarea:Fx,urlinput:LN,customeditor:TW,htmlpanel:NW,imagepreview:MN,collection:yW,label:eo(Bx(EO("label"))),table:Xw,tree:JW,panel:AO})),QW=[$a,Ie("classes",[]),Ii("items",TO)],AO=eo(QW),ej=[V3("tab"),UC,Ii("items",TO)],tj=[$a,Sy("tabs",ej)],nj=eo(tj),OO=zN,DO=lW,oj=eo([ga("title"),pr("body",rf("type",{panel:AO,tabpanel:nj})),Hi("size","normal"),_i("buttons",[],DO),Ie("initialData",{}),Za("onAction",W),Za("onChange",W),Za("onSubmit",W),Za("onClose",W),Za("onCancel",W),Za("onTabChange",W)]),HN=t=>Wr("dialog",oj,t),sj=eo([kd("type",["cancel","custom"]),...OO]),rj=eo([ga("title"),ga("url"),af("height"),af("width"),xy("buttons",sj),Za("onAction",W),Za("onCancel",W),Za("onClose",W),Za("onMessage",W)]),VN=t=>Wr("dialog",rj,t),zO=t=>yn(t)?[t].concat(ae(wr(t),zO)):Ln(t)?ae(t,zO):[],aj=t=>Qe(t.type)&&Qe(t.name),fy={checkbox:hW,colorinput:_W,colorpicker:SW,dropzone:zW,input:kO,iframe:FW,imagepreview:NN,selectbox:WW,sizeinput:FN,slider:KW,listbox:uy,size:FN,textarea:dy,urlinput:xO,customeditor:AW,collection:vW,togglemenuitem:cW},UN=t=>E.from(fy[t.type]),cj=t=>no(zO(t),aj),$x=t=>{const s=cj(t),a=ae(s,i=>UN(i).fold(()=>[],d=>[pr(i.name,d)]));return eo(a)},my=t=>{var s;const a=nc(HN(t)),i=$x(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:i,initialData:d}},Lm={open:(t,s)=>{const a=my(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=nc(VN(s));return t(a)},redial:t=>my(t)};var Ix=Object.freeze({__proto__:null,events:(t,s)=>{const a=(i,d)=>{t.updateState.each(g=>{const h=g(i,d);s.set(h)}),t.renderComponents.each(g=>{const h=g(d,s.get());(t.reuseDom?YT:fD)(i,h)})};return Er([St(Cd(),(i,d)=>{const g=d;if(!g.universal){const h=t.channel;uo(g.channels,h)&&a(i,g.data)}}),Dr((i,d)=>{t.initialData.each(g=>{a(i,g)})})])}}),Lx=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),WN=[_t("channel"),Hs("renderComponents"),Hs("updateState"),Hs("initialData"),Ea("reuseDom",!0)],uj=Object.freeze({__proto__:null,init:()=>{const t=bo(E.none()),s=()=>t.set(E.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const Mu=Ec({fields:WN,name:"reflecting",active:Ix,apis:Lx,state:uj}),Yg=t=>{const s=[],a={};return to(t,(i,d)=>{i.fold(()=>{s.push(d)},g=>{a[d]=g})}),s.length>0?$t.error(s):$t.value(a)},MZ=(t,s,a)=>{const i=nr(Yb.sketch(d=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Re(t.items,g=>IA(d,g,s,a))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[i.asSpec()]}],behaviours:Vt([fo.config({mode:"acyclic",useTabstopAt:$e(bw)}),Ud.memento(i),OR(i,{postprocess:d=>Yg(d).fold(g=>(console.error(g),{}),at)}),Go("dialog-body-panel",[St(Pc(),(d,g)=>{d.getSystem().broadcastOn([pv],{newFocus:E.some(g.event.target)})})])])}},dj=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:vC(t.action),behaviours:sc(t.tabButtonBehaviours,[To.config({}),fo.config({mode:"execution",useSpace:!0,useEnter:!0}),hn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),jN=Hc({name:"TabButton",configFields:[Ie("uid",void 0),_t("value"),mc("dom","dom",rs(()=>({attributes:{role:"tab",id:Bn("aria"),"aria-selected":"false"}})),si()),Hs("action"),Ie("domModification",{}),Ya("tabButtonBehaviours",[To,fo,hn]),_t("view")],factory:dj}),Nv=H([_t("tabs"),_t("dom"),Ie("clickToDismiss",!1),Ya("tabbarBehaviours",[$s,fo]),al(["tabClass","selectedClass"])]),Hx=il({factory:jN,name:"tabs",unit:"tab",overrides:t=>{const s=(i,d)=>{$s.dehighlight(i,d),lo(i,zy(),{tabbar:i,button:d})},a=(i,d)=>{$s.highlight(i,d),lo(i,Dy(),{tabbar:i,button:d})};return{action:i=>{const d=i.getSystem().getByUid(t.uid).getOrDie(),g=$s.isHighlighted(d,i);(()=>g&&t.clickToDismiss?s:g?W:a)()(d,i)},domModification:{classes:[t.markers.tabClass]}}}}),ZN=H([Hx]),fj=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:sc(t.tabbarBehaviours,[$s.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,g)=>{pn(g.element,"aria-selected","true")},onDehighlight:(d,g)=>{pn(g.element,"aria-selected","false")}}),fo.config({mode:"flow",getInitial:d=>$s.getHighlighted(d).map(g=>g.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),qN=Qc({name:"Tabbar",configFields:Nv(),partFields:ZN(),factory:fj}),mj=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:sc(t.tabviewBehaviours,[Ho.config({})]),domModification:{attributes:{role:"tabpanel"}}}),gj=Hc({name:"Tabview",configFields:[Ya("tabviewBehaviours",[Ho])],factory:mj}),Pv=H([Ie("selectFirst",!0),vs("onChangeTab"),vs("onDismissTab"),Ie("tabs",[]),Ya("tabSectionBehaviours",[])]),NZ=Lc({factory:qN,schema:[_t("dom"),Gu("markers",[_t("tabClass"),_t("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),pj=Lc({factory:gj,name:"tabview"}),hj=H([NZ,pj]),PZ=(t,s,a,i)=>{const d=h=>{const v=hn.getValue(h);hr(h,t,"tabview").each(_=>{ee(t.tabs,D=>D.value===v).each(D=>{const N=D.view();P(h.element,"id").each(B=>{pn(_.element,"aria-labelledby",B)}),Ho.set(_,N),t.onChangeTab(_,h,N)})})},g=(h,v)=>{hr(h,t,"tabbar").each(_=>{v(_).each(gm)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Cu(t.tabSectionBehaviours),events:Er(we([t.selectFirst?[Dr((h,v)=>{g(h,$s.getFirst)})]:[],[St(Dy(),(h,v)=>{const _=v.event.button;d(_)}),St(zy(),(h,v)=>{const _=v.event.button;t.onDismissTab(h,_)})]])),apis:{getViewItems:h=>hr(h,t,"tabview").map(v=>Ho.contents(v)).getOr([]),showTab:(h,v)=>{g(h,T=>{const D=$s.getCandidates(T);return ee(D,B=>hn.getValue(B)===v).filter(B=>!$s.isHighlighted(T,B))})}}}},Bv=Qc({name:"TabSection",configFields:Pv(),partFields:hj(),factory:PZ,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),bj=(t,s,a)=>Re(t,(i,d)=>{Ho.set(a,t[d].view());const g=s.dom.getBoundingClientRect();return Ho.set(a,[]),g.height}),Qw=t=>Mt(xe(t,(s,a)=>s>a?-1:s<a?1:0)),yj=(t,s,a)=>{const i=pi(t).dom,d=kf(t,".tox-dialog-wrap").getOr(t),g=Zs(d,"position")==="fixed";let h;g?h=Math.max(i.clientHeight,window.innerHeight):h=Math.max(i.offsetHeight,i.scrollHeight);const v=un(s),T=s.dom.offsetLeft>=a.dom.offsetLeft+ir(a)?Math.max(un(a),v):v,D=parseInt(Zs(t,"margin-top"),10)||0,N=parseInt(Zs(t,"margin-bottom"),10)||0,V=un(t)+D+N-T;return h-V},vj=(t,s)=>{Mt(t).each(a=>Bv.showTab(s,a.value))},RO=(t,s)=>{Dn(t,"height",s+"px"),Dn(t,"flex-basis",s+"px")},Vx=(t,s,a)=>{kf(t,'[role="dialog"]').each(i=>{jr(i,'[role="tablist"]').each(d=>{a.get().map(g=>(Dn(s,"height","0"),Dn(s,"flex-basis","0"),Math.min(g,yj(i,s,d)))).each(g=>{RO(s,g)})})})},GN=t=>jr(t,'[role="tabpanel"]'),e=t=>{const s=Nr();return{extraEvents:[Dr(d=>{const g=d.element;GN(g).each(h=>{Dn(h,"visibility","hidden"),d.getSystem().getByDom(h).toOptional().each(v=>{const _=bj(t,h,v);Qw(_).fold(s.clear,s.set)}),Vx(g,h,s),q(h,"visibility"),vj(t,d),requestAnimationFrame(()=>{Vx(g,h,s)})})}),St(Xu(),d=>{const g=d.element;GN(g).each(h=>{Vx(g,h,s)})}),St(H4,(d,g)=>{const h=d.element;GN(h).each(v=>{const _=ed(qe(v));Dn(v,"visibility","hidden");const T=zr(v,"height").map(B=>parseInt(B,10));q(v,"height"),q(v,"flex-basis");const D=v.dom.getBoundingClientRect().height;T.forall(B=>D>B)?(s.set(D),Vx(h,v,s)):T.each(B=>{RO(v,B)}),q(v,"visibility"),_.each(Zl)})})],selectFirst:!1}},n="send-data-to-section",o="send-data-to-view",r=(t,s,a)=>{const i=bo({}),d=T=>{const D=hn.getValue(T),N=Yg(D).getOr({}),B=i.get(),V=rr(B,N);i.set(V)},g=T=>{const D=i.get();hn.setValue(T,D)},h=bo(null),v=Re(t.tabs,T=>({value:T.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Fr(a.shared.providers.translate(T.title))],view:()=>[Yb.sketch(D=>({dom:{tag:"div",classes:["tox-form"]},components:Re(T.items,N=>IA(D,N,s,a)),formBehaviours:Vt([fo.config({mode:"acyclic",useTabstopAt:$e(bw)}),Go("TabView.form.events",[Dr(g),xd(d)]),Xc.config({channels:_o([{key:n,value:{onReceive:d}},{key:o,value:{onReceive:g}}])})])}))]})),_=e(v);return Bv.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(T,D,N)=>{const B=hn.getValue(D);lo(T,q6,{name:B,oldName:h.get()}),h.set(B)},tabs:v,components:[Bv.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[qN.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Vt([da.config({})])}),Bv.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:Vt([Go("tabpanel",_.extraEvents),fo.config({mode:"acyclic"}),ks.config({find:T=>Mt(Bv.getViewItems(T))}),Vg(E.none(),T=>(T.getSystem().broadcastOn([n],{}),i.get()),(T,D)=>{i.set(D),T.getSystem().broadcastOn([o],{})})])})},c=(t,s,a,i,d)=>{const g=_=>{const T=_.body;switch(T.type){case"tabpanel":return[r(T,_.initialData,i)];default:return[MZ(T,_.initialData,i)]}},h=(_,T)=>E.some({isTabPanel:()=>T.body.type==="tabpanel"}),v={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:te(te({},a.map(_=>({id:_})).getOr({})),d?v:{})},components:[],behaviours:Vt([Ud.childAt(0),Mu.config({channel:`${TS}-${s}`,updateState:h,renderComponents:g,initialData:t})])}},u=(t,s,a,i,d)=>c(t,s,E.some(a),i,d),m=(t,s,a)=>{const i=c(t,s,E.none(),a,!1);return Ia.parts.body(i)},b=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[gA(E.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Vt([da.config({}),To.config({})])})]}],behaviours:Vt([fo.config({mode:"acyclic",useTabstopAt:$e(bw)})])};return Ia.parts.body(s)};function k(t){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},k(t)}function S(t,s){return S=Object.setPrototypeOf||function(i,d){return i.__proto__=d,i},S(t,s)}function z(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function M(t,s,a){return z()?M=Reflect.construct:M=function(d,g,h){var v=[null];v.push.apply(v,g);var _=Function.bind.apply(d,v),T=new _;return h&&S(T,h.prototype),T},M.apply(null,arguments)}function I(t){return Q(t)||se(t)||K(t)||Te()}function Q(t){if(Array.isArray(t))return oe(t)}function se(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K(t,s){if(t){if(typeof t=="string")return oe(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return oe(t,s)}}function oe(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,i=new Array(s);a<s;a++)i[a]=t[a];return i}function Te(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ze=Object.hasOwnProperty,Me=Object.setPrototypeOf,Ue=Object.isFrozen,At=Object.getPrototypeOf,sn=Object.getOwnPropertyDescriptor,Kt=Object.freeze,Je=Object.seal,nt=Object.create,Bt=typeof Reflect!="undefined"&&Reflect,Vn=Bt.apply,ro=Bt.construct;Vn||(Vn=function(s,a,i){return s.apply(a,i)}),Kt||(Kt=function(s){return s}),Je||(Je=function(s){return s}),ro||(ro=function(s,a){return M(s,I(a))});var jo=os(Array.prototype.forEach),ls=os(Array.prototype.pop),Is=os(Array.prototype.push),ar=os(String.prototype.toLowerCase),_a=os(String.prototype.match),La=os(String.prototype.replace),vc=os(String.prototype.indexOf),jt=os(String.prototype.trim),_n=os(RegExp.prototype.test),Os=Kn(TypeError);function os(t){return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),d=1;d<a;d++)i[d-1]=arguments[d];return Vn(t,s,i)}}function Kn(t){return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return ro(t,a)}}function Zt(t,s){Me&&Me(t,null);for(var a=s.length;a--;){var i=s[a];if(typeof i=="string"){var d=ar(i);d!==i&&(Ue(s)||(s[a]=d),i=d)}t[i]=!0}return t}function Ut(t){var s=nt(null),a;for(a in t)Vn(ze,t,[a])&&(s[a]=t[a]);return s}function yo(t,s){for(;t!==null;){var a=sn(t,s);if(a){if(a.get)return os(a.get);if(typeof a.value=="function")return os(a.value)}t=At(t)}function i(d){return console.warn("fallback value for",d),null}return i}var hs=Kt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xs=Kt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fn=Kt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),us=Kt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),sr=Kt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fa=Kt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),dr=Kt(["#text"]),Ac=Kt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),su=Kt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pl=Kt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nu=Kt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mh=Je(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gy=Je(/<%[\w\W]*|[\w\W]*%>/gm),gh=Je(/^data-[\-\w.\u00B7-\uFFFF]/),ph=Je(/^aria-[\-\w]+$/),Ux=Je(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Wx=Je(/^(?:\w+script|data):/i),jx=Je(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),e_=Je(/^html$/i),t_=function(){return typeof window=="undefined"?null:window},n_=function(s,a){if(k(s)!=="object"||typeof s.createPolicy!="function")return null;var i=null,d="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(d)&&(i=a.currentScript.getAttribute(d));var g="dompurify"+(i?"#"+i:"");try{return s.createPolicy(g,{createHTML:function(v){return v}})}catch(h){return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function Fv(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t_(),s=function(mt){return Fv(mt)};if(s.version="2.3.8",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;var a=t.document,i=t.document,d=t.DocumentFragment,g=t.HTMLTemplateElement,h=t.Node,v=t.Element,_=t.NodeFilter,T=t.NamedNodeMap,D=T===void 0?t.NamedNodeMap||t.MozNamedAttrMap:T,N=t.HTMLFormElement,B=t.DOMParser,V=t.trustedTypes,X=v.prototype,ye=yo(X,"cloneNode"),tt=yo(X,"nextSibling"),Ee=yo(X,"childNodes"),Ce=yo(X,"parentNode");if(typeof g=="function"){var gt=i.createElement("template");gt.content&&gt.content.ownerDocument&&(i=gt.content.ownerDocument)}var He=n_(V,a),Nt=He?He.createHTML(""):"",zt=i,Xt=zt.implementation,mn=zt.createNodeIterator,ds=zt.createDocumentFragment,Yn=zt.getElementsByTagName,Wo=a.importNode,Lo={};try{Lo=Ut(i).documentMode?i.documentMode:{}}catch(ys){}var Ts={};s.isSupported=typeof Ce=="function"&&Xt&&typeof Xt.createHTMLDocument!="undefined"&&Lo!==9;var go=mh,_s=gy,Qt=gh,Wn=ph,Bo=Wx,bs=jx,ho=Ux,Vo=null,br=Zt({},[].concat(I(hs),I(Xs),I(Fn),I(sr),I(dr))),Vs=null,Ri=Zt({},[].concat(I(Ac),I(su),I(Pl),I(Nu))),Zr=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fl=null,Zd=null,hh=!0,bh=!0,by=!1,yh=!1,Qg=!1,NO=!1,PO=!1,Lv=!1,JN=!1,QN=!1,IZ=!0,_j=!0,BO=!1,Gx={},Kx=null,LZ=Zt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),HZ=null,VZ=Zt({},["audio","video","img","source","image","track"]),Cj=null,UZ=Zt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Sj="http://www.w3.org/1998/Math/MathML",xj="http://www.w3.org/2000/svg",Hv="http://www.w3.org/1999/xhtml",eP=Hv,Ej=!1,Yx,dq=["application/xhtml+xml","text/html"],fq="text/html",u_,Xx=null,mq=i.createElement("form"),WZ=function(mt){return mt instanceof RegExp||mt instanceof Function},Tj=function(mt){Xx&&Xx===mt||((!mt||k(mt)!=="object")&&(mt={}),mt=Ut(mt),Vo="ALLOWED_TAGS"in mt?Zt({},mt.ALLOWED_TAGS):br,Vs="ALLOWED_ATTR"in mt?Zt({},mt.ALLOWED_ATTR):Ri,Cj="ADD_URI_SAFE_ATTR"in mt?Zt(Ut(UZ),mt.ADD_URI_SAFE_ATTR):UZ,HZ="ADD_DATA_URI_TAGS"in mt?Zt(Ut(VZ),mt.ADD_DATA_URI_TAGS):VZ,Kx="FORBID_CONTENTS"in mt?Zt({},mt.FORBID_CONTENTS):LZ,Fl="FORBID_TAGS"in mt?Zt({},mt.FORBID_TAGS):{},Zd="FORBID_ATTR"in mt?Zt({},mt.FORBID_ATTR):{},Gx="USE_PROFILES"in mt?mt.USE_PROFILES:!1,hh=mt.ALLOW_ARIA_ATTR!==!1,bh=mt.ALLOW_DATA_ATTR!==!1,by=mt.ALLOW_UNKNOWN_PROTOCOLS||!1,yh=mt.SAFE_FOR_TEMPLATES||!1,Qg=mt.WHOLE_DOCUMENT||!1,Lv=mt.RETURN_DOM||!1,JN=mt.RETURN_DOM_FRAGMENT||!1,QN=mt.RETURN_TRUSTED_TYPE||!1,PO=mt.FORCE_BODY||!1,IZ=mt.SANITIZE_DOM!==!1,_j=mt.KEEP_CONTENT!==!1,BO=mt.IN_PLACE||!1,ho=mt.ALLOWED_URI_REGEXP||ho,eP=mt.NAMESPACE||Hv,mt.CUSTOM_ELEMENT_HANDLING&&WZ(mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Zr.tagNameCheck=mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),mt.CUSTOM_ELEMENT_HANDLING&&WZ(mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Zr.attributeNameCheck=mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),mt.CUSTOM_ELEMENT_HANDLING&&typeof mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Zr.allowCustomizedBuiltInElements=mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Yx=dq.indexOf(mt.PARSER_MEDIA_TYPE)===-1?Yx=fq:Yx=mt.PARSER_MEDIA_TYPE,u_=Yx==="application/xhtml+xml"?function(Qn){return Qn}:ar,yh&&(bh=!1),JN&&(Lv=!0),Gx&&(Vo=Zt({},I(dr)),Vs=[],Gx.html===!0&&(Zt(Vo,hs),Zt(Vs,Ac)),Gx.svg===!0&&(Zt(Vo,Xs),Zt(Vs,su),Zt(Vs,Nu)),Gx.svgFilters===!0&&(Zt(Vo,Fn),Zt(Vs,su),Zt(Vs,Nu)),Gx.mathMl===!0&&(Zt(Vo,sr),Zt(Vs,Pl),Zt(Vs,Nu))),mt.ADD_TAGS&&(Vo===br&&(Vo=Ut(Vo)),Zt(Vo,mt.ADD_TAGS)),mt.ADD_ATTR&&(Vs===Ri&&(Vs=Ut(Vs)),Zt(Vs,mt.ADD_ATTR)),mt.ADD_URI_SAFE_ATTR&&Zt(Cj,mt.ADD_URI_SAFE_ATTR),mt.FORBID_CONTENTS&&(Kx===LZ&&(Kx=Ut(Kx)),Zt(Kx,mt.FORBID_CONTENTS)),_j&&(Vo["#text"]=!0),Qg&&Zt(Vo,["html","head","body"]),Vo.table&&(Zt(Vo,["tbody"]),delete Fl.tbody),Kt&&Kt(mt),Xx=mt)},jZ=Zt({},["mi","mo","mn","ms","mtext"]),ZZ=Zt({},["foreignobject","desc","title","annotation-xml"]),gq=Zt({},["title","style","font","a","script"]),tP=Zt({},Xs);Zt(tP,Fn),Zt(tP,us);var Aj=Zt({},sr);Zt(Aj,fa);var pq=function(mt){var Qn=Ce(mt);(!Qn||!Qn.tagName)&&(Qn={namespaceURI:Hv,tagName:"template"});var Ko=ar(mt.tagName),Xa=ar(Qn.tagName);return mt.namespaceURI===xj?Qn.namespaceURI===Hv?Ko==="svg":Qn.namespaceURI===Sj?Ko==="svg"&&(Xa==="annotation-xml"||jZ[Xa]):!!tP[Ko]:mt.namespaceURI===Sj?Qn.namespaceURI===Hv?Ko==="math":Qn.namespaceURI===xj?Ko==="math"&&ZZ[Xa]:!!Aj[Ko]:mt.namespaceURI===Hv?Qn.namespaceURI===xj&&!ZZ[Xa]||Qn.namespaceURI===Sj&&!jZ[Xa]?!1:!Aj[Ko]&&(gq[Ko]||!tP[Ko]):!1},yy=function(mt){Is(s.removed,{element:mt});try{mt.parentNode.removeChild(mt)}catch(Qn){try{mt.outerHTML=Nt}catch(Ko){mt.remove()}}},nP=function(mt,Qn){try{Is(s.removed,{attribute:Qn.getAttributeNode(mt),from:Qn})}catch(Ko){Is(s.removed,{attribute:null,from:Qn})}if(Qn.removeAttribute(mt),mt==="is"&&!Vs[mt])if(Lv||JN)try{yy(Qn)}catch(Ko){}else try{Qn.setAttribute(mt,"")}catch(Ko){}},qZ=function(mt){var Qn,Ko;if(PO)mt="<remove></remove>"+mt;else{var Xa=_a(mt,/^[\r\n\t ]+/);Ko=Xa&&Xa[0]}Yx==="application/xhtml+xml"&&(mt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+mt+"</body></html>");var qd=He?He.createHTML(mt):mt;if(eP===Hv)try{Qn=new B().parseFromString(qd,Yx)}catch(ru){}if(!Qn||!Qn.documentElement){Qn=Xt.createDocument(eP,"template",null);try{Qn.documentElement.innerHTML=Ej?"":qd}catch(ru){}}var Bu=Qn.body||Qn.documentElement;return mt&&Ko&&Bu.insertBefore(i.createTextNode(Ko),Bu.childNodes[0]||null),eP===Hv?Yn.call(Qn,Qg?"html":"body")[0]:Qg?Qn.documentElement:Bu},GZ=function(mt){return mn.call(mt.ownerDocument||mt,mt,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT,null,!1)},hq=function(mt){return mt instanceof N&&(typeof mt.nodeName!="string"||typeof mt.textContent!="string"||typeof mt.removeChild!="function"||!(mt.attributes instanceof D)||typeof mt.removeAttribute!="function"||typeof mt.setAttribute!="function"||typeof mt.namespaceURI!="string"||typeof mt.insertBefore!="function")},FO=function(mt){return k(h)==="object"?mt instanceof h:mt&&k(mt)==="object"&&typeof mt.nodeType=="number"&&typeof mt.nodeName=="string"},vy=function(mt,Qn,Ko){Ts[mt]&&jo(Ts[mt],function(Xa){Xa.call(s,Qn,Ko,Xx)})},KZ=function(mt){var Qn;if(vy("beforeSanitizeElements",mt,null),hq(mt)||_n(/[\u0080-\uFFFF]/,mt.nodeName))return yy(mt),!0;var Ko=u_(mt.nodeName);if(vy("uponSanitizeElement",mt,{tagName:Ko,allowedTags:Vo}),mt.hasChildNodes()&&!FO(mt.firstElementChild)&&(!FO(mt.content)||!FO(mt.content.firstElementChild))&&_n(/<[/\w]/g,mt.innerHTML)&&_n(/<[/\w]/g,mt.textContent)||Ko==="select"&&_n(/<template/i,mt.innerHTML))return yy(mt),!0;if(!Vo[Ko]||Fl[Ko]){if(!Fl[Ko]&&XZ(Ko)&&(Zr.tagNameCheck instanceof RegExp&&_n(Zr.tagNameCheck,Ko)||Zr.tagNameCheck instanceof Function&&Zr.tagNameCheck(Ko)))return!1;if(_j&&!Kx[Ko]){var Xa=Ce(mt)||mt.parentNode,qd=Ee(mt)||mt.childNodes;if(qd&&Xa)for(var Bu=qd.length,ru=Bu-1;ru>=0;--ru)Xa.insertBefore(ye(qd[ru],!0),tt(mt))}return yy(mt),!0}return mt instanceof v&&!pq(mt)||(Ko==="noscript"||Ko==="noembed")&&_n(/<\/no(script|embed)/i,mt.innerHTML)?(yy(mt),!0):(yh&&mt.nodeType===3&&(Qn=mt.textContent,Qn=La(Qn,go," "),Qn=La(Qn,_s," "),mt.textContent!==Qn&&(Is(s.removed,{element:mt.cloneNode()}),mt.textContent=Qn)),vy("afterSanitizeElements",mt,null),!1)},YZ=function(mt,Qn,Ko){if(IZ&&(Qn==="id"||Qn==="name")&&(Ko in i||Ko in mq))return!1;if(!(bh&&!Zd[Qn]&&_n(Qt,Qn))){if(!(hh&&_n(Wn,Qn))){if(!Vs[Qn]||Zd[Qn]){if(!(XZ(mt)&&(Zr.tagNameCheck instanceof RegExp&&_n(Zr.tagNameCheck,mt)||Zr.tagNameCheck instanceof Function&&Zr.tagNameCheck(mt))&&(Zr.attributeNameCheck instanceof RegExp&&_n(Zr.attributeNameCheck,Qn)||Zr.attributeNameCheck instanceof Function&&Zr.attributeNameCheck(Qn))||Qn==="is"&&Zr.allowCustomizedBuiltInElements&&(Zr.tagNameCheck instanceof RegExp&&_n(Zr.tagNameCheck,Ko)||Zr.tagNameCheck instanceof Function&&Zr.tagNameCheck(Ko))))return!1}else if(!Cj[Qn]){if(!_n(ho,La(Ko,bs,""))){if(!((Qn==="src"||Qn==="xlink:href"||Qn==="href")&&mt!=="script"&&vc(Ko,"data:")===0&&HZ[mt])){if(!(by&&!_n(Bo,La(Ko,bs,"")))){if(Ko)return!1}}}}}}return!0},XZ=function(mt){return mt.indexOf("-")>0},JZ=function(mt){var Qn,Ko,Xa,qd;vy("beforeSanitizeAttributes",mt,null);var Bu=mt.attributes;if(Bu){var ru={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Vs};for(qd=Bu.length;qd--;){Qn=Bu[qd];var oP=Qn,au=oP.name,QZ=oP.namespaceURI;Ko=au==="value"?Qn.value:jt(Qn.value),Xa=u_(au);var yq=Ko;if(ru.attrName=Xa,ru.attrValue=Ko,ru.keepAttr=!0,ru.forceKeepAttr=void 0,vy("uponSanitizeAttribute",mt,ru),Ko=ru.attrValue,!ru.forceKeepAttr){if(!ru.keepAttr){nP(au,mt);continue}if(_n(/\/>/i,Ko)){nP(au,mt);continue}yh&&(Ko=La(Ko,go," "),Ko=La(Ko,_s," "));var vq=u_(mt.nodeName);if(!YZ(vq,Xa,Ko)){nP(au,mt);continue}if(Ko!==yq)try{QZ?mt.setAttributeNS(QZ,au,Ko):mt.setAttribute(au,Ko)}catch(Cq){nP(au,mt)}}}vy("afterSanitizeAttributes",mt,null)}},bq=function ys(mt){var Qn,Ko=GZ(mt);for(vy("beforeSanitizeShadowDOM",mt,null);Qn=Ko.nextNode();)vy("uponSanitizeShadowNode",Qn,null),!KZ(Qn)&&(Qn.content instanceof d&&ys(Qn.content),JZ(Qn));vy("afterSanitizeShadowDOM",mt,null)};return s.sanitize=function(ys,mt){var Qn,Ko,Xa,qd,Bu;if(Ej=!ys,Ej&&(ys="<!-->"),typeof ys!="string"&&!FO(ys)){if(typeof ys.toString!="function")throw Os("toString is not a function");if(ys=ys.toString(),typeof ys!="string")throw Os("dirty is not a string, aborting")}if(!s.isSupported){if(k(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ys=="string")return t.toStaticHTML(ys);if(FO(ys))return t.toStaticHTML(ys.outerHTML)}return ys}if(NO||Tj(mt),s.removed=[],typeof ys=="string"&&(BO=!1),BO){if(ys.nodeName){var ru=u_(ys.nodeName);if(!Vo[ru]||Fl[ru])throw Os("root node is forbidden and cannot be sanitized in-place")}}else if(ys instanceof h)Qn=qZ("<!---->"),Ko=Qn.ownerDocument.importNode(ys,!0),Ko.nodeType===1&&Ko.nodeName==="BODY"||Ko.nodeName==="HTML"?Qn=Ko:Qn.appendChild(Ko);else{if(!Lv&&!yh&&!Qg&&ys.indexOf("<")===-1)return He&&QN?He.createHTML(ys):ys;if(Qn=qZ(ys),!Qn)return Lv?null:QN?Nt:""}Qn&&PO&&yy(Qn.firstChild);for(var oP=GZ(BO?ys:Qn);Xa=oP.nextNode();)Xa.nodeType===3&&Xa===qd||KZ(Xa)||(Xa.content instanceof d&&bq(Xa.content),JZ(Xa),qd=Xa);if(qd=null,BO)return ys;if(Lv){if(JN)for(Bu=ds.call(Qn.ownerDocument);Qn.firstChild;)Bu.appendChild(Qn.firstChild);else Bu=Qn;return Vs.shadowroot&&(Bu=Wo.call(a,Bu,!0)),Bu}var au=Qg?Qn.outerHTML:Qn.innerHTML;return Qg&&Vo["!doctype"]&&Qn.ownerDocument&&Qn.ownerDocument.doctype&&Qn.ownerDocument.doctype.name&&_n(e_,Qn.ownerDocument.doctype.name)&&(au="<!DOCTYPE "+Qn.ownerDocument.doctype.name+`>
`+au),yh&&(au=La(au,go," "),au=La(au,_s," ")),He&&QN?He.createHTML(au):au},s.setConfig=function(ys){Tj(ys),NO=!0},s.clearConfig=function(){Xx=null,NO=!1},s.isValidAttribute=function(ys,mt,Qn){Xx||Tj({});var Ko=u_(ys),Xa=u_(mt);return YZ(Ko,Xa,Qn)},s.addHook=function(ys,mt){typeof mt=="function"&&(Ts[ys]=Ts[ys]||[],Is(Ts[ys],mt))},s.removeHook=function(ys){if(Ts[ys])return ls(Ts[ys])},s.removeHooks=function(ys){Ts[ys]&&(Ts[ys]=[])},s.removeAllHooks=function(){Ts={}},s}var Gf=Fv();const $v=t=>Gf().sanitize(t),py=q1.deviceType.isTouch(),Xg=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),o_=(t,s)=>Ia.parts.close(Vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:Vt([da.config({})])})),s_=()=>Ia.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Hm=(t,s)=>Ia.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:lh(`<p>${$v(s.translate(t))}</p>`)}]}]}),Jg=t=>Ia.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),r_=(t,s)=>[If.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),If.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],a_=t=>{const s="tox-dialog",a=s+"-wrap",i=a+"__backdrop",d=s+"__disable-scroll";return Ia.sketch({lazySink:t.lazySink,onEscape:g=>(t.onEscape(g),E.some(!0)),useTabstopAt:g=>!bw(g),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:te({position:"relative"},t.extraStyles)},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:lh(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:py?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:a,modalBehaviours:Vt([To.config({}),Go("dialog-events",t.dialogEvents.concat([rg(Pc(),(g,h)=>{nu.isBlocked(g)?W():fo.focusIn(g)}),St(Oy(),(g,h)=>{g.getSystem().broadcastOn([pv],{newFocus:h.event.newFocus})})])),Go("scroll-lock",[Dr(()=>{ya(Cr(),d)}),xd(()=>{oa(Cr(),d)})]),...t.extraBehaviours]),eventOrder:te({[tl()]:["dialog-events"],[Ll()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[sg()]:["alloy.base.behaviour","dialog-events","scroll-lock"]},t.eventOrder)})},c_=t=>Vc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:Vt([da.config({})]),components:[$d("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Ds(s,eh)}}),Zx=(t,s,a,i)=>{const d=g=>[Fr(i.translate(g.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:te({},a.map(g=>({id:g})).getOr({}))},components:[],behaviours:Vt([Mu.config({channel:`${Vf}-${s}`,initialData:t,renderComponents:d})])}},qx=()=>({dom:lh('<div class="tox-dialog__draghandle"></div>')}),KN=(t,s,a,i)=>If.sketch({dom:lh('<div class="tox-dialog__header"></div>'),components:[Zx(t,s,E.some(a),i),qx(),c_(i)],containerBehaviours:Vt([cy.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>rl(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Kf=(t,s,a)=>{const i=Ia.parts.title(Zx(t,s,E.none(),a)),d=Ia.parts.draghandle(qx()),g=Ia.parts.close(c_(a)),h=[i].concat(t.draggable?[d]:[]).concat([g]);return If.sketch({dom:lh('<div class="tox-dialog__header"></div>'),components:h})},hy=(t,s,a)=>Kf({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),je=(t,s,a,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${i.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:lh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Ze=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:i=>{const d=jr(t().element,".tox-dialog__header").map(g=>un(g));Ia.setBusy(t(),(g,h)=>je(i.message,h,s,d))},onUnblock:()=>{Ia.setIdle(t())}}),qt=(t,s,a,i)=>{const d=(g,h)=>E.some(h);return Bc(a_(pt(te({},t),{firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[Mu.config({channel:`${ES}-${t.id}`,updateState:d,initialData:s}),Ug({}),...t.extraBehaviours],onEscape:g=>{Ds(g,eh)},dialogEvents:a,eventOrder:{[Cd()]:[Mu.name(),Xc.name()],[Ll()]:["scroll-lock",Mu.name(),"messages","dialog-events","alloy.base.behaviour"],[sg()]:["alloy.base.behaviour","dialog-events","messages",Mu.name(),"scroll-lock"]}})))},Lt=(t,s={})=>{const a=i=>{const d=Re(i.items,g=>{const h=xt(s,g.name).getOr(bo(!1));return pt(te({},g),{storage:h})});return pt(te({},i),{items:d})};return Re(t,i=>i.type==="menu"?a(i):i)},mo=t=>bt(t,(s,a)=>a.type==="menu"?bt(a.items,(d,g)=>(d[g.name]=g.storage,d),s):s,{}),Es=(t,s)=>[Xv(Pc(),MI),t(iw,(a,i,d,g)=>{ed(qe(g.element)).fold(W,a1),s.onClose(),i.onClose()}),t(eh,(a,i,d,g)=>{i.onCancel(a),Ds(g,iw)}),St(aS,(a,i)=>s.onUnblock()),St(L4,(a,i)=>s.onBlock(i.event))],Lr=(t,s)=>{const a=(d,g)=>St(d,(h,v)=>{i(h,(_,T)=>{g(t(),_,v.event,h)})}),i=(d,g)=>{Mu.getState(d).get().each(h=>{g(h,d)})};return[...Es(a,s),a($m,(d,g,h)=>{g.onAction(d,{name:h.name})})]},Oc=(t,s,a)=>{const i=(g,h)=>St(g,(v,_)=>{d(v,(T,D)=>{h(t(),T,_.event,v)})}),d=(g,h)=>{Mu.getState(g).get().each(v=>{h(v.internalDialog,g)})};return[...Es(i,s),i(dv,(g,h)=>h.onSubmit(g)),i(eu,(g,h,v)=>{h.onChange(g,{name:v.name})}),i($m,(g,h,v,_)=>{const T=()=>_.getSystem().isConnected()?fo.focusIn(_):void 0,D=V=>Y(V,"disabled")||P(V,"aria-disabled").exists(X=>X==="true"),N=qe(_.element),B=ed(N);h.onAction(g,{name:v.name,value:v.value}),ed(N).fold(T,V=>{D(V)||B.exists(X=>Ma(V,X)&&D(X))?T():a().toOptional().filter(X=>!Ma(X.element,V)).each(T)})}),i(q6,(g,h,v)=>{h.onTabChange(g,{newTabName:v.name,oldTabName:v.oldName})}),xd(g=>{const h=t();hn.setValue(g,h.getData())})]},ei=(t,s)=>VS(t,t.type,s),i_=(t,s,a)=>ee(s,i=>i.name===a).bind(i=>i.memento.getOpt(t)),l_=(t,s)=>{const a=s.map(v=>v.footerButtons).getOr([]),i=Xo(a,v=>v.align==="start"),d=(v,_)=>If.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:Re(_,T=>T.memento.asSpec())}),g=d("start",i.pass),h=d("end",i.fail);return[g,h]},MO=(t,s,a)=>{const i=(d,g)=>{const h=Re(g.buttons,_=>{const T=nr(ei(_,a));return{name:_.name,align:_.align,memento:T}}),v=_=>i_(d,h,_);return E.some({lookupByName:v,footerButtons:h})};return{dom:lh('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Vt([Mu.config({channel:`${pA}-${s}`,initialData:t,updateState:i,renderComponents:l_})])}},kj=(t,s,a)=>MO(t,s,a),is=(t,s,a)=>Ia.parts.footer(MO(t,s,a)),dt=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const i=ks.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Yb.getField(i,s).orThunk(()=>t.getFooter().bind(h=>Mu.getState(h).get()).bind(h=>h.lookupByName(s)))}else return E.none()},jn=(t,s)=>{const a=t.getRoot();return Mu.getState(a).get().map(i=>nc(Wr("data",i.dataValidator,s))).getOr(s)},Uo=(t,s,a)=>{const i=X=>{const ye=t.getRoot();ye.getSystem().isConnected()&&X(ye)},V={getData:()=>{const X=t.getRoot(),ye=X.getSystem().isConnected()?t.getFormWrapper():X,tt=hn.getValue(ye),Ee=Jn(a,Ce=>Ce.get());return te(te({},tt),Ee)},setData:X=>{i(ye=>{const tt=V.getData(),Ee=rr(tt,X),Ce=jn(t,Ee),gt=t.getFormWrapper();hn.setValue(gt,Ce),to(a,(He,Nt)=>{Oo(Ee,Nt)&&He.set(Ee[Nt])})})},setEnabled:(X,ye)=>{dt(t,X).each(ye?Co.enable:Co.disable)},focus:X=>{dt(t,X).each(To.focus)},block:X=>{if(!Qe(X))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(ye=>{lo(ye,L4,{message:X})})},unblock:()=>{i(X=>{Ds(X,aS)})},showTab:X=>{i(ye=>{const tt=t.getBody();Mu.getState(tt).get().exists(Ce=>Ce.isTabPanel())&&ks.getCurrent(tt).each(Ce=>{Bv.showTab(Ce,X)})})},redial:X=>{i(ye=>{const tt=t.getId(),Ee=s(X),Ce=Lt(Ee.internalDialog.buttons,a);ye.getSystem().broadcastOn([`${ES}-${tt}`],Ee),ye.getSystem().broadcastOn([`${Vf}-${tt}`],Ee.internalDialog),ye.getSystem().broadcastOn([`${TS}-${tt}`],Ee.internalDialog),ye.getSystem().broadcastOn([`${pA}-${tt}`],pt(te({},Ee.internalDialog),{buttons:Ce})),V.setData(Ee.initialData)})},close:()=>{i(X=>{Ds(X,iw)})},toggleFullscreen:t.toggleFullscreen};return V},za=t=>{switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},Pu=(t,s,a)=>{const i=Bn("dialog"),d=t.internalDialog,g=hy(d.title,i,a),h=m({body:d.body,initialData:d.initialData},i,a),v=Lt(d.buttons),_=mo(v),T=qn(v.length!==0,is({buttons:v},i,a)),D=Oc(()=>ye,Ze(()=>V,a.shared.providers,s),a.shared.getSink),N=za(d.size),V=qt({id:i,header:g,body:h,footer:T,extraClasses:N,extraBehaviours:[],extraStyles:{}},t,D,a),X=(()=>{const tt=()=>{const Ce=Ia.getBody(V);return ks.getCurrent(Ce).getOr(Ce)},Ee=()=>{const Ce="tox-dialog--fullscreen",gt=ke.fromDom(V.element.dom);ol(gt,Ce)?(oa(gt,Ce),yf(gt,N)):(Ci(gt,N),ya(gt,Ce))};return{getId:H(i),getRoot:H(V),getBody:()=>Ia.getBody(V),getFooter:()=>Ia.getFooter(V),getFormWrapper:tt,toggleFullscreen:Ee}})(),ye=Uo(X,s.redial,_);return{dialog:V,instanceApi:ye}},Bl=t=>{switch(t){case"medium":return E.some("tox-dialog--width-md");default:return E.none()}},Ki=(t,s,a,i=!1)=>{const d=Bn("dialog"),g=Bn("dialog-label"),h=Bn("dialog-content"),v=t.internalDialog,_=Bl(v.size),T=(He,Nt)=>E.some(Nt),D=nr(KN({title:v.title,draggable:!0},d,g,a.shared.providers)),N=nr(u({body:v.body,initialData:v.initialData},d,h,a,i)),B=Lt(v.buttons),V=mo(B),X=qn(B.length!==0,nr(kj({buttons:B},d,a))),ye=Oc(()=>gt,{onBlock:He=>{nu.block(Ee,(Nt,zt)=>{const Xt=D.getOpt(Ee).map(mn=>un(mn.element));return je(He.message,zt,a.shared.providers,Xt)})},onUnblock:()=>{nu.unblock(Ee)},onClose:()=>s.closeWindow()},a.shared.getSink),tt="tox-dialog-inline",Ee=Bc({dom:{tag:"div",classes:["tox-dialog",tt,..._.toArray()],attributes:{role:"dialog",["aria-labelledby"]:g}},eventOrder:{[Cd()]:[Mu.name(),Xc.name()],[tl()]:["execute-on-form"],[Ll()]:["reflecting","execute-on-form"]},behaviours:Vt([fo.config({mode:"cyclic",onEscape:He=>(Ds(He,iw),E.some(!0)),useTabstopAt:He=>!bw(He)&&(Us(He)!=="button"||yr(He,"disabled")!=="disabled"),firstTabstop:1}),Mu.config({channel:`${ES}-${d}`,updateState:T,initialData:t}),To.config({}),Go("execute-on-form",ye.concat([rg(Pc(),(He,Nt)=>{fo.focusIn(He)}),St(Oy(),(He,Nt)=>{He.getSystem().broadcastOn([pv],{newFocus:Nt.event.newFocus})})])),nu.config({getRoot:()=>E.some(Ee)}),Ho.config({}),Ug({})]),components:[D.asSpec(),N.asSpec(),...X.map(He=>He.asSpec()).toArray()]}),Ce=()=>{const He="tox-dialog--fullscreen",Nt=ke.fromDom(Ee.element.dom);dE(Nt,[He])?(Ci(Nt,[He]),yf(Nt,[tt])):(Ci(Nt,[tt]),yf(Nt,[He]))},gt=Uo({getId:H(d),getRoot:H(Ee),getFooter:()=>X.map(He=>He.get(Ee)),getBody:()=>N.get(Ee),getFormWrapper:()=>{const He=N.get(Ee);return ks.getCurrent(He).getOr(He)},toggleFullscreen:Ce},s.redial,V);return{dialog:Ee,instanceApi:gt}};var Iv=tinymce.util.Tools.resolve("tinymce.util.URI");const ml=t=>{const s=h=>{t.getSystem().isConnected()&&h(t)};return{block:h=>{if(!Qe(h))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(v=>{lo(v,L4,{message:h})})},unblock:()=>{s(h=>{Ds(h,aS)})},close:()=>{s(h=>{Ds(h,iw)})},sendMessage:h=>{s(v=>{v.getSystem().broadcastOn([yw],h)})}}},YN=["insertContent","setContent","execCommand","close","block","unblock"],XN=t=>yn(t)&&YN.indexOf(t.mceAction)!==-1,wj=t=>!XN(t)&&yn(t)&&Oo(t,"mceAction"),BZ=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const i=dn(a.ui)?a.ui:!1;t.execCommand(a.cmd,i,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},sq=(t,s,a,i)=>{const d=Bn("dialog"),g=hy(t.title,d,i),h=b(t),v=t.buttons.bind(Ce=>Ce.length===0?E.none():E.some(is({buttons:Ce},d,i))),_=Lr(()=>Ee,Ze(()=>tt,i.shared.providers,s)),T=te(te({},t.height.fold(()=>({}),Ce=>({height:Ce+"px","max-height":Ce+"px"}))),t.width.fold(()=>({}),Ce=>({width:Ce+"px","max-width":Ce+"px"}))),D=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],N=new Iv(t.url,{base_uri:new Iv(window.location.href)}),B=`${N.protocol}://${N.host}${N.port?":"+N.port:""}`,V=xp(),X=[Go("messages",[Dr(()=>{const Ce=Ei(ke.fromDom(window),"message",gt=>{if(N.isSameOrigin(new Iv(gt.raw.origin))){const He=gt.raw.data;XN(He)?BZ(a,Ee,He):wj(He)&&t.onMessage(Ee,He)}});V.set(Ce)}),xd(V.clear)]),Xc.config({channels:{[yw]:{onReceive:(Ce,gt)=>{jr(Ce.element,"iframe").each(He=>{const Nt=He.dom.contentWindow;ln(Nt)&&Nt.postMessage(gt,B)})}}}})],tt=qt({id:d,header:g,body:h,footer:v,extraClasses:D,extraBehaviours:X,extraStyles:T},t,_,i),Ee=ml(tt);return{dialog:tt,instanceApi:Ee}},rq=t=>{const s=t.shared;return{open:(i,d)=>{const g=()=>{Ia.hide(T),d()},h=nr(VS({name:"close-alert",text:"OK",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"cancel",t)),v=s_(),_=o_(g,s.providers),T=Bc(a_({lazySink:()=>s.getSink(),header:Xg(v,_),body:Hm(i,s.providers),footer:E.some(Jg(r_([],[h.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(eh,g)],eventOrder:{}}));Ia.show(T);const D=h.get(T);To.focus(D)}}},aq=t=>{const s=t.shared;return{open:(i,d)=>{const g=B=>{Ia.hide(D),d(B)},h=nr(VS({name:"yes",text:"Yes",primary:!0,buttonType:E.some("primary"),align:"end",enabled:!0,icon:E.none()},"submit",t)),v=VS({name:"no",text:"No",primary:!1,buttonType:E.some("secondary"),align:"end",enabled:!0,icon:E.none()},"cancel",t),_=s_(),T=o_(()=>g(!1),s.providers),D=Bc(a_({lazySink:()=>s.getSink(),header:Xg(_,T),body:Hm(i,s.providers),footer:E.some(Jg(r_([],[v,h.asSpec()]))),onEscape:()=>g(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[St(eh,()=>g(!1)),St(dv,()=>g(!0))],eventOrder:{}}));Ia.show(D);const N=h.get(D);To.focus(N)}}},FZ=(t,s)=>nc(Wr("data",s,t)),$Z=t=>uv(t,".tox-alert-dialog")||uv(t,".tox-confirm-dialog"),cq=(t,s,a)=>s&&a?[]:[Da.config({contextual:{lazyContext:()=>E.some(Ur(ke.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:i=>jb(t,i.element).map(g=>({bounds:lv(g),optScrollEnv:E.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:ia(g.element).top})})).getOrThunk(()=>({bounds:R(),optScrollEnv:E.none()}))})],iq=t=>{const s=t.editor,a=jk(s),i=rq(t.backstages.dialog),d=aq(t.backstages.dialog),g=(X,ye,tt)=>{if(!en(ye)){if(ye.inline==="toolbar")return T(X,t.backstages.popup.shared.anchors.inlineDialog(),tt,ye);if(ye.inline==="bottom")return D(X,t.backstages.popup.shared.anchors.inlineBottomDialog(),tt,ye);if(ye.inline==="cursor")return T(X,t.backstages.popup.shared.anchors.cursor(),tt,ye)}return _(X,tt)},h=(X,ye)=>v(X,ye),v=(X,ye)=>{const tt=Ee=>{const Ce=sq(Ee,{closeWindow:()=>{Ia.hide(Ce.dialog),ye(Ce.instanceApi)}},s,t.backstages.dialog);return Ia.show(Ce.dialog),Ce.instanceApi};return Lm.openUrl(tt,X)},_=(X,ye)=>{const tt=(Ee,Ce,gt)=>{const He=Ce,zt=Pu({dataValidator:gt,initialData:He,internalDialog:Ee},{redial:Lm.redial,closeWindow:()=>{Ia.hide(zt.dialog),ye(zt.instanceApi)}},t.backstages.dialog);return Ia.show(zt.dialog),zt.instanceApi.setData(He),zt.instanceApi};return Lm.open(tt,X)},T=(X,ye,tt,Ee)=>{const Ce=(gt,He,Nt)=>{const zt=FZ(He,Nt),Xt=Nr(),mn=t.backstages.popup.shared.header.isPositionedAtTop(),ds={dataValidator:Nt,initialData:zt,internalDialog:gt},Yn=()=>Xt.on(go=>{sa.reposition(go),Da.refresh(go)}),Wo=Ki(ds,{redial:Lm.redial,closeWindow:()=>{Xt.on(sa.hide),s.off("ResizeEditor",Yn),Xt.clear(),tt(Wo.instanceApi)}},t.backstages.popup,Ee.ariaAttrs),Lo=Bc(sa.sketch(pt(te({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ee.persistent?{event:"doNotDismissYet"}:{}},mn?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Vt([Go("window-manager-inline-events",[St(fm(),(go,_s)=>{Ds(Wo.dialog,eh)})]),...cq(s,a,mn)]),isExtraPart:(go,_s)=>$Z(_s)})));Xt.set(Lo);const Ts=()=>{const go=s.inline?Cr():ke.fromDom(s.getContainer()),_s=Ur(go);return E.some(_s)};return sa.showWithinBounds(Lo,Si(Wo.dialog),{anchor:ye},Ts),(!a||!mn)&&(Da.refresh(Lo),s.on("ResizeEditor",Yn)),Wo.instanceApi.setData(zt),fo.focusIn(Wo.dialog),Wo.instanceApi};return Lm.open(Ce,X)},D=(X,ye,tt,Ee)=>{const Ce=(gt,He,Nt)=>{const zt=FZ(He,Nt),Xt=Nr(),mn=t.backstages.popup.shared.header.isPositionedAtTop(),ds={dataValidator:Nt,initialData:zt,internalDialog:gt},Yn=()=>Xt.on(go=>{sa.reposition(go),Da.refresh(go)}),Wo=Ki(ds,{redial:Lm.redial,closeWindow:()=>{Xt.on(sa.hide),s.off("ResizeEditor ScrollWindow ElementScroll",Yn),Xt.clear(),tt(Wo.instanceApi)}},t.backstages.popup,Ee.ariaAttrs),Lo=Bc(sa.sketch(pt(te({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Ee.persistent?{event:"doNotDismissYet"}:{}},mn?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Vt([Go("window-manager-inline-events",[St(fm(),(go,_s)=>{Ds(Wo.dialog,eh)})]),Da.config({contextual:{lazyContext:()=>E.some(Ur(ke.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:go=>jb(s,go.element).map(Qt=>({bounds:lv(Qt),optScrollEnv:E.some({currentScrollTop:Qt.element.dom.scrollTop,scrollElmTop:ia(Qt.element).top})})).getOrThunk(()=>({bounds:R(),optScrollEnv:E.none()}))})]),isExtraPart:(go,_s)=>$Z(_s)})));Xt.set(Lo);const Ts=()=>t.backstages.popup.shared.getSink().toOptional().bind(go=>{const _s=jb(s,go.element),Qt=15,Wn=_s.map(ho=>lv(ho)).getOr(R()),Bo=Ur(ke.fromDom(s.getContentAreaContainer())),bs=Km(Bo,Wn);return E.some(Or(bs.x,bs.y,bs.width,bs.height-Qt))});return sa.showWithinBounds(Lo,Si(Wo.dialog),{anchor:ye},Ts),Da.refresh(Lo),s.on("ResizeEditor ScrollWindow ElementScroll",Yn),Wo.instanceApi.setData(zt),fo.focusIn(Wo.dialog),Wo.instanceApi};return Lm.open(Ce,X)};return{open:g,openUrl:h,alert:(X,ye)=>{i.open(X,ye)},close:X=>{X.close()},confirm:(X,ye)=>{d.open(X,ye)}}},lq=t=>{f3(t),kF(t),tO(t)};var uq=()=>{U.add("silver",t=>{lq(t);let s=()=>R();const{dialogs:a,popups:i,renderUI:d}=tW(t,{getPopupSinkBounds:()=>s()}),g=()=>f_(this,null,function*(){const _=yield d();return jb(t,i.getMothership().element).each(D=>{s=()=>lv(D)}),_});XF.register(t,i.backstage.shared);const h=iq({editor:t,backstages:{popup:i.backstage,dialog:a.backstage}}),v=()=>$D(t,{backstage:i.backstage},i.getMothership());return{renderUI:g,getWindowManagerImpl:H(h),getNotificationManagerImpl:v}})};uq()})()},89366:function(Tn){(function(){"use strict";var bn=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},Ve=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Pn=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},Ao=function(e,n){return So(function(o,r){return e.eq(n(o),n(r))})},So=function(e){return{eq:e}},Xn=So(function(e,n){return e===n}),Qe=Xn,yn=function(e){return So(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,c=0;c<r;c++)if(!e.eq(n[c],o[c]))return!1;return!0})},An=function(e,n){return Ao(yn(e),function(o){return Pn(o,n)})},Ln=function(e){return So(function(n,o){var r=Object.keys(n),c=Object.keys(o);if(!An(Qe).eq(r,c))return!1;for(var u=r.length,m=0;m<u;m++){var b=r[m];if(!e.eq(n[b],o[b]))return!1}return!0})},zo=So(function(e,n){if(e===n)return!0;var o=bn(e),r=bn(n);return o!==r?!1:Ve(o)?e===n:o==="array"?yn(zo).eq(e,n):o==="object"?Ln(zo).eq(e,n):!1});const dn=Object.getPrototypeOf,en=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},Wt=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&en(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},ln=e=>n=>Wt(n)===e,ot=e=>n=>typeof n===e,Rt=e=>n=>e===n,Ot=(e,n)=>ft(e)&&en(e,n,(o,r)=>dn(o)===r),W=ln("string"),ft=ln("object"),Fo=e=>Ot(e,Object),ht=ln("array"),H=Rt(null),at=ot("boolean"),Sn=Rt(void 0),Jt=e=>e==null,$e=e=>!Jt(e),ce=ot("function"),Ro=ot("number"),Se=(e,n)=>{if(ht(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},De=()=>{},E=(e,n)=>(...o)=>e(n.apply(null,o)),gn=(e,n)=>o=>e(n(o)),rt=e=>()=>e,Hn=e=>e,tn=(e,n)=>e===n;function et(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const uo=e=>n=>!e(n),Yo=e=>()=>{throw new Error(e)},Ct=e=>e(),vn=e=>{e()},Re=rt(!1),it=rt(!0);class F{constructor(n,o){this.tag=n,this.value=o}static some(n){return new F(!0,n)}static none(){return F.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?F.some(n(this.value)):F.none()}bind(n){return this.tag?n(this.value):F.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:F.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n!=null?n:"Called getOrDie on None")}static from(n){return $e(n)?F.some(n):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const Xo=Array.prototype.slice,no=Array.prototype.indexOf,lt=Array.prototype.push,bt=(e,n)=>no.call(e,n),Ft=(e,n)=>{const o=bt(e,n);return o===-1?F.none():F.some(o)},ee=(e,n)=>bt(e,n)>-1,he=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return!0}return!1},we=(e,n)=>{const o=e.length,r=new Array(o);for(let c=0;c<o;c++){const u=e[c];r[c]=n(u,c)}return r},ae=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];n(c,o)}},Ne=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},Pe=(e,n)=>{const o=[],r=[];for(let c=0,u=e.length;c<u;c++){const m=e[c];(n(m,c)?o:r).push(m)}return{pass:o,fail:r}},Ye=(e,n)=>{const o=[];for(let r=0,c=e.length;r<c;r++){const u=e[r];n(u,r)&&o.push(u)}return o},We=(e,n,o)=>(Ne(e,(r,c)=>{o=n(o,r,c)}),o),J=(e,n,o)=>(ae(e,(r,c)=>{o=n(o,r,c)}),o),xe=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++){const u=e[r];if(n(u,r))return F.some(u);if(o(u,r))break}return F.none()},Le=(e,n)=>xe(e,n,Re),Mt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const c=e[o];if(n(c,o))return F.some(o)}return F.none()},Zn=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!ht(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);lt.apply(n,e[o])}return n},On=(e,n)=>Zn(we(e,n)),Nn=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const c=e[o];if(n(c,o)!==!0)return!1}return!0},Un=e=>{const n=Xo.call(e,0);return n.reverse(),n},$o=(e,n)=>Ye(e,o=>!ee(n,o)),to=(e,n)=>{const o={};for(let r=0,c=e.length;r<c;r++){const u=e[r];o[String(u)]=n(u,r)}return o},Jn=(e,n)=>{const o=Xo.call(e,0);return o.sort(n),o},ao=(e,n)=>n>=0&&n<e.length?F.some(e[n]):F.none(),kn=e=>ao(e,0),co=e=>ao(e,e.length-1),Zo=ce(Array.from)?Array.from:e=>Xo.call(e),Jo=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return F.none()},as=(e,n)=>{const o=[],r=ce(n)?c=>he(o,u=>n(u,c)):c=>ee(o,c);for(let c=0,u=e.length;c<u;c++){const m=e[c];r(m)||o.push(m)}return o},xo=Object.keys,wr=Object.hasOwnProperty,xt=(e,n)=>{const o=xo(e);for(let r=0,c=o.length;r<c;r++){const u=o[r],m=e[u];n(m,u)}},Oo=(e,n)=>Js(e,(o,r)=>({k:r,v:n(o,r)})),Js=(e,n)=>{const o={};return xt(e,(r,c)=>{const u=n(r,c);o[u.k]=u.v}),o},_r=e=>(n,o)=>{e[o]=n},Pr=(e,n,o,r)=>{xt(e,(c,u)=>{(n(c,u)?o:r)(c,u)})},qr=(e,n)=>{const o={},r={};return Pr(e,n,_r(o),_r(r)),{t:o,f:r}},Cs=(e,n)=>{const o={};return Pr(e,n,_r(o),De),o},Jr=(e,n)=>{const o=[];return xt(e,(r,c)=>{o.push(n(r,c))}),o},Hr=e=>Jr(e,Hn),fs=(e,n)=>qn(e,n)?F.from(e[n]):F.none(),qn=(e,n)=>wr.call(e,n),cr=(e,n)=>qn(e,n)&&e[n]!==void 0&&e[n]!==null,Ae=(e,n,o=zo)=>Ln(o).eq(e,n),Xe=e=>{const n={};return ae(e,o=>{n[o]={}}),xo(n)},Yt=e=>e.length!==void 0,xn=Array.isArray,po=e=>{if(xn(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},ss=(e,n,o)=>{if(!e)return!1;if(o=o||e,Yt(e)){for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(qn(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},fr=(e,n)=>{const o=[];return ss(e,(r,c)=>{o.push(n(r,c,e))}),o},Qs=(e,n)=>{const o=[];return ss(e,(r,c)=>{(!n||n(r,c,e))&&o.push(r)}),o},er=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},ie=(e,n,o,r)=>{let c=Sn(o)?e[0]:o;for(let u=0;u<e.length;u++)c=n.call(r,c,e[u],u);return c},le=(e,n,o)=>{for(let r=0,c=e.length;r<c;r++)if(n.call(o,e[r],r,e))return r;return-1},Ge=e=>e[e.length-1],ct=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},zn=(e,n,o,r)=>{const c=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),b=m||r("(pointer:coarse)"),k=c||!u&&m&&r("(min-device-width:768px)"),S=u||m&&!k,z=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,M=!S&&!k&&!z;return{isiPad:rt(c),isiPhone:rt(u),isTablet:rt(k),isPhone:rt(S),isTouch:rt(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:rt(z),isDesktop:rt(M)}},oo=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},vo=(e,n)=>{const o=oo(e,n);if(!o)return{major:0,minor:0};const r=c=>Number(n.replace(o,"$"+c));return ko(r(1),r(2))},tr=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?ke():vo(e,o)},ke=()=>ko(0,0),ko=(e,n)=>({major:e,minor:n}),fe={nu:ko,detect:tr,unknown:ke},ge=(e,n)=>Jo(n.brands,o=>{const r=o.brand.toLowerCase();return Le(e,c=>{var u;return r===((u=c.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(c=>({current:c.name,version:fe.nu(parseInt(o.version,10),0)}))}),yt=(e,n)=>{const o=String(n).toLowerCase();return Le(e,r=>r.search(o))},Et=(e,n)=>yt(e,n).map(o=>{const r=fe.detect(o.versionRegexes,n);return{current:o.name,version:r}}),nn=(e,n)=>yt(e,n).map(o=>{const r=fe.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Gn=(e,n)=>e.substring(n),Rn=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Mn=(e,n)=>so(e,n)?Gn(e,n.length):e,$n=(e,n,o=0,r)=>{const c=e.indexOf(n,o);return c!==-1?Sn(r)?!0:c+n.length<=r:!1},so=(e,n)=>Rn(e,n,0),es=(e,n)=>Rn(e,n,e.length-n.length),Us=e=>n=>n.replace(e,""),Ra=Us(/^\s+|\s+$/g),Ha=Us(/^\s+/g),ic=Us(/\s+$/g),wo=e=>e.length>0,ms=e=>!wo(e),Ws=(e,n)=>n<=0?"":new Array(n+1).join(e),Qr=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?F.none():F.some(o)},ra=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ea=e=>n=>$n(n,e),Ps=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>$n(e,"edge/")&&$n(e,"chrome")&&$n(e,"safari")&&$n(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ra],search:e=>$n(e,"chrome")&&!$n(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>$n(e,"msie")||$n(e,"trident")},{name:"Opera",versionRegexes:[ra,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ea("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ea("firefox")},{name:"Safari",versionRegexes:[ra,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>($n(e,"safari")||$n(e,"mobile/"))&&$n(e,"applewebkit")}],Fu=[{name:"Windows",search:ea("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>$n(e,"iphone")||$n(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ea("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ea("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ea("linux"),versionRegexes:[]},{name:"Solaris",search:ea("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ea("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ea("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Mi={browsers:rt(Ps),oses:rt(Fu)},zs="Edge",Ma="Chromium",ma="IE",Br="Opera",pi="Firefox",Dc="Safari",aa=()=>Uc({current:void 0,version:fe.unknown()}),Uc=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isEdge:r(zs),isChromium:r(Ma),isIE:r(ma),isOpera:r(Br),isFirefox:r(pi),isSafari:r(Dc)}},zc={unknown:aa,nu:Uc,edge:rt(zs),chromium:rt(Ma),ie:rt(ma),opera:rt(Br),firefox:rt(pi),safari:rt(Dc)},Yi="Windows",Ni="iOS",ti="Android",Va="Linux",Wc="macOS",hi="Solaris",Rc="FreeBSD",gl="ChromeOS",Z=()=>pe({current:void 0,version:fe.unknown()}),pe=e=>{const n=e.current,o=e.version,r=c=>()=>n===c;return{current:n,version:o,isWindows:r(Yi),isiOS:r(Ni),isAndroid:r(ti),isMacOS:r(Wc),isLinux:r(Va),isSolaris:r(hi),isFreeBSD:r(Rc),isChromeOS:r(gl)}},Oe={unknown:Z,nu:pe,windows:rt(Yi),ios:rt(Ni),android:rt(ti),linux:rt(Va),macos:rt(Wc),solaris:rt(hi),freebsd:rt(Rc),chromeos:rt(gl)},Pt={detect:(e,n,o)=>{const r=Mi.browsers(),c=Mi.oses(),u=n.bind(k=>ge(r,k)).orThunk(()=>Et(r,e)).fold(zc.unknown,zc.nu),m=nn(c,e).fold(Oe.unknown,Oe.nu),b=zn(m,u,e,o);return{browser:u,os:m,deviceType:b}}},io=e=>window.matchMedia(e).matches;let Bs=ct(()=>Pt.detect(navigator.userAgent,F.from(navigator.userAgentData),io));const js=()=>Bs(),Ls=navigator.userAgent,mr=js(),gs=mr.browser,Cr=mr.os,ni=mr.deviceType,bi=Ls.indexOf("Windows Phone")!==-1,pn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:gs.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!gs.isIE(),windowsPhone:bi,browser:{current:gs.current,version:gs.version,isChromium:gs.isChromium,isEdge:gs.isEdge,isFirefox:gs.isFirefox,isIE:gs.isIE,isOpera:gs.isOpera,isSafari:gs.isSafari},os:{current:Cr.current,version:Cr.version,isAndroid:Cr.isAndroid,isChromeOS:Cr.isChromeOS,isFreeBSD:Cr.isFreeBSD,isiOS:Cr.isiOS,isLinux:Cr.isLinux,isMacOS:Cr.isMacOS,isSolaris:Cr.isSolaris,isWindows:Cr.isWindows},deviceType:{isDesktop:ni.isDesktop,isiPad:ni.isiPad,isiPhone:ni.isiPhone,isPhone:ni.isPhone,isTablet:ni.isTablet,isTouch:ni.isTouch,isWebView:ni.isWebView}},$u=/^\s*|\s*$/g,yr=e=>Jt(e)?"":(""+e).replace($u,""),P=(e,n)=>n?n==="array"&&xn(e)?!0:typeof e===n:e!==void 0,Y=(e,n,o={})=>{const r=W(e)?e.split(n||","):e||[];let c=r.length;for(;c--;)o[r[c]]={};return o},re=qn,Ke=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const c in r)if(qn(r,c)){const u=r[c];u!==void 0&&(e[c]=u)}}return e},on=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),ss(e,(c,u)=>n.call(r,c,u,o)===!1?!1:(on(c,n,o,r),!0)))},Dt={trim:yr,isArray:xn,is:P,toArray:po,makeMap:Y,each:ss,map:fr,grep:Qs,inArray:er,hasOwn:re,extend:Ke,walk:on,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,c=o.length;r<c&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>ht(e)?e:e===""?[]:fr(e.split(n||","),yr),_addCacheSuffix:e=>{const n=pn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},Zs=(e,n,o=tn)=>e.exists(r=>o(r,n)),Ja=(e,n,o=tn)=>ca(e,n,o).getOr(e.isNone()&&n.isNone()),zr=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},ca=(e,n,o)=>e.isSome()&&n.isSome()?F.some(o(e.getOrDie(),n.getOrDie())):F.none(),Pi=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?F.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):F.none(),q=(e,n)=>e?F.some(n):F.none(),ue=typeof window!="undefined"?window:Function("return this;")(),Fe=(e,n)=>{let o=n!=null?n:ue;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},kt=(e,n)=>{const o=e.split(".");return Fe(o,n)},un=(e,n)=>kt(e,n),ns=(e,n)=>{const o=un(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Sr=Object.getPrototypeOf,Ca=e=>ns("HTMLElement",e),cs=e=>{const n=kt("ownerDocument.defaultView",e);return ft(e)&&(Ca(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Sr(e).constructor.name))},Gr=8,Vr=9,ia=11,Qa=1,pl=3,qs=e=>e.dom.nodeName.toLowerCase(),ir=e=>e.dom.nodeType,la=e=>n=>ir(n)===e,ep=e=>ir(e)===Gr||qs(e)==="#comment",Ar=e=>lc(e)&&cs(e.dom),lc=la(Qa),ec=la(pl),tp=la(Vr),cu=la(ia),jc=e=>n=>lc(n)&&qs(n)===e,iu=(e,n,o)=>{if(W(o)||at(o)||Ro(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Gs=(e,n,o)=>{iu(e.dom,n,o)},Xi=(e,n)=>{const o=e.dom;xt(n,(r,c)=>{iu(o,c,r)})},kc=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},hl=(e,n)=>F.from(kc(e,n)),Kr=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},ta=(e,n)=>{e.dom.removeAttribute(n)},Zc=e=>{const n=e.dom.attributes;return n==null||n.length===0},lu=e=>J(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),Iu=(e,n)=>{const o=kc(e,n);return o===void 0||o===""?[]:o.split(" ")},Yf=(e,n,o)=>{const c=Iu(e,n).concat([o]);return Gs(e,n,c.join(" ")),!0},Gd=(e,n,o)=>{const r=Ye(Iu(e,n),c=>c!==o);return r.length>0?Gs(e,n,r.join(" ")):ta(e,n),!1},uc=e=>e.dom.classList!==void 0,Kd=e=>Iu(e,"class"),Mc=(e,n)=>Yf(e,"class",n),bl=(e,n)=>Gd(e,"class",n),hd=(e,n)=>ee(Kd(e),n)?bl(e,n):Mc(e,n),$l=(e,n)=>{uc(e)?e.dom.classList.add(n):Mc(e,n)},Yd=e=>{(uc(e)?e.dom.classList:Kd(e)).length===0&&ta(e,"class")},Lu=(e,n)=>{uc(e)?e.dom.classList.remove(n):bl(e,n),Yd(e)},Vm=(e,n)=>{const o=uc(e)?e.dom.classList.toggle(n):hd(e,n);return Yd(e),o},yl=(e,n)=>uc(e)&&e.dom.classList.contains(n),Um=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return Hu(r.childNodes[0])},Xd=(e,n)=>{const r=(n||document).createElement(e);return Hu(r)},Xf=(e,n)=>{const r=(n||document).createTextNode(e);return Hu(r)},Hu=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},de={fromHtml:Um,fromTag:Xd,fromText:Xf,fromDom:Hu,fromPoint:(e,n,o)=>F.from(e.dom.elementFromPoint(n,o)).map(Hu)},Vu=(e,n)=>{const o=[],r=u=>(o.push(u),n(u));let c=n(e);do c=c.bind(r);while(c.isSome());return o},Bi=(e,n)=>{const o=e.dom;if(o.nodeType!==Qa)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Jf=e=>e.nodeType!==Qa&&e.nodeType!==Vr&&e.nodeType!==ia||e.childElementCount===0,np=(e,n)=>{const o=n===void 0?document:n.dom;return Jf(o)?[]:we(o.querySelectorAll(e),de.fromDom)},vh=(e,n)=>{const o=n===void 0?document:n.dom;return Jf(o)?F.none():F.from(o.querySelector(e)).map(de.fromDom)},Rs=(e,n)=>e.dom===n.dom,dc=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},vl=e=>de.fromDom(e.dom.ownerDocument),yi=e=>tp(e)?e:vl(e),jm=e=>de.fromDom(yi(e).dom.documentElement),Uu=e=>de.fromDom(yi(e).dom.defaultView),qc=e=>F.from(e.dom.parentNode).map(de.fromDom),bd=e=>F.from(e.dom.parentElement).map(de.fromDom),Jd=(e,n)=>{const o=ce(n)?n:Re;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,m=de.fromDom(u);if(c.push(m),o(m)===!0)break;r=u}return c},kh=e=>{const n=o=>Ye(o,r=>!Rs(e,r));return qc(e).map(Ua).map(n).getOr([])},vi=e=>F.from(e.dom.previousSibling).map(de.fromDom),Qd=e=>F.from(e.dom.nextSibling).map(de.fromDom),Qf=e=>Un(Vu(e,vi)),Nc=e=>Vu(e,Qd),Ua=e=>we(e.dom.childNodes,de.fromDom),uu=(e,n)=>{const o=e.dom.childNodes;return F.from(o[n]).map(de.fromDom)},yd=e=>uu(e,0),Fi=e=>uu(e,e.dom.childNodes.length-1),Gc=e=>e.dom.childNodes.length,Zm=e=>e.dom.hasChildNodes(),op=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return de.fromDom(n)},Wu=e=>cu(e)&&$e(e.dom.host),em=ce(Element.prototype.attachShadow)&&ce(Node.prototype.getRootNode),tm=rt(em),kl=em?e=>de.fromDom(e.dom.getRootNode()):yi,qm=e=>Wu(e)?e:op(yi(e)),wh=e=>Wu(e)?e:de.fromDom(yi(e).dom.body),sp=e=>{const n=kl(e);return Wu(n)?F.some(n):F.none()},Gm=e=>de.fromDom(e.dom.host),ef=e=>{if(tm()&&$e(e.target)){const n=de.fromDom(e.target);if(lc(n)&&nm(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return kn(o)}}return F.from(e.target)},nm=e=>$e(e.dom.shadowRoot),ju=e=>{const n=ec(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return sp(de.fromDom(n)).fold(()=>o.body.contains(n),gn(ju,Gm))};var Or=(e,n,o,r,c)=>e(o,r)?F.some(o):ce(c)&&c(o)?F.none():n(o,r,c);const Ur=(e,n,o)=>{let r=e.dom;const c=ce(o)?o:Re;for(;r.parentNode;){r=r.parentNode;const u=de.fromDom(r);if(n(u))return F.some(u);if(c(u))break}return F.none()},Kc=(e,n,o)=>Or((c,u)=>u(c),Ur,e,n,o),Km=(e,n)=>{const o=e.dom;return o.parentNode?A(de.fromDom(o.parentNode),r=>!Rs(e,r)&&n(r)):F.none()},A=(e,n)=>{const o=c=>n(de.fromDom(c));return Le(e.dom.childNodes,o).map(de.fromDom)},R=(e,n)=>{const o=r=>{for(let c=0;c<r.childNodes.length;c++){const u=de.fromDom(r.childNodes[c]);if(n(u))return F.some(u);const m=o(r.childNodes[c]);if(m.isSome())return m}return F.none()};return o(e.dom)},U=(e,n,o)=>Ur(e,r=>Bi(r,n),o),me=(e,n)=>vh(n,e),ve=(e,n,o)=>Or((c,u)=>Bi(c,u),U,e,n,o),Gt=e=>ve(e,"[contenteditable]"),$t=(e,n=!1)=>ju(e)?e.dom.isContentEditable:Gt(e).fold(rt(n),o=>Do(o)==="true"),Do=e=>e.dom.contentEditable,Mo=e=>e.style!==void 0&&ce(e.style.getPropertyValue),Eo=(e,n,o)=>{if(!W(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Mo(e)&&e.style.setProperty(n,o)},Yr=(e,n)=>{Mo(e)&&e.style.removeProperty(n)},wc=(e,n,o)=>{const r=e.dom;Eo(r,n,o)},Xr=(e,n)=>{const o=e.dom;xt(n,(r,c)=>{Eo(o,c,r)})},Rr=(e,n)=>{const o=e.dom,c=window.getComputedStyle(o).getPropertyValue(n);return c===""&&!ju(e)?$i(o,n):c},$i=(e,n)=>Mo(e)?e.style.getPropertyValue(n):"",Na=(e,n)=>{const o=e.dom,r=$i(o,n);return F.from(r).filter(c=>c.length>0)},rp=e=>{const n={},o=e.dom;if(Mo(o))for(let r=0;r<o.style.length;r++){const c=o.style.item(r);n[c]=o.style[c]}return n},Ym=(e,n)=>{const o=e.dom;Yr(o,n),Zs(hl(e,"style").map(Ra),"")&&ta(e,"style")},ua=e=>e.dom.offsetWidth,Wa=(e,n)=>{qc(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},Il=(e,n)=>{Qd(e).fold(()=>{qc(e).each(c=>{Sa(c,n)})},r=>{Wa(r,n)})},om=(e,n)=>{yd(e).fold(()=>{Sa(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Sa=(e,n)=>{e.dom.appendChild(n.dom)},_h=(e,n)=>{Wa(e,n),Sa(n,e)},ky=(e,n)=>{ae(n,(o,r)=>{const c=r===0?e:n[r-1];Il(c,o)})},rr=(e,n)=>{ae(n,o=>{Sa(e,o)})},du=e=>{e.dom.textContent="",ae(Ua(e),n=>{Ms(n)})},Ms=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},oi=e=>{const n=Ua(e);n.length>0&&ky(e,n),Ms(e)},tf=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Ua(de.fromDom(r))},vd=e=>we(e,de.fromDom),rs=e=>e.dom.innerHTML,nf=(e,n)=>{const r=vl(e).dom,c=de.fromDom(r.createDocumentFragment()),u=tf(n,r);rr(c,u),du(e),Sa(e,c)},Ch=e=>{const n=de.fromTag("div"),o=de.fromDom(e.dom.cloneNode(!0));return Sa(n,o),rs(n)},Sh=(e,n,o,r,c,u,m)=>({target:e,x:n,y:o,stop:r,prevent:c,kill:u,raw:m}),m_=e=>{const n=de.fromDom(ef(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=E(r,o);return Sh(n,e.clientX,e.clientY,o,r,c,e)},wy=(e,n)=>o=>{e(o)&&n(m_(o))},ap=(e,n,o,r,c)=>{const u=wy(o,r);return e.dom.addEventListener(n,u,c),{unbind:et(Xm,e,n,u,c)}},xh=(e,n,o,r)=>ap(e,n,o,r,!1),Xm=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},of=(e,n)=>({left:e,top:n,translate:(r,c)=>of(e+r,n+c)}),sm=of,_y=e=>{const n=e.getBoundingClientRect();return sm(n.left,n.top)},wl=(e,n)=>e!==void 0?e:n!==void 0?n:0,Vv=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,c=n.documentElement;if(o===e.dom)return sm(o.offsetLeft,o.offsetTop);const u=wl(r==null?void 0:r.pageYOffset,c.scrollTop),m=wl(r==null?void 0:r.pageXOffset,c.scrollLeft),b=wl(c.clientTop,o.clientTop),k=wl(c.clientLeft,o.clientLeft);return rm(e).translate(m-k,u-b)},rm=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?sm(r.offsetLeft,r.offsetTop):ju(e)?_y(n):sm(0,0)},Ji=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return sm(o,r)},Eh=(e,n,o)=>{const c=(o!==void 0?o.dom:document).defaultView;c&&c.scrollTo(e,n)},Th=(e,n)=>{js().browser.isSafari()&&ce(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Ah=e=>{const n=e===void 0?window:e;return js().browser.isFirefox()?F.none():F.from(n.visualViewport)},cp=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),Oh=e=>{const n=e===void 0?window:e,o=n.document,r=Ji(de.fromDom(o));return Ah(n).fold(()=>{const c=n.document.documentElement,u=c.clientWidth,m=c.clientHeight;return cp(r.left,r.top,u,m)},c=>cp(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))},Dh=(e,n)=>Ye(Ua(e),n),zh=(e,n)=>{let o=[];return ae(Ua(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(zh(r,n))}),o},ja=(e,n)=>np(n,e),Uv=(e,n,o)=>U(e,n,o).isSome();class vr{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,c){if(n){if(!c&&n[o])return n[o];if(n!==this.rootNode){let u=n[r];if(u)return u;for(let m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(u=m[r],u)return u}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const c=n.parentNode;if(c&&c!==this.rootNode)return c}}}const eo=e=>n=>!!n&&n.nodeType===e,fu=e=>!!e&&!Object.getPrototypeOf(e),wn=eo(1),sf=e=>{const n=e.toLowerCase();return o=>$e(o)&&o.nodeName.toLowerCase()===n},_l=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return ee(n,r)}return!1}},Zu=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(wn(r)){const c=r.ownerDocument.defaultView;if(c)for(let u=0;u<o.length;u++){const m=c.getComputedStyle(r,null);if((m?m.getPropertyValue(e):null)===o[u])return!0}}return!1}},si=e=>n=>wn(n)&&n.hasAttribute(e),am=(e,n)=>o=>wn(o)&&o.getAttribute(e)===n,mu=e=>wn(e)&&e.hasAttribute("data-mce-bogus"),tc=e=>wn(e)&&e.getAttribute("data-mce-bogus")==="all",Qi=e=>wn(e)&&e.tagName==="TABLE",Jm=e=>n=>!!(wn(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),ip=_l(["textarea","input"]),It=eo(3),Rh=eo(4),rf=eo(7),qu=eo(8),Cl=eo(9),lp=eo(11),na=sf("br"),Wr=sf("img"),nc=Jm("true"),As=Jm("false"),gu=_l(["td","th"]),fc=_l(["td","th","caption"]),Sl=_l(["video","audio","object","embed"]),mc=sf("li"),_c=sf("details"),up=sf("summary"),_t="\uFEFF",pr="\xA0",Mh=e=>e===_t,ga=e=>e.replace(/\uFEFF/g,""),dp=((e,n)=>{const o=u=>{if(!e(u))throw new Error("Can only get "+n+" value of a "+n+" node");return r(u).getOr("")},r=u=>e(u)?F.from(u.dom.nodeValue):F.none();return{get:o,getOption:r,set:(u,m)=>{if(!e(u))throw new Error("Can only set raw "+n+" value of a "+n+" node");u.dom.nodeValue=m}}})(ec,"text"),ki=e=>dp.get(e),Cy=e=>dp.getOption(e),Gu=(e,n)=>dp.set(e,n),Sy=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Ii=["td","th"],Hs=["thead","tbody","tfoot"],pu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],af=["h1","h2","h3","h4","h5","h6"],Cc=["li","dd","dt"],Nh=["ul","ol","dl"],cf=["pre","script","textarea","style"],xy=["pre"].concat(af),xa=e=>{let n;return o=>(n=n||to(e,it),qn(n,qs(o)))},Li=xa(Sy),Ie=e=>qs(e)==="table",Yc=e=>lc(e)&&!Li(e),wi=e=>lc(e)&&qs(e)==="br",Hi=xa(pu),Vi=xa(Nh),Ea=xa(Cc),Za=xa(Hs),cm=xa(Ii),_i=xa(cf),Ph=xa(xy),bo=e=>Ph(e)||Yc(e),w=e=>{const n=[];let o=e.dom;for(;o;)n.push(de.fromDom(o)),o=o.lastChild;return n},x=e=>{const n=ja(e,"br"),o=Ye(w(e).slice(-1),wi);n.length===o.length&&ae(o,Ms)},L=()=>{const e=de.fromTag("br");return Gs(e,"data-mce-bogus","1"),e},G=e=>{du(e),Sa(e,L())},_e=e=>{Fi(e).each(n=>{vi(n).each(o=>{Li(e)&&wi(n)&&Li(o)&&Ms(n)})})},st=_t,Ht=Mh,rn=ga,_o=wn,No=It,xr=e=>(No(e)&&(e=e.parentNode),_o(e)&&e.hasAttribute("data-mce-caret")),Ss=e=>No(e)&&Ht(e.data),Fs=e=>xr(e)||Ss(e),ri=e=>e.firstChild!==e.lastChild||!na(e.firstChild),el=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(st),u=e.parentNode;if(n){const m=e.previousSibling;if(No(m)){if(Fs(m))return m;if(wd(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(c,e)}else{const m=e.nextSibling;if(No(m)){if(Fs(m))return m;if(lf(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(c,e.nextSibling):u==null||u.appendChild(c)}return c},xl=e=>{const n=e.container();return It(n)?n.data.charAt(e.offset())===st||e.isAtStart()&&Ss(n.previousSibling):!1},hu=e=>{const n=e.container();return It(n)?n.data.charAt(e.offset()-1)===st||e.isAtEnd()&&Ss(n.nextSibling):!1},Ku=(e,n,o)=>{var r;const u=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(L().dom);const m=n.parentNode;return o?m==null||m.insertBefore(u,n):n.nextSibling?m==null||m.insertBefore(u,n.nextSibling):m==null||m.appendChild(u),u},lf=e=>No(e)&&e.data[0]===st,wd=e=>No(e)&&e.data[e.data.length-1]===st,uf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];mu(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},df=e=>e&&e.hasAttribute("data-mce-caret")?(uf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,pa=e=>xr(e.startContainer),Ui=nc,Qm=As,ff=na,Ns=It,Ks=_l(["script","style","textarea"]),qa=_l(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ai=_l(["table"]),Bh=Fs,gc=e=>Bh(e)?!1:Ns(e)?!Ks(e.parentNode):qa(e)||ff(e)||ai(e)||_d(e),Pc=e=>wn(e)&&e.getAttribute("unselectable")==="true",_d=e=>!Pc(e)&&Qm(e),bu=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(_d(o))return!1;if(Ui(o))return!0}return!0},Jx=e=>_d(e)?!J(Zo(e.getElementsByTagName("*")),(n,o)=>n||Ui(o),!1):!1,eg=e=>qa(e)||Jx(e),tg=(e,n)=>gc(e)&&bu(e,n),im=/^[ \t\r\n]*$/,lm=e=>im.test(e),fp=e=>{for(const n of e)if(!Mh(n))return!1;return!0},Wv=e=>" \f	\v".indexOf(e)!==-1,jv=e=>e===`
`||e==="\r",ha=(e,n)=>n<e.length&&n>=0?jv(e[n]):!1,Ey=(e,n=4,o=!0,r=!0)=>{const c=Ws(" ",n),u=e.replace(/\t/g,c);return J(u,(b,k)=>Wv(k)||k===pr?b.pcIsSpace||b.str===""&&o||b.str.length===u.length-1&&r||ha(u,b.str.length+1)?{pcIsSpace:!1,str:b.str+pr}:{pcIsSpace:!0,str:b.str+" "}:{pcIsSpace:jv(k),str:b.str+k},{pcIsSpace:!1,str:""}).str},Yu=(e,n)=>{const o=de.fromDom(n),r=de.fromDom(e);return Uv(r,"pre,code",et(Rs,o))},um=(e,n)=>It(e)&&lm(e.data)&&!Yu(e,n),ng=e=>wn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Cd=(e,n)=>gc(e)&&!um(e,n)||ng(e)||tl(e),tl=si("data-mce-bookmark"),Fh=si("data-mce-bogus"),$h=am("data-mce-bogus","all"),Qx=(e,n)=>{let o=0;if(Cd(e,e))return!1;{let r=e.firstChild;if(!r)return!0;const c=new vr(r,e);do{if(n){if($h(r)){r=c.next(!0);continue}if(Fh(r)){r=c.next();continue}}if(na(r)){o++,r=c.next();continue}if(Cd(r,e))return!1;r=c.next()}while(r);return o<=1}},ba=(e,n=!0)=>Qx(e.dom,n),og="data-mce-block",dm=e=>Ye(xo(e),n=>!/[A-Z]/.test(n)),Ty=e=>dm(e).join(","),Ih=(e,n)=>$e(n.querySelector(e))?(n.setAttribute(og,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(og),!1),mf=(e,n)=>{const o=Ty(e.getTransparentElements()),r=Ty(e.getBlockElements());return Ye(n.querySelectorAll(o),c=>Ih(r,c))},Xu=(e,n)=>{var o;const r=n?"lastChild":"firstChild";for(let c=e[r];c;c=c[r])if(ba(de.fromDom(c))){(o=c.parentNode)===null||o===void 0||o.removeChild(c);return}},Ll=(e,n)=>{const o=document.createRange(),r=e.parentNode;if(r){o.setStartBefore(e),o.setEndBefore(n);const c=o.extractContents();Xu(c,!0),o.setStartAfter(n),o.setEndAfter(e);const u=o.extractContents();Xu(u,!1),ba(de.fromDom(c))||r.insertBefore(c,e),ba(de.fromDom(n))||r.insertBefore(n,e),ba(de.fromDom(u))||r.insertBefore(u,e),r.removeChild(e)}},sg=(e,n,o)=>{const r=e.getBlockElements(),c=de.fromDom(n),u=b=>qs(b)in r,m=b=>Rs(b,c);ae(vd(o),b=>{Ur(b,u,m).each(k=>{const S=Dh(b,z=>u(z)&&!e.isValidChild(qs(k),qs(z)));if(S.length>0){const z=bd(k);ae(S,M=>{Ur(M,u,m).each(I=>{Ll(I.dom,M.dom)})}),z.each(M=>mf(e,M.dom))}})})},fm=(e,n,o)=>{ae([...o,...mm(e,n)?[n]:[]],r=>ae(ja(de.fromDom(r),r.nodeName.toLowerCase()),c=>{qv(e,c.dom)&&oi(c)}))},Ay=(e,n)=>{const o=mf(e,n);sg(e,n,o),fm(e,n,o)},Oy=(e,n)=>{if(zy(e,n)){const o=Ty(e.getBlockElements());Ih(o,n)}},Zv=(e,n,o)=>{const r=u=>Rs(u,de.fromDom(n)),c=Jd(de.fromDom(o),r);ao(c,c.length-2).filter(lc).fold(()=>Ay(e,n),u=>Ay(e,u.dom))},mp=e=>e.hasAttribute(og),Dy=(e,n)=>qn(e.getTransparentElements(),n),zy=(e,n)=>wn(n)&&Dy(e,n.nodeName),mm=(e,n)=>zy(e,n)&&mp(n),qv=(e,n)=>zy(e,n)&&!mp(n),Ds=(e,n)=>n.type===1&&Dy(e,n.name)&&W(n.attr(og)),lo=js().browser,gm=e=>Le(e,lc),Ry=e=>lo.isFirefox()&&qs(e)==="table"?gm(Ua(e)).filter(n=>qs(n)==="caption").bind(n=>gm(Nc(n)).map(o=>{const r=o.dom.offsetTop,c=n.dom.offsetTop,u=n.dom.offsetHeight;return r<=c?-u:0})).getOr(0):0,Lh=(e,n)=>e.children&&ee(e.children,n),eE=(e,n,o)=>{let r=0,c=0;const u=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Rr(de.fromDom(e),"position")==="static"){const b=n.getBoundingClientRect();return r=b.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,c=b.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:c}}let m=n;for(;m&&m!==o&&m.nodeType&&!Lh(m,o);){const b=m;r+=b.offsetLeft||0,c+=b.offsetTop||0,m=b.offsetParent}for(m=n.parentNode;m&&m!==o&&m.nodeType&&!Lh(m,o);)r-=m.scrollLeft||0,c-=m.scrollTop||0,m=m.parentNode;c+=Ry(de.fromDom(n))}return{x:r,y:c}},Gv=(e,n={})=>{let o=0;const r={},c=de.fromDom(e),u=yi(c),m=K=>{n.referrerPolicy=K},b=K=>{n.contentCssCors=K},k=K=>{Sa(qm(c),K)},S=K=>{const oe=qm(c);me(oe,"#"+K).each(Ms)},z=K=>fs(r,K).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),M=K=>new Promise((oe,Te)=>{let ze;const Me=Dt._addCacheSuffix(K),Ue=z(Me);r[Me]=Ue,Ue.count++;const At=(nt,Bt)=>{ae(nt,vn),Ue.status=Bt,Ue.passed=[],Ue.failed=[],ze&&(ze.onload=null,ze.onerror=null,ze=null)},sn=()=>At(Ue.passed,2),Kt=()=>At(Ue.failed,3);if(oe&&Ue.passed.push(oe),Te&&Ue.failed.push(Te),Ue.status===1)return;if(Ue.status===2){sn();return}if(Ue.status===3){Kt();return}Ue.status=1;const Je=de.fromTag("link",u.dom);Xi(Je,{rel:"stylesheet",type:"text/css",id:Ue.id}),n.contentCssCors&&Gs(Je,"crossOrigin","anonymous"),n.referrerPolicy&&Gs(Je,"referrerpolicy",n.referrerPolicy),ze=Je.dom,ze.onload=sn,ze.onerror=Kt,k(Je),Gs(Je,"href",Me)}),I=K=>Promise.allSettled(we(K,Te=>M(Te).then(rt(Te)))).then(Te=>{const ze=Pe(Te,Me=>Me.status==="fulfilled");return ze.fail.length>0?Promise.reject(we(ze.fail,Me=>Me.reason)):we(ze.pass,Me=>Me.value)}),Q=K=>{const oe=Dt._addCacheSuffix(K);fs(r,oe).each(Te=>{--Te.count===0&&(delete r[oe],S(Te.id))})};return{load:M,loadAll:I,unload:Q,unloadAll:K=>{ae(K,oe=>{Q(oe)})},_setReferrerPolicy:m,_setContentCssCors:b}},Kv=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const u=kl(o).dom;return F.from(e.get(u)).getOrThunk(()=>{const m=Gv(u,r);return e.set(u,m),m})}}})(),My=e=>e.nodeName.toLowerCase()==="span",Yv=(e,n)=>$e(e)&&(Cd(e,n)||Yc(de.fromDom(e))),St=(e,n)=>{const o=new vr(e,n).prev(!1),r=new vr(e,n).next(!1),c=Sn(o)||Yv(o,n),u=Sn(r)||Yv(r,n);return c&&u},Ny=e=>My(e)&&e.getAttribute("data-mce-type")==="bookmark",tE=(e,n)=>It(e)&&e.data.length>0&&St(e,n),Py=e=>wn(e)?e.childNodes.length>0:!1,nE=e=>lp(e)||Cl(e),pm=(e,n,o)=>{var r;const c=o||n;if(wn(n)&&Ny(n))return n;const u=n.childNodes;for(let m=u.length-1;m>=0;m--)pm(e,u[m],c);if(wn(n)){const m=n.childNodes;m.length===1&&Ny(m[0])&&((r=n.parentNode)===null||r===void 0||r.insertBefore(m[0],n))}return!nE(n)&&!Cd(n,c)&&!Py(n)&&!tE(n,c)&&e.remove(n),n},Xv=Dt.makeMap,Sd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,By=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rg=/[<>&\"\']/g,Dr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,xd={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},gf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},yu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Jv=e=>{const n=de.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Fy=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let c=0;c<r.length;c+=2){const u=String.fromCharCode(parseInt(r[c],n));if(!gf[u]){const m="&"+r[c+1]+";";o[u]=m,o[m]=u}}return o}else return},pf=Fy("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),g_=(e,n)=>e.replace(n?Sd:By,o=>gf[o]||o),oE=e=>(""+e).replace(rg,n=>gf[n]||n),Qv=(e,n)=>e.replace(n?Sd:By,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":gf[o]||"&#"+o.charCodeAt(0)+";"),e0=(e,n,o)=>{const r=o||pf;return e.replace(n?Sd:By,c=>gf[c]||r[c]||c)},bm={encodeRaw:g_,encodeAllRaw:oE,encodeNumeric:Qv,encodeNamed:e0,getEncodeFunc:(e,n)=>{const o=Fy(n)||pf,r=(m,b)=>m.replace(b?Sd:By,k=>gf[k]!==void 0?gf[k]:o[k]!==void 0?o[k]:k.length>1?"&#"+((k.charCodeAt(0)-55296)*1024+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"),c=(m,b)=>e0(m,b,o),u=Xv(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?n?c:e0:u.numeric?Qv:g_},decode:e=>e.replace(Dr,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):xd[o]||String.fromCharCode(o)):yu[n]||pf[n]||Jv(n))},pc=(e,n)=>(e=Dt.trim(e),e?e.split(n||" "):[]),t0=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),Bn=e=>{const n=/^(~)?(.+)$/;return On(pc(e,","),o=>{const r=n.exec(o);if(r){const c=r[1]==="~",u=c?"span":"div",m=r[2];return[{inline:c,cloneName:u,name:m}]}else return[]})},n0=e=>{let n,o,r,c;if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"){const u="a ins del canvas map";n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav "+u,r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}return e!=="html5-strict"&&(n+=" xml:lang",r=[r,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "),c=[o,r].join(" ")),c=c||[o,r].join(" "),{globalAttributes:n,blockContent:o,phrasingContent:r,flowContent:c}},sE=e=>{const{globalAttributes:n,phrasingContent:o,flowContent:r}=n0(e),c={},u=(b,k="",S="")=>{const z=pc(S),M=pc(b);let I=M.length;for(;I--;){const Q=pc([n,k].join(" "));c[M[I]]={attributes:to(Q,rt({})),attributesOrder:Q,children:to(z,rt({}))}}},m=(b,k)=>{const S=pc(b),z=pc(k);let M=S.length;for(;M--;){const I=c[S[M]];for(let Q=0,se=z.length;Q<se;Q++)I.attributes[z[Q]]={},I.attributesOrder.push(z[Q])}};return e!=="html5-strict"&&(ae(pc("acronym applet basefont big font strike tt"),S=>{u(S,"",o)}),ae(pc("center dir isindex noframes"),S=>{u(S,"",r)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),u("dd div","",r),u("address dt caption","",e==="html4"?o:r),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),u("blockquote","cite",r),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",r),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?o:r),u("q","cite",o),u("ins del","cite datetime",r),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",r),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),u("param","name value"),u("map","name",[r,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",r),u("th","colspan rowspan headers scope abbr",r),u("form","accept-charset action autocomplete enctype method name novalidate target",r),u("fieldset","disabled form name",[r,"legend"].join(" ")),u("label","form for",o),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[r,"li"].join(" ")),u("noscript","",r),e!=="html4"&&(u("wbr"),u("ruby","",[o,"rt rp"].join(" ")),u("figcaption","",r),u("mark rt rp summary bdi","",o),u("canvas","width height",r),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[o,"option"].join(" ")),u("article section nav aside main header footer","",r),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[r,"figcaption"].join(" ")),u("time","datetime",o),u("dialog","open",r),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",o),u("progress","value max",o),u("meter","value min max low high optimum",o),u("details","open",[r,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(m("script","language xml:space"),m("style","xml:space"),m("object","declare classid code codebase codetype archive standby align border hspace vspace"),m("embed","align name hspace vspace"),m("param","valuetype type"),m("a","charset name rev shape coords"),m("br","clear"),m("applet","codebase archive code object alt name width height align hspace vspace"),m("img","name longdesc align border hspace vspace"),m("iframe","longdesc frameborder marginwidth marginheight scrolling align"),m("font basefont","size color face"),m("input","usemap align"),m("select"),m("textarea"),m("h1 h2 h3 h4 h5 h6 div p legend caption","align"),m("ul","type compact"),m("li","type"),m("ol dl menu dir","compact"),m("pre","width xml:space"),m("hr","align noshade size width"),m("isindex","prompt"),m("table","summary width frame rules cellspacing cellpadding align bgcolor"),m("col","width align char charoff valign"),m("colgroup","width align char charoff valign"),m("thead","align char charoff valign"),m("tr","align char charoff valign bgcolor"),m("th","axis align char charoff valign nowrap bgcolor width height"),m("form","accept"),m("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),m("tfoot","align char charoff valign"),m("tbody","align char charoff valign"),m("area","nohref"),m("body","background bgcolor text link vlink alink")),e!=="html4"&&(m("input button select textarea","autofocus"),m("input textarea","placeholder"),m("a","download"),m("link script img","crossorigin"),m("img","loading"),m("iframe","sandbox seamless allow allowfullscreen loading")),e!=="html4"&&ae([c.video,c.audio],b=>{delete b.children.audio,delete b.children.video}),ae(pc("a form meter progress dfn"),b=>{c[b]&&delete c[b].children[b]}),delete c.caption.children.table,delete c.script,c},o0=e=>e==="-"?"remove":"add",p_=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return On(pc(e,","),o=>{const r=n.exec(o);if(r){const c=r[1],u=c?o0(c):"replace",m=r[2],b=pc(r[3],"|");return[{operation:u,name:m,validChildren:b}]}else return[]})},rE=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:u}=n;return ae(pc(e,"|"),m=>{const b=o.exec(m);if(b){const k={},S=b[1],z=b[2].replace(/[\\:]:/g,":"),M=b[3],I=b[4];if(S==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(z),k.required=!0),S==="-"){delete c[z],u.splice(Dt.inArray(u,z),1);return}if(M&&(M==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:z,value:I}),k.defaultValue=I):M==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:z,value:I}),k.forcedValue=I):M==="<"&&(k.validValues=Dt.makeMap(I,"?"))),r.test(z)){const Q=k;n.attributePatterns=n.attributePatterns||[],Q.pattern=t0(z),n.attributePatterns.push(Q)}else c[z]||u.push(z),c[z]=k}})},hf=(e,n)=>{xt(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},ym=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return On(pc(n,","),r=>{const c=o.exec(r);if(c){const u=c[1],m=c[2],b=c[3],k=c[4],S=c[5],z={attributes:{},attributesOrder:[]};if(e.each(M=>hf(M,z)),u==="#"?z.paddEmpty=!0:u==="-"&&(z.removeEmpty=!0),k==="!"&&(z.removeEmptyAttrs=!0),S&&rE(S,z),b&&(z.outputName=m),m==="@")if(e.isNone())e=F.some(z);else return[];return[b?{name:m,element:z,aliasName:b}:{name:m,element:z}]}else return[]})},bf={},Hh=Dt.makeMap,El=Dt.each,$y=Dt.extend,h_=Dt.explode,gp=(e,n={})=>{const o=Hh(e," ",Hh(e.toUpperCase()," "));return $y(o,n)},Hl=e=>gp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),s0=(e,n)=>{if(e){const o={};return W(e)&&(e={"*":e}),El(e,(r,c)=>{o[c]=o[c.toUpperCase()]=n==="map"?Hh(r,/[, ]/):h_(r,/[, ]/)}),o}else return},Ju=(e={})=>{var n;const o={},r={};let c=[];const u={},m={},b=(Fn,us,sr)=>{const fa=e[Fn];if(fa)return Hh(fa,/[, ]/,Hh(fa.toUpperCase(),/[, ]/));{let dr=bf[Fn];return dr||(dr=gp(us,sr),bf[Fn]=dr),dr}},k=(n=e.schema)!==null&&n!==void 0?n:"html5",S=sE(k);e.verify_html===!1&&(e.valid_elements="*[*]");const z=s0(e.valid_styles),M=s0(e.invalid_styles,"map"),I=s0(e.valid_classes,"map"),Q=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),se=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),K=b("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),oe=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),Te="td th iframe video audio object script code",ze=b("non_empty_elements",Te+" pre",K),Me=b("move_caret_before_on_enter_elements",Te+" table",K),Ue=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),At=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ue),sn=b("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Kt=b("transparent_elements","a ins del canvas map");El("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Fn=>{m[Fn]=new RegExp("</"+Fn+"[^>]*>","gi")});const Je=Fn=>{const us=F.from(o["@"]),sr=/[*?+]/;ae(ym(us,Fn!=null?Fn:""),({name:fa,element:dr,aliasName:Ac})=>{if(Ac&&(o[Ac]=dr),sr.test(fa)){const su=dr;su.pattern=t0(fa),c.push(su)}else o[fa]=dr})},nt=Fn=>{c=[],ae(xo(o),us=>{delete o[us]}),Je(Fn)},Bt=Fn=>{delete bf.text_block_elements,delete bf.block_elements,ae(Bn(Fn!=null?Fn:""),({inline:us,name:sr,cloneName:fa})=>{if(r[sr]=r[fa],u[sr]=fa,ze[sr.toUpperCase()]={},ze[sr]={},us||(At[sr.toUpperCase()]={},At[sr]={}),!o[sr]){let dr=o[fa];dr=$y({},dr),delete dr.removeEmptyAttrs,delete dr.removeEmpty,o[sr]=dr}xt(r,(dr,Ac)=>{dr[fa]&&(r[Ac]=dr=$y({},r[Ac]),dr[sr]=dr[fa])})})},Vn=Fn=>{ae(p_(Fn!=null?Fn:""),({operation:us,name:sr,validChildren:fa})=>{const dr=us==="replace"?{"#comment":{}}:r[sr];ae(fa,Ac=>{us==="remove"?delete dr[Ac]:dr[Ac]={}}),r[sr]=dr})},ro=Fn=>{const us=o[Fn];if(us)return us;let sr=c.length;for(;sr--;){const fa=c[sr];if(fa.pattern.test(Fn))return fa}};e.valid_elements?(nt(e.valid_elements),El(S,(Fn,us)=>{r[us]=Fn.children})):(El(S,(Fn,us)=>{o[us]={attributes:Fn.attributes,attributesOrder:Fn.attributesOrder},r[us]=Fn.children}),El(pc("strong/b em/i"),Fn=>{const us=pc(Fn,"/");o[us[1]].outputName=us[0]}),El(sn,(Fn,us)=>{o[us]&&(e.padd_empty_block_inline_children&&(o[us].paddInEmptyBlock=!0),o[us].removeEmpty=!0)}),El(pc("ol ul blockquote a table tbody"),Fn=>{o[Fn]&&(o[Fn].removeEmpty=!0)}),El(pc("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Fn=>{o[Fn]&&(o[Fn].paddEmpty=!0)}),El(pc("span"),Fn=>{o[Fn].removeEmptyAttrs=!0})),Bt(e.custom_elements),Vn(e.valid_children),Je(e.extended_valid_elements),Vn("+ol[ul|ol],+ul[ul|ol]"),El({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Fn,us)=>{o[us]&&(o[us].parentsRequired=pc(Fn))}),e.invalid_elements&&El(h_(e.invalid_elements),Fn=>{o[Fn]&&delete o[Fn]}),ro("span")||Je("span[!data-mce-type|*]");const jo=rt(z),ls=rt(M),Is=rt(I),ar=rt(oe),_a=rt(At),La=rt(Ue),vc=rt(sn),jt=rt(Object.seal(K)),_n=rt(se),Os=rt(ze),os=rt(Me),Kn=rt(Q),Zt=rt(Kt),Ut=rt(Object.seal(m)),yo=(Fn,us)=>{const sr=r[Fn.toLowerCase()];return!!(sr&&sr[us.toLowerCase()])},hs=(Fn,us)=>{const sr=ro(Fn);if(sr)if(us){if(sr.attributes[us])return!0;const fa=sr.attributePatterns;if(fa){let dr=fa.length;for(;dr--;)if(fa[dr].pattern.test(us))return!0}}else return!0;return!1},Xs=rt(u);return{type:k,children:r,elements:o,getValidStyles:jo,getValidClasses:Is,getBlockElements:_a,getInvalidStyles:ls,getVoidElements:jt,getTextBlockElements:La,getTextInlineElements:vc,getBoolAttrs:ar,getElementRule:ro,getSelfClosingElements:_n,getNonEmptyElements:Os,getMoveCaretBeforeOnEnterElements:os,getWhitespaceElements:Kn,getTransparentElements:Zt,getSpecialElements:Ut,isValidChild:yo,isValid:hs,getCustomElements:Xs,addValidElements:Je,setValidElements:nt,addCustomElements:Bt,addValidChildren:Vn}},Iy=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};let m,b;const k=_t;n&&(m=n.getValidStyles(),b=n.getInvalidStyles());const S=(`\\" \\' \\; \\: ; : `+k).split(" ");for(let M=0;M<S.length;M++)u[S[M]]=k+M,u[k+M]=S[M];const z={parse:M=>{const I={};let Q=!1;const se=e.url_converter,K=e.url_converter_scope||z,oe=(Je,nt,Bt)=>{const Vn=I[Je+"-top"+nt];if(!Vn)return;const ro=I[Je+"-right"+nt];if(!ro)return;const jo=I[Je+"-bottom"+nt];if(!jo)return;const ls=I[Je+"-left"+nt];if(!ls)return;const Is=[Vn,ro,jo,ls];let ar=Is.length-1;for(;ar--&&Is[ar]===Is[ar+1];);ar>-1&&Bt||(I[Je+nt]=ar===-1?Is[0]:Is.join(" "),delete I[Je+"-top"+nt],delete I[Je+"-right"+nt],delete I[Je+"-bottom"+nt],delete I[Je+"-left"+nt])},Te=Je=>{const nt=I[Je];if(!nt)return;const Bt=nt.indexOf(",")>-1?[nt]:nt.split(" ");let Vn=Bt.length;for(;Vn--;)if(Bt[Vn]!==Bt[0])return!1;return I[Je]=Bt[0],!0},ze=(Je,nt,Bt,Vn)=>{Te(nt)&&Te(Bt)&&Te(Vn)&&(I[Je]=I[nt]+" "+I[Bt]+" "+I[Vn],delete I[nt],delete I[Bt],delete I[Vn])},Me=Je=>(Q=!0,u[Je]),Ue=(Je,nt)=>(Q&&(Je=Je.replace(/\uFEFF[0-9]/g,Bt=>u[Bt])),nt||(Je=Je.replace(/\\([\'\";:])/g,"$1")),Je),At=Je=>String.fromCharCode(parseInt(Je.slice(1),16)),sn=Je=>Je.replace(/\\[0-9a-f]+/gi,At),Kt=(Je,nt,Bt,Vn,ro,jo)=>{if(ro=ro||jo,ro)return ro=Ue(ro),"'"+ro.replace(/\'/g,"\\'")+"'";if(nt=Ue(nt||Bt||Vn||""),!e.allow_script_urls){const ls=nt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ls)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(ls))return""}return se&&(nt=se.call(K,nt,"style")),"url('"+nt.replace(/\'/g,"\\'")+"')"};if(M){M=M.replace(/[\u0000-\u001F]/g,""),M=M.replace(/\\[\"\';:\uFEFF]/g,Me).replace(/\"[^\"]+\"|\'[^\']+\'/g,nt=>nt.replace(/[;:]/g,Me));let Je;for(;Je=r.exec(M);){r.lastIndex=Je.index+Je[0].length;let nt=Je[1].replace(c,"").toLowerCase(),Bt=Je[2].replace(c,"");if(nt&&Bt){if(nt=sn(nt),Bt=sn(Bt),nt.indexOf(k)!==-1||nt.indexOf('"')!==-1||!e.allow_script_urls&&(nt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Bt)))continue;nt==="font-weight"&&Bt==="700"?Bt="bold":(nt==="color"||nt==="background-color")&&(Bt=Bt.toLowerCase()),Bt=Bt.replace(o,Kt),I[nt]=Q?Ue(Bt,!0):Bt}}oe("border","",!0),oe("border","-width"),oe("border","-color"),oe("border","-style"),oe("padding",""),oe("margin",""),ze("border","border-width","border-style","border-color"),I.border==="medium none"&&delete I.border,I["border-image"]==="none"&&delete I["border-image"]}return I},serialize:(M,I)=>{let Q="";const se=(oe,Te)=>{const ze=Te[oe];if(ze)for(let Me=0,Ue=ze.length;Me<Ue;Me++){const At=ze[Me],sn=M[At];sn&&(Q+=(Q.length>0?" ":"")+At+": "+sn+";")}},K=(oe,Te)=>{if(!b||!Te)return!0;let ze=b["*"];return ze&&ze[oe]?!1:(ze=b[Te],!(ze&&ze[oe]))};return I&&m?(se("*",m),se(I,m)):xt(M,(oe,Te)=>{oe&&K(Te,I)&&(Q+=(Q.length>0?" ":"")+Te+": "+oe+";")}),Q}};return z},aE={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},b_=e=>e instanceof Event||ce(e.initEvent),vm=e=>e.isDefaultPrevented===it||e.isDefaultPrevented===Re,vu=e=>Jt(e.preventDefault)||b_(e),Wi=(e,n)=>{const o=n!=null?n:{};for(const r in e)qn(aE,r)||(o[r]=e[r]);return $e(e.composedPath)&&(o.composedPath=()=>e.composedPath()),o},Ly=(e,n,o,r)=>{var c;const u=Wi(n,r);return u.type=e,Jt(u.target)&&(u.target=(c=u.srcElement)!==null&&c!==void 0?c:o),vu(n)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=it,ce(n.preventDefault)&&n.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=it,ce(n.stopPropagation)&&n.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=it,u.stopPropagation()},vm(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?it:Re,u.isPropagationStopped=u.cancelBubble===!0?it:Re,u.isImmediatePropagationStopped=Re)),u},cE="mce-data-",iE=/^(?:mouse|contextmenu)|click/,Hy=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},nl=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},Vy=e=>$e(e)&&iE.test(e.type),pp=(e,n)=>{const o=Ly(e.type,e,document,n);if(Vy(e)&&Sn(e.pageX)&&!Sn(e.clientX)){const r=o.target.ownerDocument||document,c=r.documentElement,u=r.body,m=o;m.pageX=e.clientX+(c&&c.scrollLeft||u&&u.scrollLeft||0)-(c&&c.clientLeft||u&&u.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||u&&u.scrollTop||0)-(c&&c.clientTop||u&&u.clientTop||0)}return o},y_=(e,n,o)=>{const r=e.document,c={type:"ready"};if(o.domLoaded){n(c);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,m=()=>{nl(e,"DOMContentLoaded",m),nl(e,"load",m),o.domLoaded||(o.domLoaded=!0,n(c)),e=null};u()?m():Hy(e,"DOMContentLoaded",m),o.domLoaded||Hy(e,"load",m)};class Ed{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=cE+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,c){const u=this;let m;const b=window,k=I=>{u.executeHandlers(pp(I||b.event),S)};if(!n||It(n)||qu(n))return r;let S;n[u.expando]?S=n[u.expando]:(S=u.count++,n[u.expando]=S,u.events[S]={}),c=c||n;const z=o.split(" ");let M=z.length;for(;M--;){let I=z[M],Q=k,se=!1,K=!1;if(I==="DOMContentLoaded"&&(I="ready"),u.domLoaded&&I==="ready"&&n.readyState==="complete"){r.call(c,pp({type:I}));continue}!u.hasFocusIn&&(I==="focusin"||I==="focusout")&&(se=!0,K=I==="focusin"?"focus":"blur",Q=oe=>{const Te=pp(oe||b.event);Te.type=Te.type==="focus"?"focusin":"focusout",u.executeHandlers(Te,S)}),m=u.events[S][I],m?I==="ready"&&u.domLoaded?r(pp({type:I})):m.push({func:r,scope:c}):(u.events[S][I]=m=[{func:r,scope:c}],m.fakeName=K,m.capture=se,m.nativeHandler=Q,I==="ready"?y_(n,Q,u):Hy(n,K||I,Q,se))}return n=m=null,r}unbind(n,o,r){if(!n||It(n)||qu(n))return this;const c=n[this.expando];if(c){let u=this.events[c];if(o){const m=o.split(" ");let b=m.length;for(;b--;){const k=m[b],S=u[k];if(S){if(r){let z=S.length;for(;z--;)if(S[z].func===r){const M=S.nativeHandler,I=S.fakeName,Q=S.capture,se=S.slice(0,z).concat(S.slice(z+1));se.nativeHandler=M,se.fakeName=I,se.capture=Q,u[k]=se}}(!r||S.length===0)&&(delete u[k],nl(n,S.fakeName||k,S.nativeHandler,S.capture))}}}else xt(u,(m,b)=>{nl(n,m.fakeName||b,m.nativeHandler,m.capture)}),u={};for(const m in u)if(qn(u,m))return this;delete this.events[c];try{delete n[this.expando]}catch(m){n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||It(n)||qu(n))return this;const c=pp({type:o,target:n},r);do{const u=n[this.expando];u&&this.executeHandlers(c,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!c.isPropagationStopped());return this}clean(n){if(!n||It(n)||qu(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],c=r&&r[n.type];if(c)for(let u=0,m=c.length;u<m;u++){const b=c[u];if(b&&b.func.call(b.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Ed.Event=new Ed;const r0=Dt.each,v_=Dt.grep,ag="data-mce-style",a0=Dt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),km=(e,n,o)=>{Jt(o)||o===""?ta(e,n):Gs(e,n,o)},Vh=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),hp=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const u=c.nodeType;n&&It(c)&&(u===r||!c.data.length)||(o++,r=u)}return o},c0=(e,n)=>{const o=kc(n,"style"),r=e.serialize(e.parse(o),qs(n));km(n,ag,r)},i0=(e,n)=>Ro(e)?qn(a0,n)?e+"":e+"px":e,k_=(e,n,o)=>{const r=Vh(n);Jt(o)||o===""?Ym(e,r):wc(e,r,i0(o,r))},lE=(e,n,o)=>{const r=n.keep_values,c={set:(m,b,k)=>{const S=de.fromDom(m);ce(n.url_converter)&&$e(b)&&(b=n.url_converter.call(n.url_converter_scope||o(),String(b),k,m));const z="data-mce-"+k;km(S,z,b),km(S,k,b)},get:(m,b)=>{const k=de.fromDom(m);return kc(k,"data-mce-"+b)||kc(k,b)}},u={style:{set:(m,b)=>{const k=de.fromDom(m);r&&km(k,ag,b),ta(k,"style"),W(b)&&Xr(k,e.parse(b))},get:m=>{const b=de.fromDom(m),k=kc(b,ag)||kc(b,"style");return e.serialize(e.parse(k),qs(b))}}};return r&&(u.href=u.src=c),u},Ys=(e,n={})=>{const o={},r=window,c={};let u=0;const m=!0,b=!0,k=Kv.forElement(de.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),S=[],z=n.schema?n.schema:Ju({}),M=Iy({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),I=n.ownEvents?new Ed:Ed.Event,Q=z.getBlockElements(),se=je=>W(je)?qn(Q,je):wn(je)&&(qn(Q,je.nodeName)||mm(z,je)),K=je=>je&&e&&W(je)?e.getElementById(je):je,oe=je=>{const Ze=K(je);return $e(Ze)?de.fromDom(Ze):null},Te=(je,Ze,qt="")=>{let Lt;const mo=oe(je);if($e(mo)&&lc(mo)){const Es=hy[Ze];Es&&Es.get?Lt=Es.get(mo.dom,Ze):Lt=kc(mo,Ze)}return $e(Lt)?Lt:qt},ze=je=>{const Ze=K(je);return Jt(Ze)?[]:Ze.attributes},Me=(je,Ze,qt)=>{_n(je,Lt=>{if(wn(Lt)){const mo=de.fromDom(Lt),Es=qt===""?null:qt,Lr=kc(mo,Ze),Oc=hy[Ze];Oc&&Oc.set?Oc.set(mo.dom,Es,Ze):km(mo,Ze,Es),Lr!==Es&&n.onSetAttrib&&n.onSetAttrib({attrElm:mo.dom,attrName:Ze,attrValue:Es})}})},Ue=(je,Ze)=>je.cloneNode(Ze),At=()=>n.root_element||e.body,sn=je=>{const Ze=Oh(je);return{x:Ze.x,y:Ze.y,w:Ze.width,h:Ze.height}},Kt=(je,Ze)=>eE(e.body,K(je),Ze),Je=(je,Ze,qt)=>{_n(je,Lt=>{const mo=de.fromDom(Lt);k_(mo,Ze,qt),n.update_styles&&c0(M,mo)})},nt=(je,Ze)=>{_n(je,qt=>{const Lt=de.fromDom(qt);xt(Ze,(mo,Es)=>{k_(Lt,Es,mo)}),n.update_styles&&c0(M,Lt)})},Bt=(je,Ze,qt)=>{const Lt=K(je);if(!(Jt(Lt)||!wn(Lt)))return qt?Rr(de.fromDom(Lt),Vh(Ze)):(Ze=Ze.replace(/-(\D)/g,(mo,Es)=>Es.toUpperCase()),Ze==="float"&&(Ze="cssFloat"),Lt.style?Lt.style[Ze]:void 0)},Vn=je=>{const Ze=K(je);if(!Ze)return{w:0,h:0};let qt=Bt(Ze,"width"),Lt=Bt(Ze,"height");return(!qt||qt.indexOf("px")===-1)&&(qt="0"),(!Lt||Lt.indexOf("px")===-1)&&(Lt="0"),{w:parseInt(qt,10)||Ze.offsetWidth||Ze.clientWidth,h:parseInt(Lt,10)||Ze.offsetHeight||Ze.clientHeight}},ro=je=>{const Ze=K(je),qt=Kt(Ze),Lt=Vn(Ze);return{x:qt.x,y:qt.y,w:Lt.w,h:Lt.h}},jo=(je,Ze)=>{if(!je)return!1;const qt=ht(je)?je:[je];return he(qt,Lt=>Bi(de.fromDom(Lt),Ze))},ls=(je,Ze,qt,Lt)=>{const mo=[];let Es=K(je);Lt=Lt===void 0;const Lr=qt||(At().nodeName!=="BODY"?At().parentNode:null);if(W(Ze))if(Ze==="*")Ze=wn;else{const Oc=Ze;Ze=ei=>jo(ei,Oc)}for(;Es&&!(Es===Lr||Jt(Es.nodeType)||Cl(Es)||lp(Es));){if(!Ze||Ze(Es))if(Lt)mo.push(Es);else return[Es];Es=Es.parentNode}return Lt?mo:null},Is=(je,Ze,qt)=>{const Lt=ls(je,Ze,qt,!1);return Lt&&Lt.length>0?Lt[0]:null},ar=(je,Ze,qt)=>{let Lt=Ze;if(je){W(Ze)&&(Lt=mo=>jo(mo,Ze));for(let mo=je[qt];mo;mo=mo[qt])if(ce(Lt)&&Lt(mo))return mo}return null},_a=(je,Ze)=>ar(je,Ze,"nextSibling"),La=(je,Ze)=>ar(je,Ze,"previousSibling"),vc=je=>ce(je.querySelectorAll),jt=(je,Ze)=>{var qt,Lt;const mo=(Lt=(qt=K(Ze))!==null&&qt!==void 0?qt:n.root_element)!==null&&Lt!==void 0?Lt:e;return vc(mo)?Zo(mo.querySelectorAll(je)):[]},_n=function(je,Ze,qt){const Lt=qt!=null?qt:this;if(ht(je)){const mo=[];return r0(je,(Es,Lr)=>{const Oc=K(Es);Oc&&mo.push(Ze.call(Lt,Oc,Lr))}),mo}else{const mo=K(je);return mo?Ze.call(Lt,mo):!1}},Os=(je,Ze)=>{_n(je,qt=>{xt(Ze,(Lt,mo)=>{Me(qt,mo,Lt)})})},os=(je,Ze)=>{_n(je,qt=>{const Lt=de.fromDom(qt);nf(Lt,Ze)})},Kn=(je,Ze,qt,Lt,mo)=>_n(je,Es=>{const Lr=W(Ze)?e.createElement(Ze):Ze;return $e(qt)&&Os(Lr,qt),Lt&&(!W(Lt)&&Lt.nodeType?Lr.appendChild(Lt):W(Lt)&&os(Lr,Lt)),mo?Lr:Es.appendChild(Lr)}),Zt=(je,Ze,qt)=>Kn(e.createElement(je),je,Ze,qt,!0),Ut=bm.decode,yo=bm.encodeAllRaw,hs=(je,Ze,qt="")=>{let Lt="<"+je;for(const mo in Ze)cr(Ze,mo)&&(Lt+=" "+mo+'="'+yo(Ze[mo])+'"');return ms(qt)&&qn(z.getVoidElements(),je)?Lt+" />":Lt+">"+qt+"</"+je+">"},Xs=je=>{const Ze=e.createElement("div"),qt=e.createDocumentFragment();qt.appendChild(Ze),je&&(Ze.innerHTML=je);let Lt;for(;Lt=Ze.firstChild;)qt.appendChild(Lt);return qt.removeChild(Ze),qt},Fn=(je,Ze)=>_n(je,qt=>{const Lt=de.fromDom(qt);return Ze&&ae(Ua(Lt),mo=>{ec(mo)&&mo.dom.length===0?Ms(mo):Wa(Lt,mo)}),Ms(Lt),Lt.dom}),us=je=>_n(je,Ze=>{const qt=Ze.attributes;for(let Lt=qt.length-1;Lt>=0;Lt--)Ze.removeAttributeNode(qt.item(Lt))}),sr=je=>M.parse(je),fa=(je,Ze)=>M.serialize(je,Ze),dr=je=>{if(Kf!==Ys.DOM&&e===document){if(o[je])return;o[je]=!0}let Ze=e.getElementById("mceDefaultStyles");if(!Ze){Ze=e.createElement("style"),Ze.id="mceDefaultStyles",Ze.type="text/css";const qt=e.head;qt.firstChild?qt.insertBefore(Ze,qt.firstChild):qt.appendChild(Ze)}Ze.styleSheet?Ze.styleSheet.cssText+=je:Ze.appendChild(e.createTextNode(je))},Ac=je=>{je||(je=""),ae(je.split(","),Ze=>{c[Ze]=!0,k.load(Ze).catch(De)})},su=(je,Ze,qt)=>{_n(je,Lt=>{if(wn(Lt)){const mo=de.fromDom(Lt),Es=Ze.split(" ");ae(Es,Lr=>{$e(qt)?(qt?$l:Lu)(mo,Lr):Vm(mo,Lr)})}})},Pl=(je,Ze)=>{su(je,Ze,!0)},Nu=(je,Ze)=>{su(je,Ze,!1)},mh=(je,Ze)=>{const qt=oe(je),Lt=Ze.split(" ");return $e(qt)&&Nn(Lt,mo=>yl(qt,mo))},gy=je=>{_n(je,Ze=>Ym(de.fromDom(Ze),"display"))},gh=je=>{_n(je,Ze=>wc(de.fromDom(Ze),"display","none"))},ph=je=>{const Ze=oe(je);return $e(Ze)&&Zs(Na(Ze,"display"),"none")},Ux=je=>(je||"mce_")+u++,Wx=je=>{const Ze=oe(je);return $e(Ze)?wn(Ze.dom)?Ze.dom.outerHTML:Ch(Ze):""},jx=(je,Ze)=>{_n(je,qt=>{wn(qt)&&(qt.outerHTML=Ze)})},e_=(je,Ze)=>{const qt=K(Ze);return _n(je,Lt=>{const mo=qt==null?void 0:qt.parentNode,Es=qt==null?void 0:qt.nextSibling;return mo&&(Es?mo.insertBefore(Lt,Es):mo.appendChild(Lt)),Lt})},t_=(je,Ze,qt)=>_n(Ze,Lt=>{var mo;const Es=ht(Ze)?je.cloneNode(!0):je;return qt&&r0(v_(Lt.childNodes),Lr=>{Es.appendChild(Lr)}),(mo=Lt.parentNode)===null||mo===void 0||mo.replaceChild(Es,Lt),Lt}),n_=(je,Ze)=>{if(je.nodeName!==Ze.toUpperCase()){const qt=Zt(Ze);return r0(ze(je),Lt=>{Me(qt,Lt.nodeName,Te(je,Lt.nodeName))}),t_(qt,je,!0),qt}else return je},Fv=(je,Ze)=>{let qt=je;for(;qt;){let Lt=Ze;for(;Lt&&qt!==Lt;)Lt=Lt.parentNode;if(qt===Lt)break;qt=qt.parentNode}return!qt&&je.ownerDocument?je.ownerDocument.documentElement:qt},Gf=je=>{if(wn(je)){const Ze=je.nodeName.toLowerCase()==="a"&&!Te(je,"href")&&Te(je,"id");if(Te(je,"name")||Te(je,"data-mce-bookmark")||Ze)return!0}return!1},$v=(je,Ze,qt)=>{let Lt=0;if(Gf(je))return!1;const mo=je.firstChild;if(mo){const Es=new vr(mo,je),Lr=z?z.getWhitespaceElements():{},Oc=Ze||(z?z.getNonEmptyElements():null);let ei=mo;do{if(wn(ei)){const i_=ei.getAttribute("data-mce-bogus");if(i_){ei=Es.next(i_==="all");continue}const l_=ei.nodeName.toLowerCase();if(Oc&&Oc[l_]){if(l_==="br"){Lt++,ei=Es.next();continue}return!1}if(Gf(ei))return!1}if(qu(ei)||It(ei)&&!lm(ei.data)&&(!(qt!=null&&qt.includeZwsp)||!fp(ei.data))||It(ei)&&ei.parentNode&&Lr[ei.parentNode.nodeName]&&lm(ei.data))return!1;ei=Es.next()}while(ei)}return Lt<=1},py=()=>e.createRange(),Xg=(je,Ze,qt)=>{let Lt=py(),mo,Es;if(je&&Ze&&je.parentNode&&Ze.parentNode){const Lr=je.parentNode;return Lt.setStart(Lr,hp(je)),Lt.setEnd(Ze.parentNode,hp(Ze)),mo=Lt.extractContents(),Lt=py(),Lt.setStart(Ze.parentNode,hp(Ze)+1),Lt.setEnd(Lr,hp(je)+1),Es=Lt.extractContents(),Lr.insertBefore(pm(Kf,mo),je),qt?Lr.insertBefore(qt,je):Lr.insertBefore(Ze,je),Lr.insertBefore(pm(Kf,Es),je),Fn(je),qt||Ze}else return},o_=(je,Ze,qt,Lt)=>{if(ht(je)){let mo=je.length;const Es=[];for(;mo--;)Es[mo]=o_(je[mo],Ze,qt,Lt);return Es}else return n.collect&&(je===e||je===r)&&S.push([je,Ze,qt,Lt]),I.bind(je,Ze,qt,Lt||Kf)},s_=(je,Ze,qt)=>{if(ht(je)){let Lt=je.length;const mo=[];for(;Lt--;)mo[Lt]=s_(je[Lt],Ze,qt);return mo}else{if(S.length>0&&(je===e||je===r)){let Lt=S.length;for(;Lt--;){const[mo,Es,Lr]=S[Lt];je===mo&&(!Ze||Ze===Es)&&(!qt||qt===Lr)&&I.unbind(mo,Es,Lr)}}return I.unbind(je,Ze,qt)}},Hm=(je,Ze,qt)=>I.dispatch(je,Ze,qt),Jg=(je,Ze,qt)=>I.dispatch(je,Ze,qt),r_=je=>{if(je&&wn(je)){const Ze=je.getAttribute("data-mce-contenteditable");return Ze&&Ze!=="inherit"?Ze:je.contentEditable!=="inherit"?je.contentEditable:null}else return null},Kf={doc:e,settings:n,win:r,files:c,stdMode:m,boxModel:b,styleSheetLoader:k,boundEvents:S,styles:M,schema:z,events:I,isBlock:se,root:null,clone:Ue,getRoot:At,getViewPort:sn,getRect:ro,getSize:Vn,getParent:Is,getParents:ls,get:K,getNext:_a,getPrev:La,select:jt,is:jo,add:Kn,create:Zt,createHTML:hs,createFragment:Xs,remove:Fn,setStyle:Je,getStyle:Bt,setStyles:nt,removeAllAttribs:us,setAttrib:Me,setAttribs:Os,getAttrib:Te,getPos:Kt,parseStyle:sr,serializeStyle:fa,addStyle:dr,loadCSS:Ac,addClass:Pl,removeClass:Nu,hasClass:mh,toggleClass:su,show:gy,hide:gh,isHidden:ph,uniqueId:Ux,setHTML:os,getOuterHTML:Wx,setOuterHTML:jx,decode:Ut,encode:yo,insertAfter:e_,replace:t_,rename:n_,findCommonAncestor:Fv,run:_n,getAttribs:ze,isEmpty:$v,createRng:py,nodeIndex:hp,split:Xg,bind:o_,unbind:s_,fire:Jg,dispatch:Hm,getContentEditable:r_,getContentEditableParent:je=>{const Ze=At();let qt=null;for(let Lt=je;Lt&&Lt!==Ze&&(qt=r_(Lt),qt===null);Lt=Lt.parentNode);return qt},isEditable:je=>{if($e(je)){const Ze=wn(je)?je:je.parentElement;return $e(Ze)&&$t(de.fromDom(Ze))}else return!1},destroy:()=>{if(S.length>0){let je=S.length;for(;je--;){const[Ze,qt,Lt]=S[je];I.unbind(Ze,qt,Lt)}}xt(c,(je,Ze)=>{k.unload(Ze),delete c[Ze]})},isChildOf:(je,Ze)=>je===Ze||Ze.contains(je),dumpRng:je=>"startContainer: "+je.startContainer.nodeName+", startOffset: "+je.startOffset+", endContainer: "+je.endContainer.nodeName+", endOffset: "+je.endOffset},hy=lE(M,n,rt(Kf));return Kf};Ys.DOM=Ys(document),Ys.nodeIndex=hp;const l0=Ys.DOM,w_=0,__=1,Uh=2,uE=3;class Td{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const c=l0;let u;const m=()=>{c.remove(S),u&&(u.onerror=u.onload=u=null)},b=()=>{m(),o()},k=()=>{m(),r("Failed to load script: "+n)},S=c.uniqueId();u=document.createElement("script"),u.id=S,u.type="text/javascript",u.src=Dt._addCacheSuffix(n),this.settings.referrerPolicy&&c.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=b,u.onerror=k,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(n){return this.states[n]===Uh}markDone(n){this.states[n]=Uh}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=w_),new Promise((c,u)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:c,reject:u})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(k,S)=>{fs(o.scriptLoadedCallbacks,S).each(z=>{ae(z,M=>M[k](S))}),delete o.scriptLoadedCallbacks[S]},c=k=>{const S=Ye(k,z=>z.status==="rejected");return S.length>0?Promise.reject(On(S,({reason:z})=>ht(z)?z:[z])):Promise.resolve()},u=k=>Promise.allSettled(we(k,S=>o.states[S]===Uh?(r("resolve",S),Promise.resolve()):o.states[S]===uE?(r("reject",S),Promise.reject(S)):(o.states[S]=__,o.loadScript(S).then(()=>{o.states[S]=Uh,r("resolve",S);const z=o.queue;return z.length>0?(o.queue=[],u(z).then(c)):Promise.resolve()},()=>(o.states[S]=uE,r("reject",S),Promise.reject(S)))))),m=k=>(o.loading=!0,u(k).then(S=>{o.loading=!1;const z=o.queueLoadedCallbacks.shift();return F.from(z).each(vn),c(S)})),b=Xe(n);return o.loading?new Promise((k,S)=>{o.queueLoadedCallbacks.push(()=>{m(b).then(k,S)})}):m(b)}}Td.ScriptLoader=new Td;const Pa=e=>{let n=e;return{get:()=>n,set:c=>{n=c}}},Wh=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},bp=e=>ft(e)&&qn(e,"raw"),C_=e=>ht(e)&&e.length>1,jh={},u0=Pa("en"),ya=()=>fs(jh,u0.get()),Vl={getData:()=>Oo(jh,e=>te({},e)),setCode:e=>{e&&u0.set(e)},getCode:()=>u0.get(),add:(e,n)=>{let o=jh[e];o||(jh[e]=o={});const r=we(xo(n),c=>c.toLowerCase());xt(n,(c,u)=>{const m=u.toLowerCase();m!==u&&Wh(r,m)?(qn(n,m)||(o[m]=c),o[u]=c):o[m]=c})},translate:e=>{const n=ya().getOr({}),o=m=>ce(m)?Object.prototype.toString.call(m):r(m)?"":""+m,r=m=>m===""||m===null||m===void 0,c=m=>{const b=o(m);return qn(n,b)?o(n[b]):fs(n,b.toLowerCase()).map(o).getOr(b)},u=m=>m.replace(/{context:\w+}$/,"");if(r(e))return"";if(bp(e))return o(e.raw);if(C_(e)){const m=e.slice(1),b=c(e[0]).replace(/\{([0-9]+)\}/g,(k,S)=>qn(m,S)?o(m[S]):k);return u(b)}return u(c(e))},isRtl:()=>ya().bind(e=>fs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>qn(jh,e)},va=()=>{const e=[],n={},o={},r=[],c=(K,oe)=>{const Te=Ye(r,ze=>ze.name===K&&ze.state===oe);ae(Te,ze=>ze.resolve())},u=K=>qn(n,K),m=K=>qn(o,K),b=K=>{if(o[K])return o[K].instance},k=(K,oe)=>{const Te=Vl.getCode(),ze=","+(oe||"")+",";!Te||oe&&ze.indexOf(","+Te+",")===-1||Td.ScriptLoader.add(n[K]+"/langs/"+Te+".js")},S=(K,oe)=>{va.languageLoad!==!1&&(u(K)?k(K,oe):se(K,"loaded").then(()=>k(K,oe)))},z=(K,oe)=>(e.push(oe),o[K]={instance:oe},c(K,"added"),oe),M=K=>{delete n[K],delete o[K]},I=(K,oe)=>W(oe)?W(K)?{prefix:"",resource:oe,suffix:""}:{prefix:K.prefix,resource:oe,suffix:K.suffix}:oe,Q=(K,oe)=>{if(n[K])return Promise.resolve();let Te=W(oe)?oe:oe.prefix+oe.resource+oe.suffix;Te.indexOf("/")!==0&&Te.indexOf("://")===-1&&(Te=va.baseURL+"/"+Te),n[K]=Te.substring(0,Te.lastIndexOf("/"));const ze=()=>(c(K,"loaded"),Promise.resolve());return o[K]?ze():Td.ScriptLoader.add(Te).then(ze)},se=(K,oe="added")=>oe==="added"&&m(K)||oe==="loaded"&&u(K)?Promise.resolve():new Promise(Te=>{r.push({name:K,state:oe,resolve:Te})});return{items:e,urls:n,lookup:o,get:b,requireLangPack:S,add:z,remove:M,createUrl:I,load:Q,waitFor:se}};va.languageLoad=!0,va.baseURL="",va.PluginManager=va(),va.ThemeManager=va(),va.ModelManager=va();const Ta=e=>{const n=Pa(F.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set(F.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:b=>{o(),n.set(F.some(b))}}},fE=e=>{const n=Pa(F.none()),o=()=>n.get().each(b=>clearInterval(b));return{clear:()=>{o(),n.set(F.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:b=>{o(),n.set(F.some(setInterval(b,e)))}}},Qu=()=>{const e=Ta(De),n=o=>e.get().each(o);return pt(te({},e),{on:n})},Zh=(e,n)=>{let o=null;return{cancel:()=>{H(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{H(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},n))}}},Uy=(e,n)=>{let o=null;const r=()=>{H(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...u)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,u)},n)}}},Ul=rt("mce-annotation"),sl=rt("data-mce-annotation"),cg=rt("data-mce-annotation-uid"),yp=rt("data-mce-annotation-active"),qh=rt("data-mce-annotation-classes"),Gh=rt("data-mce-annotation-attrs"),S_=e=>n=>Rs(n,e),f0=(e,n)=>{const o=e.selection.getRng(),r=de.fromDom(o.startContainer),c=de.fromDom(e.getBody()),u=n.fold(()=>"."+Ul(),k=>`[${sl()}="${k}"]`),m=uu(r,o.startOffset).getOr(r);return ve(m,u,S_(c)).bind(k=>hl(k,`${cg()}`).bind(S=>hl(k,`${sl()}`).map(z=>{const M=E_(e,S);return{uid:S,name:z,elements:M}})))},mE=e=>lc(e)&&yl(e,Ul()),x_=(e,n)=>Kr(e,"data-mce-bogus")||Uv(e,'[data-mce-bogus="all"]',S_(n)),E_=(e,n)=>{const o=de.fromDom(e.getBody()),r=ja(o,`[${cg()}="${n}"]`);return Ye(r,c=>!x_(c,o))},m0=(e,n)=>{const o=de.fromDom(e.getBody()),r=ja(o,`[${sl()}="${n}"]`),c={};return ae(r,u=>{if(!x_(u,o)){const m=kc(u,cg()),b=fs(c,m).getOr([]);c[m]=b.concat([u])}}),c},T_=(e,n)=>{const o=Pa({}),r=()=>({listeners:[],previous:Qu()}),c=(M,I)=>{u(M,Q=>(I(Q),Q))},u=(M,I)=>{const Q=o.get(),se=fs(Q,M).getOrThunk(r),K=I(se);Q[M]=K,o.set(Q)},m=(M,I,Q)=>{c(M,se=>{ae(se.listeners,K=>K(!0,M,{uid:I,nodes:we(Q,oe=>oe.dom)}))})},b=M=>{c(M,I=>{ae(I.listeners,Q=>Q(!1,M))})},k=(M,I)=>{ae(E_(e,M),Q=>{I?Gs(Q,yp(),"true"):ta(Q,yp())})},S=Uy(()=>{const M=Jn(n.getNames());ae(M,I=>{u(I,Q=>{const se=Q.previous.get();return f0(e,F.some(I)).fold(()=>{se.each(K=>{b(I),Q.previous.clear(),k(K,!1)})},({uid:K,name:oe,elements:Te})=>{Zs(se,K)||(se.each(ze=>k(ze,!1)),m(oe,K,Te),Q.previous.set(K),k(K,!0))}),{previous:Q.previous,listeners:Q.listeners}})})},30);return e.on("remove",()=>{S.cancel()}),e.on("NodeChange",()=>{S.throttle()}),{addListener:(M,I)=>{u(M,Q=>({previous:Q.previous,listeners:Q.listeners.concat([I])}))}}},LO=(e,n)=>{const o=sl(),r=u=>F.from(u.attr(o)).bind(n.lookup),c=u=>{var m,b;u.attr(cg(),null),u.attr(sl(),null),u.attr(yp(),null);const k=F.from(u.attr(Gh())).map(I=>I.split(",")).getOr([]),S=F.from(u.attr(qh())).map(I=>I.split(",")).getOr([]);ae(k,I=>u.attr(I,null));const z=(b=(m=u.attr("class"))===null||m===void 0?void 0:m.split(" "))!==null&&b!==void 0?b:[],M=$o(z,[Ul()].concat(S));u.attr("class",M.length>0?M.join(" "):null),u.attr(qh(),null),u.attr(Gh(),null)};e.serializer.addTempAttr(yp()),e.serializer.addAttributeFilter(o,u=>{for(const m of u)r(m).each(b=>{b.persistent===!1&&(m.name==="span"?m.unwrap():c(m))})})},Wy=()=>{const e={};return{register:(c,u)=>{e[c]={name:c,settings:u}},lookup:c=>fs(e,c).map(u=>u.settings),getNames:()=>xo(e)}};let A_=0;const Fr=e=>{const o=new Date().getTime(),r=Math.floor(Math.random()*1e9);return A_++,e+"_"+r+A_+String(o)},g0=(e,n)=>{ae(n,o=>{$l(e,o)})},p0=(e,n)=>{ae(n,o=>{Lu(e,o)})},O_=(e,n)=>de.fromDom(e.dom.cloneNode(n)),vf=e=>O_(e,!1),Bc=e=>O_(e,!0),Si=(e,n)=>{const o=de.fromTag(n),r=lu(e);return Xi(o,r),o},D_=(e,n)=>{const o=Si(e,n);Il(e,o);const r=Ua(e);return rr(o,r),Ms(e),o},h0=(e,n,o=Re)=>{const r=new vr(e,n),c=u=>{let m;do m=r[u]();while(m&&!It(m)&&!o(m));return F.from(m).filter(It)};return{current:()=>F.from(r.current()).filter(It),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},wm=(e,n)=>{const o=n||(m=>e.isBlock(m)||na(m)||As(m)),r=(m,b,k,S)=>{if(It(m)){const z=S(m,b,m.data);if(z!==-1)return F.some({container:m,offset:z})}return k().bind(z=>r(z.container,z.offset,k,S))};return{backwards:(m,b,k,S)=>{const z=h0(m,S!=null?S:e.getRoot(),o);return r(m,b,()=>z.prev().map(M=>({container:M,offset:M.length})),k).getOrNull()},forwards:(m,b,k,S)=>{const z=h0(m,S!=null?S:e.getRoot(),o);return r(m,b,()=>z.next().map(M=>({container:M,offset:0})),k).getOrNull()}}},ig=Math.round,lg=e=>e?{left:ig(e.left),top:ig(e.top),bottom:ig(e.bottom),right:ig(e.right),width:ig(e.width),height:ig(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},jy=(e,n)=>(e=lg(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),kf=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Zy=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,jr=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Zy(n.top-e.bottom,e,n)},rl=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Zy(n.bottom-e.top,e,n),vp=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,gE=e=>J(e,(n,o)=>n.fold(()=>F.some(o),r=>{const c=Math.min(o.left,r.left),u=Math.min(o.top,r.top),m=Math.max(o.right,r.right),b=Math.max(o.bottom,r.bottom);return F.some({top:u,right:m,bottom:b,left:c,width:m-c,height:b-u})}),F.none()),b0=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),c=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-c)*(o-c))},pE=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),ug=(e,n,o)=>Math.min(Math.max(e,n),o),kp=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},Wl=(e,n)=>{if(wn(e)&&e.hasChildNodes()){const o=e.childNodes,r=ug(n,0,o.length-1);return o[r]}else return e},y0=(e,n)=>{if(!(n<0&&wn(e)&&e.hasChildNodes()))return Wl(e,n)},z_=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),R_=e=>W(e)&&e.charCodeAt(0)>=768&&z_.test(e),hE=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},M_=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},qy=wn,Gy=gc,N_=Zu("display","block table"),v0=Zu("float","left right"),dg=M_(qy,Gy,uo(v0)),P_=uo(Zu("white-space","pre pre-line pre-wrap")),Ky=It,wf=na,Kh=Ys.nodeIndex,al=y0,wp=e=>e?e.createRange():Ys.DOM.createRng(),vs=e=>W(e)&&/[\r\n\t ]/.test(e),xi=e=>!!e.setStart&&!!e.setEnd,_f=e=>{const n=e.startContainer,o=e.startOffset;if(vs(e.toString())&&P_(n.parentNode)&&It(n)){const r=n.data;if(vs(r[o-1])||vs(r[o+1]))return!0}return!1},k0=e=>{const n=e.ownerDocument,o=wp(n),r=n.createTextNode(pr),c=e.parentNode;c.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const u=lg(o.getBoundingClientRect());return c.removeChild(r),u},Mr=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,c=e.endOffset;if(n===o&&It(o)&&r===0&&c===1){const u=e.cloneRange();return u.setEndAfter(o),Cf(u)}else return null},w0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Cf=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=lg(r[0]):o=lg(e.getBoundingClientRect()),!xi(e)&&wf(e)&&w0(o)?k0(e):w0(o)&&xi(e)&&(n=Mr(e))!==null&&n!==void 0?n:o},Aa=(e,n)=>{const o=jy(e,n);return o.width=1,o.right=o.left+1,o},Ad=e=>{const n=[],o=m=>{m.height!==0&&(n.length>0&&kf(m,n[n.length-1])||n.push(m))},r=(m,b)=>{const k=wp(m.ownerDocument);if(b<m.data.length){if(R_(m.data[b]))return;if(R_(m.data[b-1])&&(k.setStart(m,b),k.setEnd(m,b+1),!_f(k))){o(Aa(Cf(k),!1));return}}b>0&&(k.setStart(m,b-1),k.setEnd(m,b),_f(k)||o(Aa(Cf(k),!1))),b<m.data.length&&(k.setStart(m,b),k.setEnd(m,b+1),_f(k)||o(Aa(Cf(k),!0)))},c=e.container(),u=e.offset();if(Ky(c))return r(c,u),n;if(qy(c))if(e.isAtEnd()){const m=al(c,u);Ky(m)&&r(m,m.data.length),dg(m)&&!wf(m)&&o(Aa(Cf(m),!1))}else{const m=al(c,u);if(Ky(m)&&r(m,0),dg(m)&&e.isAtEnd())return o(Aa(Cf(m),!1)),n;const b=al(e.container(),e.offset()-1);dg(b)&&!wf(b)&&(N_(b)||N_(m)||!dg(m))&&o(Aa(Cf(b),!1)),dg(m)&&o(Aa(Cf(m),!0))}return n},ut=(e,n,o)=>{const r=()=>(Ky(e),n===0),c=()=>Ky(e)?n>=e.data.length:n>=e.childNodes.length,u=()=>{const z=wp(e.ownerDocument);return z.setStart(e,n),z.setEnd(e,n),z},m=()=>(o||(o=Ad(ut(e,n))),o),b=()=>m().length>0,k=z=>z&&e===z.container()&&n===z.offset(),S=z=>al(e,z?n-1:n);return{container:rt(e),offset:rt(n),toRange:u,getClientRects:m,isVisible:b,isAtStart:r,isAtEnd:c,isEqual:k,getNode:S}};ut.fromRangeStart=e=>ut(e.startContainer,e.startOffset),ut.fromRangeEnd=e=>ut(e.endContainer,e.endOffset),ut.after=e=>ut(e.parentNode,Kh(e)+1),ut.before=e=>ut(e.parentNode,Kh(e)),ut.isAbove=(e,n)=>ca(kn(n.getClientRects()),co(e.getClientRects()),jr).getOr(!1),ut.isBelow=(e,n)=>ca(co(n.getClientRects()),kn(e.getClientRects()),rl).getOr(!1),ut.isAtStart=e=>e?e.isAtStart():!1,ut.isAtEnd=e=>e?e.isAtEnd():!1,ut.isTextPosition=e=>e?It(e.container()):!1,ut.isElementPosition=e=>!ut.isTextPosition(e);const Yy=(e,n)=>{It(n)&&n.data.length===0&&e.remove(n)},bE=(e,n,o)=>{n.insertNode(o),Yy(e,o.previousSibling),Yy(e,o.nextSibling)},Xy=(e,n,o)=>{const r=F.from(o.firstChild),c=F.from(o.lastChild);n.insertNode(o),r.each(u=>Yy(e,u.previousSibling)),c.each(u=>Yy(e,u.nextSibling))},Od=(e,n,o)=>{lp(o)?Xy(e,n,o):bE(e,n,o)},Tl=It,Yh=mu,Jy=Ys.nodeIndex,_0=e=>{const n=e.parentNode;return Yh(n)?_0(n):n},Qy=e=>e?ie(e.childNodes,(n,o)=>(Yh(o)&&o.nodeName!=="BR"?n=n.concat(Qy(o)):n.push(o),n),[]):[],B_=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&Tl(o);)n+=o.data.length;return n},_m=e=>n=>e===n,jl=e=>{let n,o;n=Qy(_0(e)),o=le(n,_m(e),e),n=n.slice(0,o+1);const r=ie(n,(c,u,m)=>(Tl(u)&&Tl(n[m-1])&&c++,c),0);return n=Qs(n,_l([e.nodeName])),o=le(n,_m(e),e),o-r},ji=e=>(Tl(e)?"text()":e.nodeName.toLowerCase())+"["+jl(e)+"]",Fc=(e,n,o)=>{const r=[];for(let c=n.parentNode;c&&c!==e&&!(o&&o(c));c=c.parentNode)r.push(c);return r},F_=(e,n)=>{let o=[],r=n.container(),c=n.offset(),u;if(Tl(r))u=B_(r,c);else{const b=r.childNodes;c>=b.length?(u="after",c=b.length-1):u="before",r=b[c]}o.push(ji(r));let m=Fc(e,r);return m=Qs(m,uo(mu)),o=o.concat(fr(m,b=>ji(b))),o.reverse().join("/")+","+u},Cm=(e,n,o)=>{let r=Qy(e);return r=Qs(r,(c,u)=>!Tl(c)||!Tl(r[u-1])),r=Qs(r,_l([n])),r[o]},$_=(e,n)=>{let o=e,r=0;for(;Tl(o);){const c=o.data.length;if(n>=r&&n<=r+c){e=o,n=n-r;break}if(!Tl(o.nextSibling)){e=o,n=c;break}r+=c,o=o.nextSibling}return Tl(e)&&n>e.data.length&&(n=e.data.length),ut(e,n)},Xh=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),c=o.length>1?o[1]:"before",u=ie(r,(m,b)=>{const k=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return k?(k[1]==="text()"&&(k[1]="#text"),Cm(m,k[1],parseInt(k[2],10))):null},e);if(!u)return null;if(!Tl(u)&&u.parentNode){let m;return c==="after"?m=Jy(u)+1:m=Jy(u),ut(u.parentNode,m)}return $_(u,parseInt(c,10))},fg=As,C0=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let c=n.previousSibling;c&&It(c);c=c.previousSibling)r+=e(c.data).length;return r},e1=(e,n,o,r,c)=>{const u=c?r.startContainer:r.endContainer;let m=c?r.startOffset:r.endOffset;const b=[],k=e.getRoot();if(It(u))b.push(o?C0(n,u,m):m);else{let S=0;const z=u.childNodes;m>=z.length&&z.length&&(S=1,m=Math.max(0,z.length-1)),b.push(e.nodeIndex(z[m],o)+S)}for(let S=u;S&&S!==k;S=S.parentNode)b.push(e.nodeIndex(S,o));return b},I_=(e,n,o,r)=>{const c=n.dom,u=e1(c,e,o,r,!0),m=n.isForward(),b=pa(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return te({start:u,forward:m},b);{const k=e1(c,e,o,r,!1);return te({start:u,end:k,forward:m},b)}},t1=(e,n,o)=>{let r=0;return Dt.each(e.select(n),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;r++;return}}),r},S0=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(wn(o)&&o.nodeName==="TR"){const c=o.childNodes;o=c[Math.min(n?r:r-1,c.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},Ga=e=>(S0(e,!0),S0(e,!1),e),Sc=(e,n)=>{if(wn(e)&&(e=Wl(e,n),fg(e)))return e;if(Fs(e)){It(e)&&xr(e)&&(e=e.parentNode);let o=e.previousSibling;if(fg(o)||(o=e.nextSibling,fg(o)))return o}},Zi=e=>Sc(e.startContainer,e.startOffset)||Sc(e.endContainer,e.endOffset),$r=(e,n,o)=>{const r=o.getNode(),c=o.getRng();if(r.nodeName==="IMG"||fg(r)){const m=r.nodeName;return{name:m,index:t1(o.dom,m,r)}}const u=Zi(c);if(u){const m=u.tagName;return{name:m,index:t1(o.dom,m,u)}}return I_(e,o,n,c)},xc=e=>{const n=e.getRng();return{start:F_(e.dom.getRoot(),ut.fromRangeStart(n)),end:F_(e.dom.getRoot(),ut.fromRangeEnd(n)),forward:e.isForward()}},hc=e=>({rng:e.getRng(),forward:e.isForward()}),n1=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},o1=(e,n)=>{const o=e.dom;let r=e.getRng();const c=o.uniqueId(),u=e.isCollapsed(),m=e.getNode(),b=m.nodeName,k=e.isForward();if(b==="IMG")return{name:b,index:t1(o,b,m)};const S=Ga(r.cloneRange());if(!u){S.collapse(!1);const M=n1(o,c+"_end",n);Od(o,S,M)}r=Ga(r),r.collapse(!0);const z=n1(o,c+"_start",n);return Od(o,r,z),e.moveToBookmark({id:c,keep:!0,forward:k}),{id:c,forward:k}},L_=(e,n,o=!1)=>n===2?$r(rn,o,e):n===3?xc(e):n?hc(e):o1(e,!1),s1=et($r,Hn,!0),x0=e=>{const n=u=>u(e),o=rt(e),r=()=>c,c={tag:!0,inner:e,fold:(u,m)=>m(e),isValue:it,isError:Re,map:u=>$c.value(u(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:u=>{u(e)},toOptional:()=>F.some(e)};return c},E0=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:Re,isError:it,map:n,mapError:r=>$c.error(r(e)),bind:n,exists:Re,forall:it,getOr:Hn,or:Hn,getOrThunk:Ct,orThunk:Ct,getOrDie:Yo(String(e)),each:De,toOptional:F.none};return o},$c={value:x0,error:E0,fromOption:(e,n)=>e.fold(()=>E0(n),x0)},Sf={generate:e=>{if(!ht(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return ae(e,(r,c)=>{const u=xo(r);if(u.length!==1)throw new Error("one and only one name per case");const m=u[0],b=r[m];if(o[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ht(b))throw new Error("case arguments must be an array");n.push(m),o[m]=(...k)=>{const S=k.length;if(S!==b.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+b.length+" ("+b+"), got "+S);return{fold:(...M)=>{if(M.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+M.length);return M[c].apply(null,k)},match:M=>{const I=xo(M);if(n.length!==I.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+I.join(","));if(!Nn(n,se=>ee(I,se)))throw new Error("Not all branches were specified when using match. Specified: "+I.join(", ")+`
Required: `+n.join(", "));return M[m].apply(null,k)},log:M=>{console.log(M,{constructors:n,constructor:m,params:k})}}}}),o}};Sf.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const yE=e=>{const n=[],o=[];return ae(e,r=>{r.fold(c=>{n.push(c)},c=>{o.push(c)})}),{errors:n,values:o}},vE=e=>e.type==="inline-command"||e.type==="inline-format",kE=e=>e.type==="block-command"||e.type==="block-format",T0=e=>{const n=r=>$c.error({message:r,pattern:e}),o=(r,c,u)=>{if(e.format!==void 0){let m;if(ht(e.format)){if(!Nn(e.format,W))return n(r+" pattern has non-string items in the `format` array");m=e.format}else if(W(e.format))m=[e.format];else return n(r+" pattern has non-string `format` parameter");return $c.value(c(m))}else return e.cmd!==void 0?W(e.cmd)?$c.value(u(e.cmd,e.value)):n(r+" pattern has non-string `cmd` parameter"):n(r+" pattern is missing both `format` and `cmd` parameters")};if(!ft(e))return n("Raw pattern is not an object");if(!W(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!W(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let r=e.start,c=e.end;return c.length===0&&(c=r,r=""),o("Inline",u=>({type:"inline-format",start:r,end:c,format:u}),(u,m)=>({type:"inline-command",start:r,end:c,cmd:u,value:m}))}else return e.replacement!==void 0?W(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):$c.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter"):e.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,c)=>({type:"block-command",start:e.start,cmd:r,value:c}))},V_=e=>Ye(e,kE),U_=e=>Ye(e,vE),r1=(e,n)=>({inlinePatterns:U_(e),blockPatterns:V_(e),dynamicPatternsLookup:n}),W_=e=>{const n=yE(we(e,T0));return ae(n.errors,o=>console.error(o.message,o.pattern)),n.values},j_=e=>n=>{const o=e(n);return W_(o)},Vt=js().deviceType,wE=Vt.isTouch(),Ec=Ys.DOM,_E=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return J(n,(o,r)=>{const c=r.split("="),u=c[0],m=c.length>1?c[1]:u;return o[Ra(u)]=Ra(m),o},{})},A0=e=>Ot(e,RegExp),En=e=>n=>n.options.get(e),Xc=e=>W(e)||ft(e),Z_=(e,n="")=>o=>{const r=W(o);if(r)if(o.indexOf("=")!==-1){const c=_E(o);return{value:fs(c,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},q_=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:Z_(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:Z_(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=W(o)&&wo(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=ee(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>at(o)?{valid:!0,value:o}:W(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||W(o)||Se(o,W);return r?W(o)?{value:we(o.split(","),Ra),valid:r}:ht(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:N0(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=W(o)||Se(o,W);return r?{value:ht(o)?o:we(o.split(","),Ra),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=at(o)||W(o);return r?o===!1||Vt.isiPhone()||Vt.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!wE}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"object"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||W(o)||ce(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||W(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:"string"}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:Xc}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:Xc}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:Xc}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>W(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>Se(o,ft)||o===!1?{value:W_(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),n("text_patterns_lookup",{processor:o=>ce(o)?{value:j_(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>Se(o,A0)?{value:o,valid:!0}:A0(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!1}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=ee(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=ee(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:Vl.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:Ec.getAttrib(e.getElement(),"placeholder")})})},Zl=En("iframe_attrs"),a1=En("doctype"),_p=En("document_base_url"),ed=En("body_id"),ql=En("body_class"),mg=En("content_security_policy"),ku=En("br_in_pre"),ci=En("forced_root_block"),Cp=En("forced_root_block_attrs"),O0=En("newline_behavior"),G_=En("br_newline_selector"),K_=En("no_newline_selector"),D0=En("keep_styles"),CE=En("end_container_on_empty_block"),z0=En("automatic_uploads"),Y_=En("images_reuse_filename"),SE=En("images_replace_blob_uris"),X_=En("icons"),xE=En("icons_url"),EE=En("images_upload_url"),R0=En("images_upload_base_path"),TE=En("images_upload_credentials"),J_=En("images_upload_handler"),AE=En("content_css_cors"),Sp=En("referrer_policy"),Q_=En("language"),OE=En("language_url"),e2=En("indent_use_margin"),DE=En("indentation"),t2=En("content_css"),c1=En("content_style"),Sm=En("font_css"),xp=En("directionality"),Nr=En("inline_boundaries_selector"),M0=En("object_resizing"),Ei=En("resize_img_proportional"),Ep=En("placeholder"),oc=En("event_root"),n2=En("service_message"),Dd=En("theme"),zE=En("theme_url"),i1=En("model"),o2=En("model_url"),Jh=En("inline_boundaries"),RE=En("formats"),ME=En("preview_styles"),NE=En("format_empty_lines"),Qh=En("format_noneditable_selector"),s2=En("custom_ui_selector"),N0=En("inline"),gg=En("hidden_input"),PE=En("submit_patch"),BE=En("add_form_submit_trigger"),FE=En("add_unload_trigger"),r2=En("custom_undo_redo_levels"),P0=En("disable_nodechange"),xf=En("readonly"),a2=En("editable_root"),c2=En("content_css_cors"),l1=En("plugins"),$E=En("external_plugins"),Ef=En("block_unsupported_drop"),u1=En("visual"),d1=En("visual_table_class"),eb=En("visual_anchor_class"),i2=En("iframe_aria_text"),zd=En("setup"),f1=En("init_instance_callback"),l2=En("urlconverter_callback"),td=En("auto_focus"),xm=En("browser_spellcheck"),B0=En("protect"),u2=En("paste_block_drop"),m1=En("paste_data_images"),IE=En("paste_preprocess"),d2=En("paste_postprocess"),LE=En("newdocument_content"),HE=En("paste_webkit_styles"),f2=En("paste_remove_styles_if_webkit"),m2=En("paste_merge_formats"),g2=En("smart_paste"),VE=En("paste_as_text"),UE=En("paste_tab_spaces"),WE=En("allow_html_data_urls"),p2=En("text_patterns"),F0=En("text_patterns_lookup"),$0=En("noneditable_class"),jE=En("editable_class"),ZE=En("noneditable_regexp"),g1=En("preserve_cdata"),h2=En("highlight_on_focus"),p1=En("xss_sanitization"),tb=En("init_content_sync"),h1=e=>e.options.isSet("text_patterns_lookup"),I0=e=>Dt.explode(e.options.get("font_size_style_values")),b2=e=>Dt.explode(e.options.get("font_size_classes")),y2=e=>e.options.get("encoding")==="xml",L0=e=>Dt.explode(e.options.get("images_file_types")),qE=En("table_tab_navigation"),v2=En("details_initial_state"),nb=En("details_serialized_state"),GE=wn,b1=It,k2=e=>{const n=e.parentNode;n&&n.removeChild(e)},w2=e=>{const n=rn(e);return{count:e.length-n.length,text:n}},_2=e=>{let n;for(;(n=e.data.lastIndexOf(st))!==-1;)e.deleteData(n,1)},y1=(e,n)=>(Ka(e),n),KE=(e,n)=>{const o=w2(e.data.substr(0,n.offset())),r=w2(e.data.substr(n.offset()));return(o.text+r.text).length>0?(_2(e),ut(e,n.offset()-o.count)):n},ob=(e,n)=>{const o=n.container(),r=Ft(Zo(o.childNodes),e).map(c=>c<n.offset()?ut(o,n.offset()-1):n).getOr(n);return Ka(e),r},YE=(e,n)=>b1(e)&&n.container()===e?KE(e,n):y1(e,n),XE=(e,n)=>n.container()===e.parentNode?ob(e,n):y1(e,n),C2=(e,n)=>ut.isTextPosition(n)?YE(e,n):XE(e,n),Ka=e=>{GE(e)&&Fs(e)&&(ri(e)?e.removeAttribute("data-mce-caret"):k2(e)),b1(e)&&(_2(e),e.data.length===0&&k2(e))},JE=As,Tp=Sl,QE=gu,sb="*[contentEditable=false],video,audio,embed,object",H0=(e,n,o)=>{const r=jy(n.getBoundingClientRect(),o);let c,u;if(e.tagName==="BODY"){const b=e.ownerDocument.documentElement;c=e.scrollLeft||b.scrollLeft,u=e.scrollTop||b.scrollTop}else{const b=e.getBoundingClientRect();c=e.scrollLeft-b.left,u=e.scrollTop-b.top}r.left+=c,r.right+=c,r.top+=u,r.bottom+=u,r.width=1;let m=n.offsetWidth-n.clientWidth;return m>0&&(o&&(m*=-1),r.left+=m,r.right+=m),r},eT=e=>{var n,o;const r=ja(de.fromDom(e),sb);for(let c=0;c<r.length;c++){const u=r[c].dom;let m=u.previousSibling;if(wd(m)){const b=m.data;b.length===1?(n=m.parentNode)===null||n===void 0||n.removeChild(m):m.deleteData(b.length-1,1)}m=u.nextSibling,lf(m)&&(m.data.length===1?(o=m.parentNode)===null||o===void 0||o.removeChild(m):m.deleteData(0,1))}},tT=(e,n,o,r)=>{const c=Qu();let u,m;const b=ci(e),k=e.dom,S=(K,oe)=>{let Te;if(z(),QE(oe))return null;if(o(oe)){const ze=Ku(b,oe,K),Me=H0(n,oe,K);k.setStyle(ze,"top",Me.top),m=ze;const Ue=k.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});k.setStyles(Ue,te({},Me)),k.add(n,Ue),c.set({caret:Ue,element:oe,before:K}),K&&k.addClass(Ue,"mce-visual-caret-before"),M(),Te=oe.ownerDocument.createRange(),Te.setStart(ze,0),Te.setEnd(ze,0)}else return m=el(oe,K),Te=oe.ownerDocument.createRange(),Em(m.nextSibling)?(Te.setStart(m,0),Te.setEnd(m,0)):(Te.setStart(m,1),Te.setEnd(m,1)),Te;return Te},z=()=>{eT(n),m&&(Ka(m),m=null),c.on(K=>{k.remove(K.caret),c.clear()}),u&&(clearInterval(u),u=void 0)},M=()=>{u=setInterval(()=>{c.on(K=>{r()?k.toggleClass(K.caret,"mce-visual-caret-hidden"):k.addClass(K.caret,"mce-visual-caret-hidden")})},500)};return{show:S,hide:z,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(K=>{const oe=H0(n,K.element,K.before);k.setStyles(K.caret,te({},oe))})},destroy:()=>clearInterval(u)}},V0=()=>pn.browser.isFirefox(),Em=e=>JE(e)||Tp(e),Ap=e=>(Em(e)||Qi(e)&&V0())&&bd(de.fromDom(e)).exists($t),Ti=nc,pg=As,S2=Sl,x2=Zu("display","block table table-cell table-caption list-item"),U0=Fs,W0=xr,j0=wn,nT=It,rb=gc,v1=e=>e>0,Tm=e=>e<0,ab=(e,n)=>{let o;for(;o=e(n);)if(!W0(o))return o;return null},nd=(e,n,o,r,c)=>{const u=new vr(e,r),m=pg(e)||W0(e);let b;if(Tm(n)){if(m&&(b=ab(u.prev.bind(u),!0),o(b)))return b;for(;b=ab(u.prev.bind(u),c);)if(o(b))return b}if(v1(n)){if(m&&(b=ab(u.next.bind(u),!0),o(b)))return b;for(;b=ab(u.next.bind(u),c);)if(o(b))return b}return null},oT=(e,n)=>{const o=c=>Ti(c.dom),r=c=>c.dom===n;return Ur(de.fromDom(e),o,r).map(c=>c.dom).getOr(n)},Rd=(e,n)=>{for(;e&&e!==n;){if(x2(e))return e;e=e.parentNode}return null},wu=(e,n,o)=>Rd(e.container(),o)===Rd(n.container(),o),Op=(e,n)=>{if(!n)return F.none();const o=n.container(),r=n.offset();return j0(o)?F.from(o.childNodes[r+e]):F.none()},Z0=(e,n)=>{var o;const c=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)),c},Dp=(e,n,o)=>Rd(n,e)===Rd(o,e),Tf=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let c=o;for(;c&&c!==n;){let u=c[r];if(u&&U0(u)&&(u=u[r]),pg(u)||S2(u)){if(Dp(n,u,c))return u;break}if(rb(u))break;c=c.parentNode}return null},zp=et(Z0,!0),hg=et(Z0,!1),q0=(e,n,o)=>{let r;const c=et(Tf,!0,n),u=et(Tf,!1,n),m=o.startContainer,b=o.startOffset;if(xr(m)){const k=nT(m)?m.parentNode:m,S=k.getAttribute("data-mce-caret");if(S==="before"&&(r=k.nextSibling,Ap(r)))return zp(r);if(S==="after"&&(r=k.previousSibling,Ap(r)))return hg(r)}if(!o.collapsed)return o;if(It(m)){if(U0(m)){if(e===1){if(r=u(m),r)return zp(r);if(r=c(m),r)return hg(r)}if(e===-1){if(r=c(m),r)return hg(r);if(r=u(m),r)return zp(r)}return o}if(wd(m)&&b>=m.data.length-1)return e===1&&(r=u(m),r)?zp(r):o;if(lf(m)&&b<=1)return e===-1&&(r=c(m),r)?hg(r):o;if(b===m.data.length)return r=u(m),r?zp(r):o;if(b===0)return r=c(m),r?hg(r):o}return o},E2=(e,n)=>Op(e?0:-1,n).filter(pg),bg=(e,n,o)=>{const r=q0(e,n,o);return e===-1?ut.fromRangeStart(r):ut.fromRangeEnd(r)},yg=e=>F.from(e.getNode()).map(de.fromDom),T2=e=>F.from(e.getNode(!0)).map(de.fromDom),k1=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},Rp=(e,n)=>{const o=wu(e,n);return!o&&na(e.getNode())?!0:o};var bc;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(bc||(bc={}));const sT=As,od=It,G0=wn,Mp=na,vg=gc,K0=eg,w1=tg,rT=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},A2=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,cb=(e,n)=>{if(v1(e)){if(vg(n.previousSibling)&&!od(n.previousSibling))return ut.before(n);if(od(n))return ut(n,0)}if(Tm(e)){if(vg(n.nextSibling)&&!od(n.nextSibling))return ut.after(n);if(od(n))return ut(n,n.data.length)}return Tm(e)?Mp(n)?ut.before(n):ut.after(n):ut.before(n)},O2=(e,n)=>{const o=n.nextSibling;return o&&vg(o)?od(o)?ut(o,0):ut.before(o):D2(bc.Forwards,ut.after(n),e)},D2=(e,n,o)=>{let r,c,u,m;if(!G0(o)||!n)return null;if(n.isEqual(ut.after(o))&&o.lastChild){if(m=ut.after(o.lastChild),Tm(e)&&vg(o.lastChild)&&G0(o.lastChild))return Mp(o.lastChild)?ut.before(o.lastChild):m}else m=n;const b=m.container();let k=m.offset();if(od(b)){if(Tm(e)&&k>0)return ut(b,--k);if(v1(e)&&k<b.length)return ut(b,++k);r=b}else{if(Tm(e)&&k>0&&(c=A2(b,k-1),vg(c)))return!K0(c)&&(u=nd(c,e,w1,c),u)?od(u)?ut(u,u.data.length):ut.after(u):od(c)?ut(c,c.data.length):ut.before(c);if(v1(e)&&k<b.childNodes.length&&(c=A2(b,k),vg(c)))return Mp(c)?O2(o,c):!K0(c)&&(u=nd(c,e,w1,c),u)?od(u)?ut(u,0):ut.before(u):od(c)?ut(c,0):ut.after(c);r=c||m.getNode()}if(r&&(v1(e)&&m.isAtEnd()||Tm(e)&&m.isAtStart())&&(r=nd(r,e,it,o,!0),w1(r,o)))return cb(e,r);c=r&&nd(r,e,w1,o);const S=Ge(Ye(rT(b,o),sT));return S&&(!c||!S.contains(c))?(v1(e)?m=ut.after(S):m=ut.before(S),m):c?cb(e,c):null},Af=e=>({next:n=>D2(bc.Forwards,n,e),prev:n=>D2(bc.Backwards,n,e)}),aT=(e,n,o)=>{const r=e?ut.before(o):ut.after(o);return Al(e,n,r)},ib=e=>na(e)?ut.before(e):ut.after(e),z2=e=>ut.isTextPosition(e)?e.offset()===0:gc(e.getNode()),Jc=e=>{if(ut.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return gc(e.getNode(!0))},_1=(e,n)=>!ut.isTextPosition(e)&&!ut.isTextPosition(n)&&e.getNode()===n.getNode(!0),kg=e=>!ut.isTextPosition(e)&&na(e.getNode()),wg=(e,n,o)=>e?!_1(n,o)&&!kg(n)&&Jc(n)&&z2(o):!_1(o,n)&&z2(n)&&Jc(o),Al=(e,n,o)=>{const r=Af(n);return F.from(e?r.next(o):r.prev(o))},Am=(e,n,o)=>Al(e,n,o).bind(r=>wu(o,r,n)&&wg(e,o,r)?Al(e,n,r):F.some(r)),Y0=(e,n,o,r)=>Am(e,n,o).bind(c=>r(c)?Y0(e,n,c,r):F.some(c)),Np=(e,n)=>{const o=e?n.firstChild:n.lastChild;return It(o)?F.some(ut(o,e?0:o.data.length)):o?gc(o)?F.some(e?ut.before(o):ib(o)):aT(e,n,o):F.none()},qi=et(Al,!0),ii=et(Al,!1),ka=et(Np,!0),Ol=et(Np,!1),C1="_mce_caret",Ic=e=>wn(e)&&e.id===C1,Om=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ic(o))return o;o=o.parentNode}return null},Pp=e=>W(e.start),lb=e=>qn(e,"rng"),X0=e=>qn(e,"id"),J0=e=>qn(e,"name"),Of=e=>Dt.isArray(e.start),ub=e=>!J0(e)&&at(e.forward)?e.forward:!0,sd=(e,n)=>(wn(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),cT=(e,n)=>{const o=F.from(Xh(e.getRoot(),n.start)),r=F.from(Xh(e.getRoot(),n.end));return ca(o,r,(c,u)=>{const m=e.createRng();return m.setStart(c.container(),c.offset()),m.setEnd(u.container(),u.offset()),{range:m,forward:ub(n)}})},Q0=(e,n)=>{var o;const c=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(st);e.appendChild(c),n.setStart(c,0),n.setEnd(c,0)},R2=e=>!e.hasChildNodes(),VO=(e,n)=>Ol(e).fold(Re,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),M2=(e,n,o)=>R2(n)&&Om(e,n)?(Q0(n,o),!0):!1,N2=(e,n,o,r)=>{const c=o[n?"start":"end"],u=e.getRoot();if(c){let m=u,b=c[0];for(let k=c.length-1;m&&k>=1;k--){const S=m.childNodes;if(M2(u,m,r))return!0;if(c[k]>S.length-1)return M2(u,m,r)?!0:VO(m,r);m=S[c[k]]}It(m)&&(b=Math.min(c[0],m.data.length)),wn(m)&&(b=Math.min(c[0],m.childNodes.length)),n?r.setStart(m,b):r.setEnd(m,b)}return!0},ek=e=>It(e)&&e.data.length>0,tk=(e,n,o)=>{const r=e.get(o.id+"_"+n),c=r==null?void 0:r.parentNode,u=o.keep;if(r&&c){let m,b;if(n==="start"?u?r.hasChildNodes()?(m=r.firstChild,b=1):ek(r.nextSibling)?(m=r.nextSibling,b=0):ek(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)+1):(m=c,b=e.nodeIndex(r)):u?r.hasChildNodes()?(m=r.firstChild,b=1):ek(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)):(m=c,b=e.nodeIndex(r)),!u){const k=r.previousSibling,S=r.nextSibling;Dt.each(Dt.grep(r.childNodes),M=>{It(M)&&(M.data=M.data.replace(/\uFEFF/g,""))});let z;for(;z=e.get(o.id+"_"+n);)e.remove(z,!0);if(It(S)&&It(k)&&!pn.browser.isOpera()){const M=k.data.length;k.appendData(S.data),e.remove(S),m=k,b=M}}return F.some(ut(m,b))}else return F.none()},nk=(e,n)=>{const o=e.createRng();return N2(e,!0,n,o)&&N2(e,!1,n,o)?F.some({range:o,forward:ub(n)}):F.none()},P2=(e,n)=>{const o=tk(e,"start",n),r=tk(e,"end",n);return ca(o,r.or(o),(c,u)=>{const m=e.createRng();return m.setStart(sd(e,c.container()),c.offset()),m.setEnd(sd(e,u.container()),u.offset()),{range:m,forward:ub(n)}})},B2=(e,n)=>F.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),F2=(e,n)=>{const o=e.dom;if(n){if(Of(n))return nk(o,n);if(Pp(n))return cT(o,n);if(X0(n))return P2(o,n);if(J0(n))return B2(o,n);if(lb(n))return F.some({range:n.rng,forward:ub(n)})}return F.none()},iT=(e,n,o)=>L_(e,n,o),lT=(e,n)=>{F2(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Dl=e=>wn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",ps=(e=>n=>e===n)(pr),Gl=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,Dm=e=>!Gl(e)&&!ps(e)&&!Mh(e),ok=e=>({value:$2(e)}),$2=e=>Mn(e,"#").toUpperCase(),Bp=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},dT=e=>{const n=Bp(e.red)+Bp(e.green)+Bp(e.blue);return ok(n)},sk=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,S1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,db=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),fT=(e,n,o,r)=>{const c=parseInt(e,10),u=parseInt(n,10),m=parseInt(o,10),b=parseFloat(r);return db(c,u,m,b)},rk=e=>{if(e==="transparent")return F.some(db(0,0,0,0));const n=sk.exec(e);if(n!==null)return F.some(fT(n[1],n[2],n[3],"1"));const o=S1.exec(e);return o!==null?F.some(fT(o[1],o[2],o[3],o[4])):F.none()},x1=e=>rk(e).map(dT).map(n=>"#"+n.value).getOr(e),ak=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},UO=e=>On(e,n=>{const o=kp(n);return o?[de.fromDom(o)]:[]}),I2=e=>ak(e).length>1,ck=e=>Ye(UO(e),cm),Fp=e=>ja(e,"td[data-mce-selected],th[data-mce-selected]"),fb=(e,n)=>{const o=Fp(n);return o.length>0?o:ck(e)},zm=e=>fb(ak(e.selection.getSel()),de.fromDom(e.getBody())),Md=(e,n)=>U(e,"table",n),L2=e=>{const n=e.startContainer,o=e.startOffset;return It(n)?o===0?F.some(de.fromDom(n)):F.none():F.from(n.childNodes[o]).map(de.fromDom)},mT=e=>{const n=e.endContainer,o=e.endOffset;return It(n)?o===n.data.length?F.some(de.fromDom(n)):F.none():F.from(n.childNodes[o-1]).map(de.fromDom)},H2=e=>yd(e).fold(rt([e]),n=>[e].concat(H2(n))),ik=e=>Fi(e).fold(rt([e]),n=>qs(n)==="br"?vi(n).map(o=>[e].concat(ik(o))).getOr([]):[e].concat(ik(n))),$p=(e,n)=>ca(L2(n),mT(n),(o,r)=>{const c=Le(H2(e),et(Rs,o)),u=Le(ik(e),et(Rs,r));return c.isSome()&&u.isSome()}).getOr(!1),lk=(e,n,o,r)=>{const c=o,u=new vr(o,c),m=Cs(e.schema.getMoveCaretBeforeOnEnterElements(),(k,S)=>!ee(["td","th","table"],S.toLowerCase()));let b=o;do{if(It(b)&&Dt.trim(b.data).length!==0){r?n.setStart(b,0):n.setEnd(b,b.data.length);return}if(m[b.nodeName]){r?n.setStartBefore(b):b.nodeName==="BR"?n.setEndBefore(b):n.setEndAfter(b);return}}while(b=r?u.next():u.prev());c.nodeName==="BODY"&&(r?n.setStart(c,0):n.setEnd(c,c.childNodes.length))},E1=e=>{const n=e.selection.getSel();return $e(n)&&n.rangeCount>0},uk=(e,n)=>{const o=zm(e);o.length>0?ae(o,r=>{const c=r.dom,u=e.dom.createRng();u.setStartBefore(c),u.setEndAfter(c),n(u,!0)}):n(e.selection.getRng(),!1)},V2=(e,n,o)=>{const r=o1(e,n);o(r),e.moveToBookmark(r)},mb=e=>Ro(e==null?void 0:e.nodeType),dk=e=>wn(e)&&!Dl(e)&&!Ic(e)&&!mu(e),gT=(e,n)=>{if(dk(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},_u=e=>e.isContentEditable===!0,U2=(e,n,o)=>{const{selection:r,dom:c}=e,u=r.getNode(),m=As(u);V2(r,!0,()=>{n()}),m&&As(u)&&c.isChildOf(u,e.getBody())?e.selection.select(u):o(r.getStart())&&pT(c,r)},pT=(e,n)=>{var o,r;const c=n.getRng(),{startContainer:u,startOffset:m}=c,b=n.getNode();if(!gT(e,b)&&wn(u)){const k=u.childNodes,S=e.getRoot();let z;if(m<k.length){const M=k[m];z=new vr(M,(o=e.getParent(M,e.isBlock))!==null&&o!==void 0?o:S)}else{const M=k[k.length-1];z=new vr(M,(r=e.getParent(M,e.isBlock))!==null&&r!==void 0?r:S),z.next(!0)}for(let M=z.current();M;M=z.next()){if(e.getContentEditable(M)==="false")return;if(It(M)&&!sc(M)){c.setStart(M,0),n.setRng(c);return}}}},hn=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(wn(e)||!sc(e))return e}},Ya=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||mm(e,n),Cu=(e,n,o)=>e.schema.isValidChild(n,o),sc=(e,n=!1)=>{if($e(e)&&It(e)){const o=n?e.data.replace(/ /g,"\xA0"):e.data;return lm(o)}else return!1},Su=e=>$e(e)&&It(e)&&e.length===0,W2=(e,n)=>{const o="[data-mce-cef-wrappable]",r=Qh(e),c=ms(r)?o:`${o},${r}`;return Bi(de.fromDom(n),c)},gb=(e,n)=>{const o=e.dom;return dk(n)&&o.getContentEditable(n)==="false"&&W2(e,n)&&o.select('[contenteditable="true"]',n).length===0},Kl=(e,n)=>ce(e)?e(n):($e(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),T1=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),pb=(e,n)=>{if(Jt(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=x1(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},hb=(e,n,o)=>{const r=e.getStyle(n,o);return pb(r,o)},fk=(e,n)=>{let o;return e.getParent(n,r=>wn(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},bb=(e,n,o)=>e.getParents(n,o,e.getRoot()),A1=(e,n,o)=>{const r=e.formatter.get(n);return $e(r)&&he(r,o)},mk=(e,n)=>A1(e,n,r=>{const c=u=>ce(u)||u.length>1&&u.charAt(0)==="%";return he(["styles","attributes"],u=>fs(r,u).exists(m=>{const b=ht(m)?m:Hr(m);return he(b,c)}))}),hT=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],c=u=>Cs(u,(m,b)=>he(r,k=>k===b));return A1(e,n,u=>{const m=c(u);return A1(e,o,b=>{const k=c(b);return Ae(m,k)})})},xu=e=>cr(e,"block"),O1=e=>xu(e)&&e.wrapper===!0,yb=e=>xu(e)&&e.wrapper!==!0,cl=e=>cr(e,"selector"),Ba=e=>cr(e,"inline"),gk=e=>cl(e)&&Ba(e)&&Zs(fs(e,"mixed"),!0),vb=e=>cl(e)&&e.expand!==!1&&!Ba(e),zl=Dl,kb=bb,pk=sc,hk=Ya,bT=e=>na(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,j2=(e,n)=>{let o=n;for(;o;){if(wn(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},wb=(e,n,o,r)=>{const c=n.data;if(e){for(let u=o;u>0;u--)if(r(c.charAt(u-1)))return u}else for(let u=o;u<c.length;u++)if(r(c.charAt(u)))return u;return-1},Z2=(e,n,o)=>wb(e,n,o,r=>ps(r)||Gl(r)),yT=(e,n,o)=>wb(e,n,o,Dm),Rm=(e,n,o,r,c,u)=>{let m;const b=e.getParent(o,e.isBlock)||n,k=(z,M,I)=>{const Q=wm(e),se=c?Q.backwards:Q.forwards;return F.from(se(z,M,(K,oe)=>zl(K.parentNode)?-1:(m=K,I(c,K,oe)),b))};return k(o,r,Z2).bind(z=>u?k(z.container,z.offset+(c?-1:0),yT):F.some(z)).orThunk(()=>m?F.some({container:m,offset:c?0:m.length}):F.none())},Lc=(e,n,o,r,c)=>{const u=r[c];It(r)&&ms(r.data)&&u&&(r=u);const m=kb(e,r);for(let b=0;b<m.length;b++)for(let k=0;k<n.length;k++){const S=n[k];if(!($e(S.collapsed)&&S.collapsed!==o.collapsed)&&cl(S)&&e.is(m[b],S.selector))return m[b]}return r},Yl=(e,n,o,r)=>{var c;let u=o;const m=e.getRoot(),b=n[0];if(xu(b)&&(u=b.wrapper?null:e.getParent(o,b.block,m)),!u){const k=(c=e.getParent(o,"LI,TD,TH"))!==null&&c!==void 0?c:m;u=e.getParent(It(o)?o.parentNode:o,S=>S!==m&&hk(e.schema,S),k)}if(u&&xu(b)&&b.wrapper&&(u=kb(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!T1(u,"br")););return u||o},Rl=(e,n,o,r)=>{const c=o.parentNode;return $e(o[r])?!1:c===n||Jt(c)||e.isBlock(c)?!0:Rl(e,n,c,r)},il=(e,n,o,r,c)=>{let u=o;const m=c?"previousSibling":"nextSibling",b=e.getRoot();if(It(o)&&!pk(o)&&(c?r>0:r<o.data.length))return o;for(;u;){if(!n[0].block_expand&&e.isBlock(u))return u;for(let k=u[m];k;k=k[m]){const S=It(k)&&!Rl(e,b,k,m);if(!zl(k)&&!bT(k)&&!pk(k,S))return u}if(u===b||u.parentNode===b){o=u;break}u=u.parentNode}return o},D1=e=>zl(e.parentNode)||zl(e),_g=(e,n,o,r=!1)=>{let{startContainer:c,startOffset:u,endContainer:m,endOffset:b}=n;const k=o[0];return wn(c)&&c.hasChildNodes()&&(c=Wl(c,u),It(c)&&(u=0)),wn(m)&&m.hasChildNodes()&&(m=Wl(m,n.collapsed?b:b-1),It(m)&&(b=m.data.length)),c=j2(e,c),m=j2(e,m),D1(c)&&(c=zl(c)?c:c.parentNode,n.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,It(c)&&(u=n.collapsed?c.length:0)),D1(m)&&(m=zl(m)?m:m.parentNode,n.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,It(m)&&(b=n.collapsed?0:m.length)),n.collapsed&&(Rm(e,e.getRoot(),c,u,!0,r).each(({container:M,offset:I})=>{c=M,u=I}),Rm(e,e.getRoot(),m,b,!1,r).each(({container:M,offset:I})=>{m=M,b=I})),(Ba(k)||k.block_expand)&&((!Ba(k)||!It(c)||u===0)&&(c=il(e,o,c,u,!0)),(!Ba(k)||!It(m)||b===m.data.length)&&(m=il(e,o,m,b,!1))),vb(k)&&(c=Lc(e,o,n,c,"previousSibling"),m=Lc(e,o,n,m,"nextSibling")),(xu(k)||cl(k))&&(c=Yl(e,o,c,"previousSibling"),m=Yl(e,o,m,"nextSibling"),xu(k)&&(e.isBlock(c)||(c=il(e,o,c,u,!0)),e.isBlock(m)||(m=il(e,o,m,b,!1)))),wn(c)&&c.parentNode&&(u=e.nodeIndex(c),c=c.parentNode),wn(m)&&m.parentNode&&(b=e.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:u,endContainer:m,endOffset:b}},Df=(e,n,o)=>{var r;const c=n.startOffset,u=Wl(n.startContainer,c),m=n.endOffset,b=Wl(n.endContainer,m-1),k=oe=>{const Te=oe[0];It(Te)&&Te===u&&c>=Te.data.length&&oe.splice(0,1);const ze=oe[oe.length-1];return m===0&&oe.length>0&&ze===b&&It(ze)&&oe.splice(oe.length-1,1),oe},S=(oe,Te,ze)=>{const Me=[];for(;oe&&oe!==ze;oe=oe[Te])Me.push(oe);return Me},z=(oe,Te)=>e.getParent(oe,ze=>ze.parentNode===Te,Te),M=(oe,Te,ze)=>{const Me=ze?"nextSibling":"previousSibling";for(let Ue=oe,At=Ue.parentNode;Ue&&Ue!==Te;Ue=At){At=Ue.parentNode;const sn=S(Ue===oe?Ue:Ue[Me],Me);sn.length&&(ze||sn.reverse(),o(k(sn)))}};if(u===b)return o(k([u]));const I=(r=e.findCommonAncestor(u,b))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,b))return M(u,I,!0);if(e.isChildOf(b,u))return M(b,I);const Q=z(u,I)||u,se=z(b,I)||b;M(u,Q,!0);const K=S(Q===u?Q:Q.nextSibling,"nextSibling",se===b?se.nextSibling:se);K.length&&o(k(K)),M(b,se)},vT=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],bk=e=>ec(e)&&ki(e)===st,kT=(e,n,o,r)=>qc(n).fold(()=>"skipping",c=>r==="br"||bk(n)?"valid":mE(n)?"existing":Ic(n.dom)?"caret":he(vT,u=>Bi(n,u))?"valid-block":!Cu(e,o,r)||!Cu(e,qs(c),o)?"invalid-child":"valid"),q2=(e,n)=>{const o=_g(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},G2=(e,n,o,r,c,u)=>{const z=o,{uid:m=n}=z,b=d_(z,["uid"]);$l(e,Ul()),Gs(e,`${cg()}`,m),Gs(e,`${sl()}`,r);const{attributes:k={},classes:S=[]}=c(m,b);if(Xi(e,k),g0(e,S),u){S.length>0&&Gs(e,`${qh()}`,S.join(","));const M=xo(k);M.length>0&&Gs(e,`${Gh()}`,M.join(","))}},K2=e=>{Lu(e,Ul()),ta(e,`${cg()}`),ta(e,`${sl()}`),ta(e,`${yp()}`);const n=hl(e,`${Gh()}`).map(r=>r.split(",")).getOr([]),o=hl(e,`${qh()}`).map(r=>r.split(",")).getOr([]);ae(n,r=>ta(e,r)),p0(e,o),ta(e,`${qh()}`),ta(e,`${Gh()}`)},z1=(e,n,o,r,c)=>{const u=de.fromTag("span",e);return G2(u,n,o,r,c,!1),u},yk=(e,n,o,r,c,u)=>{const m=[],b=z1(e.getDoc(),o,u,r,c),k=Qu(),S=()=>{k.clear()},z=()=>k.get().getOrThunk(()=>{const se=vf(b);return m.push(se),k.set(se),se}),M=se=>{ae(se,I)},I=se=>{switch(kT(e,se,"span",qs(se))){case"invalid-child":{S();const oe=Ua(se);M(oe),S();break}case"valid-block":{S(),G2(se,o,u,r,c,!0);break}case"valid":{const oe=z();_h(se,oe);break}}},Q=se=>{const K=we(se,de.fromDom);M(K)};return Df(e.dom,n,se=>{S(),Q(se)}),m},hr=(e,n,o,r)=>{e.undoManager.transact(()=>{const c=e.selection,u=c.getRng(),m=zm(e).length>0,b=Fr("mce-annotation");if(u.collapsed&&!m&&q2(e,u),c.getRng().collapsed&&!m){const k=z1(e.getDoc(),b,r,n,o.decorate);nf(k,pr),c.getRng().insertNode(k.dom),c.select(k.dom)}else V2(c,!1,()=>{uk(e,k=>{yk(e,k,b,n,o.decorate,r)})})})},zf=e=>{const n=Wy();LO(e,n);const o=T_(e,n),r=jc("span"),c=u=>{ae(u,m=>{r(m)?oi(m):K2(m)})};return{register:(u,m)=>{n.register(u,m)},annotate:(u,m)=>{n.lookup(u).each(b=>{hr(e,u,b,m)})},annotationChanged:(u,m)=>{o.addListener(u,m)},remove:u=>{f0(e,F.some(u)).each(({elements:m})=>{const b=e.selection.getBookmark();c(m),e.selection.moveToBookmark(b)})},removeAll:u=>{const m=e.selection.getBookmark();xt(m0(e,u),(b,k)=>{c(b)}),e.selection.moveToBookmark(m)},getAll:u=>{const m=m0(e,u);return Oo(m,b=>we(b,k=>k.dom))}}},Ip=e=>({getBookmark:et(iT,e),moveToBookmark:et(lT,e)});Ip.isBookmarkNode=Dl;const vk=(e,n,o)=>o.collapsed?!1:he(o.getClientRects(),r=>vp(r,e,n)),Y2=(e,n)=>e.dispatch("PreProcess",n),kk=(e,n)=>e.dispatch("PostProcess",n),X2=e=>{e.dispatch("remove")},R1=e=>{e.dispatch("detach")},wT=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},_T=(e,n,o,r,c)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:c})},J2=(e,n,o,r,c)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:c})},CT=e=>{e.dispatch("PreInit")},wk=e=>{e.dispatch("PostRender")},Lp=e=>{e.dispatch("Init")},Hp=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},M1=(e,n,o)=>{e.dispatch(n,o)},Q2=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},Xl=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},Hc=(e,n)=>e.dispatch("BeforeSetContent",n),Qc=(e,n)=>e.dispatch("SetContent",n),Nd=(e,n)=>e.dispatch("BeforeGetContent",n),ST=(e,n)=>e.dispatch("GetContent",n),xT=(e,n)=>{e.dispatch("AutocompleterStart",n)},ET=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},ks=e=>{e.dispatch("AutocompleterEnd")},TT=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),eC=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),N1=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),AT=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),Cn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Cn.metaKeyPressed(e),metaKeyPressed:e=>pn.os.isMacOS()||pn.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Cg="data-mce-selected",OT="table,img,figure.image,hr,video,span.mce-preview-object,details",tC=Math.abs,P1=Math.round,_b={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},_k=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Ck=(e,n)=>{const o=n.dom,r=n.getDoc(),c=document,u=n.getBody();let m,b,k,S,z,M,I,Q,se,K,oe,Te,ze,Me,Ue,At,sn;const Kt=Ut=>$e(Ut)&&(Wr(Ut)||o.is(Ut,"figure.image")),Je=Ut=>Sl(Ut)||o.hasClass(Ut,"mce-preview-object"),nt=(Ut,yo)=>{if(_k(Ut)){const hs=Ut.touches[0];return Kt(Ut.target)&&!vk(hs.clientX,hs.clientY,yo)}else return Kt(Ut.target)&&!vk(Ut.clientX,Ut.clientY,yo)},Bt=Ut=>{const yo=Ut.target;nt(Ut,n.selection.getRng())&&!Ut.isDefaultPrevented()&&n.selection.select(yo)},Vn=Ut=>o.hasClass(Ut,"mce-preview-object")&&$e(Ut.firstElementChild)?[Ut,Ut.firstElementChild]:o.is(Ut,"figure.image")?[Ut.querySelector("img")]:[Ut],ro=Ut=>{const yo=M0(n);return!yo||Ut.getAttribute("data-mce-resize")==="false"||Ut===n.getBody()?!1:o.hasClass(Ut,"mce-preview-object")&&$e(Ut.firstElementChild)?Bi(de.fromDom(Ut.firstElementChild),yo):Bi(de.fromDom(Ut),yo)},jo=Ut=>Je(Ut)?o.create("img",{src:pn.transparentSrc}):Ut.cloneNode(!0),ls=(Ut,yo,hs)=>{if($e(hs)){const Xs=Vn(Ut);ae(Xs,Fn=>{Fn.style[yo]||!n.schema.isValid(Fn.nodeName.toLowerCase(),yo)?o.setStyle(Fn,yo,hs):o.setAttrib(Fn,yo,""+hs)})}},Is=(Ut,yo,hs)=>{ls(Ut,"width",yo),ls(Ut,"height",hs)},ar=Ut=>{let yo,hs,Xs,Fn,us;yo=Ut.screenX-M,hs=Ut.screenY-I,Me=yo*S[2]+K,Ue=hs*S[3]+oe,Me=Me<5?5:Me,Ue=Ue<5?5:Ue,(Kt(m)||Je(m))&&Ei(n)!==!1?Xs=!Cn.modifierPressed(Ut):Xs=Cn.modifierPressed(Ut),Xs&&(tC(yo)>tC(hs)?(Ue=P1(Me*Te),Me=P1(Ue/Te)):(Me=P1(Ue/Te),Ue=P1(Me*Te))),Is(b,Me,Ue),Fn=S.startPos.x+yo,us=S.startPos.y+hs,Fn=Fn>0?Fn:0,us=us>0?us:0,o.setStyles(k,{left:Fn,top:us,display:"block"}),k.innerHTML=Me+" &times; "+Ue,S[2]<0&&b.clientWidth<=Me&&o.setStyle(b,"left",Q+(K-Me)),S[3]<0&&b.clientHeight<=Ue&&o.setStyle(b,"top",se+(oe-Ue)),yo=u.scrollWidth-At,hs=u.scrollHeight-sn,yo+hs!==0&&o.setStyles(k,{left:Fn-yo,top:us-hs}),ze||(_T(n,m,K,oe,"corner-"+S.name),ze=!0)},_a=()=>{const Ut=ze;ze=!1,Ut&&(ls(m,"width",Me),ls(m,"height",Ue)),o.unbind(r,"mousemove",ar),o.unbind(r,"mouseup",_a),c!==r&&(o.unbind(c,"mousemove",ar),o.unbind(c,"mouseup",_a)),o.remove(b),o.remove(k),o.remove(z),La(m),Ut&&(J2(n,m,Me,Ue,"corner-"+S.name),o.setAttrib(m,"style",o.getAttrib(m,"style"))),n.nodeChanged()},La=Ut=>{os();const yo=o.getPos(Ut,u),hs=yo.x,Xs=yo.y,Fn=Ut.getBoundingClientRect(),us=Fn.width||Fn.right-Fn.left,sr=Fn.height||Fn.bottom-Fn.top;m!==Ut&&(jt(),m=Ut,Me=Ue=0);const fa=n.dispatch("ObjectSelected",{target:Ut});ro(Ut)&&!fa.isDefaultPrevented()?xt(_b,(dr,Ac)=>{const su=Nu=>{const mh=Vn(m)[0];M=Nu.screenX,I=Nu.screenY,K=mh.clientWidth,oe=mh.clientHeight,Te=oe/K,S=dr,S.name=Ac,S.startPos={x:us*dr[0]+hs,y:sr*dr[1]+Xs},At=u.scrollWidth,sn=u.scrollHeight,z=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(z,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),b=jo(m),o.addClass(b,"mce-clonedresizable"),o.setAttrib(b,"data-mce-bogus","all"),b.contentEditable="false",o.setStyles(b,{left:hs,top:Xs,margin:0}),Is(b,us,sr),b.removeAttribute(Cg),u.appendChild(b),o.bind(r,"mousemove",ar),o.bind(r,"mouseup",_a),c!==r&&(o.bind(c,"mousemove",ar),o.bind(c,"mouseup",_a)),k=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},K+" &times; "+oe)};let Pl=o.get("mceResizeHandle"+Ac);Pl&&o.remove(Pl),Pl=o.add(u,"div",{id:"mceResizeHandle"+Ac,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ac+"-resize; margin:0; padding:0"}),o.bind(Pl,"mousedown",Nu=>{Nu.stopImmediatePropagation(),Nu.preventDefault(),su(Nu)}),dr.elm=Pl,o.setStyles(Pl,{left:us*dr[0]+hs-Pl.offsetWidth/2,top:sr*dr[1]+Xs-Pl.offsetHeight/2})}):jt(!1)},vc=Zh(La,0),jt=(Ut=!0)=>{vc.cancel(),os(),m&&Ut&&m.removeAttribute(Cg),xt(_b,(yo,hs)=>{const Xs=o.get("mceResizeHandle"+hs);Xs&&(o.unbind(Xs),o.remove(Xs))})},_n=(Ut,yo)=>o.isChildOf(Ut,yo),Os=Ut=>{if(ze||n.removed||n.composing)return;const yo=Ut.type==="mousedown"?Ut.target:e.getNode(),hs=ve(de.fromDom(yo),OT).map(Fn=>Fn.dom).filter(Fn=>o.isEditable(Fn.parentElement)).getOrUndefined(),Xs=$e(hs)?o.getAttrib(hs,Cg,"1"):"1";if(ae(o.select(`img[${Cg}],hr[${Cg}]`),Fn=>{Fn.removeAttribute(Cg)}),$e(hs)&&_n(hs,u)&&n.hasFocus()){Kn();const Fn=e.getStart(!0);if(_n(Fn,hs)&&_n(e.getEnd(!0),hs)){o.setAttrib(hs,Cg,Xs),vc.throttle(hs);return}}jt()},os=()=>{xt(_b,Ut=>{Ut.elm&&(o.unbind(Ut.elm),delete Ut.elm)})},Kn=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(Ut){}};return n.on("init",()=>{Kn(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Os),n.on("keyup compositionend",Ut=>{m&&m.nodeName==="TABLE"&&Os(Ut)}),n.on("hide blur",jt),n.on("contextmenu longpress",Bt,!0)}),n.on("remove",os),{isResizable:ro,showResizeRect:La,hideResizeRect:jt,updateResizeRect:Os,destroy:()=>{vc.cancel(),m=b=z=null}}},DT=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},WO=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},nC=(e,n,o)=>{const r=e.document.createRange();return DT(r,n),WO(r,o),r},oC=(e,n,o,r,c)=>{const u=e.document.createRange();return u.setStart(n.dom,o),u.setEnd(r.dom,c),u},B1=Sf.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zT=(e,n,o)=>n(de.fromDom(o.startContainer),o.startOffset,de.fromDom(o.endContainer),o.endOffset),Co=(e,n)=>n.match({domRange:o=>({ltr:rt(o),rtl:F.none}),relative:(o,r)=>({ltr:ct(()=>nC(e,o,r)),rtl:ct(()=>F.some(nC(e,r,o)))}),exact:(o,r,c,u)=>({ltr:ct(()=>oC(e,o,r,c,u)),rtl:ct(()=>F.some(oC(e,c,u,o,r)))})}),RT=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(c=>c.collapsed===!1).map(c=>B1.rtl(de.fromDom(c.endContainer),c.endOffset,de.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>zT(e,B1.ltr,o)):zT(e,B1.ltr,o)},MT=(e,n)=>{const o=Co(e,n);return RT(e,o)};B1.ltr,B1.rtl;const Cb={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},F1=(e,n,o)=>{var r,c;return F.from((c=(r=e.dom).caretPositionFromPoint)===null||c===void 0?void 0:c.call(r,n,o)).bind(u=>{if(u.offsetNode===null)return F.none();const m=e.dom.createRange();return m.setStart(u.offsetNode,u.offset),m.collapse(),F.some(m)})},NT=(e,n,o)=>{var r,c;return F.from((c=(r=e.dom).caretRangeFromPoint)===null||c===void 0?void 0:c.call(r,n,o))},PT=(()=>document.caretPositionFromPoint?F1:document.caretRangeFromPoint?NT:F.none)(),BT=(e,n,o)=>{const r=de.fromDom(e.document);return PT(r,n,o).map(c=>Cb.create(de.fromDom(c.startContainer),c.startOffset,de.fromDom(c.endContainer),c.endOffset))},Sb=Sf.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Sk=(e,n,o,r)=>e.fold(n,o,r),sC=e=>e.fold(Hn,Hn,Hn),xk=Sb.before,Ek=Sb.on,rC=Sb.after,Rf={before:xk,on:Ek,after:rC,cata:Sk,getStart:sC},Vp=Sf.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Tk=e=>Vp.exact(e.start,e.soffset,e.finish,e.foffset),FT=e=>e.match({domRange:n=>de.fromDom(n.startContainer),relative:(n,o)=>Rf.getStart(n),exact:(n,o,r,c)=>n}),$T=Vp.domRange,$s=Vp.relative,Ak=Vp.exact,Pd=e=>{const n=FT(e);return Uu(n)},Bd=Cb.create,Mf={domRange:$T,relative:$s,exact:Ak,exactFromRange:Tk,getWin:Pd,range:Bd},li=(e,n)=>{const o=qs(e);return o==="input"?Rf.after(e):ee(["br","img"],o)?n===0?Rf.before(e):Rf.after(e):Rf.on(e,n)},$1=(e,n)=>{const o=e.fold(Rf.before,li,Rf.after),r=n.fold(Rf.before,li,Rf.after);return Mf.relative(o,r)},Up=(e,n,o,r)=>{const c=li(e,n),u=li(o,r);return Mf.relative(c,u)},I1=e=>e.match({domRange:n=>{const o=de.fromDom(n.startContainer),r=de.fromDom(n.endContainer);return Up(o,n.startOffset,r,n.endOffset)},relative:$1,exact:Up}),Sg=(e,n)=>{const r=(n||document).createDocumentFragment();return ae(e,c=>{r.appendChild(c.dom)}),de.fromDom(r)},IT=e=>{const n=Mf.getWin(e).dom,o=(c,u,m,b)=>oC(n,c,u,m,b),r=I1(e);return MT(n,r).match({ltr:o,rtl:o})},ZO=(e,n,o)=>BT(e,n,o),LT=(e,n,o)=>{const r=Uu(de.fromDom(o));return ZO(r.dom,e,n).map(c=>{const u=o.createRange();return u.setStart(c.start.dom,c.soffset),u.setEnd(c.finish.dom,c.foffset),u}).getOrUndefined()},aC=(e,n)=>$e(e)&&$e(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,ws=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},Eu=(e,n,o)=>ws(e,n,o)!==null,Wp=(e,n,o)=>Eu(e,n,r=>r.nodeName===o),HT=(e,n)=>Fs(e)&&!Eu(e,n,Ic),xg=(e,n,o)=>{const r=n.parentNode;if(r){const c=new vr(n,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=c[o?"prev":"next"]();)if(na(u))return!0}return!1},xs=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},VT=(e,n)=>{let o=n;for(;o&&o!==e;){if(As(o))return!0;o=o.parentNode}return!1},L1=(e,n,o,r,c)=>{const u=e.getRoot(),m=e.schema.getNonEmptyElements(),b=c.parentNode;let k,S;if(!b)return F.none();const z=e.getParent(b,e.isBlock)||u;if(r&&na(c)&&n&&e.isEmpty(z))return F.some(ut(b,e.nodeIndex(c)));const M=new vr(c,z);for(;S=M[r?"prev":"next"]();){if(e.getContentEditableParent(S)==="false"||HT(S,u))return F.none();if(It(S)&&S.data.length>0)return Wp(S,u,"A")?F.none():F.some(ut(S,r?S.data.length:0));if(e.isBlock(S)||m[S.nodeName.toLowerCase()])return F.none();k=S}return qu(k)?F.none():o&&k?F.some(ut(k,0)):F.none()},H1=(e,n,o,r)=>{const c=e.getRoot();let u,m=!1,b=o?r.startContainer:r.endContainer,k=o?r.startOffset:r.endOffset;const S=wn(b)&&k===b.childNodes.length,z=e.schema.getNonEmptyElements();let M=o;if(Fs(b))return F.none();if(wn(b)&&k>b.childNodes.length-1&&(M=!1),Cl(b)&&(b=c,k=0),b===c){if(M&&(u=b.childNodes[k>0?k-1:0],u&&(Fs(u)||z[u.nodeName]||Qi(u))))return F.none();if(b.hasChildNodes()){if(k=Math.min(!M&&k>0?k-1:k,b.childNodes.length-1),b=b.childNodes[k],k=It(b)&&S?b.data.length:0,!n&&b===c.lastChild&&Qi(b)||VT(c,b)||Fs(b))return F.none();if(b.hasChildNodes()&&!Qi(b)){u=b;const I=new vr(b,c);do{if(As(u)||Fs(u)){m=!1;break}if(It(u)&&u.data.length>0){k=M?0:u.data.length,b=u,m=!0;break}if(z[u.nodeName.toLowerCase()]&&!fc(u)){k=e.nodeIndex(u),b=u.parentNode,M||k++,m=!0;break}}while(u=M?I.next():I.prev())}}}return n&&(It(b)&&k===0&&L1(e,S,n,!0,b).each(I=>{b=I.container(),k=I.offset(),m=!0}),wn(b)&&(u=b.childNodes[k],u||(u=b.childNodes[k-1]),u&&na(u)&&!xs(u,"A")&&!xg(e,u,!1)&&!xg(e,u,!0)&&L1(e,S,n,!0,u).each(I=>{b=I.container(),k=I.offset(),m=!0}))),M&&!n&&It(b)&&k===b.data.length&&L1(e,S,n,!1,b).each(I=>{b=I.container(),k=I.offset(),m=!0}),m&&b?F.some(ut(b,k)):F.none()},V1=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),c=ut.fromRangeStart(n);return H1(e,o,!0,r).each(u=>{(!o||!ut.isAbove(c,u))&&r.setStart(u.container(),u.offset())}),o||H1(e,o,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),o&&r.collapse(!0),aC(n,r)?F.none():F.some(r)},Nf=(e,n)=>e.splitText(n),Fd=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,c=e.endOffset;if(n===r&&It(n)){if(o>0&&o<n.data.length)if(r=Nf(n,o),n=r.previousSibling,c>o){c=c-o;const u=Nf(r,c).previousSibling;n=r=u,c=u.data.length,o=0}else c=0}else if(It(n)&&o>0&&o<n.data.length&&(n=Nf(n,o),o=0),It(r)&&c>0&&c<r.data.length){const u=Nf(r,c).previousSibling;r=u,c=u.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:c}},l=e=>({walk:(u,m)=>Df(e,u,m),split:Fd,expand:(u,m={type:"word"})=>{if(m.type==="word"){const b=_g(e,u,[{inline:"span"}]),k=e.createRng();return k.setStart(b.startContainer,b.startOffset),k.setEnd(b.endContainer,b.endOffset),k}return u},normalize:u=>V1(e,u).fold(Re,m=>(u.setStart(m.startContainer,m.startOffset),u.setEnd(m.endContainer,m.endOffset),!0))});l.compareRanges=aC,l.getCaretRangeFromPoint=LT,l.getSelectedNode=kp,l.getNode=Wl;const p=((e,n)=>{const o=(b,k)=>{if(!Ro(k)&&!k.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+k);const S=b.dom;Mo(S)&&(S.style[e]=k+"px")},r=b=>{const k=n(b);if(k<=0||k===null){const S=Rr(b,e);return parseFloat(S)||0}return k},c=r,u=(b,k)=>J(k,(S,z)=>{const M=Rr(b,z),I=M===void 0?0:parseInt(M,10);return isNaN(I)?S:S+I},0);return{set:o,get:r,getOuter:c,aggregate:u,max:(b,k,S)=>{const z=u(b,S);return k>z?k-z:0}}})("height",e=>{const n=e.dom;return ju(e)?n.getBoundingClientRect().height:n.offsetHeight}),y=e=>p.get(e),C=()=>de.fromDom(document),O=(e,n)=>e.view(n).fold(rt([]),r=>{const c=e.owner(r),u=O(e,c);return[r].concat(u)}),$=(e,n)=>{const o=n.owner(e);return O(n,o)};var be=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?F.none():F.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(de.fromDom)},owner:e=>yi(e)});const Be=e=>{const n=C(),o=Ji(n),r=$(e,be),c=rm(e),u=We(r,(m,b)=>{const k=rm(b);return{left:m.left+k.left,top:m.top+k.top}},{left:0,top:0});return sm(u.left+c.left+o.left,u.top+c.top+o.top)},Tt=e=>qs(e)==="textarea",fn=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),an=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},wt=(e,n)=>{const o=Ua(e);if(o.length===0||Tt(e))return{element:e,offset:n};if(n<o.length&&!Tt(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return Tt(r)?{element:e,offset:n}:qs(r)==="img"?{element:r,offset:1}:ec(r)?{element:r,offset:ki(r).length}:{element:r,offset:Ua(r).length}}},cn=(e,n)=>{const o=Vv(e),r=y(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},vt=(e,n)=>{const o=wt(e,n),r=de.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+st+"</span>");return Wa(o.element,r),cn(r,()=>Ms(r))},In=e=>cn(de.fromDom(e),De),Po=(e,n,o,r)=>{Oa(e,(c,u)=>Ir(e,n,o,r),o)},Qo=(e,n,o,r,c)=>{const u={elm:r.element.dom,alignToTop:c};if(fn(e,u))return;const m=Ji(n).top;o(e,n,m,r,c),an(e,u)},Ir=(e,n,o,r)=>{const c=de.fromDom(e.getBody()),u=de.fromDom(e.getDoc());ua(c);const m=vt(de.fromDom(o.startContainer),o.startOffset);Qo(e,u,n,m,r),m.cleanup()},Fa=(e,n,o,r)=>{const c=de.fromDom(e.getDoc());Qo(e,c,o,In(n),r)},Oa=(e,n,o)=>{const r=o.startContainer,c=o.startOffset,u=o.endContainer,m=o.endOffset;n(de.fromDom(r),de.fromDom(u));const b=e.dom.createRng();b.setStart(r,c),b.setEnd(u,m),e.selection.setRng(o)},ui=(e,n,o,r,c)=>{const u=n.pos;if(r)Eh(u.left,u.top,c);else{const m=u.top-o+n.height;Eh(-e.getBody().getBoundingClientRect().left,m,c)}},Eg=(e,n,o,r,c,u)=>{const m=r+o,b=c.pos.top,k=c.bottom,S=k-b>=r;b<o?ui(e,c,r,u!==!1,n):b>m?ui(e,c,r,S?u!==!1:u===!0,n):k>m&&!S&&ui(e,c,r,u===!0,n)},xb=(e,n,o,r,c)=>{const u=Uu(n).dom.innerHeight;Eg(e,n,o,u,r,c)},U1=(e,n,o,r,c)=>{const u=Uu(n).dom.innerHeight;Eg(e,n,o,u,r,c);const m=Be(r.element),b=Oh(window);m.top<b.y?Th(r.element,c!==!1):m.top>b.bottom&&Th(r.element,c===!0)},W1=(e,n,o)=>Po(e,xb,n,o),lr=(e,n,o)=>Fa(e,n,xb,o),di=(e,n,o)=>Po(e,U1,n,o),Ai=(e,n,o)=>Fa(e,n,U1,o),Tu=(e,n,o)=>{(e.inline?lr:Ai)(e,n,o)},Oi=(e,n,o)=>{(e.inline?W1:di)(e,n,o)},Tg=e=>e.dom.focus(),fi=e=>{const n=kl(e).dom;return e.dom===n.activeElement},Eb=(e=C())=>F.from(e.dom.activeElement).map(de.fromDom),Tb=e=>Eb(kl(e)).filter(n=>e.dom.contains(n.dom)),rd=(e,n)=>{const o=ec(n)?ki(n).length:Ua(n).length+1;return e>o?o:e<0?0:e},yc=e=>Mf.range(e.start,rd(e.soffset,e.start),e.finish,rd(e.foffset,e.finish)),Ok=(e,n)=>!fu(n.dom)&&(dc(e,n)||Rs(e,n)),cC=e=>n=>Ok(e,n.start)&&Ok(e,n.finish),iC=e=>e.inline||pn.browser.isFirefox(),lC=e=>Mf.range(de.fromDom(e.startContainer),e.startOffset,de.fromDom(e.endContainer),e.endOffset),UT=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?F.none():F.from(n.getRangeAt(0))).map(lC)},Dk=e=>{const n=Uu(e);return UT(n.dom).filter(cC(e))},WT=(e,n)=>F.from(n).filter(cC(e)).map(yc),Ab=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),F.some(n)}catch(o){return F.none()}},jT=e=>{const n=iC(e)?Dk(de.fromDom(e.getBody())):F.none();e.bookmark=n.isSome()?n:e.bookmark},uC=e=>(e.bookmark?e.bookmark:F.none()).bind(o=>WT(de.fromDom(e.getBody()),o)).bind(Ab),qO=e=>{uC(e).each(n=>e.selection.setRng(n))},GO={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},rP=(e,n)=>(Ro(n)||(n=0),setTimeout(e,n)),qT=(e,n)=>(Ro(n)||(n=0),setInterval(e,n)),ad={setEditorTimeout:(e,n,o)=>rP(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=qT(()=>{e.removed?clearInterval(r):n()},o);return r}},KO=e=>e.type==="nodechange"&&e.selectionChange,YO=(e,n)=>{const o=()=>{n.throttle()};Ys.DOM.bind(document,"mouseup",o),e.on("remove",()=>{Ys.DOM.unbind(document,"mouseup",o)})},XO=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},aP=(e,n)=>{XO(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{KO(o)||jT(e)})},cP=e=>{const n=Zh(()=>{jT(e)},0);e.on("init",()=>{e.inline&&YO(e,n),aP(e,n)}),e.on("remove",()=>{n.cancel()})};let j1;const GT=Ys.DOM,dC=e=>wn(e)&&GO.isEditorUIElement(e),fC=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},zk=(e,n)=>{const o=s2(e);return GT.getParent(n,c=>dC(c)||(o?e.dom.is(c,o):!1))!==null},mC=e=>{try{const n=kl(de.fromDom(e.getElement()));return Eb(n).fold(()=>document.body,o=>o.dom)}catch(n){return document.body}},JO=(e,n)=>{const o=n.editor;cP(o);const r=(c,u)=>{if(h2(c)&&c.inline!==!0){const m=de.fromDom(c.getContainer());u(m,"tox-edit-focus")}};o.on("focusin",()=>{const c=e.focusedEditor;fC(mC(o))&&r(o,$l),c!==o&&(c&&c.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:c}),o.focus(!0))}),o.on("focusout",()=>{ad.setEditorTimeout(o,()=>{const c=e.focusedEditor;(!fC(mC(o))||c!==o)&&r(o,Lu),!zk(o,mC(o))&&c===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),j1||(j1=c=>{const u=e.activeEditor;u&&ef(c).each(m=>{const b=m;b.ownerDocument===document&&b!==document.body&&!zk(u,b)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},GT.bind(document,"focusin",j1))},iP=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&j1&&(GT.unbind(document,"focusin",j1),j1=null)},lP=e=>{e.on("AddEditor",et(JO,e)),e.on("RemoveEditor",et(iP,e))},uP=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),dP=e=>e.collapsed?F.from(Wl(e.startContainer,e.startOffset)).map(de.fromDom):F.none(),fP=(e,n)=>dP(n).bind(o=>Za(o)?F.some(o):dc(e,o)?F.none():F.some(e)),QO=(e,n)=>{fP(de.fromDom(e.getBody()),n).bind(o=>ka(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},KT=e=>{if(e.setActive)try{e.setActive()}catch(n){e.focus()}else e.focus()},mP=e=>fi(e)||Tb(e).isSome(),gP=e=>$e(e.iframeElement)&&fi(de.fromDom(e.iframeElement)),pP=e=>{const n=e.getBody();return n&&mP(de.fromDom(n))},hP=e=>{const n=kl(de.fromDom(e.getElement()));return Eb(n).filter(o=>!fC(o.dom)&&zk(e,o.dom)).isSome()},Ob=e=>e.inline?pP(e):gP(e),gC=e=>Ob(e)||hP(e),eD=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable(),$e(e.bookmark)&&!Ob(e)&&uC(e).each(u=>{e.selection.setRng(u),r=u});const c=uP(e,n.getNode());if(c&&e.dom.isChildOf(c,o)){KT(c),QO(e,r),pC(e);return}e.inline||(pn.browser.isOpera()||KT(o),e.getWin().focus()),(pn.browser.isFirefox()||e.inline)&&(KT(o),QO(e,r)),pC(e)},pC=e=>e.editorManager.setActive(e),bP=(e,n)=>{e.removed||(n?pC(e):eD(e))},tD=(e,n,o,r,c)=>{const u=o?n.startContainer:n.endContainer,m=o?n.startOffset:n.endOffset;return F.from(u).map(de.fromDom).map(b=>!r||!n.collapsed?uu(b,c(b,m)).getOr(b):b).bind(b=>lc(b)?F.some(b):qc(b).filter(lc)).map(b=>b.dom).getOr(e)},nD=(e,n,o=!1)=>tD(e,n,!0,o,(r,c)=>Math.min(Gc(r),c)),oD=(e,n,o=!1)=>tD(e,n,!1,o,(r,c)=>c>0?c-1:c),sD=(e,n)=>{const o=e;for(;e&&It(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},yP=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const c=n.startOffset,u=n.endOffset;let m=n.commonAncestorContainer;n.collapsed||(o===r&&u-c<2&&o.hasChildNodes()&&(m=o.childNodes[c]),It(o)&&It(r)&&(o.length===c?o=sD(o.nextSibling,!0):o=o.parentNode,u===0?r=sD(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(m=o)));const b=It(m)?m.parentNode:m;return wn(b)?b:e},rD=(e,n,o,r)=>{const c=[],u=e.getRoot(),m=e.getParent(o||nD(u,n,n.collapsed),e.isBlock),b=e.getParent(r||oD(u,n,n.collapsed),e.isBlock);if(m&&m!==u&&c.push(m),m&&b&&m!==b){let k;const S=new vr(m,u);for(;(k=S.next())&&k!==b;)e.isBlock(k)&&c.push(k)}return b&&m!==b&&b!==u&&c.push(b),c},vP=(e,n,o)=>F.from(n).bind(r=>F.from(r.parentNode).map(c=>{const u=e.nodeIndex(r),m=e.createRng();return m.setStart(c,u),m.setEnd(c,u+1),o&&(lk(e,m,r,!0),lk(e,m,r,!1)),m})),hC=(e,n)=>we(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),aD=e=>qs(e)==="img"?1:Cy(e).fold(()=>Ua(e).length,n=>n.length),kP=e=>Cy(e).filter(n=>n.trim().length!==0||n.indexOf(pr)>-1).isSome(),wP=e=>Ar(e)&&kc(e,"contenteditable")==="false",_P=["img","br"],cD=e=>kP(e)||ee(_P,qs(e))||wP(e),CP=e=>R(e,cD),SP=e=>xP(e,cD),xP=(e,n)=>{const o=r=>{const c=Ua(r);for(let u=c.length-1;u>=0;u--){const m=c[u];if(n(m))return F.some(m);const b=o(m);if(b.isSome())return b}return F.none()};return o(e)},iD="[data-mce-autocompleter]",EP=(e,n)=>{if(lD(de.fromDom(e.getBody())).isNone()){const o=de.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());Sa(o,de.fromDom(n.extractContents())),n.insertNode(o.dom),qc(o).each(r=>r.dom.normalize()),SP(o).map(r=>{e.selection.setCursorLocation(r.dom,aD(r))})}},TP=e=>ve(e,iD),lD=e=>me(e,iD),AP=(e,n)=>lD(n).each(o=>{const r=e.selection.getBookmark();oi(o),e.selection.moveToBookmark(r)}),OP={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},bC=(e,n,o)=>{const r=o?"lastChild":"firstChild",c=o?"prev":"next";if(e[r])return e[r];if(e!==n){let u=e[c];if(u)return u;for(let m=e.parent;m&&m!==n;m=m.parent)if(u=m[c],u)return u}},DP=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!lm(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},uD=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Ml{static create(n,o){const r=new Ml(n,OP[n]||1);return o&&xt(o,(c,u)=>{r.attr(u,c)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!W(n))return $e(n)&&xt(n,(u,m)=>{r.attr(m,u)}),r;const c=r.attributes;if(c){if(o!==void 0){if(o===null){if(n in c.map){delete c.map[n];let u=c.length;for(;u--;)if(c[u].name===n)return c.splice(u,1),r}return r}if(n in c.map){let u=c.length;for(;u--;)if(c[u].name===n){c[u].value=o;break}}else c.push({name:n,value:o});return c.map[n]=o,r}return c.map[n]}}clone(){const n=this,o=new Ml(n.name,n.type),r=n.attributes;if(r){const c=[];c.map={};for(let u=0,m=r.length;u<m;u++){const b=r[u];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}o.attributes=c}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,c=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),o.lastChild===n?(o.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const c=o.parent||this;return r?(o===c.firstChild?c.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===c.lastChild?c.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=c,n}getAll(n){const o=this,r=[];for(let c=o.firstChild;c;c=bC(c,o))c.name===n&&r.push(c);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let c=n.firstChild;c;c=bC(c,n))o.push(c);let r=o.length;for(;r--;){const c=o[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var c;const u=this;let m=u.firstChild;if(uD(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(n[m.name]||uD(m))return!1}if(m.type===8||m.type===3&&!DP(m)||m.type===3&&m.parent&&o[m.parent.name]&&lm((c=m.value)!==null&&c!==void 0?c:"")||r&&r(m))return!1}while(m=bC(m,u));return!0}walk(n){return bC(this,null,n)}}const zP=(e,n)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n)),dD=(e,n,o=0)=>{const r=e.toLowerCase();if(r.indexOf("[if ",o)!==-1&&zP(r,o)){const c=r.indexOf("[endif]",o);return r.indexOf(">",c)}else if(n){const c=r.indexOf(">",o);return c!==-1?c:r.length}else{const c=/--!?>/g;c.lastIndex=o;const u=c.exec(e);return u?u.index+u[0].length:r.length}},fo=(e,n,o)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,c=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,u=e.getVoidElements();let m=1,b=o;for(;m!==0;)for(r.lastIndex=b;;){const k=r.exec(n);if(k===null)return b;if(k[1]==="!"){so(k[2],"--")?b=dD(n,!1,k.index+3):b=dD(n,!0,k.index+1);break}else{c.lastIndex=r.lastIndex;const S=c.exec(n);if(H(S)||S.index!==r.lastIndex)continue;k[1]==="/"?m-=1:qn(u,k[2])||(m+=1),b=r.lastIndex+S[0].length;break}}return b},fD=(e,n)=>{const o=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(o,"")},YT=(e,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let c=fD(e.getTempAttrs(),n);const u=r.getVoidElements();let m;for(;m=o.exec(c);){const b=o.lastIndex,k=m[0].length;let S;u[m[1]]?S=b:S=fo(r,c,b),c=c.substring(0,b-k)+c.substring(S),o.lastIndex=b-k}return rn(c)},RP=YT,yC=e=>{const n=ja(e,"[data-mce-bogus]");ae(n,o=>{kc(o,"data-mce-bogus")==="all"?Ms(o):wi(o)?(Wa(o,de.fromText(_t)),Ms(o)):oi(o)})},mD=e=>{const n=ja(e,"input");ae(n,o=>{ta(o,"name")})},MP=(e,n)=>{const o=ci(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},NP=(e,n)=>{const o=e.getDoc(),r=kl(de.fromDom(e.getBody())),c=de.fromTag("div",o);Gs(c,"data-mce-bogus","all"),Xr(c,{position:"fixed",left:"-9999999px",top:"0"}),nf(c,n.innerHTML),yC(c),mD(c);const u=wh(r);Sa(u,c);const m=rn(c.dom.innerText);return Ms(c),m},PP=(e,n,o)=>{let r;return n.format==="raw"?r=Dt.trim(RP(e.serializer,o.innerHTML)):n.format==="text"?r=NP(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=MP(e,e.serializer.serialize(o,n)),n.format!=="text"&&!_i(de.fromDom(o))&&W(r)?Dt.trim(r):r},BP=(e,n)=>F.from(e.getBody()).fold(rt(n.format==="tree"?new Ml("body",11):""),o=>PP(e,n,o)),Rk=Dt.makeMap,XT=e=>{const n=[];e=e||{};const o=e.indent,r=Rk(e.indent_before||""),c=Rk(e.indent_after||""),u=bm.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format!=="xhtml";return{start:(b,k,S)=>{if(o&&r[b]&&n.length>0){const z=n[n.length-1];z.length>0&&z!==`
`&&n.push(`
`)}if(n.push("<",b),k)for(let z=0,M=k.length;z<M;z++){const I=k[z];n.push(" ",I.name,'="',u(I.value,!0),'"')}if(!S||m?n[n.length]=">":n[n.length]=" />",S&&o&&c[b]&&n.length>0){const z=n[n.length-1];z.length>0&&z!==`
`&&n.push(`
`)}},end:b=>{let k;n.push("</",b,">"),o&&c[b]&&n.length>0&&(k=n[n.length-1],k.length>0&&k!==`
`&&n.push(`
`))},text:(b,k)=>{b.length>0&&(n[n.length]=k?b:u(b))},cdata:b=>{n.push("<![CDATA[",b,"]]>")},comment:b=>{n.push("<!--",b,"-->")},pi:(b,k)=>{k?n.push("<?",b," ",u(k),"?>"):n.push("<?",b,"?>"),o&&n.push(`
`)},doctype:b=>{n.push("<!DOCTYPE",b,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},Db=(e={},n=Ju())=>{const o=XT(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const u=e.validate,m={3:k=>{var S;o.text((S=k.value)!==null&&S!==void 0?S:"",k.raw)},8:k=>{var S;o.comment((S=k.value)!==null&&S!==void 0?S:"")},7:k=>{o.pi(k.name,k.value)},10:k=>{var S;o.doctype((S=k.value)!==null&&S!==void 0?S:"")},4:k=>{var S;o.cdata((S=k.value)!==null&&S!==void 0?S:"")},11:k=>{let S=k;if(S=S.firstChild)do b(S);while(S=S.next)}};o.reset();const b=k=>{var S;const z=m[k.type];if(z)z(k);else{const M=k.name,I=M in n.getVoidElements();let Q=k.attributes;if(u&&Q&&Q.length>1){const se=[];se.map={};const K=n.getElementRule(k.name);if(K){for(let oe=0,Te=K.attributesOrder.length;oe<Te;oe++){const ze=K.attributesOrder[oe];if(ze in Q.map){const Me=Q.map[ze];se.map[ze]=Me,se.push({name:ze,value:Me})}}for(let oe=0,Te=Q.length;oe<Te;oe++){const ze=Q[oe].name;if(!(ze in se.map)){const Me=Q.map[ze];se.map[ze]=Me,se.push({name:ze,value:Me})}}Q=se}}if(o.start(M,Q,I),!I){let se=k.firstChild;if(se){(M==="pre"||M==="textarea")&&se.type===3&&((S=se.value)===null||S===void 0?void 0:S[0])===`
`&&o.text(`
`,!0);do b(se);while(se=se.next)}o.end(M)}}};return c.type===1&&!e.inner?b(c):c.type===3?m[3](c):m[11](c),o.getContent()}}},gD=new Set;ae(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{gD.add(n)});const Ho=["font","text-decoration","text-emphasis"],JT=(e,n)=>xo(e.parseStyle(e.getAttrib(n,"style"))),Go=e=>gD.has(e),pD=(e,n)=>Nn(JT(e,n),o=>!Go(o)),Oj=e=>Ye(e,n=>he(Ho,o=>so(n,o))),Dj=(e,n,o)=>{const r=JT(e,n),c=JT(e,o),u=m=>{var b,k;const S=(b=e.getStyle(n,m))!==null&&b!==void 0?b:"",z=(k=e.getStyle(o,m))!==null&&k!==void 0?k:"";return wo(S)&&wo(z)&&S!==z};return he(r,m=>{const b=k=>he(k,S=>S===m);if(!b(c)&&b(Ho)){const k=Oj(c);return he(k,u)}else return u(m)})},hD=(e,n,o)=>F.from(o.container()).filter(It).exists(r=>{const c=e?0:-1;return n(r.data.charAt(o.offset()+c))}),bD=et(hD,!0,Gl),yD=et(hD,!1,Gl),FP=e=>{const n=e.container();return It(n)&&(n.data.length===0||Ht(n.data)&&Ip.isBookmarkNode(n.parentNode))},jp=(e,n)=>o=>Op(e?0:-1,o).filter(n).isSome(),To=e=>Wr(e)&&Rr(de.fromDom(e),"display")==="block",vD=e=>As(e)&&!tc(e),$P=jp(!0,To),IP=jp(!1,To),Ag=jp(!0,Sl),Z1=jp(!1,Sl),kD=jp(!0,Qi),wD=jp(!1,Qi),Zp=jp(!0,vD),Og=jp(!1,vD),LP=e=>e.slice(0,-1),zj=(e,n,o)=>dc(n,e)?LP(Jd(e,r=>o(r)||Rs(r,n))):[],HP=(e,n)=>zj(e,n,Re),Dg=(e,n)=>[e].concat(HP(e,n)),QT=(e,n,o)=>Y0(e,n,o,FP),_D=(e,n)=>Le(Dg(de.fromDom(n.container()),e),Li),CD=(e,n,o)=>QT(e,n.dom,o).forall(r=>_D(n,o).fold(()=>!wu(r,o,n.dom),c=>!wu(r,o,n.dom)&&dc(c,de.fromDom(r.container())))),e3=(e,n,o)=>_D(n,o).fold(()=>QT(e,n.dom,o).forall(r=>!wu(r,o,n.dom)),r=>QT(e,r.dom,o).isNone()),t3=et(e3,!1),ts=et(e3,!0),SD=et(CD,!1),vC=et(CD,!0),xD=e=>yg(e).exists(wi),Mk=(e,n,o)=>{const r=Ye(Dg(de.fromDom(o.container()),n),Li),c=kn(r).getOr(n);return Al(e,c.dom,o).filter(xD)},kC=(e,n)=>yg(n).exists(wi)||Mk(!0,e,n).isSome(),wC=(e,n)=>T2(n).exists(wi)||Mk(!1,e,n).isSome(),ED=et(Mk,!1),VP=et(Mk,!0),n3=e=>ut.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),TD=(e,n)=>{const o=Ye(Dg(de.fromDom(n.container()),e),Li);return kn(o).getOr(e)},AD=(e,n)=>n3(n)?yD(n):yD(n)||ii(TD(e,n).dom,n).exists(yD),OD=(e,n)=>n3(n)?bD(n):bD(n)||qi(TD(e,n).dom,n).exists(bD),UP=e=>ee(["pre","pre-wrap"],e),o3=e=>yg(e).bind(n=>Kc(n,lc)).exists(n=>UP(Rr(n,"white-space"))),WP=(e,n)=>ii(e.dom,n).isNone(),jP=(e,n)=>qi(e.dom,n).isNone(),ZP=(e,n)=>WP(e,n)||jP(e,n)||t3(e,n)||ts(e,n)||wC(e,n)||kC(e,n),s3=e=>$e(e)&&As(e)&&x2(e),_C=(e,n)=>o=>s3(new vr(o,e)[n]()),qP=(e,n)=>{const o=qi(e.dom,n).getOr(n),r=_C(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},GP=(e,n)=>{const o=ii(e.dom,n).getOr(n),r=_C(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},DD=(e,n)=>o3(n)?!1:ZP(e,n)||AD(e,n)||OD(e,n),Nk=(e,n)=>o3(n)?!1:t3(e,n)||SD(e,n)||wC(e,n)||AD(e,n)||GP(e,n),KP=e=>{const n=e.container(),o=e.offset();return It(n)&&o<n.data.length?ut(n,o+1):e},Pk=(e,n)=>o3(n)?!1:ts(e,n)||vC(e,n)||kC(e,n)||OD(e,n)||qP(e,n),r3=(e,n)=>Nk(e,n)||Pk(e,KP(n)),zD=(e,n)=>ps(e.charAt(n)),a3=(e,n)=>Gl(e.charAt(n)),YP=e=>{const n=e.container();return It(n)&&$n(n.data,pr)},XP=e=>{const n=e.split("");return we(n,(o,r)=>ps(o)&&r>0&&r<n.length-1&&Dm(n[r-1])&&Dm(n[r+1])?" ":o).join("")},qp=(e,n,o)=>{const r=n.data,c=ut(n,0);return!o&&zD(r,0)&&!r3(e,c)?(n.data=" "+r.slice(1),!0):o&&a3(r,0)&&Nk(e,c)?(n.data=pr+r.slice(1),!0):!1},JP=e=>{const n=e.data,o=XP(n);return o!==n?(e.data=o,!0):!1},c3=(e,n,o)=>{const r=n.data,c=ut(n,r.length-1);return!o&&zD(r,r.length-1)&&!r3(e,c)?(n.data=r.slice(0,-1)+" ",!0):o&&a3(r,r.length-1)&&Pk(e,c)?(n.data=r.slice(0,-1)+pr,!0):!1},QP=(e,n)=>{const o=n.container();if(!It(o))return F.none();if(YP(n)){const r=qp(e,o,!1)||JP(o)||c3(e,o,!1);return q(r,n)}else if(r3(e,n)){const r=qp(e,o,!0)||c3(e,o,!0);return q(r,n)}else return F.none()},eB=e=>{const n=de.fromDom(e.getBody());e.selection.isCollapsed()&&QP(n,ut.fromRangeStart(e.selection.getRng())).each(o=>{e.selection.setRng(o.toRange())})},i3=(e,n,o)=>{if(o===0)return;const r=de.fromDom(e),c=Ur(r,Li).getOr(r),u=e.data.slice(n,n+o),m=n+o>=e.data.length&&Pk(c,ut(e,e.data.length)),b=n===0&&Nk(c,ut(e,0));e.replaceData(n,o,Ey(u,4,b,m))},Bk=(e,n)=>{const o=e.data.slice(n),r=o.length-Ha(o).length;i3(e,n,r)},CC=(e,n)=>{const o=e.data.slice(0,n),r=o.length-ic(o).length;i3(e,n-r,r)},SC=(e,n,o,r=!0)=>{const c=ic(e.data).length,u=r?e:n,m=r?n:e;return r?u.appendData(m.data):u.insertData(0,m.data),Ms(de.fromDom(m)),o&&Bk(u,c),u},ll=(e,n)=>{const o=e.container(),r=e.offset();return!ut.isTextPosition(e)&&o===n.parentNode&&r>ut.before(n).offset()},tB=(e,n)=>ll(n,e)?ut(n.container(),n.offset()-1):n,nB=e=>It(e)?ut(e,0):ut.before(e),oB=e=>It(e)?ut(e,e.data.length):ut.after(e),RD=e=>gc(e.previousSibling)?F.some(oB(e.previousSibling)):e.previousSibling?Ol(e.previousSibling):F.none(),MD=e=>gc(e.nextSibling)?F.some(nB(e.nextSibling)):e.nextSibling?ka(e.nextSibling):F.none(),zb=(e,n)=>F.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>ii(e,ut.before(o))).orThunk(()=>qi(e,ut.after(n))),sB=(e,n)=>qi(e,ut.after(n)).orThunk(()=>ii(e,ut.before(n))),rB=(e,n)=>RD(n).orThunk(()=>MD(n)).orThunk(()=>zb(e,n)),sa=(e,n)=>MD(n).orThunk(()=>RD(n)).orThunk(()=>sB(e,n)),xC=(e,n,o)=>e?sa(n,o):rB(n,o),Rj=(e,n,o)=>xC(e,n,o).map(et(tB,o)),Vc=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},nr=e=>n=>n.dom===e,Au=(e,n)=>n&&qn(e.schema.getBlockElements(),qs(n)),aB=e=>{if(ba(e)){const n=de.fromHtml('<br data-mce-bogus="1">');return du(e),Sa(e,n),F.some(ut.before(n.dom))}else return F.none()},ND=(e,n,o)=>{const r=vi(e).filter(ec),c=Qd(e).filter(ec);return Ms(e),Pi(r,c,n,(u,m,b)=>{const k=u.dom,S=m.dom,z=k.data.length;return SC(k,S,o),b.container()===S?ut(k,z):b}).orThunk(()=>(o&&(r.each(u=>CC(u.dom,u.dom.length)),c.each(u=>Bk(u.dom,0))),n))},l3=(e,n)=>qn(e.schema.getTextInlineElements(),qs(n)),zg=(e,n,o,r=!0)=>{const c=Rj(n,e.getBody(),o.dom),u=Ur(o,et(Au,e),nr(e.getBody())),m=ND(o,c,l3(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(aB).fold(()=>{r&&Vc(e,n,m)},b=>{r&&Vc(e,n,F.some(b))})},PD=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,BD=e=>PD.test(e),Rb=(e,n)=>Bi(de.fromDom(n),Nr(e))&&!mm(e.schema,n)&&e.dom.isEditable(n),FD=e=>{var n;return Ys.DOM.getStyle(e,"direction",!0)==="rtl"||BD((n=e.textContent)!==null&&n!==void 0?n:"")},u3=(e,n,o)=>Ye(Ys.DOM.getParents(o.container(),"*",n),e),Rg=(e,n,o)=>{const r=u3(e,n,o);return F.from(r[r.length-1])},$d=(e,n,o)=>{const r=Rd(n,e),c=Rd(o,e);return $e(r)&&r===c},cB=e=>xl(e)||hu(e),cd=(e,n)=>{const o=n.container(),r=n.offset();return e?Ss(o)?It(o.nextSibling)?ut(o.nextSibling,0):ut.after(o):xl(n)?ut(o,r+1):n:Ss(o)?It(o.previousSibling)?ut(o.previousSibling,o.previousSibling.data.length):ut.before(o):hu(n)?ut(o,r-1):n},iB=et(cd,!0),EC=et(cd,!1),$D=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},Fk=e=>{e.execCommand("delete")},d3=e=>$D(e,"Delete"),q1=e=>$D(e,"ForwardDelete"),id=e=>n=>Zs(qc(n),e,Rs),$k=e=>Hi(e)||Ea(e),ur=(e,n)=>dc(e,n)?Kc(n,$k,id(e)):F.none(),Mb=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},f3=(e,n,o)=>ca(ka(o),Ol(o),(r,c)=>{const u=cd(!0,r),m=cd(!1,c),b=cd(!1,n);return e?qi(o,b).exists(k=>k.isEqual(m)&&n.isEqual(u)):ii(o,b).exists(k=>k.isEqual(u)&&n.isEqual(m))}).getOr(!0),m3=e=>(ep(e)?vi(e):Fi(e)).bind(m3).orThunk(()=>F.some(e)),TC=(e,n,o,r=!0)=>{var c;n.deleteContents();const u=m3(o).getOr(o),m=de.fromDom((c=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&c!==void 0?c:o.dom);if(m.dom===e.getBody()?Mb(e,r):ba(m)&&(G(m),r&&e.selection.setCursorLocation(m.dom,0)),!Rs(o,m)){const b=Zs(qc(m),o)?[]:kh(m);ae(b.concat(Ua(o)),k=>{!Rs(k,m)&&!dc(k,m)&&ba(k)&&Ms(k)})}},g3=e=>n=>Rs(e,n),Ik=e=>ja(e,"td,th"),p3=(e,n)=>{const o=S=>Md(de.fromDom(S),n),r=o(e.startContainer),c=o(e.endContainer),u=r.isSome(),m=c.isSome(),b=ca(r,c,Rs).getOr(!1);return{startTable:r,endTable:c,isStartInTable:u,isEndInTable:m,isSameTable:b,isMultiTable:!b&&u&&m}},G1=(e,n)=>({start:e,end:n}),h3=(e,n,o)=>({rng:e,table:n,cells:o}),K1=Sf.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Lk=(e,n)=>ve(de.fromDom(e),"td,th",n),b3=e=>!Rs(e.start,e.end),y3=(e,n)=>Md(e.start,n).bind(o=>Md(e.end,n).bind(r=>q(Rs(o,r),o))),ID=(e,n)=>!b3(e)&&y3(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),Y1=(e,n)=>{const o=Lk(e.startContainer,n),r=Lk(e.endContainer,n);return ca(o,r,G1)},LD=e=>n=>Md(n,e).bind(o=>co(Ik(o)).map(r=>G1(n,r))),v3=e=>n=>Md(n,e).bind(o=>kn(Ik(o)).map(r=>G1(r,n))),k3=e=>n=>y3(n,e).map(o=>h3(n,o,Ik(o))),HD=(e,n,o,r)=>{if(o.collapsed||!e.forall(b3))return F.none();if(n.isSameTable){const c=e.bind(k3(r));return F.some({start:c,end:c})}else{const c=Lk(o.startContainer,r),u=Lk(o.endContainer,r),m=c.bind(LD(r)).bind(k3(r)),b=u.bind(v3(r)).bind(k3(r));return F.some({start:m,end:b})}},w3=(e,n)=>Mt(e,o=>Rs(o,n)),AC=e=>ca(w3(e.cells,e.rng.start),w3(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),VD=(e,n,o)=>e.exists(r=>ID(r,o)&&$p(r.start,n)),Hk=(e,n)=>{const{startTable:o,endTable:r}=n,c=e.cloneRange();return o.each(u=>c.setStartAfter(u.dom)),r.each(u=>c.setEndBefore(u.dom)),c},UD=(e,n,o,r)=>HD(e,n,o,r).bind(({start:c,end:u})=>c.or(u)).bind(c=>{const{isSameTable:u}=n,m=AC(c).getOr([]);if(u&&c.cells.length===m.length)return F.some(K1.fullTable(c.table));if(m.length>0){if(u)return F.some(K1.partialTable(m,F.none()));{const b=Hk(o,n);return F.some(K1.partialTable(m,F.some(pt(te({},n),{rng:b}))))}}else return F.none()}),WD=(e,n,o,r)=>HD(e,n,o,r).bind(({start:c,end:u})=>{const m=c.bind(AC).getOr([]),b=u.bind(AC).getOr([]);if(m.length>0&&b.length>0){const k=Hk(o,n);return F.some(K1.multiTable(m,b,k))}else return F.none()}),jD=(e,n)=>{const o=g3(e),r=Y1(n,o),c=p3(n,o);return VD(r,n,o)?r.map(u=>K1.singleCellTable(n,u.start)):c.isMultiTable?WD(r,c,n,o):UD(r,c,n,o)},_3=e=>ae(e,n=>{ta(n,"contenteditable"),G(n)}),ZD=(e,n)=>F.from(e.dom.getParent(n,e.dom.isBlock)).map(de.fromDom),qD=(e,n,o)=>{o.each(r=>{n?Ms(r):(G(r),e.selection.setCursorLocation(r.dom,0))})},OC=(e,n,o,r)=>{const c=o.cloneRange();r?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(n.dom.lastChild)):(c.setStartBefore(n.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),Vk(e,c,n,!1).each(u=>u())},C3=e=>{const n=zm(e),o=de.fromDom(e.selection.getNode());gu(o.dom)&&ba(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&he(n,r=>Rs(r,o))&&Gs(o,"data-mce-selected","1")},S3=(e,n,o)=>F.some(()=>{const r=e.selection.getRng(),c=o.bind(({rng:u,isStartInTable:m})=>{const b=ZD(e,m?u.endContainer:u.startContainer);u.deleteContents(),qD(e,m,b.filter(ba));const k=m?n[0]:n[n.length-1];return OC(e,k,r,m),ba(k)?F.none():F.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);_3(c),C3(e)}),GD=(e,n,o,r)=>F.some(()=>{const c=e.selection.getRng(),u=n[0],m=o[o.length-1];OC(e,u,c,!0),OC(e,m,c,!1);const b=ba(u)?n:n.slice(1),k=ba(m)?o:o.slice(0,-1);_3(b.concat(k)),r.deleteContents(),C3(e)}),Vk=(e,n,o,r=!0)=>F.some(()=>{TC(e,n,o,r)}),KD=(e,n)=>F.some(()=>zg(e,!1,n)),YD=(e,n,o)=>jD(n,o).bind(r=>r.fold(et(Vk,e),et(KD,e),et(S3,e),et(GD,e))),XD=(e,n)=>Uk(e,n),JD=(e,n,o,r)=>X1(n,r).fold(()=>YD(e,n,o),c=>XD(e,c)),QD=(e,n,o)=>{const r=de.fromDom(e.getBody()),c=e.selection.getRng();return o.length!==0?S3(e,o,F.none()):JD(e,r,c,n)},DC=(e,n)=>Le(Dg(n,e),cm),X1=(e,n)=>Le(Dg(n,e),jc("caption")),ez=(e,n,o,r,c)=>Am(o,e.getBody(),c).bind(u=>DC(n,de.fromDom(u.getNode())).bind(m=>Rs(m,r)?F.none():F.some(De))),Uk=(e,n)=>F.some(()=>{G(n),e.selection.setCursorLocation(n.dom,0)}),zC=(e,n,o,r)=>ka(e.dom).bind(c=>Ol(e.dom).map(u=>n?o.isEqual(c)&&r.isEqual(u):o.isEqual(u)&&r.isEqual(c))).getOr(!0),x3=(e,n)=>Uk(e,n),Wk=(e,n,o)=>X1(e,de.fromDom(o.getNode())).fold(()=>F.some(De),r=>q(!Rs(r,n),De)),E3=(e,n,o,r,c)=>Am(o,e.getBody(),c).fold(()=>F.some(De),u=>zC(r,o,c,u)?x3(e,r):Wk(n,r,u)),tz=(e,n,o,r)=>{const c=ut.fromRangeStart(e.selection.getRng());return DC(o,r).bind(u=>ba(u)?Uk(e,u):ez(e,o,n,u,c))},J1=(e,n,o,r)=>{const c=ut.fromRangeStart(e.selection.getRng());return ba(r)?Uk(e,r):E3(e,o,n,r,c)},RC=(e,n)=>e?kD(n):wD(n),T3=(e,n)=>{const o=ut.fromRangeStart(e.selection.getRng());return RC(n,o)||Al(n,e.getBody(),o).exists(r=>RC(n,r))},jk=(e,n,o)=>{const r=de.fromDom(e.getBody());return X1(r,o).fold(()=>tz(e,n,r,o).orThunk(()=>q(T3(e,n),De)),c=>J1(e,n,r,c))},Mm=(e,n)=>{const o=de.fromDom(e.selection.getStart(!0)),r=zm(e);return e.selection.isCollapsed()&&r.length===0?jk(e,n,o):QD(e,o,r)},Gp=(e,n)=>{let o=n;for(;o&&o!==e;){if(nc(o)||As(o))return o;o=o.parentNode}return null},lB=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],nz=Dt.each,MC=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(u,m)=>{if(u.nodeName!==m.nodeName||u.nodeType!==m.nodeType)return!1;const b=S=>{const z={};return nz(n.getAttribs(S),M=>{const I=M.nodeName.toLowerCase();I!=="style"&&!c(I)&&(z[I]=n.getAttrib(S,I))}),z},k=(S,z)=>{for(const M in S)if(qn(S,M)){const I=z[M];if(Sn(I)||S[M]!==I)return!1;delete z[M]}for(const M in z)if(qn(z,M))return!1;return!0};return wn(u)&&wn(m)&&(!k(b(u),b(m))||!k(n.parseStyle(n.getAttrib(u,"style")),n.parseStyle(n.getAttrib(m,"style"))))?!1:!Dl(u)&&!Dl(m)},c=u=>he(lB,m=>so(u,m))||o.has(u);return{compare:r,isAttributeInternal:c}},uB=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},dB=(e,n,o,r)=>{const c=o.name;for(let u=0,m=e.length;u<m;u++){const b=e[u];if(b.name===c){const k=r.nodes[c];k?k.nodes.push(o):r.nodes[c]={filter:b,nodes:[o]}}}if(o.attributes)for(let u=0,m=n.length;u<m;u++){const b=n[u],k=b.name;if(k in o.attributes.map){const S=r.attributes[k];S?S.nodes.push(o):r.attributes[k]={filter:b,nodes:[o]}}}},fB=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&uB(o,c=>{dB(e,n,c,r)}),r},NC=(e,n)=>{const o=(r,c)=>{xt(r,u=>{const m=Zo(u.nodes);ae(u.filter.callbacks,b=>{for(let k=m.length-1;k>=0;k--){const S=m[k];(!(c?S.attr(u.filter.name)!==void 0:S.name===u.filter.name)||Jt(S.parent))&&m.splice(k,1)}m.length>0&&b(m,u.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},Id=(e,n,o,r={})=>{const c=fB(e,n,o);NC(c,r)},Zk=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const u=new Ml("br",1);n.insert&&u.attr("data-mce-bogus","1"),r.empty().append(u)}else r.empty().append(new Ml("#text",3)).value=pr},PC=e=>{var n;return BC(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===pr},BC=(e,n)=>{const o=e==null?void 0:e.firstChild;return $e(o)&&o===e.lastChild&&o.name===n},mB=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},Q1=(e,n,o,r)=>r.isEmpty(n,o,c=>mB(e,c)),gB=(e,n)=>$e(e)&&(n(e)||e.name==="br"),oz=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return F.from(n)},qk=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)o&&!n.isValidChild(o.name,c.name)&&qk(c,n,o);e.unwrap()}},A3=(e,n,o,r=De)=>{const c=n.getTextBlockElements(),u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),b=Dt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),k=new Set,S=z=>z!==o&&!b[z.name];for(let z=0;z<e.length;z++){const M=e[z];let I,Q,se;if(!M.parent||k.has(M))continue;if(c[M.name]&&M.parent.name==="li"){let oe=M.next;for(;oe&&c[oe.name];){oe.name="li",k.add(oe),M.parent.insert(oe,M.parent);oe=oe.next}M.unwrap();continue}const K=[M];for(I=M.parent;I&&!n.isValidChild(I.name,M.name)&&S(I);I=I.parent)K.push(I);if(I&&K.length>1)if(n.isValidChild(I.name,M.name)){K.reverse(),Q=K[0].clone(),r(Q);let oe=Q;for(let Te=0;Te<K.length-1;Te++){n.isValidChild(oe.name,K[Te].name)&&Te>0?(se=K[Te].clone(),r(se),oe.append(se)):se=oe;for(let ze=K[Te].firstChild;ze&&ze!==K[Te+1];){const Me=ze.next;se.append(ze),ze=Me}oe=se}Q1(n,u,m,Q)?I.insert(M,K[0],!0):(I.insert(Q,K[0],!0),I.insert(M,Q)),I=K[0],(Q1(n,u,m,I)||BC(I,"br"))&&I.empty().remove()}else qk(M,n);else if(M.parent){if(M.name==="li"){let oe=M.prev;if(oe&&(oe.name==="ul"||oe.name==="ol")){oe.append(M);continue}if(oe=M.next,oe&&(oe.name==="ul"||oe.name==="ol")&&oe.firstChild){oe.insert(M,oe.firstChild,!0);continue}const Te=new Ml("ul",1);r(Te),M.wrap(Te);continue}if(n.isValidChild(M.parent.name,"div")&&n.isValidChild("div",M.name)){const oe=new Ml("div",1);r(oe),M.wrap(oe)}else qk(M,n)}}},sz=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},rz=(e,n,o=n.parent)=>o&&e.children[n.name]&&!e.isValidChild(o.name,n.name)?!0:!!(o&&n.name==="a"&&sz(o,"a")),Gk=(e,n,o,r)=>{const c=document.createRange();return c.setStart(e,n),c.setEnd(o,r),c},az=e=>{const n=ut.fromRangeStart(e),o=ut.fromRangeEnd(e),r=e.commonAncestorContainer;return Al(!1,r,o).map(c=>!wu(n,o,r)&&wu(n,c,r)?Gk(n.container(),n.offset(),c.container(),c.offset()):e).getOr(e)},O3=e=>e.collapsed?e:az(e),cz=e=>$e(e.firstChild)&&e.firstChild===e.lastChild,pB=e=>e.name==="br"||e.value===pr,hB=(e,n)=>e.getBlockElements()[n.name]&&cz(n)&&pB(n.firstChild),bB=(e,n)=>{const o=e.getNonEmptyElements();return $e(n)&&(n.isEmpty(o)||hB(e,n))},yB=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),bB(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},vB=e=>{var n,o;const r=e.firstChild,c=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),c&&c.id==="mce_marker"&&((o=c.parentNode)===null||o===void 0||o.removeChild(c)),e},iz=(e,n,o)=>{const r=n.serialize(o),c=e.createFragment(r);return vB(c)},kB=e=>{var n;return Ye((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},D3=e=>e.data===pr||na(e),Nb=e=>$e(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&D3(e.firstChild),wB=e=>!e.firstChild||Nb(e),_B=e=>e.length>0&&wB(e[e.length-1])?e.slice(0,-1):e,ev=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},lz=(e,n)=>!!ev(e,n),uz=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},CB=(e,n)=>{const o=ut.before(e),c=Af(n).next(o);return c?c.toRange():null},z3=(e,n)=>{const o=ut.after(e),c=Af(n).prev(o);return c?c.toRange():null},SB=(e,n,o,r)=>{const c=uz(e,r),u=e.parentNode;return u&&(u.insertBefore(c[0],e),Dt.each(n,m=>{u.insertBefore(m,e)}),u.insertBefore(c[1],e),u.removeChild(e)),z3(n[n.length-1],o)},Pb=(e,n,o)=>{const r=e.parentNode;return r&&Dt.each(n,c=>{r.insertBefore(c,e)}),CB(e,o)},dz=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),z3(n[0],o)),fz=(e,n,o,r)=>{const c=iz(n,e,r),u=ev(n,o.startContainer),m=_B(kB(c.firstChild)),b=1,k=2,S=n.getRoot(),z=M=>{const I=ut.fromRangeStart(o),Q=Af(n.getRoot()),se=M===b?Q.prev(I):Q.next(I),K=se==null?void 0:se.getNode();return K?ev(n,K)!==u:!0};return u?z(b)?Pb(u,m,S):z(k)?dz(u,m,S,n):SB(u,m,S,o):null},mz=["pre"],FC=(e,n,o,r)=>{var c;const u=n.firstChild,m=n.lastChild,b=m.attr("data-mce-type")==="bookmark"?m.prev:m,k=u===b,S=ee(mz,u.name);if(k&&S){const z=u.attr("contenteditable")!=="false",M=((c=e.getParent(o,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===u.name,I=F.from(Gp(r,o)).forall(nc);return z&&M&&I}else return!1},$C=gu,xB=(e,n,o)=>{if($e(o)){const r=e.getParent(n.endContainer,$C);return o===r&&$p(de.fromDom(o),n)}else return!1},gz=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const c=o.firstChild,u=o.lastChild;!c||c===u&&c.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},EB=(e,n)=>{F.from(e.getParent(n,"td,th")).map(de.fromDom).each(_e)},TB=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const c=e.getBody(),u=MC(e);Dt.each(r.select("*[data-mce-fragment]"),m=>{if($e(o[m.nodeName.toLowerCase()])&&pD(r,m)){for(let k=m.parentElement;$e(k)&&k!==c&&!Dj(r,m,k);k=k.parentElement)if(u.compare(k,m)){r.remove(m,!0);break}}})}},IC=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},pz=e=>{Dt.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},R3=e=>!!e.getAttribute("data-mce-fragment"),AB=(e,n)=>$e(n)&&!e.schema.getVoidElements()[n.nodeName],OB=(e,n)=>{var o,r,c;let u;const m=e.dom,b=e.selection;if(!n)return;b.scrollIntoView(n);const k=Gp(e.getBody(),n);if(k&&m.getContentEditable(k)==="false"){m.remove(n),b.select(k);return}let S=m.createRng();const z=n.previousSibling;if(It(z)){S.setStart(z,(r=(o=z.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const Q=n.nextSibling;It(Q)&&(z.appendData(Q.data),(c=Q.parentNode)===null||c===void 0||c.removeChild(Q))}else S.setStartBefore(n),S.setEndBefore(n);const M=Q=>{let se=ut.fromRangeStart(Q);return se=Af(e.getBody()).next(se),se==null?void 0:se.toRange()},I=m.getParent(n,m.isBlock);if(m.remove(n),I&&m.isEmpty(I)){const Q=$C(I);du(de.fromDom(I)),S.setStart(I,0),S.setEnd(I,0),!Q&&!R3(I)&&(u=M(S))?(S=u,m.remove(I)):m.add(I,m.create("br",Q?{}:{"data-mce-bogus":"1"}))}b.setRng(S)},hz=e=>{const n=e.dom,o=O3(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,$C);xB(n,o,r)?Vk(e,o,de.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&It(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},M3=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return F.some(n);return F.none()},bz=(e,n,o)=>{var r,c;const u=e.selection,m=e.dom,b=e.parser,k=o.merge,S=Db({validate:!0},e.schema),z='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,z);let M=u.getRng();const I=M.startContainer,Q=e.getBody();I===Q&&u.isCollapsed()&&m.isBlock(Q.firstChild)&&AB(e,Q.firstChild)&&m.isEmpty(Q.firstChild)&&(M=m.createRng(),M.setStart(Q.firstChild,0),M.setEnd(Q.firstChild,0),u.setRng(M)),u.isCollapsed()||hz(e);const se=u.getNode(),K={context:se.nodeName.toLowerCase(),data:o.data,insert:!0},oe=b.parse(n,K);if(o.paste===!0&&yB(e.schema,oe)&&lz(m,se))return M=fz(S,m,u.getRng(),oe),M&&u.setRng(M),n;o.paste===!0&&FC(m,oe,se,e.getBody())&&((r=oe.firstChild)===null||r===void 0||r.unwrap()),IC(oe);let Te=oe.lastChild;if(Te&&Te.attr("id")==="mce_marker"){const ze=Te;for(Te=Te.prev;Te;Te=Te.walk(!0))if(Te.type===3||!m.isBlock(Te.name)){Te.parent&&e.schema.isValidChild(Te.parent.name,"span")&&Te.parent.insert(ze,Te,Te.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(se),!K.invalid)n=S.serialize(oe),gz(e,n,se);else{e.selection.setContent(z);let ze=u.getNode(),Me;const Ue=e.getBody();for(Cl(ze)?ze=Me=Ue:Me=ze;Me&&Me!==Ue;)ze=Me,Me=Me.parentNode;n=ze===Ue?Ue.innerHTML:m.getOuterHTML(ze);const At=b.parse(n),sn=M3(At),Kt=sn.bind(oz).getOr(At);sn.each(Vn=>Vn.replace(oe));const Je=oe.children(),nt=(c=oe.parent)!==null&&c!==void 0?c:At;oe.unwrap();const Bt=Ye(Je,Vn=>rz(e.schema,Vn,nt));A3(Bt,e.schema,Kt),Id(b.getNodeFilters(),b.getAttributeFilters(),At),n=S.serialize(At),ze===Ue?m.setHTML(Ue,n):m.setOuterHTML(ze,n)}return TB(e,k),OB(e,m.get("mce_marker")),pz(e.getBody()),EB(m,u.getStart()),Zv(e.schema,e.getBody(),u.getStart()),n},LC=e=>e instanceof Ml,DB=e=>{Ob(e)&&ka(e.getBody()).each(n=>{const o=n.getNode(),r=Qi(o)?ka(o).getOr(n):n;e.selection.setRng(r.toRange())})},N3=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&DB(e)},HC=(e,n,o,r)=>{if(o.length===0||/^\s+$/.test(o)){const c='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+c+"</li>");const u=ci(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),u.toLowerCase())?(o=c,o=e.dom.createHTML(u,Cp(e),o)):o||(o=c),N3(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=Db({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const c=_i(de.fromDom(n))?o:Dt.trim(o);return N3(e,c,r.no_selection),{content:c,html:c}}},Mg=(e,n,o,r)=>{Id(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const c=Db({validate:!1},e.schema).serialize(o),u=_i(de.fromDom(n))?c:Dt.trim(c);return N3(e,u,r.no_selection),{content:o,html:u}},zB=(e,n,o)=>F.from(e.getBody()).map(r=>LC(n)?Mg(e,r,n,o):HC(e,r,n,o)).getOr({content:n,html:LC(o.content)?"":o.content}),P3=(e,n,o)=>Ur(e,n,o).isSome(),$a=(e,n)=>Km(e,n).isSome(),VC=e=>ce(e)?e:Re,B3=(e,n,o)=>{let r=e.dom;const c=VC(o);for(;r.parentNode;){r=r.parentNode;const u=de.fromDom(r),m=n(u);if(m.isSome())return m;if(c(u))break}return F.none()},Pf=(e,n,o)=>{const r=n(e),c=VC(o);return r.orThunk(()=>c(e)?F.none():B3(e,n,c))},UC=T1,F3=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let c=0;c<r.length;c++){const u=r[c];if(cl(u)&&u.inherit===!1&&e.dom.is(n,u.selector))return!0}return!1},Bb=(e,n,o,r,c)=>{const u=e.dom.getRoot();if(n===u)return!1;const m=e.dom.getParent(n,b=>F3(e,b,o)?!0:b.parentNode===u||!!Jl(e,b,o,r,!0));return!!Jl(e,m,o,r,c)},WC=(e,n,o)=>Ba(o)&&UC(n,o.inline)||xu(o)&&UC(n,o.block)?!0:cl(o)?wn(n)&&e.is(n,o.selector):!1,yz=(e,n,o,r,c,u)=>{const m=o[r],b=r==="attributes";if(ce(o.onmatch))return o.onmatch(n,o,r);if(m){if(Yt(m)){for(let k=0;k<m.length;k++)if(b?e.getAttrib(n,m[k]):hb(e,n,m[k]))return!0}else for(const k in m)if(qn(m,k)){const S=b?e.getAttrib(n,k):hb(e,n,k),z=Kl(m[k],u),M=Jt(S)||ms(S);if(M&&Jt(z))continue;if(c&&M&&!o.exact||(!c||o.exact)&&!UC(S,pb(z,k)))return!1}}return!0},Jl=(e,n,o,r,c)=>{const u=e.formatter.get(o),m=e.dom;if(u&&wn(n))for(let b=0;b<u.length;b++){const k=u[b];if(WC(e.dom,n,k)&&yz(m,n,k,"attributes",c,r)&&yz(m,n,k,"styles",c,r)){const S=k.classes;if(S){for(let z=0;z<S.length;z++)if(!e.dom.hasClass(n,Kl(S[z],r)))return}return k}}},$3=(e,n,o,r,c)=>{if(r)return Bb(e,r,n,o,c);if(r=e.selection.getNode(),Bb(e,r,n,o,c))return!0;const u=e.selection.getStart();return!!(u!==r&&Bb(e,u,n,o,c))},Fb=(e,n,o)=>{const r=[],c={},u=e.selection.getStart();return e.dom.getParent(u,m=>{for(let b=0;b<n.length;b++){const k=n[b];!c[k]&&Jl(e,m,k,o)&&(c[k]=!0,r.push(k))}},e.dom.getRoot()),r},RB=(e,n)=>{const o=c=>Rs(c,de.fromDom(e.getBody())),r=(c,u)=>Jl(e,c.dom,u)?F.some(u):F.none();return F.from(e.selection.getStart(!0)).bind(c=>Pf(de.fromDom(c),u=>Jo(n,m=>r(u,m)),o)).getOrNull()},Kp=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const c=e.selection.getStart(),u=bb(r,c);for(let m=o.length-1;m>=0;m--){const b=o[m];if(!cl(b))return!0;for(let k=u.length-1;k>=0;k--)if(r.is(u[k],b.selector))return!0}}return!1},ld=(e,n,o)=>J(o,(r,c)=>{const u=mk(e,c);return e.formatter.matchNode(n,c,{},u)?r.concat([c]):r},[]),Ng=st,I3=(e,n)=>e.importNode(n,!0),MB=e=>{const n=[];let o=e;for(;o;){if(It(o)&&o.data!==Ng||o.childNodes.length>1)return[];wn(o)&&n.push(o),o=o.firstChild}return n},vz=e=>MB(e).length>0,Kk=e=>{if(e){const n=new vr(e,e);for(let o=n.current();o;o=n.next())if(It(o))return o}return null},L3=e=>{const n=de.fromTag("span");return Xi(n,{id:C1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Sa(n,de.fromText(Ng)),n},Ld=e=>{const n=Kk(e);return n&&n.data.charAt(0)===Ng&&n.deleteData(0,1),n},tv=(e,n,o=!0)=>{const r=e.dom,c=e.selection;if(vz(n))zg(e,!1,de.fromDom(n),o);else{const u=c.getRng(),m=r.getParent(n,r.isBlock),b=u.startContainer,k=u.startOffset,S=u.endContainer,z=u.endOffset,M=Ld(n);r.remove(n,!0),b===M&&k>0&&u.setStart(M,k-1),S===M&&z>0&&u.setEnd(M,z-1),m&&r.isEmpty(m)&&G(de.fromDom(m)),c.setRng(u)}},jC=(e,n,o=!0)=>{const r=e.dom,c=e.selection;if(n)tv(e,n,o);else if(n=Om(e.getBody(),c.getStart()),!n)for(;n=r.get(C1);)tv(e,n,o)},H3=(e,n,o)=>{var r,c;const u=e.dom,m=u.getParent(o,et(Ya,e.schema));m&&u.isEmpty(m)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(x(de.fromDom(o)),u.isEmpty(o)?(c=o.parentNode)===null||c===void 0||c.replaceChild(n,o):u.insertAfter(n,o))},ZC=(e,n)=>(e.appendChild(n),n),Yp=(e,n)=>{var o;const r=We(e,(u,m)=>ZC(u,m.cloneNode(!1)),n),c=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return ZC(r,c.createTextNode(Ng))},V3=(e,n,o,r,c,u)=>{const m=e.formatter,b=e.dom,k=Ye(xo(m.get()),M=>M!==r&&!$n(M,"removeformat")),S=ld(e,o,k);if(Ye(S,M=>!hT(e,M,r)).length>0){const M=o.cloneNode(!1);return b.add(n,M),m.remove(r,c,M,u),b.remove(M),F.some(M)}else return F.none()},NB=(e,n,o)=>{let r;const c=e.selection,u=e.formatter.get(n);if(!u)return;const m=c.getRng();let b=m.startOffset;const S=m.startContainer.nodeValue;r=Om(e.getBody(),c.getStart());const z=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(S&&b>0&&b<S.length&&z.test(S.charAt(b))&&z.test(S.charAt(b-1))){const M=c.getBookmark();m.collapse(!0);let I=_g(e.dom,m,u);I=Fd(I),e.formatter.apply(n,o,I),c.moveToBookmark(M)}else{let M=r?Kk(r):null;(!r||(M==null?void 0:M.data)!==Ng)&&(r=I3(e.getDoc(),L3(!0).dom),M=r.firstChild,m.insertNode(r),b=1),e.formatter.apply(n,o,r),c.setCursorLocation(M,b)}},kz=(e,n,o,r)=>{const c=e.dom,u=e.selection;let m=!1;const b=e.formatter.get(n);if(!b)return;const k=u.getRng(),S=k.startContainer,z=k.startOffset;let M=S;It(S)&&(z!==S.data.length&&(m=!0),M=M.parentNode);const I=[];let Q;for(;M;){if(Jl(e,M,n,o,r)){Q=M;break}M.nextSibling&&(m=!0),I.push(M),M=M.parentNode}if(Q)if(m){const se=u.getBookmark();k.collapse(!0);let K=_g(c,k,b,!0);K=Fd(K),e.formatter.remove(n,o,K,r),u.moveToBookmark(se)}else{const se=Om(e.getBody(),Q),K=L3(!1).dom;H3(e,K,se!=null?se:Q);const oe=V3(e,K,Q,n,o,r),Te=Yp(I.concat(oe.toArray()),K);se&&tv(e,se,!1),u.setCursorLocation(Te,1),c.isEmpty(Q)&&c.remove(Q)}},PB=(e,n,o)=>{const r=e.selection,c=e.getBody();jC(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===Ng&&jC(e,Om(c,r.getStart())),(n===37||n===39)&&jC(e,Om(c,r.getStart()))},BB=e=>It(e)&&es(e.data,pr),FB=e=>{e.on("mouseup keydown",n=>{PB(e,n.keyCode,BB(e.selection.getRng().endContainer))})},wz=e=>{const n=L3(!1),o=Yp(e,n.dom);return{caretContainer:n,caretPosition:ut(o,0)}},nv=(e,n)=>{const{caretContainer:o,caretPosition:r}=wz(n);return Wa(de.fromDom(e),o),Ms(de.fromDom(e)),r},$B=(e,n)=>{const{caretContainer:o,caretPosition:r}=wz(n);return e.insertNode(o.dom),r},U3=(e,n)=>{const o=e.schema.getTextInlineElements();return qn(o,qs(n))&&!Ic(n.dom)&&!mu(n.dom)},qC=e=>Ic(e.dom)&&vz(e.dom),Yk={},W3=_l(["pre"]),_z=(e,n)=>{Yk[e]||(Yk[e]=[]),Yk[e].push(n)},IB=(e,n)=>{qn(Yk,e)&&ae(Yk[e],o=>{o(n)})};_z("pre",e=>{const n=e.selection.getRng(),o=c=>u=>{const m=u.previousSibling;return W3(m)&&ee(c,m)},r=(c,u)=>{const m=de.fromDom(u),b=yi(m).dom;Ms(m),rr(de.fromDom(c),[de.fromTag("br",b),de.fromTag("br",b),...Ua(m)])};if(!n.collapsed){const c=e.selection.getSelectedBlocks(),u=Ye(Ye(c,W3),o(c));ae(u,m=>{r(m.previousSibling,m)})}});const Cz=["fontWeight","fontStyle","color","fontSize","fontFamily"],LB=e=>ft(e.styles)&&he(xo(e.styles),n=>ee(Cz,n)),HB=e=>Le(e,n=>Ba(n)&&n.inline==="span"&&LB(n)),Sz=(e,n)=>{const o=e.get(n);return ht(o)?HB(o):F.none()},xz=(e,n)=>ii(n,ut.fromRangeStart(e)).isNone(),Ez=(e,n)=>qi(n,ut.fromRangeEnd(e)).exists(o=>!na(o.getNode())||qi(n,o).isSome())===!1,Tz=e=>n=>mc(n)&&e.isEditable(n),VB=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return xz(o,n[0])&&Ez(o,n[0])?n:[];{const r=kn(n).filter(m=>xz(o,m)).toArray(),c=co(n).filter(m=>Ez(o,m)).toArray(),u=n.slice(1,-1);return r.concat(u).concat(c)}},UB=e=>Ye(VB(e),Tz(e.dom)),Az=e=>Ye(e.getSelectedBlocks(),Tz(e.dom)),j3=Dt.each,Z3=e=>wn(e)&&!Dl(e)&&!Ic(e)&&!mu(e),q3=(e,n)=>{for(let o=e;o;o=o[n]){if(It(o)&&wo(o.data))return e;if(wn(o)&&!Dl(o))return o}return e},Oz=(e,n,o)=>{const r=MC(e),c=wn(n)&&_u(n),u=wn(o)&&_u(o);if(c&&u){const m=q3(n,"previousSibling"),b=q3(o,"nextSibling");if(r.compare(m,b)){for(let k=m.nextSibling;k&&k!==b;){const S=k;k=k.nextSibling,m.appendChild(S)}return e.dom.remove(b),Dt.each(Dt.grep(b.childNodes),k=>{m.appendChild(k)}),m}}return o},$b=(e,n,o,r)=>{var c;if(r&&n.merge_siblings!==!1){const u=(c=Oz(e,hn(r),r))!==null&&c!==void 0?c:r;Oz(e,u,hn(u,!0))}},WB=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";j3(e.select(r,o),c=>{Z3(c)&&_u(c)&&j3(n.styles,(u,m)=>{e.setStyle(c,m,"")})})}},G3=(e,n,o)=>{j3(e.childNodes,r=>{Z3(r)&&(n(r)&&o(r),r.hasChildNodes()&&G3(r,n,o))})},jB=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},Dz=(e,n)=>o=>!!(o&&hb(e,o,n)),K3=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),jB(e,r)},Ib=Sf.generate([{keep:[]},{rename:["name"]},{removed:[]}]),ZB=/^(src|href|style)$/,Y3=Dt.each,GC=T1,qB=e=>/^(TR|TH|TD)$/.test(e.nodeName),zz=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),Rz=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],c=n[o?"startOffset":"endOffset"];if(wn(r)){const u=r.childNodes.length-1;!o&&c&&c--,r=r.childNodes[c>u?u:c]}return It(r)&&o&&c>=r.data.length&&(r=new vr(r,e.getBody()).next()||r),It(r)&&!o&&c===0&&(r=new vr(r,e.getBody()).prev()||r),r},Mz=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return qB(e)&&r?e.nodeName==="TR"&&r[o]||r:e},X3=(e,n,o,r)=>{var c;const u=e.create(o,r);return(c=n.parentNode)===null||c===void 0||c.insertBefore(u,n),u.appendChild(n),u},Nz=(e,n,o,r,c)=>{const u=de.fromDom(n),m=de.fromDom(e.create(r,c)),b=o?Nc(u):Qf(u);return rr(m,b),o?(Wa(u,m),om(m,u)):(Il(u,m),Sa(m,u)),m.dom},J3=(e,n)=>n.links&&e.nodeName==="A",Q3=(e,n,o)=>{const r=n.parentNode;let c;const u=e.dom,m=ci(e);xu(o)&&r===u.getRoot()&&(!o.list_block||!GC(n,o.list_block))&&ae(Zo(n.childNodes),b=>{Cu(e,m,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=X3(u,b,m),u.setAttribs(c,Cp(e))):c=null}),!(gk(o)&&!GC(o.inline,n))&&u.remove(n,!0)},GB=(e,n,o)=>Ro(e)?{name:n,value:null}:{name:e,value:Kl(n,o)},ov=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},e4=(e,n,o,r,c)=>{let u=!1;Y3(o.styles,(m,b)=>{const{name:k,value:S}=GB(b,m,r),z=pb(S,k);(o.remove_similar||H(S)||!wn(c)||GC(hb(e,c,k),z))&&e.setStyle(n,k,""),u=!0}),u&&ov(e,n)},Xk=(e,n,o)=>{n==="removeformat"?ae(Az(e.selection),r=>{ae(Cz,c=>e.dom.setStyle(r,c,"")),ov(e.dom,r)}):Sz(e.formatter,n).each(r=>{ae(Az(e.selection),c=>e4(e.dom,c,r,o,null))})},sv=(e,n,o,r,c)=>{const u=e.dom,m=MC(e),b=e.schema;if(Ba(n)&&Dy(b,n.inline)&&mm(b,r)&&r.parentElement===e.getBody())return Q3(e,r,n),Ib.removed();if(!n.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!WC(u,r,n)&&!J3(r,n))return Ib.keep();const k=r,S=n.preserve_attributes;if(Ba(n)&&n.remove==="all"&&ht(S)){const z=Ye(u.getAttribs(k),M=>ee(S,M.name.toLowerCase()));if(u.removeAllAttribs(k),ae(z,M=>u.setAttrib(k,M.name,M.value)),z.length>0)return Ib.rename("span")}if(n.remove!=="all"){e4(u,k,n,o,c),Y3(n.attributes,(M,I)=>{const{name:Q,value:se}=GB(I,M,o);if(n.remove_similar||H(se)||!wn(c)||GC(u.getAttrib(c,Q),se)){if(Q==="class"){const K=u.getAttrib(k,Q);if(K){let oe="";if(ae(K.split(/\s+/),Te=>{/mce\-\w+/.test(Te)&&(oe+=(oe?" ":"")+Te)}),oe){u.setAttrib(k,Q,oe);return}}}if(ZB.test(Q)&&k.removeAttribute("data-mce-"+Q),Q==="style"&&_l(["li"])(k)&&u.getStyle(k,"list-style-type")==="none"){k.removeAttribute(Q),u.setStyle(k,"list-style-type","none");return}Q==="class"&&k.removeAttribute("className"),k.removeAttribute(Q)}}),Y3(n.classes,M=>{M=Kl(M,o),(!wn(c)||u.hasClass(c,M))&&u.removeClass(k,M)});const z=u.getAttribs(k);for(let M=0;M<z.length;M++){const I=z[M].nodeName;if(!m.isAttributeInternal(I))return Ib.keep()}}return n.remove!=="none"?(Q3(e,k,n),Ib.removed()):Ib.keep()},Pz=(e,n,o,r,c)=>{let u;return n.parentNode&&ae(bb(e.dom,n.parentNode).reverse(),m=>{if(!u&&wn(m)&&m.id!=="_start"&&m.id!=="_end"){const b=Jl(e,m,o,r,c);b&&b.split!==!1&&(u=m)}}),u},Mj=(e,n,o,r)=>sv(e,n,o,r,r).fold(rt(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),rt(null)),KB=(e,n,o,r,c,u,m,b)=>{var k,S;let z,M;const I=e.dom;if(o){const Q=o.parentNode;for(let se=r.parentNode;se&&se!==Q;se=se.parentNode){let K=I.clone(se,!1);for(let oe=0;oe<n.length&&(K=Mj(e,n[oe],b,K),K!==null);oe++);K&&(z&&K.appendChild(z),M||(M=K),z=K)}u&&(!m.mixed||!I.isBlock(o))&&(r=(k=I.split(o,r))!==null&&k!==void 0?k:r),z&&M&&((S=c.parentNode)===null||S===void 0||S.insertBefore(z,c),M.appendChild(c),Ba(m)&&$b(e,m,b,z))}return r},Nj=(e,n,o,r,c)=>{const u=e.formatter.get(n),m=u[0],b=e.dom,k=e.selection,S=K=>{const oe=Pz(e,K,n,o,c);return KB(e,u,oe,K,K,!0,m,o)},z=K=>Dl(K)&&wn(K)&&(K.id==="_start"||K.id==="_end"),M=K=>he(u,oe=>Jk(e,oe,o,K,K)),I=K=>{const oe=Zo(K.childNodes),ze=M(K)||he(u,At=>WC(b,K,At)),Me=K.parentNode;if(!ze&&$e(Me)&&vb(m)&&M(Me),m.deep&&oe.length)for(let At=0;At<oe.length;At++)I(oe[At]);ae(["underline","line-through","overline"],At=>{wn(K)&&e.dom.getStyle(K,"text-decoration")===At&&K.parentNode&&fk(b,K.parentNode)===At&&Jk(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:At}},void 0,K)})},Q=K=>{const oe=b.get(K?"_start":"_end");if(oe){let Te=oe[K?"firstChild":"lastChild"];return z(Te)&&(Te=Te[K?"firstChild":"lastChild"]),It(Te)&&Te.data.length===0&&(Te=K?oe.previousSibling||oe.nextSibling:oe.nextSibling||oe.previousSibling),b.remove(oe,!0),Te}else return null},se=K=>{let oe,Te,ze=_g(b,K,u,K.collapsed);if(m.split){if(ze=Fd(ze),oe=Rz(e,ze,!0),Te=Rz(e,ze),oe!==Te){if(oe=Mz(oe,!0),Te=Mz(Te,!1),zz(b,oe,Te)){const Ue=F.from(oe.firstChild).getOr(oe);S(Nz(b,Ue,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Q(!0);return}if(zz(b,Te,oe)){const Ue=F.from(Te.lastChild).getOr(Te);S(Nz(b,Ue,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Q(!1);return}oe=X3(b,oe,"span",{id:"_start","data-mce-type":"bookmark"}),Te=X3(b,Te,"span",{id:"_end","data-mce-type":"bookmark"});const Me=b.createRng();Me.setStartAfter(oe),Me.setEndBefore(Te),Df(b,Me,Ue=>{ae(Ue,At=>{!Dl(At)&&!Dl(At.parentNode)&&S(At)})}),S(oe),S(Te),oe=Q(!0),Te=Q()}else oe=Te=S(oe);ze.startContainer=oe.parentNode?oe.parentNode:oe,ze.startOffset=b.nodeIndex(oe),ze.endContainer=Te.parentNode?Te.parentNode:Te,ze.endOffset=b.nodeIndex(Te)+1}Df(b,ze,Me=>{ae(Me,I)})};if(r){if(mb(r)){const K=b.createRng();K.setStartBefore(r),K.setEndAfter(r),se(K)}else se(r);Xl(e,n,r,o);return}!k.isCollapsed()||!Ba(m)||zm(e).length?(U2(e,()=>uk(e,se),K=>Ba(m)&&$3(e,n,o,K)),e.nodeChanged()):kz(e,n,o,c),Xk(e,n,o),Xl(e,n,r,o)},Bz=(e,n,o,r,c)=>{(r||e.selection.isEditable())&&Nj(e,n,o,r,c)},Jk=(e,n,o,r,c)=>sv(e,n,o,r,c).fold(Re,u=>(e.dom.rename(r,u),!0),it),YB=Dt.each,XB=(e,n,o,r)=>{const c=u=>{if(wn(u)&&wn(u.parentNode)&&_u(u)){const m=fk(e,u.parentNode);e.getStyle(u,"color")&&m?e.setStyle(u,"text-decoration",m):e.getStyle(u,"text-decoration")===m&&e.setStyle(u,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Dt.walk(r,c,"childNodes"),c(r))},Fz=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const c=Dz(e,"fontSize");G3(r,u=>c(u)&&_u(u),K3(e,"backgroundColor",Kl(n.styles.backgroundColor,o)))}},JB=(e,n,o,r)=>{if(Ba(n)&&(n.inline==="sub"||n.inline==="sup")){const c=Dz(e,"fontSize");G3(r,m=>c(m)&&_u(m),K3(e,"fontSize",""));const u=Ye(e.select(n.inline==="sup"?"sub":"sup",r),_u);e.remove(u,!0)}},$z=(e,n,o,r)=>{YB(n,c=>{Ba(c)&&YB(e.dom.select(c.inline,r),u=>{Z3(u)&&Jk(e,c,o,u,c.exact?u:null)}),WB(e.dom,c,r)})},QB=(e,n,o,r,c)=>{const u=c.parentNode;Jl(e,u,o,r)&&Jk(e,n,r,c)||n.merge_with_parents&&u&&e.dom.getParent(u,m=>Jl(e,m,o,r)?(Jk(e,n,r,c),!0):!1)},Lb=Dt.each,Iz=(e,n,o,r)=>{if(NE(e)&&Ba(n)&&o.parentNode){const c=Hl(e.schema),u=$a(de.fromDom(o),m=>Ic(m.dom));return cr(c,r)&&ba(de.fromDom(o.parentNode),!1)&&!u}else return!1},rc=(e,n,o,r)=>{if(Lb(o.styles,(c,u)=>{e.setStyle(n,u,Kl(c,r))}),o.styles){const c=e.getAttrib(n,"style");c&&e.setAttrib(n,"data-mce-style",c)}},Pj=(e,n,o,r)=>{const c=e.formatter.get(n),u=c[0],m=!r&&e.selection.isCollapsed(),b=e.dom,k=e.selection,S=(se,K=u)=>{ce(K.onformat)&&K.onformat(se,K,o,r),rc(b,se,K,o),Lb(K.attributes,(oe,Te)=>{b.setAttrib(se,Te,Kl(oe,o))}),Lb(K.classes,oe=>{const Te=Kl(oe,o);b.hasClass(se,Te)||b.addClass(se,Te)})},z=(se,K)=>{let oe=!1;return Lb(se,Te=>cl(Te)?b.getContentEditable(K)==="false"&&!Te.ceFalseOverride||$e(Te.collapsed)&&Te.collapsed!==m?!0:b.is(K,Te.selector)&&!Ic(K)?(S(K,Te),oe=!0,!1):!0:!1),oe},M=se=>{if(W(se)){const K=b.create(se);return S(K),K}else return null},I=(se,K,oe)=>{const Te=[];let ze=!0;const Me=u.inline||u.block,Ue=M(Me),At=Je=>O1(u)&&Jl(e,Je,n,o),sn=(Je,nt,Bt)=>{const Vn=yb(u)&&Ya(e.schema,Je)&&Cu(e,nt,Me);return Bt&&Vn},Kt=(Je,nt,Bt,Vn)=>{const ro=Je.nodeName.toLowerCase(),jo=Cu(e,Me,ro)&&Cu(e,nt,Me),ls=!oe&&It(Je)&&Ht(Je.data),Is=Ic(Je),ar=!Ba(u)||!se.isBlock(Je);return(Bt||Vn)&&jo&&!ls&&!Is&&ar};Df(se,K,Je=>{let nt;const Bt=Vn=>{let ro=!1,jo=ze,ls=!1;const Is=Vn.parentNode,ar=Is.nodeName.toLowerCase(),_a=se.getContentEditable(Vn);$e(_a)&&(jo=ze,ze=_a==="true",ro=!0,ls=gb(e,Vn));const La=ze&&!ro;if(na(Vn)&&!Iz(e,u,Vn,ar)){nt=null,xu(u)&&se.remove(Vn);return}if(At(Vn)){nt=null;return}if(sn(Vn,ar,La)){const vc=se.rename(Vn,Me);S(vc),Te.push(vc),nt=null;return}if(cl(u)){let vc=z(c,Vn);if(!vc&&$e(Is)&&vb(u)&&(vc=z(c,Is)),!Ba(u)||vc){nt=null;return}}$e(Ue)&&Kt(Vn,ar,La,ls)?(nt||(nt=se.clone(Ue,!1),Is.insertBefore(nt,Vn),Te.push(nt)),ls&&ro&&(ze=jo),nt.appendChild(Vn)):(nt=null,ae(Zo(Vn.childNodes),Bt),ro&&(ze=jo),nt=null)};ae(Je,Bt)}),u.links===!0&&ae(Te,Je=>{const nt=Bt=>{Bt.nodeName==="A"&&S(Bt,u),ae(Zo(Bt.childNodes),nt)};nt(Je)}),ae(Te,Je=>{const nt=ro=>{let jo=0;return ae(ro.childNodes,ls=>{!Su(ls)&&!Dl(ls)&&jo++}),jo},Bt=ro=>Le(ro.childNodes,dk).filter(ls=>se.getContentEditable(ls)!=="false"&&WC(se,ls,u)).map(ls=>{const Is=se.clone(ls,!1);return S(Is),se.replace(Is,ro,!0),se.remove(ls,!0),Is}).getOr(ro),Vn=nt(Je);if((Te.length>1||!se.isBlock(Je))&&Vn===0){se.remove(Je,!0);return}(Ba(u)||xu(u)&&u.wrapper)&&(!u.exact&&Vn===1&&(Je=Bt(Je)),$z(e,c,o,Je),QB(e,u,n,o,Je),Fz(se,u,o,Je),XB(se,u,o,Je),JB(se,u,o,Je),$b(e,u,o,Je))})},Q=mb(r)?r:k.getNode();if(b.getContentEditable(Q)==="false"&&!gb(e,Q)){r=Q,z(c,r),Q2(e,n,r,o);return}if(u){if(r)if(mb(r)){if(!z(c,r)){const se=b.createRng();se.setStartBefore(r),se.setEndAfter(r),I(b,_g(b,se,c),!0)}}else I(b,r,!0);else!m||!Ba(u)||zm(e).length?(k.setRng(O3(k.getRng())),U2(e,()=>{uk(e,(se,K)=>{const oe=K?se:_g(b,se,c);I(b,oe,!1)})},it),e.nodeChanged()):NB(e,n,o),Sz(e.formatter,n).each(se=>{ae(UB(e.selection),K=>rc(b,K,se,o))});IB(n,e)}Q2(e,n,r,o)},eF=(e,n,o,r)=>{(r||e.selection.isEditable())&&Pj(e,n,o,r)},tF=e=>qn(e,"vars"),Bj=(e,n)=>{e.set({}),n.on("NodeChange",o=>{Bg(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=F.from(o.node).map(c=>mb(c)?c:c.startContainer).bind(c=>wn(c)?F.some(c):F.from(c.parentElement)).getOrThunk(()=>ud(n));Bg(n,r,e.get())})},ud=e=>e.selection.getStart(),Qk=(e,n,o,r,c)=>xe(n,b=>{const k=e.formatter.matchNode(b,o,c!=null?c:{},r);return!Sn(k)},b=>F3(e,b,o)?!0:r?!1:$e(e.formatter.matchNode(b,o,c,!0))),Pg=(e,n)=>{const o=n!=null?n:ud(e);return Ye(bb(e.dom,o),r=>wn(r)&&!mu(r))},Bg=(e,n,o)=>{const r=Pg(e,n);xt(o,(c,u)=>{const m=b=>{const k=Qk(e,r,u,b.similar,tF(b)?b.vars:void 0),S=k.isSome();if(b.state.get()!==S){b.state.set(S);const z=k.getOr(n);tF(b)?b.callback(S,{node:z,format:u,parents:r}):ae(b.callbacks,M=>M(S,{node:z,format:u,parents:r}))}};ae([c.withSimilar,c.withoutSimilar],m),ae(c.withVars,m)})},nF=(e,n,o,r,c,u)=>{const m=n.get();ae(o.split(","),b=>{const k=fs(m,b).getOrThunk(()=>{const z={withSimilar:{state:Pa(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Pa(!1),similar:!1,callbacks:[]},withVars:[]};return m[b]=z,z}),S=()=>{const z=Pg(e);return Qk(e,z,b,c,u).isSome()};if(Sn(u)){const z=c?k.withSimilar:k.withoutSimilar;z.callbacks.push(r),z.callbacks.length===1&&z.state.set(S())}else k.withVars.push({state:Pa(S()),similar:c,vars:u,callback:r})}),n.set(m)},oF=(e,n,o)=>{const r=e.get();ae(n.split(","),c=>fs(r,c).each(u=>{r[c]={withSimilar:pt(te({},u.withSimilar),{callbacks:Ye(u.withSimilar.callbacks,m=>m!==o)}),withoutSimilar:pt(te({},u.withoutSimilar),{callbacks:Ye(u.withoutSimilar.callbacks,m=>m!==o)}),withVars:Ye(u.withVars,m=>m.callback!==o)}})),e.set(r)},rv=(e,n,o,r,c,u)=>(nF(e,n,o,r,c,u),{unbind:()=>oF(n,o,r)}),av=(e,n,o,r)=>{const c=e.formatter.get(n);c&&($3(e,n,o,r)&&(!("toggle"in c[0])||c[0].toggle)?Bz(e,n,o,r):eF(e,n,o,r))},Hb=Dt.explode,t4=()=>{const e={};return{addFilter:(c,u)=>{ae(Hb(c),m=>{qn(e,m)||(e[m]={name:m,callbacks:[]}),e[m].callbacks.push(u)})},getFilters:()=>Hr(e),removeFilter:(c,u)=>{ae(Hb(c),m=>{if(qn(e,m))if($e(u)){const b=e[m],k=Ye(b.callbacks,S=>S!==u);k.length>0?b.callbacks=k:delete e[m]}else delete e[m]})}}},n4=(e,n)=>{ae(n,o=>{e.attr(o,null)})},Lz=(e,n,o)=>{e.addNodeFilter("font",r=>{ae(r,c=>{const u=n.parse(c.attr("style")),m=c.attr("color"),b=c.attr("face"),k=c.attr("size");m&&(u.color=m),b&&(u["font-family"]=b),k&&Qr(k).each(S=>{u["font-size"]=o[S-1]}),c.name="span",c.attr("style",n.serialize(u)),n4(c,["color","face","size"])})})},Hz=(e,n,o)=>{e.addNodeFilter("strike",r=>{const c=n.type!=="html4";ae(r,u=>{if(c)u.name="s";else{const m=o.parse(u.attr("style"));m["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(m))}})})},sF=(e,n,o)=>{var r;const c=Iy();n.convert_fonts_to_spans&&Lz(e,c,Dt.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),Hz(e,o,c)},rF=(e,n,o)=>{n.inline_styles&&sF(e,n,o)},o4=(e,n,o)=>{n.addNodeFilter("br",(r,c,u)=>{const m=Dt.extend({},o.getBlockElements()),b=o.getNonEmptyElements(),k=o.getWhitespaceElements();m.body=1;const S=z=>z.name in m||Ds(o,z);for(let z=0,M=r.length;z<M;z++){let I=r[z],Q=I.parent;if(Q&&S(Q)&&I===Q.lastChild){let se=I.prev;for(;se;){const K=se.name;if(K!=="span"||se.attr("data-mce-type")!=="bookmark"){K==="br"&&(I=null);break}se=se.prev}if(I&&(I.remove(),Q1(o,b,k,Q))){const K=o.getElementRule(Q.name);K&&(K.removeEmpty?Q.remove():K.paddEmpty&&Zk(e,u,S,Q))}}else{let se=I;for(;Q&&Q.firstChild===se&&Q.lastChild===se&&(se=Q,!m[Q.name]);)Q=Q.parent;if(se===Q){const K=new Ml("#text",3);K.value=pr,I.replace(K)}}}})},aF=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),cF=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},s4=e=>{const[n,...o]=e.split(","),r=o.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(c){const u=c[2]===";base64",m=u?cF(r):decodeURIComponent(r);return F.some({type:c[1],data:m,base64Encoded:u})}else return F.none()},Vz=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch(u){return F.none()}const c=new Uint8Array(r.length);for(let u=0;u<c.length;u++)c[u]=r.charCodeAt(u);return F.some(new Blob([c],{type:e}))},iF=e=>new Promise((n,o)=>{s4(e).bind(({type:r,data:c,base64Encoded:u})=>Vz(r,c,u)).fold(()=>o("Invalid data URI"),n)}),Uz=e=>so(e,"blob:")?aF(e):so(e,"data:")?iF(e):Promise.reject("Unknown URI format"),Wz=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var c;o((c=r.error)===null||c===void 0?void 0:c.message)},r.readAsDataURL(e)});let ew=0;const jz=e=>(e||"blobid")+ew++,Zz=(e,n,o)=>s4(e).bind(({data:r,type:c,base64Encoded:u})=>{if(n&&!u)return F.none();{const m=u?r:btoa(r);return o(m,c)}}),r4=(e,n,o)=>{const r=e.create(jz(),n,o);return e.add(r),r},qz=(e,n,o=!1)=>Zz(n,o,(r,c)=>F.from(e.getByData(r,c)).orThunk(()=>Vz(c,r).map(u=>r4(e,u,r)))),Gz=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(so(n,"blob:")){const r=e.getByUri(n);return $e(r)?Promise.resolve(r):Uz(n).then(c=>Wz(c).then(u=>Zz(u,!1,m=>F.some(r4(e,c,m))).getOrThunk(o)))}else return so(n,"data:")?qz(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},lF=e=>$e(e.attr("data-mce-bogus")),uF=e=>e.attr("src")===pn.transparentSrc||$e(e.attr("data-mce-placeholder")),Kz=(e,n)=>{const{blob_cache:o}=n;if(o){const r=c=>{const u=c.attr("src");uF(c)||lF(c)||Jt(u)||qz(o,u,!0).each(m=>{c.attr("src",m.blobUri())})};e.addAttributeFilter("src",c=>ae(c,r))}},Yz=(e,n)=>{const o=e.schema;n.remove_trailing_brs&&o4(n,e,o),e.addAttributeFilter("href",c=>{let u=c.length;const m=k=>k.split(" ").filter(z=>z.length>0).concat(["noopener"]).sort().join(" "),b=k=>{const S=k?Dt.trim(k):"";return/\b(noopener)\b/g.test(S)?S:m(S)};if(!n.allow_unsafe_link_target)for(;u--;){const k=c[u];k.name==="a"&&k.attr("target")==="_blank"&&k.attr("rel",b(k.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",c=>{let u=c.length,m,b,k,S;for(;u--;)if(S=c[u],S.name==="a"&&S.firstChild&&!S.attr("href"))for(k=S.parent,m=S.lastChild;m&&k;)b=m.prev,k.insert(m,S),m=b}),n.fix_list_elements&&e.addNodeFilter("ul,ol",c=>{let u=c.length,m,b;for(;u--;)if(m=c[u],b=m.parent,b&&(b.name==="ul"||b.name==="ol"))if(m.prev&&m.prev.name==="li")m.prev.append(m);else{const k=new Ml("li",1);k.attr("style","list-style-type: none"),m.wrap(k)}});const r=o.getValidClasses();n.validate&&r&&e.addAttributeFilter("class",c=>{var u;let m=c.length;for(;m--;){const b=c[m],k=(u=b.attr("class"))!==null&&u!==void 0?u:"",S=Dt.explode(k," ");let z="";for(let M=0;M<S.length;M++){const I=S[M];let Q=!1,se=r["*"];se&&se[I]&&(Q=!0),se=r[b.name],!Q&&se&&se[I]&&(Q=!0),Q&&(z&&(z+=" "),z+=I)}z.length||(z=null),b.attr("class",z)}}),Kz(e,n)};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xp(e)}function KC(e,n){return KC=Object.setPrototypeOf||function(r,c){return r.__proto__=c,r},KC(e,n)}function Xz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function tw(e,n,o){return Xz()?tw=Reflect.construct:tw=function(c,u,m){var b=[null];b.push.apply(b,u);var k=Function.bind.apply(c,b),S=new k;return m&&KC(S,m.prototype),S},tw.apply(null,arguments)}function Bf(e){return dF(e)||fF(e)||a4(e)||Jz()}function dF(e){if(Array.isArray(e))return Vb(e)}function fF(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a4(e,n){if(e){if(typeof e=="string")return Vb(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Vb(e,n)}}function Vb(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function Jz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qz=Object.hasOwnProperty,nw=Object.setPrototypeOf,mF=Object.isFrozen,gF=Object.getPrototypeOf,Jp=Object.getOwnPropertyDescriptor,ul=Object.freeze,Ff=Object.seal,ow=Object.create,c4=typeof Reflect!="undefined"&&Reflect,cv=c4.apply,YC=c4.construct;cv||(cv=function(n,o,r){return n.apply(o,r)}),ul||(ul=function(n){return n}),Ff||(Ff=function(n){return n}),YC||(YC=function(n,o){return tw(n,Bf(o))});var e6=dd(Array.prototype.forEach),pF=dd(Array.prototype.pop),sw=dd(Array.prototype.push),XC=dd(String.prototype.toLowerCase),i4=dd(String.prototype.match),Qp=dd(String.prototype.replace),t6=dd(String.prototype.indexOf),hF=dd(String.prototype.trim),Ql=dd(RegExp.prototype.test),l4=Gi(TypeError);function dd(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),c=1;c<o;c++)r[c-1]=arguments[c];return cv(e,n,r)}}function Gi(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return YC(e,o)}}function kr(e,n){nw&&nw(e,null);for(var o=n.length;o--;){var r=n[o];if(typeof r=="string"){var c=XC(r);c!==r&&(mF(n)||(n[o]=c),r=c)}e[r]=!0}return e}function Nm(e){var n=ow(null),o;for(o in e)cv(Qz,e,[o])&&(n[o]=e[o]);return n}function Pm(e,n){for(;e!==null;){var o=Jp(e,n);if(o){if(o.get)return dd(o.get);if(typeof o.value=="function")return dd(o.value)}e=gF(e)}function r(c){return console.warn("fallback value for",c),null}return r}var u4=ul(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),dl=ul(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fg=ul(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),n6=ul(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),d4=ul(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),o6=ul(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),s6=ul(["#text"]),f4=ul(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ub=ul(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),JC=ul(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),QC=ul(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),r6=Ff(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bF=Ff(/<%[\w\W]*|[\w\W]*%>/gm),m4=Ff(/^data-[\-\w.\u00B7-\uFFFF]/),g4=Ff(/^aria-[\-\w]+$/),yF=Ff(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vF=Ff(/^(?:\w+script|data):/i),Bm=Ff(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),p4=Ff(/^html$/i),kF=function(){return typeof window=="undefined"?null:window},h4=function(n,o){if(Xp(n)!=="object"||typeof n.createPolicy!="function")return null;var r=null,c="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(c)&&(r=o.currentScript.getAttribute(c));var u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML:function(b){return b}})}catch(m){return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function eS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kF(),n=function(dt){return eS(dt)};if(n.version="2.3.8",n.removed=[],!e||!e.document||e.document.nodeType!==9)return n.isSupported=!1,n;var o=e.document,r=e.document,c=e.DocumentFragment,u=e.HTMLTemplateElement,m=e.Node,b=e.Element,k=e.NodeFilter,S=e.NamedNodeMap,z=S===void 0?e.NamedNodeMap||e.MozNamedAttrMap:S,M=e.HTMLFormElement,I=e.DOMParser,Q=e.trustedTypes,se=b.prototype,K=Pm(se,"cloneNode"),oe=Pm(se,"nextSibling"),Te=Pm(se,"childNodes"),ze=Pm(se,"parentNode");if(typeof u=="function"){var Me=r.createElement("template");Me.content&&Me.content.ownerDocument&&(r=Me.content.ownerDocument)}var Ue=h4(Q,o),At=Ue?Ue.createHTML(""):"",sn=r,Kt=sn.implementation,Je=sn.createNodeIterator,nt=sn.createDocumentFragment,Bt=sn.getElementsByTagName,Vn=o.importNode,ro={};try{ro=Nm(r).documentMode?r.documentMode:{}}catch(is){}var jo={};n.isSupported=typeof ze=="function"&&Kt&&typeof Kt.createHTMLDocument!="undefined"&&ro!==9;var ls=r6,Is=bF,ar=m4,_a=g4,La=vF,vc=Bm,jt=yF,_n=null,Os=kr({},[].concat(Bf(u4),Bf(dl),Bf(Fg),Bf(d4),Bf(s6))),os=null,Kn=kr({},[].concat(Bf(f4),Bf(Ub),Bf(JC),Bf(QC))),Zt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ut=null,yo=null,hs=!0,Xs=!0,Fn=!1,us=!1,sr=!1,fa=!1,dr=!1,Ac=!1,su=!1,Pl=!1,Nu=!0,mh=!0,gy=!1,gh={},ph=null,Ux=kr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Wx=null,jx=kr({},["audio","video","img","source","image","track"]),e_=null,t_=kr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),n_="http://www.w3.org/1998/Math/MathML",Fv="http://www.w3.org/2000/svg",Gf="http://www.w3.org/1999/xhtml",$v=Gf,py=!1,Xg,o_=["application/xhtml+xml","text/html"],s_="text/html",Hm,Jg=null,r_=r.createElement("form"),a_=function(dt){return dt instanceof RegExp||dt instanceof Function},c_=function(dt){Jg&&Jg===dt||((!dt||Xp(dt)!=="object")&&(dt={}),dt=Nm(dt),_n="ALLOWED_TAGS"in dt?kr({},dt.ALLOWED_TAGS):Os,os="ALLOWED_ATTR"in dt?kr({},dt.ALLOWED_ATTR):Kn,e_="ADD_URI_SAFE_ATTR"in dt?kr(Nm(t_),dt.ADD_URI_SAFE_ATTR):t_,Wx="ADD_DATA_URI_TAGS"in dt?kr(Nm(jx),dt.ADD_DATA_URI_TAGS):jx,ph="FORBID_CONTENTS"in dt?kr({},dt.FORBID_CONTENTS):Ux,Ut="FORBID_TAGS"in dt?kr({},dt.FORBID_TAGS):{},yo="FORBID_ATTR"in dt?kr({},dt.FORBID_ATTR):{},gh="USE_PROFILES"in dt?dt.USE_PROFILES:!1,hs=dt.ALLOW_ARIA_ATTR!==!1,Xs=dt.ALLOW_DATA_ATTR!==!1,Fn=dt.ALLOW_UNKNOWN_PROTOCOLS||!1,us=dt.SAFE_FOR_TEMPLATES||!1,sr=dt.WHOLE_DOCUMENT||!1,Ac=dt.RETURN_DOM||!1,su=dt.RETURN_DOM_FRAGMENT||!1,Pl=dt.RETURN_TRUSTED_TYPE||!1,dr=dt.FORCE_BODY||!1,Nu=dt.SANITIZE_DOM!==!1,mh=dt.KEEP_CONTENT!==!1,gy=dt.IN_PLACE||!1,jt=dt.ALLOWED_URI_REGEXP||jt,$v=dt.NAMESPACE||Gf,dt.CUSTOM_ELEMENT_HANDLING&&a_(dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Zt.tagNameCheck=dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&a_(dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Zt.attributeNameCheck=dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&typeof dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Zt.allowCustomizedBuiltInElements=dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Xg=o_.indexOf(dt.PARSER_MEDIA_TYPE)===-1?Xg=s_:Xg=dt.PARSER_MEDIA_TYPE,Hm=Xg==="application/xhtml+xml"?function(jn){return jn}:XC,us&&(Xs=!1),su&&(Ac=!0),gh&&(_n=kr({},Bf(s6)),os=[],gh.html===!0&&(kr(_n,u4),kr(os,f4)),gh.svg===!0&&(kr(_n,dl),kr(os,Ub),kr(os,QC)),gh.svgFilters===!0&&(kr(_n,Fg),kr(os,Ub),kr(os,QC)),gh.mathMl===!0&&(kr(_n,d4),kr(os,JC),kr(os,QC))),dt.ADD_TAGS&&(_n===Os&&(_n=Nm(_n)),kr(_n,dt.ADD_TAGS)),dt.ADD_ATTR&&(os===Kn&&(os=Nm(os)),kr(os,dt.ADD_ATTR)),dt.ADD_URI_SAFE_ATTR&&kr(e_,dt.ADD_URI_SAFE_ATTR),dt.FORBID_CONTENTS&&(ph===Ux&&(ph=Nm(ph)),kr(ph,dt.FORBID_CONTENTS)),mh&&(_n["#text"]=!0),sr&&kr(_n,["html","head","body"]),_n.table&&(kr(_n,["tbody"]),delete Ut.tbody),ul&&ul(dt),Jg=dt)},Zx=kr({},["mi","mo","mn","ms","mtext"]),qx=kr({},["foreignobject","desc","title","annotation-xml"]),KN=kr({},["title","style","font","a","script"]),Kf=kr({},dl);kr(Kf,Fg),kr(Kf,n6);var hy=kr({},d4);kr(hy,o6);var je=function(dt){var jn=ze(dt);(!jn||!jn.tagName)&&(jn={namespaceURI:Gf,tagName:"template"});var Uo=XC(dt.tagName),za=XC(jn.tagName);return dt.namespaceURI===Fv?jn.namespaceURI===Gf?Uo==="svg":jn.namespaceURI===n_?Uo==="svg"&&(za==="annotation-xml"||Zx[za]):!!Kf[Uo]:dt.namespaceURI===n_?jn.namespaceURI===Gf?Uo==="math":jn.namespaceURI===Fv?Uo==="math"&&qx[za]:!!hy[Uo]:dt.namespaceURI===Gf?jn.namespaceURI===Fv&&!qx[za]||jn.namespaceURI===n_&&!Zx[za]?!1:!hy[Uo]&&(KN[Uo]||!Kf[Uo]):!1},Ze=function(dt){sw(n.removed,{element:dt});try{dt.parentNode.removeChild(dt)}catch(jn){try{dt.outerHTML=At}catch(Uo){dt.remove()}}},qt=function(dt,jn){try{sw(n.removed,{attribute:jn.getAttributeNode(dt),from:jn})}catch(Uo){sw(n.removed,{attribute:null,from:jn})}if(jn.removeAttribute(dt),dt==="is"&&!os[dt])if(Ac||su)try{Ze(jn)}catch(Uo){}else try{jn.setAttribute(dt,"")}catch(Uo){}},Lt=function(dt){var jn,Uo;if(dr)dt="<remove></remove>"+dt;else{var za=i4(dt,/^[\r\n\t ]+/);Uo=za&&za[0]}Xg==="application/xhtml+xml"&&(dt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+dt+"</body></html>");var Pu=Ue?Ue.createHTML(dt):dt;if($v===Gf)try{jn=new I().parseFromString(Pu,Xg)}catch(Ki){}if(!jn||!jn.documentElement){jn=Kt.createDocument($v,"template",null);try{jn.documentElement.innerHTML=py?"":Pu}catch(Ki){}}var Bl=jn.body||jn.documentElement;return dt&&Uo&&Bl.insertBefore(r.createTextNode(Uo),Bl.childNodes[0]||null),$v===Gf?Bt.call(jn,sr?"html":"body")[0]:sr?jn.documentElement:Bl},mo=function(dt){return Je.call(dt.ownerDocument||dt,dt,k.SHOW_ELEMENT|k.SHOW_COMMENT|k.SHOW_TEXT,null,!1)},Es=function(dt){return dt instanceof M&&(typeof dt.nodeName!="string"||typeof dt.textContent!="string"||typeof dt.removeChild!="function"||!(dt.attributes instanceof z)||typeof dt.removeAttribute!="function"||typeof dt.setAttribute!="function"||typeof dt.namespaceURI!="string"||typeof dt.insertBefore!="function")},Lr=function(dt){return Xp(m)==="object"?dt instanceof m:dt&&Xp(dt)==="object"&&typeof dt.nodeType=="number"&&typeof dt.nodeName=="string"},Oc=function(dt,jn,Uo){jo[dt]&&e6(jo[dt],function(za){za.call(n,jn,Uo,Jg)})},ei=function(dt){var jn;if(Oc("beforeSanitizeElements",dt,null),Es(dt)||Ql(/[\u0080-\uFFFF]/,dt.nodeName))return Ze(dt),!0;var Uo=Hm(dt.nodeName);if(Oc("uponSanitizeElement",dt,{tagName:Uo,allowedTags:_n}),dt.hasChildNodes()&&!Lr(dt.firstElementChild)&&(!Lr(dt.content)||!Lr(dt.content.firstElementChild))&&Ql(/<[/\w]/g,dt.innerHTML)&&Ql(/<[/\w]/g,dt.textContent)||Uo==="select"&&Ql(/<template/i,dt.innerHTML))return Ze(dt),!0;if(!_n[Uo]||Ut[Uo]){if(!Ut[Uo]&&l_(Uo)&&(Zt.tagNameCheck instanceof RegExp&&Ql(Zt.tagNameCheck,Uo)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(Uo)))return!1;if(mh&&!ph[Uo]){var za=ze(dt)||dt.parentNode,Pu=Te(dt)||dt.childNodes;if(Pu&&za)for(var Bl=Pu.length,Ki=Bl-1;Ki>=0;--Ki)za.insertBefore(K(Pu[Ki],!0),oe(dt))}return Ze(dt),!0}return dt instanceof b&&!je(dt)||(Uo==="noscript"||Uo==="noembed")&&Ql(/<\/no(script|embed)/i,dt.innerHTML)?(Ze(dt),!0):(us&&dt.nodeType===3&&(jn=dt.textContent,jn=Qp(jn,ls," "),jn=Qp(jn,Is," "),dt.textContent!==jn&&(sw(n.removed,{element:dt.cloneNode()}),dt.textContent=jn)),Oc("afterSanitizeElements",dt,null),!1)},i_=function(dt,jn,Uo){if(Nu&&(jn==="id"||jn==="name")&&(Uo in r||Uo in r_))return!1;if(!(Xs&&!yo[jn]&&Ql(ar,jn))){if(!(hs&&Ql(_a,jn))){if(!os[jn]||yo[jn]){if(!(l_(dt)&&(Zt.tagNameCheck instanceof RegExp&&Ql(Zt.tagNameCheck,dt)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(dt))&&(Zt.attributeNameCheck instanceof RegExp&&Ql(Zt.attributeNameCheck,jn)||Zt.attributeNameCheck instanceof Function&&Zt.attributeNameCheck(jn))||jn==="is"&&Zt.allowCustomizedBuiltInElements&&(Zt.tagNameCheck instanceof RegExp&&Ql(Zt.tagNameCheck,Uo)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(Uo))))return!1}else if(!e_[jn]){if(!Ql(jt,Qp(Uo,vc,""))){if(!((jn==="src"||jn==="xlink:href"||jn==="href")&&dt!=="script"&&t6(Uo,"data:")===0&&Wx[dt])){if(!(Fn&&!Ql(La,Qp(Uo,vc,"")))){if(Uo)return!1}}}}}}return!0},l_=function(dt){return dt.indexOf("-")>0},MO=function(dt){var jn,Uo,za,Pu;Oc("beforeSanitizeAttributes",dt,null);var Bl=dt.attributes;if(Bl){var Ki={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:os};for(Pu=Bl.length;Pu--;){jn=Bl[Pu];var Iv=jn,ml=Iv.name,YN=Iv.namespaceURI;Uo=ml==="value"?jn.value:hF(jn.value),za=Hm(ml);var XN=Uo;if(Ki.attrName=za,Ki.attrValue=Uo,Ki.keepAttr=!0,Ki.forceKeepAttr=void 0,Oc("uponSanitizeAttribute",dt,Ki),Uo=Ki.attrValue,!Ki.forceKeepAttr){if(!Ki.keepAttr){qt(ml,dt);continue}if(Ql(/\/>/i,Uo)){qt(ml,dt);continue}us&&(Uo=Qp(Uo,ls," "),Uo=Qp(Uo,Is," "));var wj=Hm(dt.nodeName);if(!i_(wj,za,Uo)){qt(ml,dt);continue}if(Uo!==XN)try{YN?dt.setAttributeNS(YN,ml,Uo):dt.setAttribute(ml,Uo)}catch(BZ){qt(ml,dt)}}}Oc("afterSanitizeAttributes",dt,null)}},kj=function is(dt){var jn,Uo=mo(dt);for(Oc("beforeSanitizeShadowDOM",dt,null);jn=Uo.nextNode();)Oc("uponSanitizeShadowNode",jn,null),!ei(jn)&&(jn.content instanceof c&&is(jn.content),MO(jn));Oc("afterSanitizeShadowDOM",dt,null)};return n.sanitize=function(is,dt){var jn,Uo,za,Pu,Bl;if(py=!is,py&&(is="<!-->"),typeof is!="string"&&!Lr(is)){if(typeof is.toString!="function")throw l4("toString is not a function");if(is=is.toString(),typeof is!="string")throw l4("dirty is not a string, aborting")}if(!n.isSupported){if(Xp(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof is=="string")return e.toStaticHTML(is);if(Lr(is))return e.toStaticHTML(is.outerHTML)}return is}if(fa||c_(dt),n.removed=[],typeof is=="string"&&(gy=!1),gy){if(is.nodeName){var Ki=Hm(is.nodeName);if(!_n[Ki]||Ut[Ki])throw l4("root node is forbidden and cannot be sanitized in-place")}}else if(is instanceof m)jn=Lt("<!---->"),Uo=jn.ownerDocument.importNode(is,!0),Uo.nodeType===1&&Uo.nodeName==="BODY"||Uo.nodeName==="HTML"?jn=Uo:jn.appendChild(Uo);else{if(!Ac&&!us&&!sr&&is.indexOf("<")===-1)return Ue&&Pl?Ue.createHTML(is):is;if(jn=Lt(is),!jn)return Ac?null:Pl?At:""}jn&&dr&&Ze(jn.firstChild);for(var Iv=mo(gy?is:jn);za=Iv.nextNode();)za.nodeType===3&&za===Pu||ei(za)||(za.content instanceof c&&kj(za.content),MO(za),Pu=za);if(Pu=null,gy)return is;if(Ac){if(su)for(Bl=nt.call(jn.ownerDocument);jn.firstChild;)Bl.appendChild(jn.firstChild);else Bl=jn;return os.shadowroot&&(Bl=Vn.call(o,Bl,!0)),Bl}var ml=sr?jn.outerHTML:jn.innerHTML;return sr&&_n["!doctype"]&&jn.ownerDocument&&jn.ownerDocument.doctype&&jn.ownerDocument.doctype.name&&Ql(p4,jn.ownerDocument.doctype.name)&&(ml="<!DOCTYPE "+jn.ownerDocument.doctype.name+`>
`+ml),us&&(ml=Qp(ml,ls," "),ml=Qp(ml,Is," ")),Ue&&Pl?Ue.createHTML(ml):ml},n.setConfig=function(is){c_(is),fa=!0},n.clearConfig=function(){Jg=null,fa=!1},n.isValidAttribute=function(is,dt,jn){Jg||c_({});var Uo=Hm(is),za=Hm(dt);return i_(Uo,za,jn)},n.addHook=function(is,dt){typeof dt=="function"&&(jo[is]=jo[is]||[],sw(jo[is],dt))},n.removeHook=function(is){if(jo[is])return pF(jo[is])},n.removeHooks=function(is){jo[is]&&(jo[is]=[])},n.removeAllHooks=function(){jo={}},n}var a6=eS();const b4=Dt.each,c6=Dt.trim,wF=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_F={ftp:21,http:80,https:443,mailto:25},CF=["img","video"],SF=(e,n)=>$e(e)?!e:$e(n)?!ee(CF,n):!0,xF=e=>{try{return decodeURIComponent(e)}catch(n){return unescape(e)}},y4=(e,n,o)=>{const r=xF(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?SF(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class $f{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(o=c[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const c=bm.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!y4(r,c,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=c6(n),this.settings=o;const r=o.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){c.source=n;return}const u=n.indexOf("//")===0;if(n.indexOf("/")===0&&!u&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const b=r?r.path:new $f(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+c.toAbsPath(b,n);else{const k=/([^#?]*)([#?]?.*)/.exec(n);k&&(n=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(b,k[1])+k[2])}}n=n.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);m&&b4(wF,(b,k)=>{let S=m[k];S&&(S=S.replace(/\(mce_at\)/g,"@@")),c[b]=S}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),u&&(c.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new $f(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),c=o.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(n,o){const r=new $f(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?_F[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,c="",u,m;const b=n.substring(0,n.lastIndexOf("/")).split("/"),k=o.split("/");if(b.length>=k.length){for(u=0,m=b.length;u<m;u++)if(u>=k.length||b[u]!==k[u]){r=u+1;break}}if(b.length<k.length){for(u=0,m=k.length;u<m;u++)if(u>=b.length||b[u]!==k[u]){r=u+1;break}}if(r===1)return o;for(u=0,m=b.length-(r-1);u<m;u++)c+="../";for(u=r-1,m=k.length;u<m;u++)u!==r-1?c+="/"+k[u]:c+=k[u];return c}toAbsPath(n,o){let r=0;const c=/\/$/.test(o)?"/":"",u=n.split("/"),m=o.split("/"),b=[];b4(u,M=>{M&&b.push(M)});const k=[];for(let M=m.length-1;M>=0;M--)if(!(m[M].length===0||m[M]===".")){if(m[M]===".."){r++;continue}if(r>0){r--;continue}k.push(m[M])}const S=b.length-r;let z;return S<=0?z=Un(k).join("/"):z=b.slice(0,S).join("/")+"/"+Un(k).join("/"),z.indexOf("/")!==0&&(z="/"+z),c&&z.lastIndexOf("/")!==z.length-1&&(z+=c),z}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const EF=Dt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),v4="data-mce-type";let k4=0;const tS=(e,n,o,r)=>{var c,u,m,b;const k=n.validate,S=o.getSpecialElements();e.nodeType===Gr&&!n.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const z=(u=r==null?void 0:r.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(e.nodeType!==Qa||z==="body")return;const M=de.fromDom(e),I=Kr(M,v4),Q=kc(M,"data-mce-bogus");if(!I&&W(Q)){Q==="all"?Ms(M):oi(M);return}const se=o.getElementRule(z);if(k&&!se){qn(S,z)?Ms(M):oi(M);return}else $e(r)&&(r.allowedTags[z]=!0);if(k&&se&&!I){if(ae((m=se.attributesForced)!==null&&m!==void 0?m:[],K=>{Gs(M,K.name,K.value==="{$uid}"?`mce_${k4++}`:K.value)}),ae((b=se.attributesDefault)!==null&&b!==void 0?b:[],K=>{Kr(M,K.name)||Gs(M,K.name,K.value==="{$uid}"?`mce_${k4++}`:K.value)}),se.attributesRequired&&!he(se.attributesRequired,K=>Kr(M,K))){oi(M);return}if(se.removeEmptyAttrs&&Zc(M)){oi(M);return}se.outputName&&se.outputName!==z&&D_(M,se.outputName)}},w4=(e,n,o,r,c)=>!(r in EF&&y4(e,c,o))&&(!e.validate||n.isValid(o,r)||so(r,"data-")||so(r,"aria-")),_4=(e,n)=>e.hasAttribute(v4)&&(n==="id"||n==="class"||n==="style"),nS=(e,n)=>e in n.getBoolAttrs(),i6=(e,n,o)=>{const{attributes:r}=e;for(let c=r.length-1;c>=0;c--){const u=r[c],m=u.name,b=u.value;!w4(n,o,e.tagName.toLowerCase(),m,b)&&!_4(e,m)?e.removeAttribute(m):nS(m,o)&&e.setAttribute(m,m)}},l6=(e,n)=>{const o=a6();return o.addHook("uponSanitizeElement",(r,c)=>{tS(r,e,n,c)}),o.addHook("uponSanitizeAttribute",(r,c)=>{const u=r.tagName.toLowerCase(),{attrName:m,attrValue:b}=c;c.keepAttr=w4(e,n,u,m,b),c.keepAttr?(c.allowedAttributes[m]=!0,nS(m,n)&&(c.attrValue=m),e.allow_svg_data_urls&&so(b,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):_4(r,m)&&(c.forceKeepAttr=!0)}),o},u6=(e,n)=>{const r=te({},{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]});return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},d6=(e,n)=>{if(e.sanitize){const o=l6(e,n);return(r,c)=>{o.sanitize(r,u6(e,c)),o.removed=[]}}else return(o,r)=>{const c=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let u;for(;u=c.nextNode();)tS(u,e,n),wn(u)&&i6(u,e,n)}},f6=Dt.makeMap,oS=Dt.extend,m6=(e,n,o)=>{const r=e.name,c=r in o&&r!=="title"&&r!=="textarea",u=n.childNodes;for(let m=0,b=u.length;m<b;m++){const k=u[m],S=new Ml(k.nodeName.toLowerCase(),k.nodeType);if(wn(k)){const z=k.attributes;for(let M=0,I=z.length;M<I;M++){const Q=z[M];S.attr(Q.name,Q.value)}}else It(k)?(S.value=k.data,c&&(S.raw=!0)):(qu(k)||Rh(k)||rf(k))&&(S.value=k.data);m6(S,k,o),e.append(S)}},sS=(e,n,o)=>{const r=[];for(let c=e,u=c;c;u=c,c=c.walk()){const m=c;ae(n,b=>b(m)),Jt(m.parent)&&m!==e?c=u:r.push(m)}for(let c=r.length-1;c>=0;c--){const u=r[c];ae(o,m=>m(u))}},TF=(e,n,o,r)=>{const c=o.validate,u=n.getNonEmptyElements(),m=n.getWhitespaceElements(),b=oS(f6("script,style,head,html,body,title,meta,param"),n.getBlockElements()),k=Hl(n),S=/[ \t\r\n]+/g,z=/^[ \t\r\n]+/,M=/[ \t\r\n]+$/,I=ze=>{let Me=ze.parent;for(;$e(Me);){if(Me.name in m)return!0;Me=Me.parent}return!1},Q=ze=>{let Me=ze;for(;$e(Me);){if(Me.name in k)return Q1(n,u,m,Me);Me=Me.parent}return!1},se=ze=>ze.name in b||Ds(n,ze),K=(ze,Me)=>{const Ue=Me?ze.prev:ze.next;return $e(Ue)||Jt(ze.parent)?!1:se(ze.parent)&&(ze.parent!==e||r.isRootContent===!0)};return[ze=>{var Me;if(ze.type===3&&!I(ze)){let Ue=(Me=ze.value)!==null&&Me!==void 0?Me:"";Ue=Ue.replace(S," "),(gB(ze.prev,se)||K(ze,!0))&&(Ue=Ue.replace(z,"")),Ue.length===0?ze.remove():ze.value=Ue}},ze=>{var Me;if(ze.type===1){const Ue=n.getElementRule(ze.name);if(c&&Ue){const At=Q1(n,u,m,ze);Ue.paddInEmptyBlock&&At&&Q(ze)?Zk(o,r,se,ze):Ue.removeEmpty&&At?se(ze)?ze.remove():ze.unwrap():Ue.paddEmpty&&(At||PC(ze))&&Zk(o,r,se,ze)}}else if(ze.type===3&&!I(ze)){let Ue=(Me=ze.value)!==null&&Me!==void 0?Me:"";(ze.next&&se(ze.next)||K(ze,!1))&&(Ue=Ue.replace(M,"")),Ue.length===0?ze.remove():ze.value=Ue}}]},AF=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},iv=(e={},n=Ju())=>{const o=t4(),r=t4(),c=te({validate:!0,root_name:"body",sanitize:!0},e),u=new DOMParser,m=d6(c,n),b=(Me,Ue,At="html")=>{const sn=At==="xhtml"?"application/xhtml+xml":"text/html",Kt=qn(n.getSpecialElements(),Ue.toLowerCase()),Je=Kt?`<${Ue}>${Me}</${Ue}>`:Me,nt=At==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Je}</body></html>`:`<body>${Je}</body>`,Bt=u.parseFromString(nt,sn).body;return m(Bt,sn),Kt?Bt.firstChild:Bt},k=o.addFilter,S=o.getFilters,z=o.removeFilter,M=r.addFilter,I=r.getFilters,Q=r.removeFilter,se=(Me,Ue)=>{rz(n,Me)&&Ue.push(Me)},K=(Me,Ue)=>{const At=W(Ue.attr(v4)),sn=Ue.type===1&&!qn(Me,Ue.name)&&!Ds(n,Ue);return Ue.type===3||sn&&!At},oe=(Me,Ue)=>{const At=oS(f6("script,style,head,html,body,title,meta,param"),n.getBlockElements()),sn=/^[ \t\r\n]+/,Kt=/[ \t\r\n]+$/;let Je=Me.firstChild,nt=null;const Bt=Vn=>{var ro,jo;Vn&&(Je=Vn.firstChild,Je&&Je.type===3&&(Je.value=(ro=Je.value)===null||ro===void 0?void 0:ro.replace(sn,"")),Je=Vn.lastChild,Je&&Je.type===3&&(Je.value=(jo=Je.value)===null||jo===void 0?void 0:jo.replace(Kt,"")))};if(n.isValidChild(Me.name,Ue.toLowerCase())){for(;Je;){const Vn=Je.next;K(At,Je)?(nt||(nt=new Ml(Ue,1),nt.attr(c.forced_root_block_attrs),Me.insert(nt,Je)),nt.append(Je)):(Bt(nt),nt=null),Je=Vn}Bt(nt)}},ze={schema:n,addAttributeFilter:M,getAttributeFilters:I,removeAttributeFilter:Q,addNodeFilter:k,getNodeFilters:S,removeNodeFilter:z,parse:(Me,Ue={})=>{var At;const sn=c.validate,Kt=(At=Ue.context)!==null&&At!==void 0?At:c.root_name,Je=b(Me,Kt,Ue.format);Ay(n,Je);const nt=new Ml(Kt,11);m6(nt,Je,n.getSpecialElements()),Je.innerHTML="";const[Bt,Vn]=TF(nt,n,c,Ue),ro=[],jo=sn?_a=>se(_a,ro):De,ls={nodes:{},attributes:{}},Is=_a=>dB(S(),I(),_a,ls);if(sS(nt,[Bt,Is],[Vn,jo]),ro.reverse(),sn&&ro.length>0)if(Ue.context){const{pass:_a,fail:La}=Pe(ro,vc=>vc.parent===nt);A3(La,n,nt,Is),Ue.invalid=_a.length>0}else A3(ro,n,nt,Is);const ar=AF(c,Ue);return ar&&(nt.name==="body"||Ue.isRootContent)&&oe(nt,ar),Ue.invalid||NC(ls,Ue),nt}};return Yz(ze,c),rF(ze,c,n),ze},g6=e=>LC(e)?Db({validate:!1}).serialize(e):e,C4=(e,n,o)=>{const r=g6(e),c=n(r);if(c.isDefaultPrevented())return c;if(LC(e))if(c.content!==r){const u=iv({validate:!1,forced_root_block:!1,sanitize:o}).parse(c.content,{context:e.name});return pt(te({},c),{content:u})}else return pt(te({},c),{content:e});else return c},p6=(e,n)=>{if(n.no_events)return $c.value(n);{const o=Nd(e,n);return o.isDefaultPrevented()?$c.error(ST(e,te({content:""},o)).content):$c.value(o)}},h6=(e,n,o)=>o.no_events?n:C4(n,c=>ST(e,pt(te({},o),{content:c})),p1(e)).content,S4=(e,n)=>{if(n.no_events)return $c.value(n);{const o=C4(n.content,r=>Hc(e,pt(te({},n),{content:r})),p1(e));return o.isDefaultPrevented()?(Qc(e,o),$c.error(void 0)):$c.value(o)}},x4=(e,n,o)=>{o.no_events||Qc(e,pt(te({},o),{content:n}))},E4=(e,n,o)=>({element:e,width:n,rows:o}),T4=(e,n)=>({element:e,cells:n}),Fj=(e,n)=>({x:e,y:n}),b6=(e,n)=>hl(e,n).bind(Qr).getOr(1),OF=(e,n,o,r,c)=>{const u=b6(c,"rowspan"),m=b6(c,"colspan"),b=e.rows;for(let k=o;k<o+u;k++){b[k]||(b[k]=T4(Bc(r),[]));for(let S=n;S<n+m;S++){const z=b[k].cells;z[S]=k===o&&S===n?c:vf(c)}}},DF=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},zF=(e,n,o)=>{for(;DF(e,n,o);)n++;return n},y6=e=>J(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),v6=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const c=o[r].cells;for(let u=0;u<c.length;u++)if(Rs(c[u],n))return F.some(Fj(u,r))}return F.none()},k6=(e,n,o,r,c)=>{const u=[],m=e.rows;for(let b=o;b<=c;b++){const k=m[b].cells,S=n<r?k.slice(n,r+1):k.slice(r,n+1);u.push(T4(m[b].element,S))}return u},w6=(e,n,o)=>{const r=n.x,c=n.y,u=o.x,m=o.y,b=c<m?k6(e,r,c,u,m):k6(e,r,m,u,c);return E4(e.element,y6(b),b)},RF=(e,n)=>{const o=vf(e.element),r=de.fromTag("tbody");return rr(r,n),Sa(o,r),o},MF=e=>we(e.rows,n=>{const o=we(n.cells,c=>{const u=Bc(c);return ta(u,"colspan"),ta(u,"rowspan"),u}),r=vf(n.element);return rr(r,o),r}),NF=e=>{const n=E4(vf(e),0,[]);return ae(ja(e,"tr"),(o,r)=>{ae(ja(o,"td,th"),(c,u)=>{OF(n,zF(n,u,r),r,o,c)})}),E4(n.element,y6(n.rows),n.rows)},PF=e=>RF(e,MF(e)),BF=(e,n,o)=>v6(e,n).bind(r=>v6(e,o).map(c=>w6(e,r,c))),$j=e=>Le(e,n=>qs(n)==="ul"||qs(n)==="ol"),Ij=(e,n)=>Le(e,o=>qs(o)==="li"&&$p(o,n)).fold(rt([]),o=>$j(e).map(r=>{const c=de.fromTag(qs(r)),u=Cs(rp(r),(m,b)=>so(b,"list-style"));return Xr(c,u),[de.fromTag("li"),c]}).getOr([])),FF=(e,n)=>{const o=J(n,(r,c)=>(Sa(c,r),c),e);return n.length>0?Sg([o]):o},$F=e=>Ea(e)?qc(e).filter(Vi).fold(rt([]),n=>[e,n]):Vi(e)?[e]:[],Lj=(e,n)=>{const o=de.fromDom(n.commonAncestorContainer),r=Dg(o,e),c=Ye(r,bo),u=Ij(r,n),m=c.concat(u.length?u:$F(o));return we(m,vf)},_6=()=>Sg([]),wa=(e,n)=>FF(de.fromDom(n.cloneContents()),Lj(e,n)),A4=(e,n)=>U(n,"table",et(Rs,e)),Hj=(e,n)=>A4(e,n[0]).bind(o=>{const r=n[0],c=n[n.length-1],u=NF(o);return BF(u,r,c).map(m=>Sg([PF(m)]))}).getOrThunk(_6),IF=(e,n)=>n.length>0&&n[0].collapsed?_6():wa(e,n[0]),LF=(e,n)=>{const o=fb(n,e);return o.length>0?Hj(e,o):IF(e,n)},$g=(e,n)=>n>=0&&n<e.length&&Gl(e.charAt(n)),HF=e=>rn(e.innerText),Vj=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),mi=e=>F.from(e.selection.getRng()).map(n=>{var o;const r=F.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),u=Vj(r),m=de.fromDom(n.cloneContents());yC(m),mD(m);const b=e.dom.add(c,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),k=HF(b),S=rn((o=b.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(b),$g(S,0)||$g(S,S.length-1)){const z=r.getOr(c),M=HF(z),I=M.indexOf(k);if(I===-1)return k;{const Q=$g(M,I-1),se=$g(M,I+k.length);return(Q?" ":"")+k+(se?" ":"")}}else return k}).getOr(""),C6=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),u=hC(e,ak(c)),m=n.contextual?LF(de.fromDom(e.getBody()),u).dom:o.cloneContents();return m&&r.appendChild(m),e.selection.serializer.serialize(r,n)},S6=(e,n)=>{if(n.format==="text")return mi(e);{const o=C6(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},x6=(e,n)=>pt(te({},e),{format:n,get:!0,selection:!0,getInner:!0}),VF=(e,n,o={})=>{const r=x6(o,n);return p6(e,r).fold(Hn,c=>{const u=S6(e,c);return h6(e,u,c)})},O4=0,rw=1,E6=2,D4=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),c=new Array(o),u=(z,M,I)=>({start:z,end:M,diag:I}),m=(z,M,I,Q,se)=>{const K=k(z,M,I,Q);if(K===null||K.start===M&&K.diag===M-Q||K.end===z&&K.diag===z-I){let oe=z,Te=I;for(;oe<M||Te<Q;)oe<M&&Te<Q&&e[oe]===n[Te]?(se.push([O4,e[oe]]),++oe,++Te):M-z>Q-I?(se.push([E6,e[oe]]),++oe):(se.push([rw,n[Te]]),++Te)}else{m(z,K.start,I,K.start-K.diag,se);for(let oe=K.start;oe<K.end;++oe)se.push([O4,e[oe]]);m(K.end,M,K.end-K.diag,Q,se)}},b=(z,M,I,Q)=>{let se=z;for(;se-M<Q&&se<I&&e[se]===n[se-M];)++se;return u(z,se,M)},k=(z,M,I,Q)=>{const se=M-z,K=Q-I;if(se===0||K===0)return null;const oe=se-K,Te=K+se,ze=(Te%2===0?Te:Te+1)/2;r[1+ze]=z,c[1+ze]=M+1;let Me,Ue,At,sn,Kt;for(Me=0;Me<=ze;++Me){for(Ue=-Me;Ue<=Me;Ue+=2){for(At=Ue+ze,Ue===-Me||Ue!==Me&&r[At-1]<r[At+1]?r[At]=r[At+1]:r[At]=r[At-1]+1,sn=r[At],Kt=sn-z+I-Ue;sn<M&&Kt<Q&&e[sn]===n[Kt];)r[At]=++sn,++Kt;if(oe%2!==0&&oe-Me<=Ue&&Ue<=oe+Me&&c[At-oe]<=r[At])return b(c[At-oe],Ue+z-I,M,Q)}for(Ue=oe-Me;Ue<=oe+Me;Ue+=2){for(At=Ue+ze-oe,Ue===oe-Me||Ue!==oe+Me&&c[At+1]<=c[At-1]?c[At]=c[At+1]-1:c[At]=c[At-1],sn=c[At]-1,Kt=sn-z+I-Ue;sn>=z&&Kt>=I&&e[sn]===n[Kt];)c[At]=sn--,Kt--;if(oe%2===0&&-Me<=Ue&&Ue<=Me&&c[At]<=r[At+oe])return b(c[At],Ue+z-I,M,Q)}}return null},S=[];return m(0,e.length,0,n.length,S),S},T6=e=>wn(e)?e.outerHTML:It(e)?bm.encodeRaw(e.data,!1):qu(e)?"<!--"+e.data+"-->":"",A6=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},O6=(e,n,o)=>{const r=A6(n);if(e.hasChildNodes()&&o<e.childNodes.length){const c=e.childNodes[o];e.insertBefore(r,c)}else e.appendChild(r)},z4=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},D6=(e,n)=>{let o=0;ae(e,r=>{r[0]===O4?o++:r[0]===rw?(O6(n,r[1],o),o++):r[0]===E6&&z4(n,o)})},R4=e=>Ye(we(Zo(e.childNodes),T6),n=>n.length>0),UF=(e,n)=>{const o=we(Zo(n.childNodes),T6);return D6(D4(o,e),n),n},WF=ct(()=>document.implementation.createHTMLDocument("undo")),jF=e=>e.indexOf("</iframe>")!==-1,fd=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),ZF=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),rS=e=>{const n=R4(e.getBody()),o=On(n,c=>{const u=YT(e.serializer,c);return u.length>0?[u]:[]}),r=o.join("");return jF(r)?fd(o):ZF(r)},M4=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?UF(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:$e(r)&&Of(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},N4=e=>e.type==="fragmented"?e.fragments.join(""):e.content,z6=e=>{const n=de.fromTag("body",WF());return nf(n,N4(e)),ae(ja(n,"*[data-mce-bogus]"),oi),rs(n)},R6=(e,n)=>N4(e)===N4(n),qF=(e,n)=>z6(e)===z6(n),P4=(e,n)=>!e||!n?!1:R6(e,n)?!0:qF(e,n),B4=e=>e.get()===0,Wb=(e,n,o)=>{B4(o)&&(e.typing=n)},M6=(e,n)=>{e.typing&&(Wb(e,!1,n),e.add())},GF=e=>{e.typing&&(e.typing=!1,e.add())},N6=(e,n,o)=>{B4(n)&&o.set(s1(e.selection))},F4=(e,n,o,r,c,u,m)=>{const b=rS(e),k=Dt.extend(u||{},b);if(!B4(r)||e.removed)return null;const S=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:k,lastLevel:S,originalEvent:m}).isDefaultPrevented()||S&&P4(S,k))return null;n.data[o.get()]&&c.get().each(I=>{n.data[o.get()].beforeBookmark=I});const z=r2(e);if(z&&n.data.length>z){for(let I=0;I<n.data.length-1;I++)n.data[I]=n.data[I+1];n.data.length--,o.set(n.data.length)}k.bookmark=s1(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(k),o.set(n.data.length-1);const M={level:k,lastLevel:S,originalEvent:m};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",M),e.dispatch("change",M)):e.dispatch("AddUndo",M),k},KF=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},YF=(e,n,o,r,c)=>{if(n.transact(r)){const u=n.data[o.get()].bookmark,m=n.data[o.get()-1];M4(e,m,!0),n.transact(c)&&(n.data[o.get()-1].beforeBookmark=u)}},Uj=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],M4(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},XF=(e,n,o,r)=>{let c;return n.typing&&(n.add(),n.typing=!1,Wb(n,!1,o)),r.get()>0&&(r.set(r.get()-1),c=n.data[r.get()],M4(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},JF=e=>{e.clear(),e.add()},P6=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!P4(rS(e),n.data[0]),B6=(e,n)=>n.get()<e.data.length-1&&!e.typing,QF=(e,n,o)=>(M6(e,n),e.beforeChange(),e.ignore(o),e.add()),jb=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},lv=(e,n)=>{const o=e.dom,r=$e(n)?n:e.getBody();ae(o.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const u=d1(e),m=o.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?o.addClass(c,u):o.removeClass(c,u);break;case"A":if(!o.getAttrib(c,"href")){const b=o.getAttrib(c,"name")||c.id,k=eb(e);b&&e.hasVisual?o.addClass(c,k):o.removeClass(c,k)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},uv=e=>({init:{bindEvents:De},undoManager:{beforeChange:(n,o)=>N6(e,n,o),add:(n,o,r,c,u,m)=>F4(e,n,o,r,c,u,m),undo:(n,o,r)=>XF(e,n,o,r),redo:(n,o)=>Uj(e,n,o),clear:(n,o)=>KF(e,n,o),reset:n=>JF(n),hasUndo:(n,o)=>P6(e,n,o),hasRedo:(n,o)=>B6(n,o),transact:(n,o,r)=>QF(n,o,r),ignore:(n,o)=>jb(n,o),extra:(n,o,r,c)=>YF(e,n,o,r,c)},formatter:{match:(n,o,r,c)=>$3(e,n,o,r,c),matchAll:(n,o)=>Fb(e,n,o),matchNode:(n,o,r,c)=>Jl(e,n,o,r,c),canApply:n=>Kp(e,n),closest:n=>RB(e,n),apply:(n,o,r)=>eF(e,n,o,r),remove:(n,o,r,c)=>Bz(e,n,o,r,c),toggle:(n,o,r)=>av(e,n,o,r),formatChanged:(n,o,r,c,u)=>rv(e,n,o,r,c,u)},editor:{getContent:n=>BP(e,n),setContent:(n,o)=>zB(e,n,o),insertContent:(n,o)=>bz(e,n,o),addVisual:n=>lv(e,n)},selection:{getContent:(n,o)=>VF(e,n,o)},autocompleter:{addDecoration:n=>EP(e,n),removeDecoration:()=>AP(e,de.fromDom(e.getBody()))},raw:{getModel:()=>F.none()}}),F6=e=>{const n=S=>ft(S)?S:{},{init:o,undoManager:r,formatter:c,editor:u,selection:m,autocompleter:b,raw:k}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(S,z,M)=>r.transact(M),ignore:(S,z)=>r.ignore(z),extra:(S,z,M,I)=>r.extra(M,I)},formatter:{match:(S,z,M,I)=>c.match(S,n(z),I),matchAll:c.matchAll,matchNode:c.matchNode,canApply:S=>c.canApply(S),closest:S=>c.closest(S),apply:(S,z,M)=>c.apply(S,n(z)),remove:(S,z,M,I)=>c.remove(S,n(z)),toggle:(S,z,M)=>c.toggle(S,n(z)),formatChanged:(S,z,M,I,Q)=>c.formatChanged(z,M,I,Q)},editor:{getContent:S=>u.getContent(S),setContent:(S,z)=>({content:u.setContent(S,z),html:""}),insertContent:(S,z)=>(u.insertContent(S),""),addVisual:u.addVisual},selection:{getContent:(S,z)=>m.getContent(z)},autocompleter:{addDecoration:b.addDecoration,removeDecoration:b.removeDecoration},raw:{getModel:()=>F.some(k.getRawModel())}}},$6=()=>{const e=rt(null),n=rt("");return{init:{bindEvents:De},undoManager:{beforeChange:De,add:e,undo:e,redo:e,clear:De,reset:De,hasUndo:Re,hasRedo:Re,transact:e,ignore:De,extra:De},formatter:{match:Re,matchAll:rt([]),matchNode:rt(void 0),canApply:Re,closest:n,apply:De,remove:De,toggle:De,formatChanged:rt({unbind:De})},editor:{getContent:n,setContent:rt({content:"",html:""}),insertContent:rt(""),addVisual:De},selection:{getContent:n},autocompleter:{addDecoration:De,removeDecoration:De},raw:{getModel:rt(F.none())}}},Fm=e=>qn(e.plugins,"rtc"),I6=e=>fs(e.plugins,"rtc").bind(n=>F.from(n.setup)),e$=e=>{const n=e;return I6(e).fold(()=>(n.rtcInstance=uv(e),F.none()),o=>(n.rtcInstance=$6(),F.some(()=>o().then(r=>(n.rtcInstance=F6(r),r.rtc.isRemote)))))},$4=e=>e.rtcInstance?e.rtcInstance:uv(e),ac=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},t$=(e,n,o)=>{ac(e).undoManager.beforeChange(n,o)},L6=(e,n,o,r,c,u,m)=>ac(e).undoManager.add(n,o,r,c,u,m),n$=(e,n,o,r)=>ac(e).undoManager.undo(n,o,r),o$=(e,n,o)=>ac(e).undoManager.redo(n,o),aw=(e,n,o)=>{ac(e).undoManager.clear(n,o)},H6=(e,n)=>{ac(e).undoManager.reset(n)},V6=(e,n,o)=>ac(e).undoManager.hasUndo(n,o),s$=(e,n,o)=>ac(e).undoManager.hasRedo(n,o),r$=(e,n,o,r)=>ac(e).undoManager.transact(n,o,r),a$=(e,n,o)=>{ac(e).undoManager.ignore(n,o)},U6=(e,n,o,r,c)=>{ac(e).undoManager.extra(n,o,r,c)},c$=(e,n,o,r,c)=>ac(e).formatter.match(n,o,r,c),i$=(e,n,o)=>ac(e).formatter.matchAll(n,o),l$=(e,n,o,r,c)=>ac(e).formatter.matchNode(n,o,r,c),u$=(e,n)=>ac(e).formatter.canApply(n),Wj=(e,n)=>ac(e).formatter.closest(n),If=(e,n,o,r)=>{ac(e).formatter.apply(n,o,r)},I4=(e,n,o,r,c)=>{ac(e).formatter.remove(n,o,r,c)},d$=(e,n,o,r)=>{ac(e).formatter.toggle(n,o,r)},f$=(e,n,o,r,c,u)=>ac(e).formatter.formatChanged(n,o,r,c,u),m$=(e,n)=>$4(e).editor.getContent(n),g$=(e,n,o)=>$4(e).editor.setContent(n,o),or=(e,n,o)=>$4(e).editor.insertContent(n,o),jj=(e,n,o)=>ac(e).selection.getContent(n,o),p$=(e,n)=>ac(e).editor.addVisual(n),W6=e=>ac(e).init.bindEvents(),da=(e,n)=>ac(e).autocompleter.addDecoration(n),h$=e=>ac(e).autocompleter.removeDecoration(),cw=(e,n={})=>{const o=n.format?n.format:"html";return jj(e,o,n)},j6=e=>e.dom.length===0?(Ms(e),F.none()):F.some(e),b$=(e,n)=>e.filter(o=>Ip.isBookmarkNode(o.dom)).bind(n?Qd:vi),y$=(e,n,o,r)=>{const c=e.dom,u=n.dom,m=r?c.length:u.length;r?(SC(c,u,!1,!r),o.setStart(u,m)):(SC(u,c,!1,!r),o.setEnd(u,m))},Z6=(e,n)=>{qc(e).each(o=>{const r=e.dom;n&&Nk(o,ut(r,0))?Bk(r,0):!n&&Pk(o,ut(r,r.length))&&CC(r,r.length)})},Ig=(e,n,o,r)=>{e.bind(c=>((r?CC:Bk)(c.dom,r?c.dom.length:0),n.filter(ec).map(m=>y$(c,m,o,r)))).orThunk(()=>b$(n,r).or(n).filter(ec).map(u=>Z6(u,r)))},eu=(e,n)=>{const o=F.from(n.firstChild).map(de.fromDom),r=F.from(n.lastChild).map(de.fromDom);e.deleteContents(),e.insertNode(n);const c=o.bind(vi).filter(ec).bind(j6),u=r.bind(Qd).filter(ec).bind(j6);Ig(c,o,e,!0),Ig(u,r,e,!1),e.collapse(!1)},iw=(e,n)=>pt(te({format:"html"},e),{set:!0,selection:!0,content:n}),eh=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(n.content,te(te({forced_root_block:!1},c),n));return Db({validate:!1},e.schema).serialize(u)}else return n.content},$m=(e,n,o={})=>{const r=iw(o,n);S4(e,r).each(c=>{const u=eh(e,c),m=e.selection.getRng();eu(m,m.createContextualFragment(u)),e.selection.setRng(m),Oi(e,m),x4(e,u,c)})},dv=(e,n,o)=>{if(qn(e,n)){const r=Ye(e[n],c=>c!==o);r.length===0?delete e[n]:e[n]=r}};var L4=(e,n)=>{let o,r;const c=(b,k)=>Le(k,S=>e.is(S,b)),u=b=>e.getParents(b,void 0,e.getRoot()),m=()=>{o={},r={},n.on("NodeChange",b=>{const k=b.element,S=u(k),z={};xt(o,(M,I)=>{c(I,S).each(Q=>{r[I]||(ae(M,se=>{se(!0,{node:Q,selector:I,parents:S})}),r[I]=M),z[I]=M})}),xt(r,(M,I)=>{z[I]||(delete r[I],ae(M,Q=>{Q(!1,{node:k,selector:I,parents:S})}))})})};return{selectorChangedWithUnbind:(b,k)=>(o||m(),o[b]||(o[b]=[]),o[b].push(k),c(b,u(n.selection.getStart())).each(()=>{r[b]=o[b]}),{unbind:()=>{dv(o,b,k),dv(r,b,k)}})}};const aS=e=>!!(e&&e.ownerDocument)&&dc(de.fromDom(e.ownerDocument),de.fromDom(e)),q6=e=>e?aS(e.startContainer)&&aS(e.endContainer):!1,H4=(e,n,o,r)=>{let c,u;const{selectorChangedWithUnbind:m}=L4(e,r),b=(jt,_n)=>{const Os=e.createRng();$e(jt)&&$e(_n)?(Os.setStart(jt,_n),Os.setEnd(jt,_n),Ue(Os),Te(!1)):(lk(e,Os,r.getBody(),!0),Ue(Os))},k=jt=>cw(r,jt),S=(jt,_n)=>$m(r,jt,_n),z=jt=>nD(r.getBody(),Me(),jt),M=jt=>oD(r.getBody(),Me(),jt),I=(jt,_n)=>La.getBookmark(jt,_n),Q=jt=>La.moveToBookmark(jt),se=(jt,_n)=>(vP(e,jt,_n).each(Ue),jt),K=()=>{const jt=Me(),_n=ze();return!jt||jt.item?!1:jt.compareEndPoints?jt.compareEndPoints("StartToEnd",jt)===0:!_n||jt.collapsed},oe=()=>{const jt=Me(),_n=r.getBody().querySelectorAll('[data-mce-selected="1"]');return _n.length>0?Nn(_n,Os=>e.isEditable(Os.parentElement)):jt.startContainer===jt.endContainer?e.isEditable(jt.startContainer):e.isEditable(jt.startContainer)&&e.isEditable(jt.endContainer)},Te=jt=>{const _n=Me();_n.collapse(!!jt),Ue(_n)},ze=()=>n.getSelection?n.getSelection():n.document.selection,Me=()=>{let jt;const _n=(os,Kn,Zt)=>{try{return Kn.compareBoundaryPoints(os,Zt)}catch(Ut){return-1}},Os=n.document;if($e(r.bookmark)&&!Ob(r)){const os=uC(r);if(os.isSome())return os.map(Kn=>hC(r,[Kn])[0]).getOr(Os.createRange())}try{const os=ze();os&&!fu(os.anchorNode)&&(os.rangeCount>0?jt=os.getRangeAt(0):jt=Os.createRange(),jt=hC(r,[jt])[0])}catch(os){}if(jt||(jt=Os.createRange()),Cl(jt.startContainer)&&jt.collapsed){const os=e.getRoot();jt.setStart(os,0),jt.setEnd(os,0)}return c&&u&&(_n(jt.START_TO_START,jt,c)===0&&_n(jt.END_TO_END,jt,c)===0?jt=u:(c=null,u=null)),jt},Ue=(jt,_n)=>{if(!q6(jt))return;const Os=ze();if(jt=r.dispatch("SetSelectionRange",{range:jt,forward:_n}).range,Os){u=jt;try{Os.removeAllRanges(),Os.addRange(jt)}catch(Kn){}_n===!1&&Os.extend&&(Os.collapse(jt.endContainer,jt.endOffset),Os.extend(jt.startContainer,jt.startOffset)),c=Os.rangeCount>0?Os.getRangeAt(0):null}if(!jt.collapsed&&jt.startContainer===jt.endContainer&&(Os!=null&&Os.setBaseAndExtent)&&jt.endOffset-jt.startOffset<2&&jt.startContainer.hasChildNodes()){const Kn=jt.startContainer.childNodes[jt.startOffset];Kn&&Kn.nodeName==="IMG"&&(Os.setBaseAndExtent(jt.startContainer,jt.startOffset,jt.endContainer,jt.endOffset),(Os.anchorNode!==jt.startContainer||Os.focusNode!==jt.endContainer)&&Os.setBaseAndExtent(Kn,0,Kn,1))}r.dispatch("AfterSetSelectionRange",{range:jt,forward:_n})},At=jt=>(S(e.getOuterHTML(jt)),jt),sn=()=>yP(r.getBody(),Me()),Kt=(jt,_n)=>rD(e,Me(),jt,_n),Je=()=>{const jt=ze(),_n=jt==null?void 0:jt.anchorNode,Os=jt==null?void 0:jt.focusNode;if(!jt||!_n||!Os||fu(_n)||fu(Os))return!0;const os=e.createRng(),Kn=e.createRng();try{os.setStart(_n,jt.anchorOffset),os.collapse(!0),Kn.setStart(Os,jt.focusOffset),Kn.collapse(!0)}catch(Zt){return!0}return os.compareBoundaryPoints(os.START_TO_START,Kn)<=0},_a={dom:e,win:n,serializer:o,editor:r,expand:(jt={type:"word"})=>Ue(l(e).expand(Me(),jt)),collapse:Te,setCursorLocation:b,getContent:k,setContent:S,getBookmark:I,moveToBookmark:Q,select:se,isCollapsed:K,isEditable:oe,isForward:Je,setNode:At,getNode:sn,getSel:ze,setRng:Ue,getRng:Me,getStart:z,getEnd:M,getSelectedBlocks:Kt,normalize:()=>{const jt=Me(),_n=ze();if(!I2(_n)&&E1(r)){const Os=V1(e,jt);return Os.each(os=>{Ue(os,Je())}),Os.getOr(jt)}return jt},selectorChanged:(jt,_n)=>(m(jt,_n),_a),selectorChangedWithUnbind:m,getScrollContainer:()=>{let jt,_n=e.getRoot();for(;_n&&_n.nodeName!=="BODY";){if(_n.scrollHeight>_n.clientHeight){jt=_n;break}_n=_n.parentNode}return jt},scrollIntoView:(jt,_n)=>{$e(jt)?Tu(r,jt,_n):Oi(r,Me(),_n)},placeCaretAt:(jt,_n)=>Ue(LT(jt,_n,r.getDoc())),getBoundingClientRect:()=>{const jt=Me();return jt.collapsed?ut.fromRangeStart(jt).getClientRects()[0]:jt.getBoundingClientRect()},destroy:()=>{n=c=u=null,vc.destroy()}},La=Ip(_a),vc=Ck(_a,r);return _a.bookmarkManager=La,_a.controlSelection=vc,_a},v$=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const u="data-mce-"+c,m=n.url_converter,b=n.url_converter_scope;let k=r.length;for(;k--;){const S=r[k];let z=S.attr(u);z!==void 0?(S.attr(c,z.length>0?z:null),S.attr(u,null)):(z=S.attr(c),c==="style"?z=o.serializeStyle(o.parseStyle(z),S.name):m&&(z=m.call(b,z,c,S.name)),S.attr(c,z.length>0?z:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const u=r[c];let m=u.attr("class");m&&(m=m.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",(r,c,u)=>{let m=r.length;for(;m--;){const b=r[m];b.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(F.from(b.firstChild).exists(S=>{var z;return!Ht((z=S.value)!==null&&z!==void 0?z:"")})?b.unwrap():b.remove())}}),e.addNodeFilter("noscript",r=>{var c;let u=r.length;for(;u--;){const m=r[u].firstChild;m&&(m.value=bm.decode((c=m.value)!==null&&c!==void 0?c:""))}}),e.addNodeFilter("script,style",(r,c)=>{var u;const m=k=>k.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let b=r.length;for(;b--;){const k=r[b],S=k.firstChild,z=(u=S==null?void 0:S.value)!==null&&u!==void 0?u:"";if(c==="script"){const M=k.attr("type");M&&k.attr("type",M==="mce-no/type"?null:M.replace(/^mce\-/,"")),n.element_format==="xhtml"&&S&&z.length>0&&(S.value=`// <![CDATA[
`+m(z)+`
// ]]>`)}else n.element_format==="xhtml"&&S&&z.length>0&&(S.value=`<!--
`+m(z)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const u=r[c],m=u.value;n.preserve_cdata&&(m==null?void 0:m.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=o.decode(m.replace(/^\[CDATA\[|\]\]$/g,""))):(m==null?void 0:m.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(m).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{ae(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.remove_trailing_brs&&o4(n,e,e.schema)},k$=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},G6=(e,n,o)=>{let r;const c=e.dom;let u=n.cloneNode(!0);const m=document.implementation;if(m.createHTMLDocument){const b=m.createHTMLDocument("");Dt.each(u.nodeName==="BODY"?u.childNodes:[u],k=>{b.body.appendChild(b.importNode(k,!0))}),u.nodeName!=="BODY"?u=b.body.firstChild:u=b.body,r=c.doc,c.doc=b}return Y2(e,pt(te({},o),{node:u})),r&&(c.doc=r),u},K6=(e,n)=>$e(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,Y6=(e,n,o)=>K6(e,o)?G6(e,n,o):n,X6=(e,n,o)=>{Dt.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),n.push(o))},V4=(e,n,o)=>!n.no_events&&e?kk(e,pt(te({},n),{content:o})).content:o,Zj=(e,n,o)=>{const r=rn(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||_i(de.fromDom(n))?r:Dt.trim(r)},w$=(e,n,o)=>{const r=o.selection?te({forced_root_block:!1},o):o,c=e.parse(n,r);return k$(c),c},qj=(e,n,o)=>Db(e,n).serialize(o),_$=(e,n,o,r,c)=>{const u=qj(n,o,r);return V4(e,c,u)},C$=(e,n)=>{const o=["data-mce-selected"],r=te({entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1},e),c=n&&n.dom?n.dom:Ys.DOM,u=n&&n.schema?n.schema:Ju(r),m=iv(r,u);v$(m,r,c);const b=(k,S={})=>{const z=te({format:"html"},S),M=Y6(n,k,z),I=Zj(c,M,z),Q=w$(m,I,z);return z.format==="tree"?Q:_$(n,r,u,Q,z)};return{schema:u,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:b,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:et(X6,m,o),getTempAttrs:rt(o),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},Lf=(e,n)=>{const o=C$(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},Gj="html",Kj=(e,n)=>pt(te({},e),{format:n,get:!0,getInner:!0}),S$=(e,n={})=>{const o=n.format?n.format:Gj,r=Kj(n,o);return p6(e,r).fold(Hn,c=>{const u=m$(e,c);return h6(e,u,c)})},lw="html",x$=(e,n)=>pt(te({format:lw},e),{set:!0,content:n}),cS=(e,n,o={})=>{const r=x$(o,n);return S4(e,r).map(c=>{const u=g$(e,c.content,c);return x4(e,u.html,c),u.content}).getOr(n)},J6="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Q6="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),E$="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),eR=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],Lg=(e,n)=>{const o=Ye(n,r=>qn(e,r));return Jn(o)},T$=e=>{const n=Lg(e,J6),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),Jn(n)},A$=e=>Lg(e,Q6),tR=(e,n)=>{const o=Dt.makeMap(e.plugins," "),c=Ye(n,u=>qn(o,u));return Jn(c)},O$=e=>tR(e,E$),D$=e=>tR(e,eR.map(n=>n.name)),z$=(e,n)=>{const o=T$(e),r=O$(n),c=r.length>0,u=o.length>0,m=n.theme==="mobile";if(c||u||m){const b=`
- `,k=m?`

Themes:${b}mobile`:"",S=c?`

Plugins:${b}${r.join(b)}`:"",z=u?`

Options:${b}${o.join(b)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+k+S+z)}},R$=e=>Le(eR,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),M$=(e,n)=>{const o=A$(e),r=D$(n),c=r.length>0,u=o.length>0;if(c||u){const m=`
- `,b=c?`

Plugins:${m}${r.map(R$).join(m)}`:"",k=u?`

Options:${m}${o.join(m)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+b+k)}},N$=(e,n)=>{z$(e,n),M$(e,n)},iS=Ys.DOM,P$=e=>{iS.setStyle(e.id,"display",e.orgDisplay)},U4=e=>F.from(e).each(n=>n.destroy()),uw=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},B$=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),iS.unbind(n,"submit reset",e.formEventDelegate))},W4=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&$e(c==null?void 0:c.nextSibling)&&iS.remove(c.nextSibling),X2(e),e.editorManager.remove(e),!e.inline&&r&&P$(e),R1(e),iS.remove(e.getContainer()),U4(n),U4(o),e.destroy()}},F$=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),U4(o),U4(r)),B$(e),uw(e),e.destroyed=!0}},lS=(()=>{const e={};return{add:(c,u)=>{e[c]=u},get:c=>e[c]?e[c]:{icons:{}},has:c=>qn(e,c)}})(),fv=va.ModelManager,th=(e,n)=>n.dom[e],nh=(e,n)=>parseInt(Rr(n,e),10),uS=et(th,"clientWidth"),dS=et(th,"clientHeight"),Zb=et(nh,"margin-top"),qb=et(nh,"margin-left"),fS=e=>e.dom.getBoundingClientRect(),mS=(e,n,o)=>{const r=uS(e),c=dS(e);return n>=0&&o>=0&&n<=r&&o<=c},nR=(e,n,o,r)=>{const c=fS(n),u=e?c.left+n.dom.clientLeft+qb(n):0,m=e?c.top+n.dom.clientTop+Zb(n):0,b=o-u,k=r-m;return{x:b,y:k}},j4=(e,n,o)=>{const r=de.fromDom(e.getBody()),c=e.inline?r:jm(r),u=nR(e.inline,c,n,o);return mS(c,u.x,u.y)},Z4=e=>F.from(e).map(de.fromDom),oR=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return Z4(n).map(ju).getOr(!1)};var sR=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Gb=e=>{const n=[],o=()=>{const I=e.theme;return I&&I.getNotificationManagerImpl?I.getNotificationManagerImpl():sR()},r=()=>F.from(n[0]),c=(I,Q)=>I.type===Q.type&&I.text===Q.text&&!I.progressBar&&!I.timeout&&!Q.progressBar&&!Q.timeout,u=()=>{ae(n,I=>{I.reposition()})},m=I=>{n.push(I)},b=I=>{Mt(n,Q=>Q===I).each(Q=>{n.splice(Q,1)})},k=(I,Q=!0)=>e.removed||!oR(e)?{}:(Q&&e.dispatch("BeforeOpenNotification",{notification:I}),Le(n,se=>c(o().getArgs(se),I)).getOrThunk(()=>{e.editorManager.setActive(e);const se=o().open(I,()=>{b(se),u(),r().fold(()=>e.focus(),K=>Tg(de.fromDom(K.getEl())))});return m(se),u(),e.dispatch("OpenNotification",{notification:te({},se)}),se})),S=()=>{r().each(I=>{o().close(I),b(I),u()})},z=rt(n);return(I=>{I.on("SkinLoaded",()=>{const Q=n2(I);Q&&k({text:Q,type:"warning",timeout:0},!1),u()}),I.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(u)}),I.on("remove",()=>{ae(n.slice(),Q=>{o().close(Q)})})})(e),{open:k,close:S,getNotifications:z}},Kb=va.PluginManager,oh=va.ThemeManager;var rR=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const dw=e=>{let n=[];const o=()=>{const K=e.theme;return K&&K.getWindowManagerImpl?K.getWindowManagerImpl():rR()},r=(K,oe)=>(...Te)=>oe?oe.apply(K,Te):void 0,c=K=>{e.dispatch("OpenWindow",{dialog:K})},u=K=>{e.dispatch("CloseWindow",{dialog:K})},m=K=>{n.push(K),c(K)},b=K=>{u(K),n=Ye(n,oe=>oe!==K),n.length===0&&e.focus()},k=()=>F.from(n[n.length-1]),S=K=>{e.editorManager.setActive(e),jT(e),e.ui.show();const oe=K();return m(oe),oe},z=(K,oe)=>S(()=>o().open(K,oe,b)),M=K=>S(()=>o().openUrl(K,b)),I=(K,oe,Te)=>{const ze=o();ze.alert(K,r(Te||ze,oe))},Q=(K,oe,Te)=>{const ze=o();ze.confirm(K,r(Te||ze,oe))},se=()=>{k().each(K=>{o().close(K),b(K)})};return e.on("remove",()=>{ae(n,K=>{o().close(K)})}),{open:z,openUrl:M,alert:I,confirm:Q,close:se}},q4=(e,n)=>{e.notificationManager.open({type:"error",text:n})},fw=(e,n)=>{e._skinLoaded?q4(e,n):e.on("SkinLoaded",()=>{q4(e,n)})},aR=(e,n)=>{fw(e,Vl.translate(["Failed to upload image: {0}",n]))},mv=(e,n,o)=>{M1(e,n,{message:o}),console.error(o)},md=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,sh=(e,n,o)=>{mv(e,"PluginLoadError",md("plugin",n,o))},Hd=(e,n,o)=>{mv(e,"IconsLoadError",md("icons",n,o))},$$=(e,n,o)=>{mv(e,"LanguageLoadError",md("language",n,o))},I$=(e,n,o)=>{mv(e,"ThemeLoadError",md("theme",n,o))},L$=(e,n,o)=>{mv(e,"ModelLoadError",md("model",n,o))},H$=(e,n,o)=>{const r=Vl.translate(["Failed to initialize plugin: {0}",n]);M1(e,"PluginLoadError",{message:r}),gS(r,o),fw(e,r)},gS=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},V$=e=>/^[a-z0-9\-]+$/i.test(e),U$=e=>cR(e,t2(e)),W$=e=>cR(e,Sm(e)),cR=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return we(n,u=>V$(u)&&!e.inline?`${o}/${u}/${c}`:e.documentBaseURI.toAbsolute(u))},j$=e=>{e.contentCSS=e.contentCSS.concat(U$(e),W$(e))},Z$=e=>e?Zo(e.getElementsByTagName("img")):[],q$=(e,n)=>{const o={};return{findAll:(c,u=it)=>{const m=Ye(Z$(c),k=>{const S=k.src;return k.hasAttribute("data-mce-bogus")||k.hasAttribute("data-mce-placeholder")||!S||S===pn.transparentSrc?!1:so(S,"blob:")?!e.isUploaded(S)&&u(k):so(S,"data:")?u(k):!1}),b=we(m,k=>{const S=k.src;if(qn(o,S))return o[S].then(z=>W(z)?z:{image:k,blobInfo:z.blobInfo});{const z=Gz(n,S).then(M=>(delete o[S],{image:k,blobInfo:M})).catch(M=>(delete o[S],M));return o[S]=z,z}});return Promise.all(b)}}},pS=()=>{let o={};const r=(I,Q)=>({status:I,resultUri:Q}),c=I=>I in o;return{hasBlobUri:c,getResultUri:I=>{const Q=o[I];return Q?Q.resultUri:null},isPending:I=>c(I)?o[I].status===1:!1,isUploaded:I=>c(I)?o[I].status===2:!1,markPending:I=>{o[I]=r(1,null)},markUploaded:(I,Q)=>{o[I]=r(2,Q)},removeFailed:I=>{delete o[I]},destroy:()=>{o={}}}};let G4=0;const iR=()=>{const e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},G$=e=>e+G4+++iR(),K$=()=>{let e=[];const n=M=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[M.toLowerCase()]||"dat",o=(M,I,Q,se,K)=>{if(W(M))return r({id:M,name:se,filename:K,blob:I,base64:Q});if(ft(M))return r(M);throw new Error("Unknown input type")},r=M=>{if(!M.blob||!M.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const I=M.id||G$("blobid"),Q=M.name||I,se=M.blob;return{id:rt(I),name:rt(Q),filename:rt(M.filename||Q+"."+n(se.type)),blob:rt(se),base64:rt(M.base64),blobUri:rt(M.blobUri||URL.createObjectURL(se)),uri:rt(M.uri)}},c=M=>{m(M.id())||e.push(M)},u=M=>Le(e,M).getOrUndefined(),m=M=>u(I=>I.id()===M);return{create:o,add:c,get:m,getByUri:M=>u(I=>I.blobUri()===M),getByData:(M,I)=>u(Q=>Q.base64()===M&&Q.blob().type===I),findFirst:u,removeByUri:M=>{e=Ye(e,I=>I.blobUri()===M?(URL.revokeObjectURL(I.blobUri()),!1):!0)},destroy:()=>{ae(e,M=>{URL.revokeObjectURL(M.blobUri())}),e=[]}}},lR=(e,n)=>{const o={},r=(K,oe)=>K?K.replace(/\/$/,"")+"/"+oe.replace(/^\//,""):oe,c=(K,oe)=>new Promise((Te,ze)=>{const Me=new XMLHttpRequest;Me.open("POST",n.url),Me.withCredentials=n.credentials,Me.upload.onprogress=At=>{oe(At.loaded/At.total*100)},Me.onerror=()=>{ze("Image upload failed due to a XHR Transport error. Code: "+Me.status)},Me.onload=()=>{if(Me.status<200||Me.status>=300){ze("HTTP Error: "+Me.status);return}const At=JSON.parse(Me.responseText);if(!At||!W(At.location)){ze("Invalid JSON: "+Me.responseText);return}Te(r(n.basePath,At.location))};const Ue=new FormData;Ue.append("file",K.blob(),K.filename()),Me.send(Ue)}),u=ce(n.handler)?n.handler:c,m=()=>new Promise(K=>{K([])}),b=(K,oe)=>({url:oe,blobInfo:K,status:!0}),k=(K,oe)=>({url:"",blobInfo:K,status:!1,error:oe}),S=(K,oe)=>{Dt.each(o[K],Te=>{Te(oe)}),delete o[K]},z=(K,oe,Te)=>(e.markPending(K.blobUri()),new Promise(ze=>{let Me,Ue;try{const At=()=>{Me&&(Me.close(),Ue=De)},sn=Je=>{At(),e.markUploaded(K.blobUri(),Je),S(K.blobUri(),b(K,Je)),ze(b(K,Je))},Kt=Je=>{At(),e.removeFailed(K.blobUri()),S(K.blobUri(),k(K,Je)),ze(k(K,Je))};Ue=Je=>{Je<0||Je>100||F.from(Me).orThunk(()=>F.from(Te).map(Ct)).each(nt=>{Me=nt,nt.progressBar.value(Je)})},oe(K,Ue).then(sn,Je=>{Kt(W(Je)?{message:Je}:Je)})}catch(At){ze(k(K,At))}})),M=K=>K===c,I=K=>{const oe=K.blobUri();return new Promise(Te=>{o[oe]=o[oe]||[],o[oe].push(Te)})},Q=(K,oe)=>(K=Dt.grep(K,Te=>!e.isUploaded(Te.blobUri())),Promise.all(Dt.map(K,Te=>e.isPending(Te.blobUri())?I(Te):z(Te,u,oe))));return{upload:(K,oe)=>!n.url&&M(u)?m():Q(K,oe)}},K4=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),hS=(e,n)=>lR(n,{url:EE(e),basePath:R0(e),credentials:TE(e),handler:J_(e)}),uR=e=>{const n=pS(),o=hS(e,n);return{upload:(r,c=!0)=>o.upload(r,c?K4(e):void 0)}},dR=(e,n)=>e.dom.isEmpty(n.dom)&&$e(e.schema.getTextBlockElements()[qs(n)]),Y4=e=>n=>{dR(e,n)&&Sa(n,de.fromHtml('<br data-mce-bogus="1" />'))},Y$=e=>{const n=K$();let o,r;const c=pS(),u=[],m=Me=>Ue=>e.selection?Me(Ue):[],b=Me=>Me+(Me.indexOf("?")===-1?"?":"&")+new Date().getTime(),k=(Me,Ue,At)=>{let sn=0;do sn=Me.indexOf(Ue,sn),sn!==-1&&(Me=Me.substring(0,sn)+At+Me.substr(sn+Ue.length),sn+=At.length-Ue.length+1);while(sn!==-1);return Me},S=(Me,Ue,At)=>{const sn=`src="${At}"${At===pn.transparentSrc?' data-mce-placeholder="1"':""}`;return Me=k(Me,`src="${Ue}"`,sn),Me=k(Me,'data-mce-src="'+Ue+'"','data-mce-src="'+At+'"'),Me},z=(Me,Ue)=>{ae(e.undoManager.data,At=>{At.type==="fragmented"?At.fragments=we(At.fragments,sn=>S(sn,Me,Ue)):At.content=S(At.content,Me,Ue)})},M=(Me,Ue)=>{const At=e.convertURL(Ue,"src");z(Me.src,Ue),Xi(de.fromDom(Me),{src:Y_(e)?b(Ue):Ue,"data-mce-src":At})},I=()=>(o||(o=hS(e,c)),oe().then(m(Me=>{const Ue=we(Me,At=>At.blobInfo);return o.upload(Ue,K4(e)).then(m(At=>{const sn=[];let Kt=!1;const Je=we(At,(nt,Bt)=>{const{blobInfo:Vn,image:ro}=Me[Bt];let jo=!1;return nt.status&&SE(e)?(nt.url&&!$n(ro.src,nt.url)&&(Kt=!0),n.removeByUri(ro.src),Fm(e)||M(ro,nt.url)):nt.error&&(nt.error.remove&&(z(ro.src,pn.transparentSrc),sn.push(ro),jo=!0),aR(e,nt.error.message)),{element:ro,status:nt.status,uploadUri:nt.url,blobInfo:Vn,removed:jo}});return sn.length>0&&!Fm(e)?e.undoManager.transact(()=>{ae(vd(sn),nt=>{const Bt=qc(nt);Ms(nt),Bt.each(Y4(e)),n.removeByUri(nt.dom.src)})}):Kt&&e.undoManager.dispatchChange(),Je}))}))),Q=()=>z0(e)?I():Promise.resolve([]),se=Me=>Nn(u,Ue=>Ue(Me)),K=Me=>{u.push(Me)},oe=()=>(r||(r=q$(c,n)),r.findAll(e.getBody(),se).then(m(Me=>{const Ue=Ye(Me,At=>W(At)?(fw(e,At),!1):At.uriType!=="blob");return Fm(e)||ae(Ue,At=>{z(At.image.src,At.blobInfo.blobUri()),At.image.src=At.blobInfo.blobUri(),At.image.removeAttribute("data-mce-src")}),Ue}))),Te=()=>{n.destroy(),c.destroy(),r=o=null},ze=Me=>Me.replace(/src="(blob:[^"]+)"/g,(Ue,At)=>{const sn=c.getResultUri(At);if(sn)return'src="'+sn+'"';let Kt=n.getByUri(At);return Kt||(Kt=J(e.editorManager.get(),(Je,nt)=>Je||nt.editorUpload&&nt.editorUpload.blobCache.getByUri(At),void 0)),Kt?'src="data:'+Kt.blob().type+";base64,"+Kt.base64()+'"':Ue});return e.on("SetContent",()=>{z0(e)?Q():oe()}),e.on("RawSaveContent",Me=>{Me.content=ze(Me.content)}),e.on("GetContent",Me=>{Me.source_view||Me.format==="raw"||Me.format==="tree"||(Me.content=ze(Me.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Me=>{ae(Me,Ue=>{const At=Ue.attr("src");if(!At||n.getByUri(At))return;const sn=c.getResultUri(At);sn&&Ue.attr("src",sn)})})}),{blobCache:n,addFilter:K,uploadImages:I,uploadImagesAuto:Q,scanForImages:oe,destroy:Te}},X$=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{n.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[m,c,u]:[c,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,u,m)=>wn(c)&&c.hasAttribute("href"),onformat:(c,u,m)=>{Dt.each(m,(b,k)=>{n.setAttrib(c,k,b)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var u;return(u=c==null?void 0:c.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Dt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},Hf={remove_similar:!0,inherit:!1},fl=te({selector:"td,th"},Hf),bS={tablecellbackgroundcolor:te({styles:{backgroundColor:"%value"}},fl),tablecellverticalalign:te({styles:{"vertical-align":"%value"}},fl),tablecellbordercolor:te({styles:{borderColor:"%value"}},fl),tablecellclass:te({classes:["%value"]},fl),tableclass:te({selector:"table",classes:["%value"]},Hf),tablecellborderstyle:te({styles:{borderStyle:"%value"}},fl),tablecellborderwidth:te({styles:{borderWidth:"%value"}},fl)},fR=rt(bS),yS=e=>{const n={},o=m=>$e(m)?n[m]:n,r=m=>qn(n,m),c=(m,b)=>{m&&(W(m)?(ht(b)||(b=[b]),ae(b,k=>{Sn(k.deep)&&(k.deep=!cl(k)),Sn(k.split)&&(k.split=!cl(k)||Ba(k)),Sn(k.remove)&&cl(k)&&!Ba(k)&&(k.remove="none"),cl(k)&&Ba(k)&&(k.mixed=!0,k.block_expand=!0),W(k.classes)&&(k.classes=k.classes.split(/\s+/))}),n[m]=b):xt(m,(k,S)=>{c(S,k)}))},u=m=>(m&&n[m]&&delete n[m],n);return c(X$(e)),c(fR()),c(RE(e)),{get:o,has:r,register:c,unregister:u}},mw=Dt.each,Ou=Ys.DOM,vS=e=>$e(e)&&ft(e),X4=(e,n)=>{const o=n&&n.schema||Ju({}),r=(k,S)=>{S.classes.length>0&&Ou.addClass(k,S.classes.join(" ")),Ou.setAttribs(k,S.attrs)},c=k=>{const S=W(k)?{name:k,classes:[],attrs:{}}:k,z=Ou.create(S.name);return r(z,S),z},u=(k,S)=>{const z=o.getElementRule(k.nodeName.toLowerCase()),M=z==null?void 0:z.parentsRequired;return M&&M.length?S&&ee(M,S)?S:M[0]:!1},m=(k,S,z)=>{let M;const I=S[0],Q=vS(I)?I.name:void 0,se=u(k,Q);if(se)Q===se?(M=I,S=S.slice(1)):M=se;else if(I)M=I,S=S.slice(1);else if(!z)return k;const K=M?c(M):Ou.create("div");K.appendChild(k),z&&Dt.each(z,Te=>{const ze=c(Te);K.insertBefore(ze,k)});const oe=vS(M)?M.siblings:void 0;return m(K,S,oe)},b=Ou.create("div");if(e.length>0){const k=e[0],S=c(k),z=vS(k)?k.siblings:void 0;b.appendChild(m(S,e.slice(1),z))}return b},mR=e=>{e=Dt.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,u,m,b)=>{switch(c){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":Dt.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(m==="["){const k=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(o.attrs[k[1]]=k[2])}return""})),o.name=n||"div",o},gR=e=>W(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Dt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=Dt.map(n.split(/(?:~\+|~|\+)/),mR),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],kS=(e,n)=>{let o="",r=ME(e);if(r==="")return"";const c=I=>W(I)?I.replace(/%(\w+)/g,""):"",u=(I,Q)=>Ou.getStyle(Q!=null?Q:e.getBody(),I,!0);if(W(n)){const I=e.formatter.get(n);if(!I)return"";n=I[0]}if("preview"in n){const I=n.preview;if(I===!1)return"";r=I||r}let m=n.block||n.inline||"span",b;const k=gR(n.selector);k.length>0?(k[0].name||(k[0].name=m),m=n.selector,b=X4(k,e)):b=X4([m],e);const S=Ou.select(m,b)[0]||b.firstChild;mw(n.styles,(I,Q)=>{const se=c(I);se&&Ou.setStyle(S,Q,se)}),mw(n.attributes,(I,Q)=>{const se=c(I);se&&Ou.setAttrib(S,Q,se)}),mw(n.classes,I=>{const Q=c(I);Ou.hasClass(S,Q)||Ou.addClass(S,Q)}),e.dispatch("PreviewFormats"),Ou.setStyles(b,{position:"absolute",left:-65535}),e.getBody().appendChild(b);const z=u("fontSize"),M=/px$/.test(z)?parseInt(z,10):0;return mw(r.split(" "),I=>{let Q=u(I,S);if(!(I==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Q)&&(Q=u(I),x1(Q).toLowerCase()==="#ffffff"))&&!(I==="color"&&x1(Q).toLowerCase()==="#000000")){if(I==="font-size"&&/em|%$/.test(Q)){if(M===0)return;Q=parseFloat(Q)/(/%$/.test(Q)?100:1)*M+"px"}I==="border"&&Q&&(o+="padding:0 2px;"),o+=I+":"+Q+";"}}),e.dispatch("AfterPreviewFormats"),Ou.remove(b),o},J4=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},pR=e=>{const n=yS(e),o=Pa({});return J4(e),FB(e),Fm(e)||Bj(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,c,u)=>{If(e,r,c,u)},remove:(r,c,u,m)=>{I4(e,r,c,u,m)},toggle:(r,c,u)=>{d$(e,r,c,u)},match:(r,c,u,m)=>c$(e,r,c,u,m),closest:r=>Wj(e,r),matchAll:(r,c)=>i$(e,r,c),matchNode:(r,c,u,m)=>l$(e,r,c,u,m),canApply:r=>u$(e,r),formatChanged:(r,c,u,m)=>f$(e,o,r,c,u,m),getCssText:et(kS,e)}},hR=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},J$=(e,n,o)=>{const r=Pa(!1),c=k=>{Wb(n,!1,o),n.add({},k)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",k=>{const S=k.command;hR(S)||(M6(n,o),n.beforeChange())}),e.on("ExecCommand",k=>{const S=k.command;hR(S)||c(k)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",k=>{const S=k.keyCode;if(k.isDefaultPrevented())return;const z=pn.os.isMacOS()&&k.key==="Meta";(S>=33&&S<=36||S>=37&&S<=40||S===45||k.ctrlKey||z)&&(c(),e.nodeChanged()),(S===46||S===8)&&e.nodeChanged(),r.get()&&n.typing&&!P4(rS(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",k=>{const S=k.keyCode;if(k.isDefaultPrevented())return;if(S>=33&&S<=36||S>=37&&S<=40||S===45){n.typing&&c(k);return}const z=k.ctrlKey&&!k.altKey||k.metaKey;if((S<16||S>20)&&S!==224&&S!==91&&!n.typing&&!z){n.beforeChange(),Wb(n,!0,o),n.add({},k),r.set(!0);return}(pn.os.isMacOS()?k.metaKey:k.ctrlKey&&!k.altKey)&&n.beforeChange()}),e.on("mousedown",k=>{n.typing&&c(k)});const u=k=>k.inputType==="insertReplacementText",m=k=>k.inputType==="insertText"&&k.data===null,b=k=>k.inputType==="insertFromPaste"||k.inputType==="insertFromDrop";e.on("input",k=>{k.inputType&&(u(k)||m(k)||b(k))&&c(k)}),e.on("AddUndo Undo Redo ClearUndos",k=>{k.isDefaultPrevented()||e.nodeChanged()})},Q$=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Q4=e=>{const n=Qu(),o=Pa(0),r=Pa(0),c={data:[],typing:!1,beforeChange:()=>{t$(e,o,n)},add:(u,m)=>L6(e,c,r,o,n,u,m),dispatchChange:()=>{e.setDirty(!0);const u=rS(e);u.bookmark=s1(e.selection),e.dispatch("change",{level:u,lastLevel:ao(c.data,r.get()).getOrUndefined()})},undo:()=>n$(e,c,o,r),redo:()=>o$(e,r,c.data),clear:()=>{aw(e,c,r)},reset:()=>{H6(e,c)},hasUndo:()=>V6(e,c,r),hasRedo:()=>s$(e,c,r),transact:u=>r$(e,c,o,u),ignore:u=>{a$(e,o,u)},extra:(u,m)=>{U6(e,c,r,u,m)}};return Fm(e)||J$(e,c,o),Q$(e),c},eI=[9,27,Cn.HOME,Cn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Cn.DOWN,Cn.UP,Cn.LEFT,Cn.RIGHT].concat(pn.browser.isFirefox()?[224]:[]),bR="data-mce-placeholder",wS=e=>e.type==="keydown"||e.type==="keyup",yR=e=>{const n=e.keyCode;return n===Cn.BACKSPACE||n===Cn.DELETE},tI=e=>{if(wS(e)){const n=e.keyCode;return!yR(e)&&(Cn.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||ee(eI,n))}else return!1},nI=e=>wS(e)&&!(yR(e)||e.type==="keyup"&&e.keyCode===229),oI=(e,n,o)=>{if(ba(de.fromDom(n),!1)){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},sI=e=>{var n;const o=e.dom,r=ci(e),c=(n=Ep(e))!==null&&n!==void 0?n:"",u=(m,b)=>{if(tI(m))return;const k=e.getBody(),S=nI(m)?!1:oI(o,k,r);(o.getAttrib(k,bR)!==""!==S||b)&&(o.setAttrib(k,bR,S?c:null),o.setAttrib(k,"aria-placeholder",S?c:null),Hp(e,S),e.on(S?"keydown":"keyup",u),e.off(S?"keyup":"keydown",u))};wo(c)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",b=>ad.setEditorTimeout(e,()=>u(b)))})},rI=(e,n)=>({block:e,position:n}),aI=(e,n)=>({from:e,to:n}),gv=(e,n)=>{const o=de.fromDom(e),r=de.fromDom(n.container());return ur(o,r).map(c=>rI(c,n))},eA=e=>!Rs(e.from.block,e.to.block),vR=(e,n)=>Kc(n,c=>cm(c)||nc(c.dom),c=>Rs(c,e)).filter(lc).getOr(e),cI=(e,n)=>{const o=de.fromDom(e);return Rs(vR(o,n.from.block),vR(o,n.to.block))},iI=e=>As(e.from.block.dom)===!1&&As(e.to.block.dom)===!1,lI=e=>{const n=o=>Hi(o)||mp(o.dom);return n(e.from.block)&&n(e.to.block)},kR=(e,n,o)=>na(o.position.getNode())&&!ba(o.block)?Np(!1,o.block.dom).bind(r=>r.isEqual(o.position)?Al(n,e,r).bind(c=>gv(e,c)):F.some(o)).getOr(o):o,uI=(e,n,o)=>{const r=gv(e,ut.fromRangeStart(o)),c=r.bind(u=>Al(n,e,u.position).bind(m=>gv(e,m).map(b=>kR(e,n,b))));return ca(r,c,aI).filter(u=>eA(u)&&cI(e,u)&&iI(u)&&lI(u))},dI=(e,n,o)=>o.collapsed?uI(e,n,o):F.none(),tA=e=>{const n=Ua(e);return Mt(n,Li).fold(rt(n),o=>n.slice(0,o))},wR=e=>{const n=tA(e);return ae(n,Ms),n},_R=(e,n)=>{const o=Dg(n,e);return Le(o.reverse(),r=>ba(r)).each(Ms)},fI=e=>Ye(Qf(e),n=>!ba(n)).length===0,mI=(e,n,o,r)=>{if(ba(o))return G(o),ka(o.dom);fI(r)&&ba(n)&&Wa(r,de.fromTag("br"));const c=ii(o.dom,ut.before(r.dom));return ae(wR(n),u=>{Wa(r,u)}),_R(e,n),c},gI=(e,n,o)=>{if(ba(o)){if(ba(n)){const u=We((m=>{const b=(k,S)=>yd(k).fold(()=>S,z=>Yc(z)?b(z,S.concat(vf(z))):S);return b(m,[])})(o),(m,b)=>(_h(m,b),b),L());du(n),Sa(n,u)}return Ms(o),ka(n.dom)}const r=Ol(o.dom);return ae(wR(n),c=>{Sa(o,c)}),_R(e,n),r},pI=(e,n)=>{const o=Dg(n,e);return F.from(o[o.length-1])},hI=(e,n)=>dc(n,e)?pI(n,e):F.none(),gw=(e,n)=>{Np(e,n.dom).bind(o=>F.from(o.getNode())).map(de.fromDom).filter(wi).each(Ms)},pw=(e,n,o)=>(gw(!0,n),gw(!1,o),hI(n,o).fold(et(gI,e,n,o),et(mI,e,n,o))),CR=(e,n,o,r)=>n?pw(e,r,o):pw(e,o,r),nA=(e,n)=>{const o=de.fromDom(e.getBody());return dI(o.dom,n,e.selection.getRng()).map(c=>()=>{CR(o,n,c.from.block,c.to.block).each(u=>{e.selection.setRng(u.toRange())})})},_S=(e,n)=>{const o=n.getRng();return ca(ur(e,de.fromDom(o.startContainer)),ur(e,de.fromDom(o.endContainer)),(r,c)=>Rs(r,c)?F.none():F.some(()=>{o.deleteContents(),CR(e,!0,r,c).each(u=>{n.setRng(u.toRange())})})).getOr(F.none())},SR=(e,n)=>{const o=de.fromDom(n),r=et(Rs,e);return Ur(o,cm,r).isSome()},bI=(e,n)=>SR(e,n.startContainer)||SR(e,n.endContainer),yI=(e,n)=>{const o=ii(e.dom,ut.fromRangeStart(n)).isNone(),r=qi(e.dom,ut.fromRangeEnd(n)).isNone();return!bI(e,n)&&o&&r},vI=e=>F.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),kI=e=>{const n=de.fromDom(e.getBody()),o=e.selection.getRng();return yI(n,o)?vI(e):_S(n,e.selection)},oA=(e,n)=>e.selection.isCollapsed()?F.none():kI(e),Hg=(e,n,o,r,c)=>F.from(n._selectionOverrides.showCaret(e,o,r,c)),wI=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},hw=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?F.none():F.some(wI(n)),_I=(e,n,o)=>{const r=q0(1,e.getBody(),n),c=ut.fromRangeStart(r),u=c.getNode();if(Em(u))return Hg(1,e,u,!c.isAtEnd(),!1);const m=c.getNode(!0);if(Em(m))return Hg(1,e,m,!1,!1);const b=Gp(e.dom.getRoot(),c.getNode());return Em(b)?Hg(1,e,b,!1,o):F.none()},sA=(e,n,o)=>n.collapsed?_I(e,n,o).getOr(n):n,Xj=e=>Zp(e)||Ag(e),Vd=e=>Og(e)||Z1(e),rA=(e,n)=>{It(n)&&n.data.length===0&&e.remove(n)},aA=(e,n,o,r,c,u)=>{Hg(r,e,u.getNode(!c),c,!0).each(m=>{if(n.collapsed){const b=n.cloneRange();c?b.setEnd(m.startContainer,m.startOffset):b.setStart(m.endContainer,m.endOffset),b.deleteContents()}else n.deleteContents();e.selection.setRng(m)}),rA(e.dom,o)},xR=(e,n)=>{const o=e.selection.getRng();if(!It(o.commonAncestorContainer))return F.none();const r=n?bc.Forwards:bc.Backwards,c=Af(e.getBody()),u=et(k1,n?c.next:c.prev),m=n?Xj:Vd,b=bg(r,e.getBody(),o),k=u(b),S=k&&cd(n,k);if(!S||!Rp(b,S))return F.none();if(m(S))return F.some(()=>aA(e,o,b.getNode(),r,n,S));const z=u(S);return z&&m(z)&&Rp(S,z)?F.some(()=>aA(e,o,b.getNode(),r,n,z)):F.none()},cA=(e,n)=>xR(e,n),CS=(e,n)=>{const o=e.getBody();return n?ka(o).filter(Zp):Ol(o).filter(Og)},iA=e=>{const n=e.selection.getRng();return!n.collapsed&&(CS(e,!0).exists(o=>o.isEqual(ut.fromRangeStart(n)))||CS(e,!1).exists(o=>o.isEqual(ut.fromRangeEnd(n))))},ER=e=>$e(e)&&(cm(de.fromDom(e))||Ea(de.fromDom(e))),Du=Sf.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),CI=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return wn(o)&&o.getAttribute("data-mce-caret")===r},SI=(e,n,o,r)=>{const c=u=>Yc(de.fromDom(u))&&!wu(o,r,e);return E2(!n,o).fold(()=>E2(n,r).fold(Re,c),c)},Yb=(e,n,o,r)=>{const c=r.getNode(!n);return ur(de.fromDom(e),de.fromDom(o.getNode())).map(u=>ba(u)?Du.remove(u.dom):Du.moveToElement(c)).orThunk(()=>F.some(Du.moveToElement(c)))},lA=(e,n,o)=>Al(n,e,o).bind(r=>ER(r.getNode())||SI(e,n,o,r)?F.none():n&&As(r.getNode())||!n&&As(r.getNode(!0))?Yb(e,n,o,r):n&&Og(o)||!n&&Zp(o)?F.some(Du.moveToPosition(r)):F.none()),TR=(e,n)=>Jt(n)?F.none():e&&As(n.nextSibling)?F.some(Du.moveToElement(n.nextSibling)):!e&&As(n.previousSibling)?F.some(Du.moveToElement(n.previousSibling)):F.none(),AR=(e,n,o)=>o.fold(r=>F.some(Du.remove(r)),r=>F.some(Du.moveToElement(r)),r=>wu(n,r,e)?F.none():F.some(Du.moveToPosition(r))),uA=(e,n,o)=>CI(n,o)?TR(n,o.getNode(!n)).orThunk(()=>lA(e,n,o)):lA(e,n,o).bind(r=>AR(e,o,r)),xI=(e,n,o)=>{const r=q0(n?1:-1,e,o),c=ut.fromRangeStart(r),u=de.fromDom(e);return!n&&Og(c)?F.some(Du.remove(c.getNode(!0))):n&&Zp(c)?F.some(Du.remove(c.getNode())):!n&&Zp(c)&&wC(u,c)?ED(u,c).map(m=>Du.remove(m.getNode())):n&&Og(c)&&kC(u,c)?VP(u,c).map(m=>Du.remove(m.getNode())):uA(e,n,c)},EI=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),zg(e,n,de.fromDom(o)),!0),TI=(e,n)=>o=>{const r=n?ut.before(o):ut.after(o);return e.selection.setRng(r.toRange()),!0},Jj=e=>n=>(e.selection.setRng(n.toRange()),!0),AI=(e,n)=>F.from(Gp(e.getBody(),n)),Qj=(e,n)=>{const o=e.selection.getNode();return AI(e,o).filter(As).fold(()=>xI(e.getBody(),n,e.selection.getRng()).map(r=>()=>r.fold(EI(e,n),TI(e,n),Jj(e))),()=>F.some(De))},Ud=e=>{ae(ja(e,".mce-offscreen-selection"),Ms)},OI=(e,n)=>{const o=e.selection.getNode();return As(o)&&!gu(o)?AI(e,o.parentNode).filter(As).fold(()=>F.some(()=>{Ud(de.fromDom(e.getBody())),zg(e,n,de.fromDom(e.selection.getNode())),Mb(e)}),()=>F.some(De)):iA(e)?F.some(()=>{TC(e,e.selection.getRng(),de.fromDom(e.getBody()))}):F.none()},OR=e=>{const n=e.dom,o=e.selection,r=Gp(e.getBody(),o.getNode());if(nc(r)&&n.isBlock(r)&&n.isEmpty(r)){const c=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(c),o.setRng(ut.before(c).toRange())}return!0},Vg=(e,n)=>e.selection.isCollapsed()?Qj(e,n):OI(e,n),DR=(e,n)=>{const o=ut.fromRangeStart(e.selection.getRng());return Al(n,e.getBody(),o).filter(r=>n?$P(r):IP(r)).bind(r=>Op(n?0:-1,r)).map(r=>()=>e.selection.select(r))},dA=(e,n)=>e.selection.isCollapsed()?DR(e,n):F.none(),Ug=It,zR=e=>Ug(e)&&e.data[0]===st,RR=e=>Ug(e)&&e.data[e.data.length-1]===st,MR=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(st)},DI=e=>{var n;if(Ug(e.previousSibling))return RR(e.previousSibling)||e.previousSibling.appendData(st),e.previousSibling;if(Ug(e))return zR(e)||e.insertData(0,st),e;{const o=MR(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},zI=e=>{var n,o;if(Ug(e.nextSibling))return zR(e.nextSibling)||e.nextSibling.insertData(0,st),e.nextSibling;if(Ug(e))return RR(e)||e.appendData(st),e;{const r=MR(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},SS=(e,n)=>e?DI(n):zI(n),Wg=et(SS,!0),RI=et(SS,!1),NR=(e,n)=>It(e.container())?SS(n,e.container()):SS(n,e.getNode()),PR=(e,n)=>{const o=n.get();return o&&e.container()===o&&Ss(o)},fA=(e,n)=>n.fold(o=>{Ka(e.get());const r=Wg(o);return e.set(r),F.some(ut(r,r.length-1))},o=>ka(o).map(r=>{if(PR(r,e)){const c=e.get();return ut(c,1)}else{Ka(e.get());const c=NR(r,!0);return e.set(c),ut(c,1)}}),o=>Ol(o).map(r=>{if(PR(r,e)){const c=e.get();return ut(c,c.length-1)}else{Ka(e.get());const c=NR(r,!1);return e.set(c),ut(c,c.length-1)}}),o=>{Ka(e.get());const r=RI(o);return e.set(r),F.some(ut(r,1))}),BR=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return F.none()},Di=Sf.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),xS=(e,n)=>{const o=Rd(n,e);return o||e},mA=(e,n,o)=>{const r=iB(o),c=xS(n,r.container());return Rg(e,c,r).fold(()=>qi(c,r).bind(et(Rg,e,c)).map(u=>Di.before(u)),F.none)},FR=(e,n)=>Om(e,n)===null,gA=(e,n,o)=>Rg(e,n,o).filter(et(FR,n)),$R=(e,n,o)=>{const r=EC(o);return gA(e,n,r).bind(c=>ii(c,r).isNone()?F.some(Di.start(c)):F.none())},MI=(e,n,o)=>{const r=iB(o);return gA(e,n,r).bind(c=>qi(c,r).isNone()?F.some(Di.end(c)):F.none())},bw=(e,n,o)=>{const r=EC(o),c=xS(n,r.container());return Rg(e,c,r).fold(()=>ii(c,r).bind(et(Rg,e,c)).map(u=>Di.after(u)),F.none)},ES=e=>!FD(TS(e)),Vf=(e,n,o)=>BR([mA,$R,MI,bw],[e,n,o]).filter(ES),TS=e=>e.fold(Hn,Hn,Hn,Hn),pA=e=>e.fold(rt("before"),rt("start"),rt("end"),rt("after")),yw=e=>e.fold(Di.before,Di.before,Di.after,Di.after),pv=e=>e.fold(Di.start,Di.start,Di.end,Di.end),hA=(e,n)=>pA(e)===pA(n)&&TS(e)===TS(n),vw=(e,n,o,r,c,u)=>ca(Rg(n,o,r),Rg(n,o,c),(m,b)=>m!==b&&$d(o,m,b)?Di.after(e?m:b):u).getOr(u),NI=(e,n)=>e.fold(it,o=>!hA(o,n)),IR=(e,n,o,r,c)=>{const u=cd(e,c);return Al(e,o,u).map(et(cd,e)).fold(()=>r.map(yw),k=>Vf(n,o,k).map(et(vw,e,n,o,u,k)).filter(et(NI,r))).filter(ES)},PI=(e,n)=>e?n.fold(E(F.some,Di.start),F.none,E(F.some,Di.after),F.none):n.fold(F.none,E(F.some,Di.before),F.none,E(F.some,Di.end)),BI=(e,n,o,r)=>{const c=cd(e,r),u=Vf(n,o,c);return Vf(n,o,c).bind(et(PI,e)).orThunk(()=>IR(e,n,o,u,r))},LR=e=>ce(e.selection.getSel().modify),HR=(e,n,o)=>{const r=e?1:-1;return n.setRng(ut(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},VR=(e,n)=>{const o=n.selection.getRng(),r=e?ut.fromRangeEnd(o):ut.fromRangeStart(o);return LR(n)?e&&xl(r)?HR(!0,n.selection,r):!e&&hu(r)?HR(!1,n.selection,r):!1:!1};var jg;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(jg||(jg={}));const AS=(e,n)=>e===bc.Backwards?Un(n):n,FI=(e,n,o)=>e===bc.Forwards?n.next(o):n.prev(o),$I=(e,n,o,r)=>na(r.getNode(n===bc.Forwards))?jg.Br:wu(o,r)===!1?jg.Block:jg.Wrap,UR=(e,n,o,r)=>{const c=Af(o);let u=r;const m=[];for(;u;){const b=FI(n,c,u);if(!b)break;if(na(b.getNode(!1)))return n===bc.Forwards?{positions:AS(n,m).concat([b]),breakType:jg.Br,breakAt:F.some(b)}:{positions:AS(n,m),breakType:jg.Br,breakAt:F.some(b)};if(!b.isVisible()){u=b;continue}if(e(u,b)){const k=$I(o,n,u,b);return{positions:AS(n,m),breakType:k,breakAt:F.some(b)}}m.push(b),u=b}return{positions:AS(n,m),breakType:jg.Eol,breakAt:F.none()}},WR=(e,n,o,r)=>n(o,r).breakAt.map(c=>{const u=n(o,c).positions;return e===bc.Backwards?u.concat(c):[c].concat(u)}).getOr([]),bA=(e,n)=>J(e,(o,r)=>o.fold(()=>F.some(r),c=>ca(kn(c.getClientRects()),kn(r.getClientRects()),(u,m)=>{const b=Math.abs(n-u.left);return Math.abs(n-m.left)<=b?r:c}).or(o)),F.none()),OS=(e,n)=>kn(n.getClientRects()).bind(o=>bA(e,o.left)),kw=et(UR,ut.isAbove,-1),hv=et(UR,ut.isBelow,1),jR=et(WR,-1,kw),rh=et(WR,1,hv),yA=(e,n)=>kw(e,n).breakAt.isNone(),DS=(e,n)=>hv(e,n).breakAt.isNone(),ZR=e=>ka(e).map(n=>[n].concat(hv(e,n).positions)).getOr([]),vA=e=>Ol(e).map(n=>kw(e,n).positions.concat(n)).getOr([]),ah=(e,n)=>OS(jR(e,n),n),qR=(e,n)=>OS(rh(e,n),n),gd=As,ch=(e,n)=>Math.abs(e.left-n),zS=(e,n)=>Math.abs(e.right-n),II=e=>cr(e,"node"),kA=(e,n)=>ie(e,(o,r)=>{const c=Math.min(ch(o,n),zS(o,n)),u=Math.min(ch(r,n),zS(r,n));return u===c&&II(r)&&gd(r.node)||u<c?r:o}),LI=e=>{const n=o=>we(o,r=>{const c=lg(r);return c.node=e,c});if(wn(e))return n(e.getClientRects());if(It(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},GR=e=>On(e,LI);var ww;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(ww||(ww={}));const HI=(e,n,o,r)=>{let c=r;for(;c=nd(c,e,tg,n);)if(o(c))return},KR=(e,n,o,r,c,u)=>{let m=0;const b=[],k=M=>{let I=GR([M]);e===-1&&(I=I.reverse());for(let Q=0;Q<I.length;Q++){const se=I[Q];if(!o(se,S)){if(b.length>0&&n(se,Ge(b))&&m++,se.line=m,c(se))return!0;b.push(se)}}return!1},S=Ge(u.getClientRects());if(!S)return b;const z=u.getNode();return z&&(k(z),HI(e,r,k,z)),b},YR=(e,n)=>n.line>e,VI=(e,n)=>n.line===e,UI=et(KR,ww.Up,jr,rl),bv=et(KR,ww.Down,rl,jr),RS=e=>Ge(e.getClientRects()),XR=(e,n,o,r)=>{const c=Af(n);let u,m,b,k;const S=[];let z=0;e===1?(u=c.next,m=rl,b=jr,k=ut.after(r)):(u=c.prev,m=jr,b=rl,k=ut.before(r));const M=RS(k);do{if(!k.isVisible())continue;const I=RS(k);if(b(I,M))continue;S.length>0&&m(I,Ge(S))&&z++;const Q=lg(I);if(Q.position=k,Q.line=z,o(Q))return S;S.push(Q)}while(k=u(k));return S},wA=e=>n=>YR(e,n),_w=e=>n=>VI(e,n),Zg=(e,n)=>{e.selection.setRng(n),Oi(e,e.selection.getRng())},_A=(e,n,o)=>F.some(sA(e,n,o)),JR=(e,n,o,r,c,u)=>{const m=n===bc.Forwards,b=Af(e.getBody()),k=et(k1,m?b.next:b.prev),S=m?r:c;if(!o.collapsed){const se=kp(o);if(u(se))return Hg(n,e,se,n===bc.Backwards,!1);if(iA(e)){const K=o.cloneRange();return K.collapse(n===bc.Backwards),F.from(K)}}const z=bg(n,e.getBody(),o);if(S(z))return hw(e,z.getNode(!m));let M=k(z);const I=pa(o);if(M)M=cd(m,M);else return I?F.some(o):F.none();if(S(M))return Hg(n,e,M.getNode(!m),m,!1);const Q=k(M);return Q&&S(Q)&&Rp(M,Q)?Hg(n,e,Q.getNode(!m),m,!1):I?_A(e,M.toRange(),!1):F.none()},QR=(e,n,o,r,c,u)=>{const m=bg(n,e.getBody(),o),b=Ge(m.getClientRects()),k=n===ww.Down,S=e.getBody();if(!b)return F.none();if(iA(e)){const oe=k?ut.fromRangeEnd(o):ut.fromRangeStart(o);return(k?qR:ah)(S,oe).orThunk(()=>F.from(oe)).map(ze=>ze.toRange())}const M=(k?bv:UI)(S,wA(1),m),I=Ye(M,_w(1)),Q=b.left,se=kA(I,Q);if(se&&u(se.node)){const oe=Math.abs(Q-se.left),Te=Math.abs(Q-se.right);return Hg(n,e,se.node,oe<Te,!1)}let K;if(r(m)?K=m.getNode():c(m)?K=m.getNode(!0):K=kp(o),K){const oe=XR(n,S,wA(1),K);let Te=kA(Ye(oe,_w(1)),Q);if(Te||(Te=Ge(Ye(oe,_w(0))),Te))return _A(e,Te.position.toRange(),!1)}return I.length===0?CA(e,k).filter(k?c:r).map(oe=>sA(e,oe.toRange(),!1)):F.none()},CA=(e,n)=>{const o=e.selection.getRng(),r=n?ut.fromRangeEnd(o):ut.fromRangeStart(o),c=oT(r.container(),e.getBody());if(n){const u=hv(c,r);return co(u.positions)}else{const u=kw(c,r);return kn(u.positions)}},eM=(e,n,o)=>CA(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),MS=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},SA=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},tM=(e,n,o)=>fA(n,o).map(r=>(MS(e,r),o)),WI=(e,n,o)=>{const r=ut.fromRangeStart(e);if(e.collapsed)return r;{const c=ut.fromRangeEnd(e);return o?ii(n,c).getOr(c):qi(n,r).getOr(r)}},zu=(e,n,o)=>{const r=e.getBody(),c=WI(e.selection.getRng(),r,o),u=et(Rb,e);return BI(o,u,r,c).bind(b=>tM(e,n,b))},jI=(e,n,o)=>{const r=we(ja(de.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),m=>m.dom),c=Ye(r,e),u=Ye(o,e);ae($o(c,u),et(SA,!1)),ae($o(u,c),et(SA,!0))},xA=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=ut.fromRangeStart(e.selection.getRng());ut.isTextPosition(r)&&!cB(r)&&(MS(e,C2(o,r)),n.set(null))}},nM=(e,n,o,r)=>{if(n.selection.isCollapsed()){const c=Ye(r,e);ae(c,u=>{const m=ut.fromRangeStart(n.selection.getRng());Vf(e,n.getBody(),m).bind(b=>tM(n,o,b))})}},NS=(e,n,o)=>Jh(e)?zu(e,n,o).isSome():!1,oM=(e,n,o)=>Jh(n)?VR(e,n):!1,ZI=e=>{const n=Pa(null),o=et(Rb,e);return e.on("NodeChange",r=>{Jh(e)&&(jI(o,e.dom,r.parents),xA(e,n),nM(o,e,n,r.parents))}),n},qI=et(oM,!0),GI=et(oM,!1),PS=(e,n,o)=>{if(Jh(e)){const r=CA(e,n).getOrThunk(()=>{const c=e.selection.getRng();return n?ut.fromRangeEnd(c):ut.fromRangeStart(c)});return Vf(et(Rb,e),e.getBody(),r).exists(c=>{const u=yw(c);return fA(o,u).exists(m=>(MS(e,m),!0))})}else return!1},sM=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},KI=e=>ca(ka(e),Ol(e),(n,o)=>{const r=cd(!0,n),c=cd(!1,o);return qi(e,r).forall(u=>u.isEqual(c))}).getOr(!0),rM=(e,n)=>o=>fA(n,o).map(r=>()=>MS(e,r)),yv=(e,n,o,r)=>{const c=e.getBody(),u=et(Rb,e);e.undoManager.ignore(()=>{e.selection.setRng(sM(o,r)),d3(e),Vf(u,c,ut.fromRangeStart(e.selection.getRng())).map(pv).bind(rM(e,n)).each(vn)}),e.nodeChanged()},qg=(e,n)=>{const o=Rd(n,e);return o||e},Xb=(e,n,o,r)=>{const c=qg(e.getBody(),r.container()),u=et(Rb,e),m=Vf(u,c,r);return m.bind(k=>o?k.fold(rt(F.some(pv(k))),F.none,rt(F.some(yw(k))),F.none):k.fold(F.none,rt(F.some(yw(k))),F.none,rt(F.some(pv(k))))).map(rM(e,n)).getOrThunk(()=>{const k=Am(o,c,r),S=k.bind(z=>Vf(u,c,z));return ca(m,S,()=>Rg(u,c,r).bind(z=>KI(z)?F.some(()=>{zg(e,o,de.fromDom(z))}):F.none())).getOrThunk(()=>S.bind(()=>k.map(z=>()=>{o?yv(e,n,r,z):yv(e,n,z,r)})))})},vv=(e,n,o)=>{if(e.selection.isCollapsed()&&Jh(e)){const r=ut.fromRangeStart(e.selection.getRng());return Xb(e,n,o,r)}return F.none()},EA=e=>Gc(e)>1,BS=(e,n)=>{const o=de.fromDom(e.getBody()),r=de.fromDom(e.selection.getStart()),c=Dg(r,o);return Mt(c,n).fold(rt(c),u=>c.slice(0,u))},aM=e=>Gc(e)===1,YI=e=>BS(e,n=>Li(n)||EA(n)),cM=e=>BS(e,Li),TA=(e,n)=>{const o=et(U3,e);return On(n,r=>o(r)?[r.dom]:[])},iM=e=>{const n=cM(e);return TA(e,n)},XI=(e,n,o,r)=>{const c=TA(n,r);if(c.length===0)zg(n,e,o);else{const u=nv(o.dom,c);n.selection.setRng(u.toRange())}},JI=(e,n)=>{const o=Ye(YI(e),aM);return co(o).bind(r=>{const c=ut.fromRangeStart(e.selection.getRng());return f3(n,c,r.dom)&&!qC(r)?F.some(()=>XI(n,e,r,o)):F.none()})},QI=(e,n)=>{const o=n.parentElement;return na(n)&&!H(o)&&e.dom.isEmpty(o)},eL=e=>qC(de.fromDom(e)),lM=(e,n)=>{const o=e.selection.getStart(),r=QI(e,o)||eL(o)?nv(o,n):$B(e.selection.getRng(),n);e.selection.setRng(r.toRange())},uM=(e,n)=>{const o=$o(n,iM(e));o.length>0&&lM(e,o)},AA=e=>It(e.startContainer),eZ=e=>e.startOffset===0&&AA(e),tZ=(e,n)=>{const o=n.startContainer.parentElement;return!H(o)&&U3(e,de.fromDom(o))},nZ=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!H(n)&&!H(o)&&n.isEqualNode(o)},tL=e=>{const n=e.endContainer;return e.endOffset===(It(n)?n.length:n.childNodes.length)},oZ=e=>nZ(e)&&tL(e),sZ=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),nL=e=>oZ(e)||sZ(e),oL=e=>{const n=e.selection.getRng();return eZ(n)&&tZ(e,n)&&nL(n)},rZ=e=>{if(oL(e)){const n=iM(e);return F.some(()=>{d3(e),uM(e,n)})}else return F.none()},OA=(e,n)=>e.selection.isCollapsed()?JI(e,n):rZ(e),tu=e=>P3(e,n=>Ic(n.dom),Li),dM=e=>tu(de.fromDom(e.selection.getStart())),Cw=e=>{const n=e.selection.getRng();return n.collapsed&&(AA(n)||e.dom.isEmpty(n.startContainer))&&!dM(e)},Sw=e=>(Cw(e)&&lM(e,[]),!0),FS=(e,n,o)=>$e(o)?F.some(()=>{e._selectionOverrides.hideFakeCaret(),zg(e,n,de.fromDom(o))}):F.none(),fM=(e,n)=>{const o=n?Ag:Z1,r=n?bc.Forwards:bc.Backwards,c=bg(r,e.getBody(),e.selection.getRng());return o(c)?FS(e,n,c.getNode(!n)):F.from(cd(n,c)).filter(u=>o(u)&&Rp(c,u)).bind(u=>FS(e,n,u.getNode(!n)))},DA=(e,n)=>{const o=e.selection.getNode();return Sl(o)?FS(e,n,o):F.none()},zA=(e,n)=>e.selection.isCollapsed()?fM(e,n):DA(e,n),sL=e=>Kc(e,n=>nc(n.dom)||As(n.dom)).exists(n=>nc(n.dom)),$S=e=>Qr(e!=null?e:"").getOr(0),mM=(e,n)=>{const o=e||Ie(n)?"margin":"padding",r=Rr(n,"direction")==="rtl"?"-right":"-left";return o+r},rL=(e,n,o,r,c,u)=>{const m=mM(o,de.fromDom(u)),b=$S(e.getStyle(u,m));if(n==="outdent"){const k=Math.max(0,b-r);e.setStyle(u,m,k?k+c:"")}else{const k=b+r+c;e.setStyle(u,m,k)}},aL=(e,n)=>Nn(n,o=>{const r=mM(e2(e),o),c=Na(o,r).map($S).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&c>0}),IS=e=>{const n=iL(e);return!e.mode.isReadOnly()&&(n.length>1||aL(e,n))},gM=e=>Vi(e)||Ea(e),cL=e=>qc(e).exists(gM),iL=e=>Ye(vd(e.selection.getSelectedBlocks()),n=>!gM(n)&&!cL(n)&&sL(n)),pM=(e,n)=>{var o,r;const{dom:c}=e,u=DE(e),m=(r=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",b=$S(u),k=e2(e);ae(iL(e),S=>{rL(c,n,k,b,m,S.dom)})},hM=e=>pM(e,"indent"),lL=e=>pM(e,"outdent"),bM=e=>{if(e.selection.isCollapsed()&&IS(e)){const n=e.dom,o=e.selection.getRng(),r=ut.fromRangeStart(o),c=n.getParent(o.startContainer,n.isBlock);if(c!==null&&t3(de.fromDom(c),r))return F.some(()=>lL(e))}return F.none()},yM=(e,n,o)=>Jo([bM,Vg,cA,(r,c)=>vv(r,n,c),nA,Mm,dA,zA,oA,OA],r=>r(e,o)).filter(r=>e.selection.isEditable()),uL=(e,n)=>{yM(e,n,!1).fold(()=>{d3(e),Mb(e)},vn)},RA=(e,n)=>{yM(e,n,!0).fold(()=>q1(e),vn)},LS=(e,n)=>{e.addCommand("delete",()=>{uL(e,n)}),e.addCommand("forwardDelete",()=>{RA(e,n)})},MA=5,vM=400,kM=e=>e.touches===void 0||e.touches.length!==1?F.none():F.some(e.touches[0]),dL=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>MA||r>MA},NA=e=>{const n=Qu(),o=Pa(!1),r=Uy(c=>{e.dispatch("longpress",pt(te({},c),{type:"longpress"})),o.set(!0)},vM);e.on("touchstart",c=>{kM(c).each(u=>{r.cancel();const m={x:u.clientX,y:u.clientY,target:c.target};r.throttle(c),o.set(!1),n.set(m)})},!0),e.on("touchmove",c=>{r.cancel(),kM(c).each(u=>{n.on(m=>{dL(u,m)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&n.get().filter(u=>u.target.isEqualNode(c.target)).each(()=>{o.get()?c.preventDefault():e.dispatch("tap",pt(te({},c),{type:"tap"}))})},!0)},PA=(e,n)=>qn(e,n.nodeName),fL=(e,n)=>It(n)?!0:wn(n)?!PA(e.getBlockElements(),n)&&!Dl(n)&&!mm(e,n):!1,mL=(e,n,o)=>he(HP(de.fromDom(o),de.fromDom(n)),r=>PA(e,r.dom)),gL=(e,n)=>{if(It(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data)&&(!n.nextSibling||PA(e,n.nextSibling)))return!0}return!1},pd=e=>e.dom.create(ci(e),Cp(e)),wM=e=>{const n=e.dom,o=e.selection,r=e.schema,c=r.getBlockElements(),u=o.getStart(),m=e.getBody();let b,k,S=!1;const z=ci(e);if(!u||!wn(u))return;const M=m.nodeName.toLowerCase();if(!r.isValidChild(M,z.toLowerCase())||mL(c,m,u))return;const I=o.getRng(),{startContainer:Q,startOffset:se,endContainer:K,endOffset:oe}=I,Te=Ob(e);let ze=m.firstChild;for(;ze;)if(wn(ze)&&Oy(r,ze),fL(r,ze)){if(gL(c,ze)){k=ze,ze=ze.nextSibling,n.remove(k);continue}b||(b=pd(e),m.insertBefore(b,ze),S=!0),k=ze,ze=ze.nextSibling,b.appendChild(k)}else b=null,ze=ze.nextSibling;S&&Te&&(I.setStart(Q,se),I.setEnd(K,oe),o.setRng(I),e.nodeChanged())},BA=(e,n,o)=>{const r=de.fromDom(pd(e)),c=L();Sa(r,c),o(n,r);const u=document.createRange();return u.setStartBefore(c.dom),u.setEndBefore(c.dom),u},aZ=e=>{e.on("NodeChange",et(wM,e))},pL=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,cZ=(e,n,o)=>function(r){const c=arguments,u=c[c.length-2],m=u>0?n.charAt(u-1):"";if(m==='"')return r;if(m===">"){const b=n.lastIndexOf("<",u);if(b!==-1&&n.substring(b,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},iZ=(e,n,o)=>{let r=n.length,c=o.content;if(o.format!=="raw"){for(;r--;)c=c.replace(n[r],cZ(e,c,$0(e)));o.content=c}},hL=e=>{const n="contenteditable",o=" "+Dt.trim(jE(e))+" ",r=" "+Dt.trim($0(e))+" ",c=pL(o),u=pL(r),m=ZE(e);m.length>0&&e.on("BeforeSetContent",b=>{iZ(e,m,b)}),e.parser.addAttributeFilter("class",b=>{let k=b.length;for(;k--;){const S=b[k];c(S)?S.attr(n,"true"):u(S)&&S.attr(n,"false")}}),e.serializer.addAttributeFilter(n,b=>{let k=b.length;for(;k--;){const S=b[k];!c(S)&&!u(S)||(m.length>0&&S.attr("data-mce-content")?(S.name="#text",S.type=3,S.raw=!0,S.value=S.attr("data-mce-content")):S.attr(n,null))}})},HS=e=>me(de.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),_M=(e,n)=>{n.hasAttribute("data-mce-caret")&&(df(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},FA=(e,n)=>{const o=HS(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),_M(e,o);return}ri(o)&&(_M(e,o),e.undoManager.add())}},CM=e=>{e.on("keyup compositionstart",et(FA,e))},$A=As,SM=(e,n,o)=>JR(n,e,o,Zp,Og,$A),bL=(e,n,o)=>QR(n,e,o,u=>Zp(u)||kD(u),u=>Og(u)||wD(u),$A),yL=e=>{const n=e.dom.create(ci(e));return n.innerHTML='<br data-mce-bogus="1">',n},xM=(e,n,o)=>{const r=Af(e.getBody()),c=et(k1,n===1?r.next:r.prev);if(o.collapsed){const u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!c(ut.fromRangeStart(o))){const b=de.fromDom(yL(e));n===1?Il(de.fromDom(u),b):Wa(de.fromDom(u),b),e.selection.select(b.dom,!0),e.selection.collapse()}}},vL=(e,n)=>{const o=n?bc.Forwards:bc.Backwards,r=e.selection.getRng();return SM(o,e,r).orThunk(()=>(xM(e,o,r),F.none()))},VS=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return bL(o,e,r).orThunk(()=>(xM(e,o,r),F.none()))},kL=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return FD(o)?!n:n},EM=(e,n)=>vL(e,kL(e.selection,n)).exists(o=>(Zg(e,o),!0)),TM=(e,n)=>VS(e,n).exists(o=>(Zg(e,o),!0)),US=(e,n)=>eM(e,n,n?Og:Zp),WS=(e,n)=>CS(e,!n).map(o=>{const r=o.toRange(),c=e.selection.getRng();return n?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(o=>(Zg(e,o),!0)),wL=e=>ee(["figcaption"],qs(e)),AM=(e,n)=>{const o=et(Rs,n);return Kc(de.fromDom(e.container()),Li,o).filter(wL)},_L=(e,n,o)=>n?DS(e.dom,o):yA(e.dom,o),CL=(e,n)=>{const o=de.fromDom(e.getBody()),r=ut.fromRangeStart(e.selection.getRng());return AM(r,o).exists(()=>{if(_L(o,n,r)){const u=BA(e,o,n?Sa:om);return e.selection.setRng(u),!0}else return!1})},OM=(e,n)=>e.selection.isCollapsed()?CL(e,n):!1,SL=(e,n,o)=>{const r=e.selection.getRng(),c=ut.fromRangeStart(r);return e.getBody().firstChild===n&&yA(o,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},xL=(e,n)=>{const o=e.selection.getRng(),r=ut.fromRangeStart(o);return e.getBody().lastChild===n&&DS(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},EL=(e,n)=>n?F.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>xL(e,o)).getOr(!1):F.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>F.from(e.dom.getParent(o,"details")).map(r=>SL(e,r,o))).getOr(!1),jS=(e,n)=>EL(e,n),DM={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},zM=e=>we(e,n=>te(te({},DM),n)),TL=e=>we(e,n=>te(te({},DM),n)),RM=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,AL=(e,n)=>On(zM(e),o=>RM(o,n)?[o]:[]),OL=(e,n)=>On(TL(e),o=>RM(o,n)?[o]:[]),Io=(e,...n)=>()=>e.apply(null,n),xw=(e,n)=>Le(AL(e,n),o=>o.action()),cc=(e,n)=>Jo(OL(e,n),o=>o.action()),MM=(e,n)=>{const o=n?bc.Forwards:bc.Backwards,r=e.selection.getRng();return JR(e,o,r,Ag,Z1,Sl).exists(c=>(Zg(e,c),!0))},NM=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return QR(e,o,r,Ag,Z1,Sl).exists(c=>(Zg(e,c),!0))},PM=(e,n)=>eM(e,n,n?Z1:Ag),IA=Sf.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),LA=e=>IA.none(e),kv=pt(te({},IA),{none:LA}),ih=(e,n)=>ZS(e,n,it),ZS=(e,n,o)=>On(Ua(e),r=>Bi(r,n)?o(r)?[r]:[]:ZS(r,n,o)),BM=(e,n,o=Re)=>{if(o(n))return F.none();if(ee(e,qs(n)))return F.some(n);const r=c=>Bi(c,"table")||o(c);return U(n,e.join(","),r)},HA=(e,n)=>BM(["td","th"],e,n),VA=e=>ih(e,"th,td"),qS=(e,n)=>ve(e,"table",n),GS=(e,n,o,r,c=it)=>{const u=r===1;if(!u&&o<=0)return kv.first(e[0]);if(u&&o>=e.length-1)return kv.last(e[e.length-1]);{const m=o+r,b=e[m];return c(b)?kv.middle(n,b):GS(e,n,m,r,c)}},Ew=(e,n)=>qS(e,n).bind(o=>{const r=VA(o);return Mt(r,u=>Rs(e,u)).map(u=>({index:u,all:r}))}),KS=(e,n,o)=>Ew(e,o).fold(()=>kv.none(e),c=>GS(c.all,e,c.index,1,n)),Tw=(e,n,o)=>Ew(e,o).fold(()=>kv.none(),c=>GS(c.all,e,c.index,-1,n)),Aw=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),Wd=(e,n)=>On(n,o=>{const r=Aw(lg(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),Ow=(e,n,o)=>J(e,(r,c)=>r.fold(()=>F.some(c),u=>{const m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-o)),b=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-o));return F.some(b<m?c:u)}),F.none()),UA=(e,n,o,r,c)=>{const u=ja(de.fromDom(o),"td,th,caption").map(b=>b.dom),m=Ye(Wd(e,u),b=>n(b,c));return Ow(m,r,c).map(b=>b.cell)},FM=e=>e.bottom,DL=e=>e.top,$M=(e,n)=>e.y<n,zL=(e,n)=>e.y>n,RL=et(UA,FM,$M),Dw=et(UA,DL,zL),ML=(e,n)=>kn(n.getClientRects()).bind(o=>RL(e,o.left,o.top)).bind(o=>OS(vA(o),n)),NL=(e,n)=>co(n.getClientRects()).bind(o=>Dw(e,o.left,o.top)).bind(o=>OS(ZR(o),n)),PL=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),BL=e=>e.breakType===jg.Wrap&&e.positions.length===0,FL=e=>e.breakType===jg.Br&&e.positions.length===1,IM=(e,n,o)=>{const r=e(n,o);return BL(r)||!na(o.getNode())&&FL(r)?!PL(e,n,r):r.breakAt.isNone()},$L=et(IM,kw),IL=et(IM,hv),LL=(e,n,o)=>{const r=ut.fromRangeStart(n);return Np(!e,o).exists(c=>c.isEqual(r))},HL=(e,n,o,r)=>{const c=e.selection.getRng(),u=n?1:-1;return V0()&&LL(n,c,o)?(Hg(u,e,o,!n,!1).each(m=>{Zg(e,m)}),!0):!1},VL=(e,n,o)=>ML(n,o).orThunk(()=>kn(o.getClientRects()).bind(r=>bA(jR(e,ut.before(n)),r.left))).getOr(ut.before(n)),UL=(e,n,o)=>NL(n,o).orThunk(()=>kn(o.getClientRects()).bind(r=>bA(rh(e,ut.after(n)),r.left))).getOr(ut.after(n)),LM=(e,n)=>{const o=n.getNode(e);return Qi(o)?F.some(o):F.none()},WL=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?Il:Wa,c=BA(n,de.fromDom(o),r);Zg(n,c)})},WA=(e,n,o)=>{const r=LM(!!n,o),c=n===!1;r.fold(()=>Zg(e,o.toRange()),u=>Np(c,e.getBody()).filter(m=>m.isEqual(o)).fold(()=>Zg(e,o.toRange()),m=>WL(n,e,u)))},HM=(e,n,o,r)=>{const c=e.selection.getRng(),u=ut.fromRangeStart(c),m=e.getBody();if(!n&&$L(r,u)){const b=VL(m,o,u);return WA(e,n,b),!0}else if(n&&IL(r,u)){const b=UL(m,o,u);return WA(e,n,b),!0}else return!1},jA=(e,n,o)=>F.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>F.from(e.dom.getParent(r,"table")).map(c=>o(e,n,c,r))).getOr(!1),VM=(e,n)=>jA(e,n,HL),ZA=(e,n)=>jA(e,n,HM),jL=e=>{const n=Mf.exact(e,0,e,0);return IT(n)},UM=(e,n,o)=>o.fold(F.none,F.none,(r,c)=>CP(c).map(u=>jL(u)),r=>(e.execCommand("mceTableInsertRowAfter"),qA(e,n,r))),qA=(e,n,o)=>UM(e,n,KS(o,$t)),ZL=(e,n,o)=>UM(e,n,Tw(o,$t)),GA=(e,n)=>{const o=["table","li","dl"],r=de.fromDom(e.getBody()),c=b=>{const k=qs(b);return Rs(b,r)||ee(o,k)},u=e.selection.getRng(),m=de.fromDom(n?u.endContainer:u.startContainer);return HA(m,c).map(b=>(qS(b,c).each(z=>{e.model.table.clearSelectedCells(z.dom)}),e.selection.collapse(!n),(n?qA:ZL)(e,c,b).each(z=>{e.selection.setRng(z)}),!0)).getOr(!1)},qL=(e,n,o)=>{const r=pn.os.isMacOS()||pn.os.isiOS();xw([{keyCode:Cn.RIGHT,action:Io(EM,e,!0)},{keyCode:Cn.LEFT,action:Io(EM,e,!1)},{keyCode:Cn.UP,action:Io(TM,e,!1)},{keyCode:Cn.DOWN,action:Io(TM,e,!0)},...r?[{keyCode:Cn.UP,action:Io(WS,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Cn.DOWN,action:Io(WS,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Cn.RIGHT,action:Io(VM,e,!0)},{keyCode:Cn.LEFT,action:Io(VM,e,!1)},{keyCode:Cn.UP,action:Io(ZA,e,!1)},{keyCode:Cn.DOWN,action:Io(ZA,e,!0)},{keyCode:Cn.UP,action:Io(ZA,e,!1)},{keyCode:Cn.UP,action:Io(jS,e,!1)},{keyCode:Cn.DOWN,action:Io(jS,e,!0)},{keyCode:Cn.RIGHT,action:Io(MM,e,!0)},{keyCode:Cn.LEFT,action:Io(MM,e,!1)},{keyCode:Cn.UP,action:Io(NM,e,!1)},{keyCode:Cn.DOWN,action:Io(NM,e,!0)},{keyCode:Cn.RIGHT,action:Io(NS,e,n,!0)},{keyCode:Cn.LEFT,action:Io(NS,e,n,!1)},{keyCode:Cn.RIGHT,ctrlKey:!r,altKey:r,action:Io(qI,e,n)},{keyCode:Cn.LEFT,ctrlKey:!r,altKey:r,action:Io(GI,e,n)},{keyCode:Cn.UP,action:Io(OM,e,!1)},{keyCode:Cn.DOWN,action:Io(OM,e,!0)}],o).each(c=>{o.preventDefault()})},WM=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||qL(e,n,o)})},jd=(e,n)=>({container:e,offset:n}),YS=Ys.DOM,XS=e=>n=>e===n?-1:0,GL=e=>n=>e.isBlock(n)||ee(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",JS=(e,n,o)=>{if(It(e)&&n>=0)return F.some(jd(e,n));{const r=wm(YS);return F.from(r.backwards(e,n,XS(e),o)).map(c=>jd(c.container,c.container.data.length))}},KL=(e,n,o)=>{if(It(e)&&n>=e.length)return F.some(jd(e,n));{const r=wm(YS);return F.from(r.forwards(e,n,XS(e),o)).map(c=>jd(c.container,0))}},KA=(e,n,o)=>{if(!It(e))return F.none();const r=e.data;if(n>=0&&n<=r.length)return F.some(jd(e,n));{const c=wm(YS);return F.from(c.backwards(e,n,XS(e),o)).bind(u=>{const m=u.container.data;return KA(u.container,n+m.length,o)})}},YA=(e,n,o)=>{if(!It(e))return F.none();const r=e.data;if(n<=r.length)return F.some(jd(e,n));{const c=wm(YS);return F.from(c.forwards(e,n,XS(e),o)).bind(u=>YA(u.container,n-r.length,o))}},XA=(e,n,o,r,c)=>{const u=wm(e,GL(e));return F.from(u.backwards(n,o,r,c))},YL=e=>e.collapsed&&It(e.startContainer),JA=e=>rn(e.toString().replace(/\u00A0/g," ")),jM=e=>e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1,QA=(e,n)=>e.substring(n.length),XL=(e,n,o)=>{let r;const c=o.charAt(0);for(r=n-1;r>=0;r--){const u=e.charAt(r);if(jM(u))return F.none();if(c===u&&$n(e,o,r,n))break}return F.some(r)},ZM=(e,n,o,r=0)=>{if(!YL(n))return F.none();const c={text:"",offset:0},u=(b,k,S)=>(c.text=S+c.text,c.offset+=k,XL(c.text,c.offset,o).getOr(k)),m=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return XA(e,n.startContainer,n.startOffset,u,m).bind(b=>{const k=n.cloneRange();if(k.setStart(b.container,b.offset),k.setEnd(n.endContainer,n.endOffset),k.collapsed)return F.none();const S=JA(k);return S.lastIndexOf(o)!==0||QA(S,o).length<r?F.none():F.some({text:QA(S,o),range:k,trigger:o})})},e5=(e,n,o,r=0)=>TP(de.fromDom(n.startContainer)).fold(()=>ZM(e,n,o,r),c=>{const u=e.createRng();u.selectNode(c.dom);const m=JA(u);return F.some({range:u,text:QA(m,o),trigger:o})}),JL=e=>e.nodeType===pl,QL=e=>e.nodeType===Qa,qM=e=>{if(JL(e))return jd(e,e.data.length);{const n=e.childNodes;return n.length>0?qM(n[n.length-1]):jd(e,n.length)}},GM=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?GM(o[n],0):o.length>0&&QL(e)&&o.length===n?qM(o[o.length-1]):jd(e,n)},e9=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return XA(e,n.container,n.offset,(c,u)=>u===0?-1:u,r).filter(c=>{const u=c.container.data.charAt(c.offset-1);return!jM(u)}).isSome()},t9=e=>n=>{const o=GM(n.startContainer,n.startOffset);return!e9(e,o)},n9=(e,n,o)=>Jo(o.triggers,r=>e5(e,n,r)),o9=(e,n)=>{const o=n(),r=e.selection.getRng();return n9(e.dom,r,o).bind(c=>s9(e,n,c))},s9=(e,n,o,r={})=>{var c;const u=n(),b=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",k=Ye(u.lookupByTrigger(o.trigger),z=>o.text.length>=z.minChars&&z.matches.getOrThunk(()=>t9(e.dom))(o.range,b,o.text));if(k.length===0)return F.none();const S=Promise.all(we(k,z=>z.fetch(o.text,z.maxResults,r).then(I=>({matchText:o.text,items:I,columns:z.columns,onAction:z.onAction,highlightOn:z.highlightOn}))));return F.some({lookupData:S,context:o})};var Uf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Uf||(Uf={}));const wv=(e,n,o)=>e.stype===Uf.Error?n(e.serror):o(e.svalue),KM=e=>{const n=[],o=[];return ae(e,r=>{wv(r,c=>o.push(c),c=>n.push(c))}),{values:n,errors:o}},YM=(e,n)=>e.stype===Uf.Error?{stype:Uf.Error,serror:n(e.serror)}:e,r9=(e,n)=>e.stype===Uf.Value?{stype:Uf.Value,svalue:n(e.svalue)}:e,XM=(e,n)=>e.stype===Uf.Value?n(e.svalue):e,JM=(e,n)=>e.stype===Uf.Error?n(e.serror):e,QM=e=>({stype:Uf.Value,svalue:e}),e8=e=>({stype:Uf.Error,serror:e}),gi={fromResult:e=>e.fold(e8,QM),toResult:e=>wv(e,$c.error,$c.value),svalue:QM,partition:KM,serror:e8,bind:XM,bindError:JM,map:r9,mapError:YM,fold:wv},zw=e=>ft(e)&&xo(e).length>100?" removed due to size":JSON.stringify(e,null,2),c9=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:rt("... (only showing first ten failures)")}]):e;return we(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},QS=(e,n)=>gi.serror([{path:e,getErrorInfo:n}]),i9=(e,n,o)=>QS(e,()=>'Could not find valid *required* value for "'+n+'" in '+zw(o)),t8=(e,n)=>QS(e,()=>'Choice schema did not contain choice key: "'+n+'"'),l9=(e,n,o)=>QS(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+zw(n)),u9=(e,n)=>QS(e,rt(n)),d9=(e,n,o,r)=>fs(o,r).fold(()=>l9(e,o,r),u=>u.extract(e.concat(["branch: "+r]),n)),f9=(e,n)=>({extract:(c,u)=>fs(u,e).fold(()=>t8(c,e),b=>d9(c,u,n,b)),toString:()=>"chooseOn("+e+"). Possible values: "+xo(n)}),m9=(e,n)=>n,Tc=(e,n)=>Fo(e)&&Fo(n)?ex(e,n):n,Wf=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const c=n[r];for(const u in c)qn(c,u)&&(o[u]=e(o[u],c[u]))}return o},ex=Wf(Tc),uZ=Wf(m9),n8=()=>({tag:"required",process:{}}),g9=e=>({tag:"defaultedThunk",process:e}),o8=e=>g9(rt(e)),p9=()=>({tag:"option",process:{}}),s8=(e,n)=>e.length>0?gi.svalue(ex(n,uZ.apply(void 0,e))):gi.svalue(n),Jb=e=>E(gi.serror,Zn)(e),h9={consolidateObj:(e,n)=>{const o=gi.partition(e);return o.errors.length>0?Jb(o.errors):s8(o.values,n)},consolidateArr:e=>{const n=gi.partition(e);return n.errors.length>0?Jb(n.errors):gi.svalue(n.values)}},jf=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),b9=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),r8=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},tx=e=>{const n=(r,c)=>gi.bindError(e(c),u=>u9(r,u)),o=rt("val");return{extract:n,toString:o}},y9=tx(gi.svalue),t5=(e,n,o,r)=>fs(n,o).fold(()=>i9(e,o,n),r),n5=(e,n,o,r)=>{const c=fs(e,n).getOrThunk(()=>o(e));return r(c)},v9=(e,n,o)=>o(fs(e,n)),k9=(e,n,o,r)=>{const c=fs(e,n).map(u=>u===!0?o(e):u);return r(c)},w9=(e,n,o,r,c)=>{const u=b=>c.extract(n.concat([r]),b),m=b=>b.fold(()=>gi.svalue(F.none()),k=>{const S=c.extract(n.concat([r]),k);return gi.map(S,F.some)});switch(e.tag){case"required":return t5(n,o,r,u);case"defaultedThunk":return n5(o,r,e.process,u);case"option":return v9(o,r,m);case"defaultedOptionThunk":return k9(o,r,e.process,m);case"mergeWithThunk":return n5(o,r,rt({}),b=>{const k=ex(e.process(o),b);return u(k)})}},a8=(e,n,o)=>{const r={},c=[];for(const u of o)r8(u,(m,b,k,S)=>{const z=w9(k,e,n,m,S);gi.fold(z,M=>{c.push(...M)},M=>{r[b]=M})},(m,b)=>{r[m]=b(n)});return c.length>0?gi.serror(c):gi.svalue(r)},nx=e=>({extract:(r,c)=>a8(r,c,e),toString:()=>`obj{
`+we(e,c=>r8(c,(u,m,b,k)=>u+" -> "+k.toString(),(u,m)=>"state("+u+")")).join(`
`)+"}"}),ox=e=>({extract:(r,c)=>{const u=we(c,(m,b)=>e.extract(r.concat(["["+b+"]"]),m));return h9.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),o5=e=>tx(n=>e(n).fold(gi.serror,gi.svalue)),s5=(e,n,o)=>{const r=n.extract([e],o);return gi.mapError(r,c=>({input:o,errors:c}))},_9=(e,n,o)=>gi.toResult(s5(e,n,o)),C9=e=>`Errors: 
`+c9(e.errors).join(`
`)+`

Input object: `+zw(e.input),c8=(e,n)=>f9(e,Oo(n,nx)),S9=rt(y9),_v=(e,n)=>tx(o=>{const r=typeof o;return e(o)?gi.svalue(o):gi.serror(`Expected type: ${n} but got: ${r}`)}),i8=_v(Ro,"number"),sx=_v(W,"string"),l8=_v(at,"boolean"),r5=_v(ce,"function"),Qb=jf,u8=b9,x9=e=>o5(n=>ee(e,n)?$c.value(n):$c.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),d8=(e,n)=>Qb(e,e,n8(),n),f8=e=>d8(e,sx),m8=e=>d8(e,r5),g8=(e,n)=>Qb(e,e,n8(),ox(n)),Rw=(e,n)=>Qb(e,e,p9(),n),Mw=e=>Rw(e,sx),p8=e=>Rw(e,r5),E9=(e,n)=>Qb(e,e,o8(n),S9()),Cv=(e,n,o)=>Qb(e,e,o8(n),o),h8=(e,n)=>Cv(e,n,i8),rx=(e,n)=>Cv(e,n,sx),a5=(e,n,o)=>Cv(e,n,x9(o)),ax=(e,n)=>Cv(e,n,l8),c5=(e,n)=>Cv(e,n,r5),T9=(e,n,o)=>Cv(e,n,ox(o)),fZ=f8("type"),mZ=m8("fetch"),b8=m8("onAction"),A9=c5("onSetup",()=>De),gZ=Mw("text"),O9=Mw("icon"),D9=Mw("tooltip"),pZ=Mw("label"),z9=ax("active",!1),Da=ax("enabled",!0),cx=ax("primary",!1),Im=e=>E9("columns",e),Sv=e=>rx("type",e),y8=nx([fZ,f8("trigger"),h8("minChars",1),Im(1),h8("maxResults",10),p8("matches"),mZ,b8,T9("highlightOn",[],sx)]),R9=e=>_9("Autocompleter",y8,te({trigger:e.ch},e)),xv=[Da,D9,O9,gZ,A9],ix=[z9].concat(xv),v8=[c5("predicate",Re),a5("scope","node",["node","editor"]),a5("position","selection",["node","selection","line"])],k8=xv.concat([Sv("contextformbutton"),cx,b8,u8("original",Hn)]),M9=ix.concat([Sv("contextformbutton"),cx,b8,u8("original",Hn)]),N9=xv.concat([Sv("contextformbutton")]),P9=ix.concat([Sv("contextformtogglebutton")]),B9=c8("type",{contextformbutton:k8,contextformtogglebutton:M9});nx([Sv("contextform"),c5("initValue",rt("")),pZ,g8("commands",B9),Rw("launch",c8("type",{contextformbutton:N9,contextformtogglebutton:P9}))].concat(v8));const F9=e=>{const n=e.ui.registry.getAll().popups,o=Oo(n,m=>R9(m).fold(b=>{throw new Error(C9(b))},Hn)),r=Xe(Jr(o,m=>m.trigger)),c=Hr(o);return{dataset:o,triggers:r,lookupByTrigger:m=>Ye(c,b=>b.trigger===m)}},w8=(e,n)=>{const o=Uy(n.load,50);e.on("keypress compositionend",r=>{r.which!==27&&o.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?o.throttle():c===27&&n.cancelIfNecessary()}),e.on("remove",o.cancel)},$9=e=>{const n=Qu(),o=Pa(!1),r=n.isSet,c=()=>{r()&&(h$(e),ks(e),o.set(!1),n.clear())},u=S=>{r()||(da(e,S.range),n.set({trigger:S.trigger,matchLength:S.text.length}))},m=ct(()=>F9(e)),b=S=>n.get().map(z=>e5(e.dom,e.selection.getRng(),z.trigger).bind(M=>s9(e,m,M,S))).getOrThunk(()=>o9(e,m)),k=S=>{b(S).fold(c,z=>{u(z.context),z.lookupData.then(M=>{n.get().map(I=>{const Q=z.context;I.trigger===Q.trigger&&(Q.text.length-I.matchLength>=10?c():(n.set(pt(te({},I),{matchLength:Q.text.length})),o.get()?ET(e,{lookupData:M}):(o.set(!0),xT(e,{lookupData:M}))))})})})};e.addCommand("mceAutocompleterReload",(S,z)=>{const M=ft(z)?z.fetchOptions:{};k(M)}),e.addCommand("mceAutocompleterClose",c),w8(e,{cancelIfNecessary:c,load:k})},I9=js().browser.isSafari(),_8=e=>G(de.fromDom(e)),C8=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Nw=(e,n)=>F.from(e.getParent(n.container(),"details")),i5=(e,n)=>Nw(e,n).isSome(),L9=(e,n)=>{const o=F.from(e.getParent(n.startContainer,"details")),r=F.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const c=o.bind(u=>F.from(e.select("summary",u)[0]));return F.some({startSummary:c,startDetails:o,endDetails:r})}else return F.none()},H9=(e,n)=>ka(n).exists(o=>o.isEqual(e)),bZ=(e,n)=>Ol(n).exists(o=>na(o.getNode())&&ii(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),l5=(e,n)=>n.startSummary.exists(o=>H9(e,o)),V9=(e,n)=>n.startSummary.exists(o=>bZ(e,o)),U9=(e,n)=>n.startDetails.exists(o=>ii(o,e).forall(r=>n.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),W9=(e,n,o)=>o.startDetails.exists(r=>qi(e,n).forall(c=>!r.contains(c.container()))),u5=(e,n)=>{const o=n.getNode();Sn(o)||e.selection.setCursorLocation(o,n.offset())},S8=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(o?ka(c):Ol(c)).each(m=>u5(e,m))}else u5(e,n)},x8=(e,n)=>{const o=k=>k.contains(e.startContainer),r=k=>k.contains(e.endContainer),c=n.startSummary.exists(o),u=n.startSummary.exists(r),m=n.startDetails.forall(k=>n.endDetails.forall(S=>k!==S));return(c||u)&&!(c&&u)||m},E8=(e,n,o)=>{const{dom:r,selection:c}=e,u=e.getBody();if(o==="character"){const m=ut.fromRangeStart(c.getRng()),b=r.getParent(m.container(),r.isBlock),k=Nw(r,m),S=b&&r.isEmpty(b),z=H(b==null?void 0:b.previousSibling),M=H(b==null?void 0:b.nextSibling);return S&&(n?M:z)&&Am(!n,u,m).exists(se=>i5(r,se)&&!Ja(k,Nw(r,se)))?!0:Am(n,u,m).fold(Re,I=>{const Q=Nw(r,I);if(i5(r,I)&&!Ja(k,Q)){if(n||S8(e,I,!1),b&&S){if(n&&z)return!0;if(!n&&M)return!0;S8(e,I,n),e.dom.remove(b)}return!0}else return!1})}else return!1},j9=(e,n,o,r)=>{const u=e.selection.getRng(),m=ut.fromRangeStart(u),b=e.getBody();return r==="selection"?x8(u,n):o?V9(m,n)||W9(b,m,n):l5(m,n)||U9(m,n)},Z9=(e,n,o)=>L9(e.dom,e.selection.getRng()).fold(()=>E8(e,n,o),r=>j9(e,r,n,o)||E8(e,n,o)),zi=(e,n,o)=>{const r=e.selection,c=r.getNode(),u=r.getRng(),m=ut.fromRangeStart(u);return up(c)?(o==="selection"&&C8(u,c)||f3(n,m,c)?_8(c):e.undoManager.transact(()=>{const b=r.getSel();let{anchorNode:k,anchorOffset:S,focusNode:z,focusOffset:M}=b!=null?b:{};const I=()=>{$e(k)&&$e(S)&&$e(z)&&$e(M)&&(b==null||b.setBaseAndExtent(k,S,z,M))},Q=()=>{k=b==null?void 0:b.anchorNode,S=b==null?void 0:b.anchorOffset,z=b==null?void 0:b.focusNode,M=b==null?void 0:b.focusOffset},se=(oe,Te)=>{ae(oe.childNodes,ze=>{mb(ze)&&Te.appendChild(ze)})},K=e.dom.create("span",{"data-mce-bogus":"1"});se(c,K),c.appendChild(K),I(),(o==="word"||o==="line")&&(b==null||b.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&C8(r.getRng(),K)?_8(c):(e.execCommand(n?"ForwardDelete":"Delete"),Q(),se(K,c),I()),e.dom.remove(K)}),!0):!1},ey=(e,n,o)=>Z9(e,n,o)||I9&&zi(e,n,o)?F.some(De):F.none(),T8=e=>(n,o,r={})=>{const c=n.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:De,inputType:o},m=Wi(new InputEvent(e));return n.dispatch(e,te(te(te({},m),u),r))},Pw=T8("input"),lx=T8("beforeinput"),A8=js(),O8=A8.os,D8=O8.isMacOS()||O8.isiOS(),q9=A8.browser.isFirefox(),G9=(e,n,o)=>{const r=o.keyCode===Cn.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),u=c?"character":"selection",m=b=>c?b?"word":"line":"selection";cc([{keyCode:Cn.BACKSPACE,action:Io(bM,e)},{keyCode:Cn.BACKSPACE,action:Io(Vg,e,!1)},{keyCode:Cn.DELETE,action:Io(Vg,e,!0)},{keyCode:Cn.BACKSPACE,action:Io(cA,e,!1)},{keyCode:Cn.DELETE,action:Io(cA,e,!0)},{keyCode:Cn.BACKSPACE,action:Io(vv,e,n,!1)},{keyCode:Cn.DELETE,action:Io(vv,e,n,!0)},{keyCode:Cn.BACKSPACE,action:Io(Mm,e,!1)},{keyCode:Cn.DELETE,action:Io(Mm,e,!0)},{keyCode:Cn.BACKSPACE,action:Io(ey,e,!1,u)},{keyCode:Cn.DELETE,action:Io(ey,e,!0,u)},...D8?[{keyCode:Cn.BACKSPACE,altKey:!0,action:Io(ey,e,!1,m(!0))},{keyCode:Cn.DELETE,altKey:!0,action:Io(ey,e,!0,m(!0))},{keyCode:Cn.BACKSPACE,metaKey:!0,action:Io(ey,e,!1,m(!1))}]:[{keyCode:Cn.BACKSPACE,ctrlKey:!0,action:Io(ey,e,!1,m(!0))},{keyCode:Cn.DELETE,ctrlKey:!0,action:Io(ey,e,!0,m(!0))}],{keyCode:Cn.BACKSPACE,action:Io(dA,e,!1)},{keyCode:Cn.DELETE,action:Io(dA,e,!0)},{keyCode:Cn.BACKSPACE,action:Io(zA,e,!1)},{keyCode:Cn.DELETE,action:Io(zA,e,!0)},{keyCode:Cn.BACKSPACE,action:Io(oA,e,!1)},{keyCode:Cn.DELETE,action:Io(oA,e,!0)},{keyCode:Cn.BACKSPACE,action:Io(nA,e,!1)},{keyCode:Cn.DELETE,action:Io(nA,e,!0)},{keyCode:Cn.BACKSPACE,action:Io(OA,e,!1)},{keyCode:Cn.DELETE,action:Io(OA,e,!0)}],o).filter(b=>e.selection.isEditable()).each(b=>{o.preventDefault(),lx(e,r).isDefaultPrevented()||(b(),Pw(e,r))})},f5=(e,n,o)=>xw([{keyCode:Cn.BACKSPACE,action:Io(OR,e)},{keyCode:Cn.DELETE,action:Io(OR,e)},...D8?[{keyCode:Cn.BACKSPACE,altKey:!0,action:Io(Sw,e)},{keyCode:Cn.DELETE,altKey:!0,action:Io(Sw,e)},...o?[{keyCode:q9?224:91,action:Io(Sw,e)}]:[]]:[{keyCode:Cn.BACKSPACE,ctrlKey:!0,action:Io(Sw,e)},{keyCode:Cn.DELETE,ctrlKey:!0,action:Io(Sw,e)}]],n),m5=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===Cn.BACKSPACE,r.isDefaultPrevented()||G9(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||f5(e,r,o),o=!1})},K9=e=>{for(;e;){if(wn(e)||It(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Bw=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const u=K9(n.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&n.insertBefore(o.doc.createTextNode(pr),n.firstChild)}const c=o.createRng();if(n.normalize(),n.hasChildNodes()){const u=new vr(n,n);let m=n,b;for(;b=u.current();){if(It(b)){c.setStart(b,0),c.setEnd(b,0);break}if(r[b.nodeName.toLowerCase()]){c.setStartBefore(b),c.setEndBefore(b);break}m=b,b=u.next()}b||(c.setStart(m,0),c.setEnd(m,0))}else na(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(c.setStartBefore(n),c.setEndBefore(n)):(c.setStartAfter(n),c.setEndAfter(n)):(c.setStart(n,0),c.setEnd(n,0));e.selection.setRng(c),Oi(e,c)},ux=(e,n)=>{const o=e.getRoot();let r,c=n;for(;c!==o&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==o?r:o},z8=e=>F.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Y9=e=>z8(e).fold(rt(""),n=>n.nodeName.toUpperCase()),X9=e=>z8(e).filter(n=>Ea(de.fromDom(n))).isSome(),R8=e=>{e.innerHTML='<br data-mce-bogus="1">'},J9=(e,n,o)=>{const r=e.dom;F.from(o.style).map(r.parseStyle).each(k=>{const S=rp(de.fromDom(n)),z=te(te({},S),k);r.setStyles(n,z)});const c=F.from(o.class).map(k=>k.split(/\s+/)),u=F.from(n.className).map(k=>Ye(k.split(/\s+/),S=>S!==""));ca(c,u,(k,S)=>{const z=Ye(S,I=>!ee(k,I)),M=[...k,...z];r.setAttrib(n,"class",M.join(" "))});const m=["style","class"],b=Cs(o,(k,S)=>!ee(m,S));r.setAttribs(n,b)},nu=(e,n)=>{if(ci(e).toLowerCase()===n.tagName.toLowerCase()){const r=Cp(e);J9(e,n,r)}},M8=(e,n,o,r,c=!0,u)=>{const m=e.dom,b=e.schema,k=ci(e),S=o?o.nodeName.toUpperCase():"";let z=n;const M=b.getTextInlineElements();let I;u||S==="TABLE"||S==="HR"?I=m.create(u||k):I=o.cloneNode(!1);let Q=I;if(!c)m.setAttrib(I,"style",null),m.setAttrib(I,"class",null);else do if(M[z.nodeName]){if(Ic(z)||Dl(z))continue;const se=z.cloneNode(!1);m.setAttrib(se,"id",""),I.hasChildNodes()?(se.appendChild(I.firstChild),I.appendChild(se)):(Q=se,I.appendChild(se))}while((z=z.parentNode)&&z!==r);return nu(e,I),R8(Q),I},Q9=(e,n)=>e.dom.getParent(n,_c),lh=(e,n,o)=>{let r=n;for(;r&&r!==e&&H(r.nextSibling);){const c=r.parentElement;if(!c||!o(c))return _c(c);r=c}return!1},eH=(e,n,o)=>!n&&o.nodeName.toLowerCase()===ci(e)&&e.dom.isEmpty(o)&&lh(e.getBody(),o,r=>qn(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),N8=(e,n,o)=>{var r,c,u;const m=n(ci(e)),b=Q9(e,o);b&&(e.dom.insertAfter(m,b),Bw(e,m),((u=(c=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},tH=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,nH=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},P8=(e,n)=>{const o=e==null?void 0:e.parentNode;return $e(o)&&o.nodeName===n},B8=e=>$e(e)&&/^(OL|UL|LI)$/.test(e.nodeName),oH=e=>$e(e)&&/^(LI|DT|DD)$/.test(e.nodeName),sH=e=>B8(e)&&B8(e.parentNode),dx=e=>{const n=e.parentNode;return oH(n)?n:e},Ev=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!wn(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},F8=(e,n,o,r,c)=>{const u=e.dom,m=e.selection.getRng(),b=o.parentNode;if(o===e.getBody()||!b)return;sH(o)&&(c="LI");let k=n(c);if(Ev(o,r,!0)&&Ev(o,r,!1))if(P8(o,"LI")){const S=dx(o);u.insertAfter(k,S),nH(o)?u.remove(S):u.remove(o)}else u.replace(k,o);else if(Ev(o,r,!0))P8(o,"LI")?(u.insertAfter(k,dx(o)),k.appendChild(u.doc.createTextNode(" ")),k.appendChild(o)):b.insertBefore(k,o),u.remove(r);else if(Ev(o,r,!1))u.insertAfter(k,dx(o)),u.remove(r);else{o=dx(o);const S=m.cloneRange();S.setStartAfter(r),S.setEndAfter(o);const z=S.extractContents();c==="LI"&&tH(z,"LI")?(k=z.firstChild,u.insertAfter(z,o)):(u.insertAfter(z,o),u.insertAfter(k,o)),u.remove(r)}Bw(e,k)},fx=e=>{ae(zh(de.fromDom(e),ec),n=>{const o=n.dom;o.nodeValue=rn(o.data)})},rH=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},aH=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),g5=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,p5=(e,n)=>$e(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",cH=(e,n,o)=>{var r;const c=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;wn(u)&&!n[u.nodeName.toLowerCase()]&&c.push(u)}let m=c.length;for(;m--;)u=c[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||aH(e,u))&&e.remove(u)},mx=(e,n,o)=>It(n)?e?o===1&&n.data.charAt(o-1)===st?0:o:o===n.data.length-1&&n.data.charAt(o)===st?n.data.length:o:o,iH=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,mx(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,mx(!1,e.endContainer,e.endOffset)),n},$8=e=>{let n=e;do It(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},I8=(e,n,o,r,c)=>{var u,m;const b=e.dom,k=(u=ux(b,r))!==null&&u!==void 0?u:b.getRoot();let S=b.getParent(r,b.isBlock);if(!S||!p5(b,S)){if(S=S||k,!S.hasChildNodes()){const Q=b.create(n);return nu(e,Q),S.appendChild(Q),o.setStart(Q,0),o.setEnd(Q,0),Q}let z=r;for(;z&&z.parentNode!==S;)z=z.parentNode;let M;for(;z&&!b.isBlock(z);)M=z,z=z.previousSibling;const I=(m=M==null?void 0:M.parentElement)===null||m===void 0?void 0:m.nodeName;if(M&&I&&e.schema.isValidChild(I,n.toLowerCase())){const Q=M.parentNode,se=b.create(n);for(nu(e,se),Q.insertBefore(se,M),z=M;z&&!b.isBlock(z);){const K=z.nextSibling;se.appendChild(z),z=K}o.setStart(r,c),o.setEnd(r,c)}}return r},lH=(e,n)=>{n.normalize();const o=n.lastChild;(!o||wn(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},uH=(e,n)=>{const o=CE(e);return Jt(n)?!1:W(o)?ee(Dt.explode(o),n.nodeName.toLowerCase()):o},H8={insert:(e,n)=>{let o,r,c,u,m=!1;const b=e.dom,k=e.schema,S=k.getNonEmptyElements(),z=e.selection.getRng(),M=ci(e),I=de.fromDom(z.startContainer),Q=uu(I,z.startOffset),se=Q.exists(Bt=>Ar(Bt)&&!$t(Bt)),K=z.collapsed&&se,oe=Bt=>M8(e,o,sn,At,D0(e),Bt),Te=Bt=>{const Vn=mx(Bt,o,r);if(It(o)&&(Bt?Vn>0:Vn<o.data.length))return!1;if(o.parentNode===sn&&m&&!Bt||Bt&&wn(o)&&o===sn.firstChild)return!0;if(g5(o,"TABLE")||g5(o,"HR"))return m&&!Bt||!m&&Bt;const ro=new vr(o,sn);It(o)&&(Bt&&Vn===0?ro.prev():!Bt&&Vn===o.data.length&&ro.next());let jo;for(;jo=ro.current();){if(wn(jo)){if(!jo.getAttribute("data-mce-bogus")){const ls=jo.nodeName.toLowerCase();if(S[ls]&&ls!=="br")return!1}}else if(It(jo)&&!lm(jo.data))return!1;Bt?ro.prev():ro.next()}return!0},ze=()=>{let Bt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Kt!=="HGROUP"?Bt=oe(M):Bt=oe(),uH(e,u)&&p5(b,u)&&b.isEmpty(sn,void 0,{includeZwsp:!0})?Bt=b.split(u,sn):b.insertAfter(Bt,sn),Bw(e,Bt),Bt};V1(b,z).each(Bt=>{z.setStart(Bt.startContainer,Bt.startOffset),z.setEnd(Bt.endContainer,Bt.endOffset)}),o=z.startContainer,r=z.startOffset;const Me=!!(n&&n.shiftKey),Ue=!!(n&&n.ctrlKey);wn(o)&&o.hasChildNodes()&&!K&&(m=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,m&&It(o)?r=o.data.length:r=0);const At=ux(b,o);if(!At||rH(e,o))return;Me||(o=I8(e,M,z,o,r));let sn=b.getParent(o,b.isBlock)||b.getRoot();u=$e(sn==null?void 0:sn.parentNode)?b.getParent(sn.parentNode,b.isBlock):null,c=sn?sn.nodeName.toUpperCase():"";const Kt=u?u.nodeName.toUpperCase():"";if(Kt==="LI"&&!Ue){const Bt=u;sn=Bt,u=Bt.parentNode,c=Kt}if(wn(u)&&eH(e,Me,sn))return N8(e,oe,sn);if(/^(LI|DT|DD)$/.test(c)&&wn(u)&&b.isEmpty(sn)){F8(e,oe,u,sn,M);return}if(!K&&(sn===e.getBody()||!p5(b,sn)))return;const Je=sn.parentNode;let nt;if(K)nt=oe(M),Q.fold(()=>{Sa(I,de.fromDom(nt))},Bt=>{Wa(Bt,de.fromDom(nt))}),e.selection.setCursorLocation(nt,0);else if(xr(sn))nt=df(sn),b.isEmpty(sn)&&R8(sn),nu(e,nt),Bw(e,nt);else if(Te(!1))nt=ze();else if(Te(!0)&&Je){nt=Je.insertBefore(oe(),sn);const Bt=Zm(de.fromDom(z.startContainer))&&z.collapsed;Bw(e,g5(sn,"HR")||Bt?nt:sn)}else{const Bt=iH(z).cloneRange();Bt.setEndAfter(sn);const Vn=Bt.extractContents();fx(Vn),$8(Vn),nt=Vn.firstChild,b.insertAfter(Vn,sn),cH(b,S,nt),lH(b,sn),b.isEmpty(sn)&&R8(sn),nt.normalize(),b.isEmpty(nt)?(b.remove(nt),ze()):(nu(e,nt),Bw(e,nt))}b.setAttrib(nt,"id",""),e.dispatch("NewBlock",{newBlock:nt})},fakeEventName:"insertParagraph"},gx=(e,n,o)=>{const r=new vr(n,o);let c;const u=e.getNonEmptyElements();for(;c=r.next();)if(u[c.nodeName.toLowerCase()]||It(c)&&c.length>0)return!0;return!1},V8=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),Oi(e,r)},h5=(e,n)=>{const o=e.selection,r=e.dom,c=o.getRng();let u,m=!1;V1(r,c).each(Q=>{c.setStart(Q.startContainer,Q.startOffset),c.setEnd(Q.endContainer,Q.endOffset)});let b=c.startOffset,k=c.startContainer;if(wn(k)&&k.hasChildNodes()){const Q=b>k.childNodes.length-1;k=k.childNodes[Math.min(b,k.childNodes.length-1)]||k,Q&&It(k)?b=k.data.length:b=0}let S=r.getParent(k,r.isBlock);const z=S&&S.parentNode?r.getParent(S.parentNode,r.isBlock):null,M=z?z.nodeName.toUpperCase():"",I=!!(n&&n.ctrlKey);M==="LI"&&!I&&(S=z),It(k)&&b>=k.data.length&&(gx(e.schema,k,S||r.getRoot())||(u=r.create("br"),c.insertNode(u),c.setStartAfter(u),c.setEndAfter(u),m=!0)),u=r.create("br"),Od(r,c,u),V8(e,u,m),e.undoManager.add()},b5=(e,n)=>{const o=de.fromTag("br");Wa(de.fromDom(n),o),e.undoManager.add()},U8=(e,n)=>{vZ(e.getBody(),n)||Il(de.fromDom(n),de.fromTag("br"));const o=de.fromTag("br");Il(de.fromDom(n),o),V8(e,o.dom,!1),e.undoManager.add()},dH=e=>na(e.getNode()),vZ=(e,n)=>dH(ut.after(n))?!0:qi(e,ut.after(n)).map(o=>na(o.getNode())).getOr(!1),Gg=e=>e&&e.nodeName==="A"&&"href"in e,fH=e=>e.fold(Re,Gg,Gg,Re),mH=e=>{const n=et(Rb,e),o=ut.fromRangeStart(e.selection.getRng());return Vf(n,e.getBody(),o).filter(fH)},gH=(e,n)=>{n.fold(De,et(b5,e),et(U8,e),De)},v5={insert:(e,n)=>{const o=mH(e);o.isSome()?o.each(et(gH,e)):h5(e,n)},fakeEventName:"insertLineBreak"},W8=(e,n)=>z8(e).filter(o=>n.length>0&&Bi(de.fromDom(o),n)).isSome(),j8=e=>W8(e,G_(e)),hH=e=>W8(e,K_(e)),Ru=Sf.generate([{br:[]},{block:[]},{none:[]}]),bH=(e,n)=>hH(e),k5=e=>(n,o)=>X9(n)===e,px=(e,n)=>(o,r)=>Y9(o)===e.toUpperCase()===n,yH=e=>{const n=ux(e.dom,e.selection.getStart());return Jt(n)},ty=e=>px("pre",e),Z8=()=>px("summary",!0),ny=e=>(n,o)=>ku(n)===e,q8=(e,n)=>j8(e),Fw=(e,n)=>n,vH=e=>{const n=ci(e),o=ux(e.dom,e.selection.getStart());return $e(o)&&e.schema.isValidChild(o.nodeName,n)},kH=e=>{const n=e.selection.getRng(),o=de.fromDom(n.startContainer),c=uu(o,n.startOffset).map(u=>Ar(u)&&!$t(u));return n.collapsed&&c.getOr(!0)},Nl=(e,n)=>(o,r)=>J(e,(u,m)=>u&&m(o,r),!0)?F.some(n):F.none(),G8=(e,n)=>BR([Nl([bH],Ru.none()),Nl([ty(!0),yH],Ru.none()),Nl([Z8()],Ru.br()),Nl([ty(!0),ny(!1),Fw],Ru.br()),Nl([ty(!0),ny(!1)],Ru.block()),Nl([ty(!0),ny(!0),Fw],Ru.block()),Nl([ty(!0),ny(!0)],Ru.br()),Nl([k5(!0),Fw],Ru.br()),Nl([k5(!0)],Ru.block()),Nl([q8],Ru.br()),Nl([Fw],Ru.br()),Nl([vH],Ru.block()),Nl([kH],Ru.block())],[e,!!(n&&n.shiftKey)]).getOr(Ru.none()),hx=(e,n,o)=>{n.selection.isCollapsed()||Fk(n),!($e(o)&&lx(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),$e(o)&&Pw(n,e.fakeEventName))},K8=(e,n)=>{const o=()=>hx(v5,e,n),r=()=>hx(H8,e,n),c=G8(e,n);switch(O0(e)){case"linebreak":c.fold(o,o,De);break;case"block":c.fold(r,r,De);break;case"invert":c.fold(r,o,De);break;default:c.fold(o,r,De);break}},w5=js(),wH=w5.os.isiOS()&&w5.browser.isSafari(),Y8=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),GF(e.undoManager),e.undoManager.transact(()=>{K8(e,n)}))},_H=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(It(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},CH=e=>{let n=F.none();const o=c=>{n=F.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,u)=>{c.undoManager.undo(),n.fold(De,m=>c.selection.moveToBookmark(m)),Y8(c,u),n=F.none()};e.on("keydown",c=>{c.keyCode===Cn.ENTER&&(wH&&_H(e.selection.getRng())?o(e):Y8(e,c))}),e.on("keyup",c=>{c.keyCode===Cn.ENTER&&n.each(()=>r(e,c))})},SH=(e,n,o)=>{const r=pn.os.isMacOS()||pn.os.isiOS();xw([{keyCode:Cn.END,action:Io(US,e,!0)},{keyCode:Cn.HOME,action:Io(US,e,!1)},...r?[]:[{keyCode:Cn.HOME,action:Io(WS,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Cn.END,action:Io(WS,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Cn.END,action:Io(PM,e,!0)},{keyCode:Cn.HOME,action:Io(PM,e,!1)},{keyCode:Cn.END,action:Io(PS,e,!0,n)},{keyCode:Cn.HOME,action:Io(PS,e,!1,n)}],o).each(c=>{o.preventDefault()})},X8=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||SH(e,n,o)})},xH=e=>{e.on("input",n=>{n.isComposing||eB(e)})},J8=js(),EH=(e,n,o)=>{xw([{keyCode:Cn.PAGE_UP,action:Io(PS,e,!1,n)},{keyCode:Cn.PAGE_DOWN,action:Io(PS,e,!0,n)}],o)},Q8=e=>e.stopImmediatePropagation(),e7=e=>e.keyCode===Cn.PAGE_UP||e.keyCode===Cn.PAGE_DOWN,t7=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",Q8,!0):!o&&e.get()&&n.off("NodeChange",Q8),e.set(o)},TH=(e,n)=>{if(J8.os.isMacOS())return;const o=Pa(!1);e.on("keydown",r=>{e7(r)&&t7(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||EH(e,n,r),e7(r)&&o.get()&&(t7(o,e,!1),e.nodeChanged())})},oy=(e,n)=>{const o=n.container(),r=n.offset();return It(o)?(o.insertData(r,e),F.some(ut(o,r+e.length))):yg(n).map(c=>{const u=de.fromText(e);return n.isAtEnd()?Il(c,u):Wa(c,u),ut(u.dom,e.length)})},n7=et(oy,pr),o7=et(oy," "),s7=(e,n)=>DD(e,n)?n7(n):o7(n),AH=e=>n=>n.fold(o=>ii(e.dom,ut.before(o)),o=>ka(o),o=>Ol(o),o=>qi(e.dom,ut.after(o))),OH=(e,n)=>o=>DD(e,o)?n7(n):o7(n),r7=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},a7=(e,n)=>e.isEditable(e.getParent(n,"summary")),DH=e=>{const n=ut.fromRangeStart(e.selection.getRng()),o=de.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=et(Rb,e),c=ut.fromRangeStart(e.selection.getRng());return Vf(r,e.getBody(),c).bind(AH(o)).map(u=>()=>OH(o,n)(u).each(r7(e)))}else return F.none()},zH=e=>{const n=()=>{const o=de.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=ut.fromRangeStart(e.selection.getRng());s7(o,r).each(r7(e))};return q(pn.browser.isFirefox()&&e.selection.isEditable()&&a7(e.dom,e.selection.getRng().startContainer),n)},kZ=(e,n)=>{cc([{keyCode:Cn.SPACEBAR,action:Io(DH,e)},{keyCode:Cn.SPACEBAR,action:Io(zH,e)}],n).each(o=>{n.preventDefault(),lx(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Pw(e,"insertText",{data:" "}))})},bx=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||kZ(e,n)})},RH=e=>qE(e)?[{keyCode:Cn.TAB,action:Io(GA,e,!0)},{keyCode:Cn.TAB,shiftKey:!0,action:Io(GA,e,!1)}]:[],MH=(e,n)=>{xw([...RH(e)],n).each(o=>{n.preventDefault()})},NH=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||MH(e,n)})},PH=e=>{if(e.addShortcut("Meta+P","","mcePrint"),$9(e),Fm(e))return Pa(null);{const n=ZI(e);return CM(e),WM(e,n),m5(e,n),CH(e),bx(e),xH(e),NH(e),X8(e,n),TH(e,n),n}};class BH{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",c=>{const u=n.selection.getRng(),m={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(c.type==="nodechange"||!aC(m,o))&&n.dispatch("SelectionChange"),o=m}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const c=n.selection.getStart(!0);c&&E1(n)&&!r.isSameElementPath(c)&&n.dom.isChildOf(c,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",c=>{!c.isDefaultPrevented()&&E1(n)&&(n.selection.getNode().nodeName==="IMG"?ad.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let r;if(this.editor.initialized&&o&&!P0(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();r=o.getStart(!0)||c,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,c))&&(r=c);const u=[];this.editor.dom.getParent(r,m=>m===c?!0:(u.push(m),!1)),this.editor.dispatch("NodeChange",pt(te({},n),{element:r,parents:u}))}}isSameElementPath(n){let o;const r=this.editor,c=Un(r.dom.getParents(n,it,r.getBody()));if(c.length===this.lastPath.length){for(o=c.length;o>=0&&c[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const c7=Fr("image"),FH=e=>{const n=e;return F.from(n[c7])},$H=(e,n)=>{const o=e;o[c7]=n},_5=Fr("event"),IH=e=>{const n=e;return F.from(n[_5])},yx=e=>n=>{const o=n;o[_5]=e},LH=(e,n)=>yx(n)(e),i7=yx(0),Tr=yx(2),HH=yx(1),UH=(e=>n=>{const o=n;return F.from(o[_5]).exists(r=>r===e)})(0),C5=()=>Object.freeze({length:0,item:e=>null}),vx=Fr("mode"),l7=e=>{const n=e;return F.from(n[vx])},kx=e=>n=>{const o=n;o[vx]=e},S5=(e,n)=>kx(n)(e),u7=kx(0),x5=kx(2),d7=kx(1),f7=e=>n=>{const o=n;return F.from(o[vx]).exists(r=>r===e)},Tv=f7(0),m7=f7(1),Av=(e,n)=>pt(te({},n),{get length(){return n.length},add:(o,r)=>{if(Tv(e))if(W(o)){if(!Sn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{Tv(e)&&n.remove(o)},clear:()=>{Tv(e)&&n.clear()}}),$w=["none","copy","link","move"],WH=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],E5=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(c){ee($w,c)&&(n=c)},get effectAllowed(){return o},set effectAllowed(c){UH(r)&&ee(WH,c)&&(o=c)},get items(){return Av(r,e.items)},get files(){return m7(r)?C5():e.files},get types(){return e.types},setDragImage:(c,u,m)=>{Tv(r)&&($H(r,{image:c,x:u,y:m}),e.setDragImage(c,u,m))},getData:c=>m7(r)?"":e.getData(c),setData:(c,u)=>{Tv(r)&&e.setData(c,u)},clearData:c=>{Tv(r)&&e.clearData(c)}};return u7(r),r},Ov=e=>{const n=E5(),o=l7(e);return x5(e),i7(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,FH(e).each(r=>n.setDragImage(r.image,r.x,r.y)),ae(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),ae(e.files,r=>n.items.add(r)),IH(e).each(r=>{LH(n,r)}),o.each(r=>{S5(e,r),S5(n,r)}),n},jH=e=>{const n=e.getData("text/html");return n===""?F.none():F.some(n)},wx=(e,n)=>e.setData("text/html",n),_x="x-tinymce/html",Iw=rt(_x),T5="<!-- "+_x+" -->",ZH=e=>T5+e,g7=e=>e.replace(T5,""),A5=e=>e.indexOf(T5)!==-1,qH=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),GH=(e,n)=>{let o="<"+e;const r=Jr(n,(c,u)=>u+'="'+bm.encodeAllRaw(c)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},KH=(e,n,o)=>{const r=e.split(/\n\n/),c=GH(n,o),u="</"+n+">",m=we(r,k=>k.split(/\n/).join("<br />")),b=k=>c+k+u;return m.length===1?m[0]:we(m,b).join("")},O5="%MCEPASTEBIN%",YH=(e,n)=>{const{dom:o,selection:r}=e,c=e.getBody();n.set(r.getRng());const u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},O5);pn.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(c,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),r.select(u,!0)},p7=(e,n)=>{const o=e.dom;if(D5(e)){let r;const c=n.get();for(;r=D5(e);)o.remove(r),o.unbind(r);c&&e.selection.setRng(c)}n.set(null)},D5=e=>e.dom.get("mcepastebin"),XH=e=>$e(e)&&e.id==="mcepastebin",JH=e=>{const n=e.dom,o=(m,b)=>{m.appendChild(b),n.remove(b,!0)},[r,...c]=Ye(e.getBody().childNodes,XH);ae(c,m=>{o(r,m)});const u=n.select("div[id=mcepastebin]",r);for(let m=u.length-1;m>=0;m--){const b=n.create("div");r.insertBefore(b,u[m]),o(b,u[m])}return r?r.innerHTML:""},h7=e=>e===O5,QH=e=>{const n=Pa(null);return{create:()=>YH(e,n),remove:()=>p7(e,n),getEl:()=>D5(e),getHtml:()=>JH(e),getLastRng:n.get}},Lw=(e,n)=>(Dt.each(n,o=>{Ot(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),eV=e=>{const n=Ju(),o=iv({},n);let r="";const c=n.getVoidElements(),u=Dt.makeMap("script noscript style textarea video audio iframe object"," "),m=n.getBlockElements(),b=k=>{const S=k.name,z=k;if(S==="br"){r+=`
`;return}if(S!=="wbr"){if(c[S]&&(r+=" "),u[S]){r+=" ";return}if(k.type===3&&(r+=k.value),!(k.name in n.getVoidElements())){let M=k.firstChild;if(M)do b(M);while(M=M.next)}m[S]&&z.next&&(r+=`
`,S==="p"&&(r+=`
`))}};return e=Lw(e,[/<!\[[^\]]+\]>/g]),b(o.parse(e)),r},z5=e=>(e=Lw(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,c)=>!r&&!c?" ":pr],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),tV=e=>{let n=0;return()=>e+n++},nV=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Dt.hasOwn(o,n)?"image/"+o[n]:"image/"+n},oV=(e,n)=>{const o=iv({sanitize:p1(e)},e.schema);o.addNodeFilter("meta",c=>{Dt.each(c,u=>{u.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return Db({validate:!0},e.schema).serialize(r)},b7=(e,n)=>({content:e,cancelled:n}),sV=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),c=eC(e,r,o);return b7(c.node.innerHTML,c.isDefaultPrevented())},rV=(e,n,o)=>{const r=TT(e,n,o),c=oV(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?sV(e,c,o):b7(c,r.isDefaultPrevented())},y7=(e,n,o)=>rV(e,n,o),R5=(e,n)=>(e.insertContent(n,{merge:m2(e),paste:!0}),!0),M5=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),aV=(e,n)=>M5(n)&&he(L0(e),o=>es(n.toLowerCase(),`.${o.toLowerCase()}`)),cV=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),iV=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),lV=(e,n,o)=>!e.selection.isCollapsed()&&M5(n)?iV(e,n,o):!1,uV=(e,n,o)=>aV(e,n)?cV(e,n,o):!1,v7=(e,n)=>{Dt.each([lV,uV,R5],o=>!o(e,n,R5))},dV=(e,n,o)=>{o||!g2(e)?R5(e,n):v7(e,n)},fV=tV("mceclip"),mV=e=>{const n=E5();return wx(n,e),x5(n),n},k7=(e,n,o,r,c)=>{const u=y7(e,n,o);if(!u.cancelled){const m=u.content,b=()=>dV(e,m,r);c?lx(e,"insertFromPaste",{dataTransfer:mV(m)}).isDefaultPrevented()||(b(),Pw(e,"insertFromPaste")):b()}},Cx=(e,n,o,r)=>{const c=o||A5(n);k7(e,g7(n),c,!1,r)},N5=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),c=Ey(r,UE(e)),u=KH(c,ci(e),Cp(e));k7(e,u,!1,!0,o)},w7=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch(c){n[r]=""}}return n},Zf=(e,n)=>n in e&&e[n].length>0,P5=e=>Zf(e,"text/html")||Zf(e,"text/plain"),gV=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return $e(o)?e.dom.encode(o[1]):void 0},_7=(e,n,o,r)=>{const c=fV(),u=Y_(e)&&$e(o.name),m=u?gV(e,o.name):c,b=u?o.name:void 0,k=n.create(c,o,r,m,b);return n.add(k),k},C7=(e,n)=>{s4(n.uri).each(({data:o,type:r,base64Encoded:c})=>{const u=c?o:btoa(o),m=n.file,b=e.editorUpload.blobCache,k=b.getByData(u,r),S=k!=null?k:_7(e,b,m,u);Cx(e,`<img src="${S.blobUri()}">`,!1,!0)})},B5=e=>e.type==="paste",pV=e=>Promise.all(we(e,n=>Wz(n).then(o=>({file:n,uri:o})))),S7=e=>{const n=L0(e);return o=>so(o.type,"image/")&&he(n,r=>nV(r)===o.type)},hV=(e,n)=>{const o=n.items?On(Zo(n.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=n.files?Zo(n.files):[];return Ye(o.length>0?o:r,S7(e))},F5=(e,n,o)=>{const r=B5(n)?n.clipboardData:n.dataTransfer;if(m1(e)&&r){const c=hV(e,r);if(c.length>0)return n.preventDefault(),pV(c).then(u=>{o&&e.selection.setRng(o),ae(u,m=>{C7(e,m)})}),!0}return!1},bV=e=>{var n,o;return pn.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},x7=e=>Cn.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,$5=(e,n,o,r,c)=>{let u=z5(o);const m=Zf(n,Iw())||A5(o),b=!m&&qH(u),k=M5(u);(h7(u)||!u.length||b&&!k)&&(r=!0),(r||k)&&(Zf(n,"text/plain")&&b?u=n["text/plain"]:u=eV(u)),!h7(u)&&(r?N5(e,u,c):Cx(e,u,m,c))},yV=(e,n,o)=>{let r;const c=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",u=>{x7(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||bV(u))return;const m=o.get()==="text"||r;r=!1;const b=w7(u.clipboardData);!P5(b)&&F5(e,u,c())||(Zf(b,"text/html")?(u.preventDefault(),$5(e,b,b["text/html"],m,!0)):Zf(b,"text/plain")&&Zf(b,"text/uri-list")?(u.preventDefault(),$5(e,b,b["text/plain"],m,!0)):(n.create(),ad.setEditorTimeout(e,()=>{const k=n.getHtml();n.remove(),$5(e,b,k,m,!1)},0)))})},vV=e=>{const n=c=>so(c,"webkit-fake-url"),o=c=>so(c,"data:"),r=c=>{var u;return((u=c.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(c,u,m)=>{if(!m1(e)&&r(m))for(const b of c){const k=b.attr("src");W(k)&&!b.attr("data-mce-object")&&k!==pn.transparentSrc&&(n(k)||!WE(e)&&o(k))&&b.remove()}})},Hw=(e,n,o)=>{yV(e,n,o),vV(e)},kV=(e,n)=>{n.get()==="text"?(n.set("html"),N1(e,!1)):(n.set("text"),N1(e,!0)),e.focus()},wV=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{kV(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&Cx(e,r.html,r.internal,!1),r.text&&N5(e,r.text,!1)})},E7=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(Iw(),n),!0}catch(r){return!1}else return!1},T7=(e,n,o,r)=>{E7(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},A7=e=>(n,o)=>{const{dom:r,selection:c}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=r.create("div",{contenteditable:"true"},n);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(m),r.add(e.getBody(),u);const b=c.getRng();m.focus();const k=r.createRng();k.selectNodeContents(m),c.setRng(k),ad.setEditorTimeout(e,()=>{c.setRng(b),r.remove(u),o()},0)},O7=e=>({html:ZH(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),_V=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),D7=e=>!e.selection.isCollapsed()||_V(e),Sx=e=>n=>{!n.isDefaultPrevented()&&D7(e)&&T7(n,O7(e),A7(e),()=>{if(pn.browser.isChromium()||pn.browser.isFirefox()){const o=e.selection.getRng();ad.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},z7=e=>n=>{!n.isDefaultPrevented()&&D7(e)&&T7(n,O7(e),A7(e),De)},R7=e=>{e.on("cut",Sx(e)),e.on("copy",z7(e))},M7=(e,n)=>{var o,r;return l.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},CV=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},N7=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},wZ=e=>he(e.files,n=>/^image\//.test(n.type)),SV=(e,n,o,r)=>{const c=e.getParent(o,m=>mm(n,m));if(!H(e.getParent(o,"summary")))return!0;if(c&&qn(r,"text/html")){const m=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!H(m.querySelector(c.nodeName.toLowerCase()))}else return!1},I5=e=>{e.on("input",n=>{const o=r=>H(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=Ye(e.dom.select("details"),o);ae(r,c=>{na(c.firstChild)&&c.firstChild.remove();const u=e.dom.create("summary");u.appendChild(L().dom),c.prepend(u)})}})},L5=(e,n)=>{u2(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),m1(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&wZ(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=M7(e,o);if(Jt(r))return;const c=w7(o.dataTransfer),u=Zf(c,Iw());if((!P5(c)||CV(c))&&F5(e,o,r))return;const m=c[Iw()],b=m||c["text/html"]||c["text/plain"],k=SV(e.dom,e.schema,r.startContainer,c),S=n.get();S&&!k||b&&(o.preventDefault(),ad.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(m||S&&k)&&e.execCommand("Delete"),N7(e,r);const z=z5(b);c["text/html"]?Cx(e,z,u,!0):N5(e,z,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{m1(e)&&!n.get()&&(o.preventDefault(),N7(e,M7(e,o))),o.type==="dragend"&&n.set(!1)}),I5(e)},xx=e=>{const n=c=>u=>{c(e,u)},o=IE(e);ce(o)&&e.on("PastePreProcess",n(o));const r=d2(e);ce(r)&&e.on("PastePostProcess",n(r))},xV=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},EV=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,H5=e=>Dt.trim(e).replace(EV,x1).toLowerCase(),TV=(e,n,o)=>{const r=HE(e);if(o||r==="all"||!f2(e))return n;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const u=e.dom,m=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(b,k,S,z)=>{const M=u.parseStyle(u.decode(S)),I={};for(let se=0;se<c.length;se++){const K=M[c[se]];let oe=K,Te=u.getStyle(m,c[se],!0);/color/.test(c[se])&&(oe=H5(oe),Te=H5(Te)),Te!==oe&&(I[c[se]]=K)}const Q=u.serializeStyle(I,"span");return Q?k+' style="'+Q+'"'+z:k+z})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,m,b,k)=>m+' style="'+b+'"'+k),n},V5=e=>{(pn.browser.isChromium()||pn.browser.isSafari())&&xV(e,TV)},P7=e=>{const n=Pa(!1),o=Pa(VE(e)?"text":"html"),r=QH(e);V5(e),wV(e,o),xx(e),e.on("PreInit",()=>{R7(e),L5(e,n),Hw(e,r,o)})},AV=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},OV=e=>{e.parser.addNodeFilter("details",n=>{const o=v2(e);ae(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=nb(e);ae(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},B7=e=>{AV(e),OV(e)},DV=na,zV=It,RV=e=>As(e.dom),MV=e=>nc(e.dom),F7=e=>n=>Rs(de.fromDom(e),n),$7=(e,n)=>Kc(de.fromDom(e),o=>MV(o)||Li(o),F7(n)).getOr(de.fromDom(n)).dom,I7=(e,n)=>Kc(de.fromDom(e),RV,F7(n)),U5=(e,n,o)=>{const r=new vr(e,n),c=o?r.next.bind(r):r.prev.bind(r);let u=e;for(let m=o?e:c();m&&!DV(m);m=c())gc(m)&&(u=m);return u},NV=(e,n)=>{const r=ut.fromRangeStart(e).getNode(),c=$7(r,n),u=U5(r,c,!1),m=U5(r,c,!0),b=document.createRange();return I7(u,c).fold(()=>{zV(u)?b.setStart(u,0):b.setStartBefore(u)},k=>b.setStartBefore(k.dom)),I7(m,c).fold(()=>{zV(m)?b.setEnd(m,m.data.length):b.setEndAfter(m)},k=>b.setEndAfter(k.dom)),b},PV=e=>{const n=NV(e.selection.getRng(),e.getBody());e.selection.setRng(O3(n))},BV=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),PV(e))})};var Dv;(function(e){e.Before="before",e.After="after"})(Dv||(Dv={}));const FV=(e,n)=>Math.abs(e.left-n),L7=(e,n)=>Math.abs(e.right-n),_Z=(e,n)=>e>=n.top&&e<=n.bottom,$V=(e,n)=>e.top<n.bottom&&e.bottom>n.top,H7=(e,n)=>{const o=pE(e,n)/Math.min(e.height,n.height);return $V(e,n)&&o>.5},IV=(e,n)=>{const o=Ye(e,r=>_Z(n,r));return gE(o).fold(()=>[[],e],r=>{const{pass:c,fail:u}=Pe(e,m=>H7(m,r));return[c,u]})},W5=(e,n)=>({node:e.node,position:FV(e,n)<L7(e,n)?Dv.Before:Dv.After}),LV=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),j5=(e,n,o)=>{const r=z=>gc(z.node)?F.some(z):wn(z.node)?j5(Zo(z.node.childNodes),n,o):F.none(),c=(z,M)=>{if(z.length>=2){const I=r(z[0]).getOr(z[0]),Q=r(z[1]).getOr(z[1]);if(Math.abs(M(I,n,o)-M(Q,n,o))<2){if(It(I.node))return F.some(I);if(It(Q.node))return F.some(Q)}}return F.none()},u=(z,M)=>{const I=Jn(z,(Q,se)=>M(Q,n,o)-M(se,n,o));return c(I,M).orThunk(()=>Jo(I,r))},[m,b]=IV(GR(e),o),{pass:k,fail:S}=Pe(b,z=>z.top<o);return u(m,LV).orThunk(()=>u(S,b0)).orThunk(()=>u(k,b0))},HV=(e,n,o,r)=>{const c=(u,m)=>{const b=S=>wn(S)&&S.classList.contains("mce-drag-container"),k=Ye(u.dom.childNodes,uo(b));return m.fold(()=>j5(k,o,r),S=>{const z=Ye(k,M=>M!==S.dom);return j5(z,o,r)}).orThunk(()=>(Rs(u,e)?F.none():bd(u)).bind(z=>c(z,F.some(u))))};return c(n,F.none())},V7=(e,n,o)=>{const r=de.fromDom(e),c=yi(r),m=de.fromPoint(c,n,o).filter(b=>dc(r,b)).getOr(r);return HV(r,m,n,o)},Vw=(e,n,o)=>V7(e,n,o).filter(r=>Ap(r.node)).map(r=>W5(r,n)),Z5=e=>{var n,o;const r=e.getBoundingClientRect(),c=e.ownerDocument,u=c.documentElement,m=c.defaultView;return{top:r.top+((n=m==null?void 0:m.scrollY)!==null&&n!==void 0?n:0)-u.clientTop,left:r.left+((o=m==null?void 0:m.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},U7=e=>e.inline?Z5(e.getBody()):{left:0,top:0},VV=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},UV=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},c={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:c},W7=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=Z5(e.getContentAreaContainer()),r=UV(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},WV=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),jV=(e,n)=>WV(U7(e),VV(e),W7(e,n)),j7=e=>({target:e,srcElement:e}),q5=(e,n,o,r)=>te(pt(te({},n),{dataTransfer:r,type:e}),j7(o)),ZV=(e,n,o)=>{const r=Yo("Function not supported on simulated event.");return te({bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:De,stopImmediatePropagation:De,stopPropagation:De,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o},j7(n))},qV=(e,n)=>{const o=Ov(e);return n==="dragstart"?(i7(o),u7(o)):n==="drop"?(Tr(o),x5(o)):(HH(o),d7(o)),o},GV=(e,n,o,r)=>{const c=qV(o,e);return Sn(r)?ZV(e,n,c):q5(e,r,n,c)},Ex=32,KV=100,Tx=8,Uw=16,G5=As,K5=hE(G5,nc),Y5=(e,n,o)=>G5(o)&&o!==n&&e.isEditable(o.parentElement),YV=(e,n,o)=>Jt(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),X5=(e,n,o,r)=>{const c=e.dom,u=n.cloneNode(!0);c.setStyles(u,{width:o,height:r}),c.setAttrib(u,"data-mce-selected",null);const m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),c.setStyles(u,{margin:0,boxSizing:"border-box"}),m.appendChild(u),m},XV=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},Ax=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},J5=Ax("left",-Ex),Z7=Ax("left",Ex),q7=Ax("top",-Ex),G7=Ax("top",Ex),JV=(e,n,o,r,c,u,m,b,k,S,z,M)=>{let I=0,Q=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>c&&(I=n.pageX+o-c),n.pageY+r>u&&(Q=n.pageY+r-u),e.style.width=o-I+"px",e.style.height=r-Q+"px";const se=k.clientHeight,K=k.clientWidth,oe=m+k.getBoundingClientRect().top,Te=b+k.getBoundingClientRect().left;z.on(ze=>{ze.intervalId.clear(),ze.dragging&&M&&(m+Tx>=se?ze.intervalId.set(G7(S)):m-Tx<=0?ze.intervalId.set(q7(S)):b+Tx>=K?ze.intervalId.set(Z7(S)):b-Tx<=0?ze.intervalId.set(J5(S)):oe+Uw>=window.innerHeight?ze.intervalId.set(G7(window)):oe-Uw<=0?ze.intervalId.set(q7(window)):Te+Uw>=window.innerWidth?ze.intervalId.set(Z7(window)):Te-Uw<=0&&ze.intervalId.set(J5(window)))})},K7=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},QV=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);K7(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&G(de.fromDom(o))},eU=e=>e.button===0,Y7=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),tU=(e,n)=>o=>{if(eU(o)){const r=Le(n.dom.getParents(o.target),K5).getOr(null);if($e(r)&&Y5(n.dom,n.getBody(),r)){const c=n.dom.getPos(r),u=n.getBody(),m=n.getDoc().documentElement;e.set({element:r,dataTransfer:E5(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?u.scrollWidth:m.offsetWidth)-2,maxY:(n.inline?u.scrollHeight:m.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:X5(n,r,r.offsetWidth,r.offsetHeight),intervalId:fE(KV)})}}},Q5=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),Vw(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===Dv.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(n,o)})},Ww=(e,n,o,r,c)=>{n==="dragstart"&&wx(r,e.dom.getOuterHTML(o));const u=GV(n,o,r,c);return e.dispatch(n,u)},nU=(e,n)=>{const o=Zh((c,u)=>Q5(n,c,u),0);n.on("remove",o.cancel);const r=e;return c=>e.on(u=>{const m=Math.max(Math.abs(c.screenX-u.screenX),Math.abs(c.screenY-u.screenY));if(!u.dragging&&m>10){const b=Ww(n,"dragstart",u.element,u.dataTransfer,c);if($e(b.dataTransfer)&&(u.dataTransfer=b.dataTransfer),b.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){const b=c.currentTarget===n.getDoc().documentElement,k=Y7(u,jV(n,c));XV(u.ghost,n.getBody()),JV(u.ghost,k,u.width,u.height,u.maxX,u.maxY,c.clientY,c.clientX,n.getContentAreaContainer(),n.getWin(),r,b),o.throttle(c.clientX,c.clientY)}})},oU=e=>{const n=e.getSel();if($e(n)){const r=n.getRangeAt(0).startContainer;return It(r)?r.parentNode:r}else return null},sU=(e,n)=>o=>{e.on(r=>{var c;if(r.intervalId.clear(),r.dragging){if(YV(n,oU(n.selection),r.element)){const u=(c=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&c!==void 0?c:n.getBody();Ww(n,"drop",u,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{QV(n.dom,r.element),jH(r.dataTransfer).each(b=>n.insertContent(b)),n._selectionOverrides.hideFakeCaret()})}Ww(n,"dragend",n.getBody(),r.dataTransfer,o)}}),jw(e)},X7=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>Ww(n,"dragend",r.element,r.dataTransfer),c=>Ww(n,"dragend",r.element,r.dataTransfer,c))}),jw(e)},rU=(e,n)=>o=>X7(e,n,F.some(o)),jw=e=>{e.on(n=>{n.intervalId.clear(),K7(n.ghost)}),e.clear()},aU=e=>{const n=Qu(),o=Ys.DOM,r=document,c=tU(n,e),u=nU(n,e),m=sU(n,e),b=rU(n,e);e.on("mousedown",c),e.on("mousemove",u),e.on("mouseup",m),o.bind(r,"mousemove",u),o.bind(r,"mouseup",b),e.on("remove",()=>{o.unbind(r,"mousemove",u),o.unbind(r,"mouseup",b)}),e.on("keydown",k=>{k.keyCode===Cn.ESC&&X7(n,e,F.none())})},cU=e=>{const n=c=>{if(!c.isDefaultPrevented()){const u=c.dataTransfer;u&&(ee(u.types,"Files")||u.files.length>0)&&(c.preventDefault(),c.type==="drop"&&fw(e,"Dropped file type is not supported"))}},o=c=>{zk(e,c.target)&&n(c)},r=()=>{const c=Ys.DOM,u=e.dom,m=document,b=e.inline?e.getBody():e.getDoc(),k=["drop","dragover"];ae(k,S=>{c.bind(m,S,o),u.bind(b,S,n)}),e.on("remove",()=>{ae(k,S=>{c.unbind(m,S,o),u.unbind(b,S,n)})})};e.on("init",()=>{ad.setEditorTimeout(e,r,0)})},iU=e=>{aU(e),Ef(e)&&cU(e)},lU=e=>{const n=Zh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=sA(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},uU=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Sl(o)){const r=Gp(e.getBody(),o),c=As(r)?r:o;e.selection.getNode()!==c&&hw(e,c).each(u=>e.selection.setRng(u))}})})},Zw=As,J7=(e,n)=>Gp(e.getBody(),n),dU=e=>{const n=e.selection,o=e.dom,r=e.getBody(),c=tT(e,r,o.isBlock,()=>Ob(e)),u="sel-"+o.uniqueId(),m="data-mce-selected";let b;const k=Kt=>$e(Kt)&&o.hasClass(Kt,"mce-offscreen-selection"),S=Kt=>Kt!==r&&(Zw(Kt)||Sl(Kt))&&o.isChildOf(Kt,r)&&o.isEditable(Kt.parentNode),z=Kt=>{Kt&&n.setRng(Kt)},M=(Kt,Je,nt,Bt=!0)=>e.dispatch("ShowCaret",{target:Je,direction:Kt,before:nt}).isDefaultPrevented()?null:(Bt&&n.scrollIntoView(Je,Kt===-1),c.show(nt,Je)),I=Kt=>{Kt.hasAttribute("data-mce-caret")&&(df(Kt),n.scrollIntoView(Kt))},Q=()=>{e.on("click",Je=>{o.isEditable(Je.target)||(Je.preventDefault(),e.focus())}),e.on("blur NewBlock",Ue),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",Je=>{const nt=Je.target,Bt=J7(e,nt);Zw(Bt)?(Je.preventDefault(),hw(e,Bt).each(Me)):S(nt)&&hw(e,nt).each(Me)},!0),e.on("mousedown",Je=>{const nt=Je.target;if(nt!==r&&nt.nodeName!=="HTML"&&!o.isChildOf(nt,r)||!j4(e,Je.clientX,Je.clientY))return;Ue(),sn();const Bt=J7(e,nt);Zw(Bt)?(Je.preventDefault(),hw(e,Bt).each(Me)):Vw(r,Je.clientX,Je.clientY).each(Vn=>{Je.preventDefault();const ro=M(1,Vn.node,Vn.position===Dv.Before,!1);z(ro),wn(Bt)?Bt.focus():e.getBody().focus()})}),e.on("keypress",Je=>{Cn.modifierPressed(Je)||Zw(n.getNode())&&Je.preventDefault()}),e.on("GetSelectionRange",Je=>{let nt=Je.range;if(b){if(!b.parentNode){b=null;return}nt=nt.cloneRange(),nt.selectNode(b),Je.range=nt}}),e.on("SetSelectionRange",Je=>{Je.range=oe(Je.range);const nt=Me(Je.range,Je.forward);nt&&(Je.range=nt)});const Kt=Je=>wn(Je)&&Je.id==="mcepastebin";e.on("AfterSetSelectionRange",Je=>{const nt=Je.range,Bt=nt.startContainer.parentElement;!K(nt)&&!Kt(Bt)&&sn(),k(Bt)||Ue()}),iU(e),lU(e),uU(e)},se=Kt=>Fs(Kt)||lf(Kt)||wd(Kt),K=Kt=>se(Kt.startContainer)||se(Kt.endContainer),oe=Kt=>{const Je=e.schema.getVoidElements(),nt=o.createRng(),Bt=Kt.startContainer,Vn=Kt.startOffset,ro=Kt.endContainer,jo=Kt.endOffset;return qn(Je,Bt.nodeName.toLowerCase())?Vn===0?nt.setStartBefore(Bt):nt.setStartAfter(Bt):nt.setStart(Bt,Vn),qn(Je,ro.nodeName.toLowerCase())?jo===0?nt.setEndBefore(ro):nt.setEndAfter(ro):nt.setEnd(ro,jo),nt},Te=(Kt,Je)=>{const nt=de.fromDom(e.getBody()),Bt=e.getDoc(),Vn=me(nt,"#"+u).getOrThunk(()=>{const ls=de.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Bt);return Gs(ls,"id",u),Sa(nt,ls),ls}),ro=o.createRng();du(Vn),rr(Vn,[de.fromText(pr,Bt),de.fromDom(Je),de.fromText(pr,Bt)]),ro.setStart(Vn.dom.firstChild,1),ro.setEnd(Vn.dom.lastChild,0),Xr(Vn,{top:o.getPos(Kt,e.getBody()).y+"px"}),Tg(Vn);const jo=n.getSel();return jo&&(jo.removeAllRanges(),jo.addRange(ro)),ro},ze=Kt=>{const Je=Kt.cloneNode(!0),nt=e.dispatch("ObjectSelected",{target:Kt,targetClone:Je});if(nt.isDefaultPrevented())return null;const Bt=Te(Kt,nt.targetClone),Vn=de.fromDom(Kt);return ae(ja(de.fromDom(e.getBody()),`*[${m}]`),ro=>{Rs(Vn,ro)||ta(ro,m)}),o.getAttrib(Kt,m)||Kt.setAttribute(m,"1"),b=Kt,sn(),Bt},Me=(Kt,Je)=>{if(!Kt)return null;if(Kt.collapsed){if(!K(Kt)){const ro=Je?1:-1,jo=bg(ro,r,Kt),ls=jo.getNode(!Je);if($e(ls)){if(Ap(ls))return M(ro,ls,Je?!jo.isAtEnd():!1,!1);if(Ss(ls)&&As(ls.nextSibling)){const ar=o.createRng();return ar.setStart(ls,0),ar.setEnd(ls,0),ar}}const Is=jo.getNode(Je);if($e(Is)){if(Ap(Is))return M(ro,Is,Je?!1:!jo.isAtEnd(),!1);if(Ss(Is)&&As(Is.previousSibling)){const ar=o.createRng();return ar.setStart(Is,1),ar.setEnd(Is,1),ar}}}return null}let nt=Kt.startContainer,Bt=Kt.startOffset;const Vn=Kt.endOffset;if(It(nt)&&Bt===0&&Zw(nt.parentNode)&&(nt=nt.parentNode,Bt=o.nodeIndex(nt),nt=nt.parentNode),!wn(nt))return null;if(Vn===Bt+1&&nt===Kt.endContainer){const ro=nt.childNodes[Bt];if(S(ro))return ze(ro)}return null},Ue=()=>{b&&b.removeAttribute(m),me(de.fromDom(e.getBody()),"#"+u).each(Ms),b=null},At=()=>{c.destroy(),b=null},sn=()=>{c.hide()};return Fm(e)||Q(),{showCaret:M,showBlockCaretContainer:I,hideFakeCaret:sn,destroy:At}},fU=(e,n)=>{let o=n;for(let r=e.previousSibling;It(r);r=r.previousSibling)o+=r.data.length;return o},eO=(e,n,o,r,c)=>{if(It(o)&&(r<0||r>o.data.length))return[];const u=c&&It(o)?[fU(o,r)]:[r];let m=o;for(;m!==n&&m.parentNode;)u.push(e.nodeIndex(m,c)),m=m.parentNode;return m===n?u.reverse():[]},tO=(e,n,o,r,c,u,m=!1)=>{const b=eO(e,n,o,r,m),k=eO(e,n,c,u,m);return{start:b,end:k}},nO=(e,n)=>{const o=n.slice(),r=o.pop();return Ro(r)?J(o,(u,m)=>u.bind(b=>F.from(b.childNodes[m])),F.some(e)).bind(u=>It(u)&&(r<0||r>u.data.length)?F.none():F.some({node:u,offset:r})):F.none()},Q7=(e,n)=>nO(e,n.start).bind(({node:o,offset:r})=>nO(e,n.end).map(({node:c,offset:u})=>{const m=document.createRange();return m.setStart(o,r),m.setEnd(c,u),m})),mU=(e,n,o,r=!1)=>tO(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),sy=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,It(n.firstChild)&&lm(n.firstChild.data)),sy(e,r,o)}},uh=(e,n,o,r=!0)=>{const c=n.startContainer.parentNode,u=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(It(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),It(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),sy(e,c,o),c!==u&&sy(e,u,o))},oO=(e,n)=>F.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),sO=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return pt(te({},e),{blockPatterns:V_(r).concat(e.blockPatterns),inlinePatterns:U_(r).concat(e.inlinePatterns)})},eN=(e,n,o,r)=>{const c=e.createRng();return c.setStart(n,0),c.setEnd(o,r),c.toString()},gU=e=>/^\s[^\s]/.test(e),tN=(e,n,o)=>{KL(n,0,n).each(c=>{const u=c.container;YA(u,o.start.length,n).each(k=>{const S=e.createRng();S.setStart(u,0),S.setEnd(k.container,k.offset),uh(e,S,z=>z===n)});const m=de.fromDom(u),b=ki(m);gU(b)&&Gu(m,b.slice(1))})},pU=(e,n)=>{const o=e.dom,r=n.pattern,c=Q7(o.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(m,b)=>{const k=b.get(m);return ht(k)&&kn(k).exists(S=>qn(S,"block"))};return oO(e,c).each(m=>{r.type==="block-format"?u(r.format,e.formatter)&&e.undoManager.transact(()=>{tN(e.dom,m,r),e.formatter.apply(r.format)}):r.type==="block-command"&&e.undoManager.transact(()=>{tN(e.dom,m,r),e.execCommand(r.cmd,!1,r.value)})}),!0},nN=e=>Jn(e,(n,o)=>o.start.length-n.start.length),hU=(e,n)=>{const o=nN(e),r=n.replace(pr," ");return Le(o,c=>n.indexOf(c.start)===0||r.indexOf(c.start)===0)},oN=(e,n,o,r)=>{var c;const u=e.dom,m=ci(e);if(!u.is(n,m))return[];const b=(c=n.textContent)!==null&&c!==void 0?c:"";return hU(o.blockPatterns,b).map(k=>Dt.trim(b).length===k.start.length?[]:[{pattern:k,range:tO(u,u.getRoot(),n,0,n,0,r)}]).getOr([])},bU=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();ae(n,r=>pU(e,r)),e.selection.moveToBookmark(o)},sN=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),Ox=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},rN=(e,n,o)=>{const r=Q7(e.getRoot(),o).getOrDie("Unable to resolve path range"),c=r.startContainer,u=r.endContainer,m=r.endOffset===0?u:u.splitText(r.endOffset),b=r.startOffset===0?c:c.splitText(r.startOffset),k=b.parentNode,S=m.parentNode;return{prefix:n,end:S.insertBefore(sN(e,n+"-end"),m),start:k.insertBefore(sN(e,n+"-start"),b)}},aN=(e,n,o)=>{sy(e,e.get(n.prefix+"-end"),o),sy(e,e.get(n.prefix+"-start"),o)},rO=e=>e.start.length===0,yU=e=>(n,o)=>{const c=n.data.substring(0,o),u=c.lastIndexOf(e.charAt(e.length-1)),m=c.lastIndexOf(e);return m!==-1?m+e.length:u!==-1?u+1:-1},cN=(e,n,o,r)=>{const c=n.start;return XA(e,r.container,r.offset,yU(c),o).bind(m=>{var b,k;const S=(k=(b=o.textContent)===null||b===void 0?void 0:b.indexOf(c))!==null&&k!==void 0?k:-1;if(S!==-1&&m.offset>=S+c.length){const M=e.createRng();return M.setStart(m.container,m.offset-c.length),M.setEnd(m.container,m.offset),F.some(M)}else{const M=m.offset-c.length;return KA(m.container,M,o).map(I=>{const Q=e.createRng();return Q.setStart(I.container,I.offset),Q.setEnd(m.container,m.offset),Q}).filter(I=>I.toString()===c).orThunk(()=>cN(e,n,o,jd(m.container,0)))}})},vU=(e,n,o,r,c,u=!1)=>{if(n.start.length===0&&!u){const m=e.createRng();return m.setStart(o,r),m.setEnd(o,r),F.some(m)}return JS(o,r,c).bind(m=>cN(e,n,c,m).bind(k=>{var S;if(u){if(k.endContainer===m.container&&k.endOffset===m.offset)return F.none();if(m.offset===0&&((S=k.endContainer.textContent)===null||S===void 0?void 0:S.length)===k.endOffset)return F.none()}return F.some(k)}))},iN=(e,n,o,r)=>{const c=e.dom,u=c.getRoot(),m=o.pattern,b=o.position.container,k=o.position.offset;return KA(b,k-o.pattern.end.length,n).bind(S=>{const z=tO(c,u,S.container,S.offset,b,k,r);if(rO(m))return F.some({matches:[{pattern:m,startRng:z,endRng:z}],position:S});{const M=zv(e,o.remainingPatterns,S.container,S.offset,n,r),I=M.getOr({matches:[],position:S}),Q=I.position;return vU(c,m,Q.container,Q.offset,n,M.isNone()).map(K=>{const oe=mU(c,u,K,r);return{matches:I.matches.concat([{pattern:m,startRng:oe,endRng:z}]),position:jd(K.startContainer,K.startOffset)}})}})},zv=(e,n,o,r,c,u)=>{const m=e.dom;return JS(o,r,m.getRoot()).bind(b=>{const k=eN(m,c,o,r);for(let S=0;S<n.length;S++){const z=n[S];if(!es(k,z.end))continue;const M=n.slice();M.splice(S,1);const I=iN(e,c,{pattern:z,remainingPatterns:M,position:b},u);if(I.isNone()&&r>0)return zv(e,n,o,r-1,c,u);if(I.isSome())return I}return F.none()})},aO=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?ae(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},lN=(e,n,o,r)=>{const c=Ox(e.dom,o);uh(e.dom,c,r),aO(e,n,c)},kU=(e,n,o,r,c)=>{const u=e.dom,m=Ox(u,r),b=Ox(u,o);uh(u,b,c),uh(u,m,c);const k={prefix:o.prefix,start:o.end,end:r.start},S=Ox(u,k);aO(e,n,S)},wU=(e,n)=>{const o=Fr("mce_textpattern"),r=We(n,(c,u)=>{const m=rN(e,o+`_end${c.length}`,u.endRng);return c.concat([pt(te({},u),{endMarker:m})])},[]);return We(r,(c,u)=>{const m=r.length-c.length-1,b=rO(u.pattern)?u.endMarker:rN(e,o+`_start${m}`,u.startRng);return c.concat([pt(te({},u),{startMarker:b})])},[])},_U=e=>Jn(e,(n,o)=>o.end.length-n.end.length),uN=(e,n)=>{const o=Nn(e,r=>he(n,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},cO=(e,n,o,r,c,u)=>{const m=zv(e,c.inlinePatterns,o,r,n,u).fold(()=>[],k=>k.matches),b=zv(e,_U(c.inlinePatterns),o,r,n,u).fold(()=>[],k=>k.matches);return uN(m,b)},dN=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),c=wU(o,n);ae(c,u=>{const m=o.getParent(u.startMarker.start,o.isBlock),b=k=>k===m;rO(u.pattern)?lN(e,u.pattern,u.endMarker,b):kU(e,u.pattern,u.startMarker,u.endMarker,b),aN(o,u.endMarker,b),aN(o,u.startMarker,b)}),e.selection.moveToBookmark(r)},CU=(e,n)=>{const o=e.selection.getRng();return oO(e,o).map(r=>{var c;const u=Math.max(0,o.startOffset),m=sO(n,r,(c=r.textContent)!==null&&c!==void 0?c:""),b=cO(e,r,o.startContainer,u,m,!0),k=oN(e,r,m,!0);return k.length>0||b.length>0?(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(_t),dN(e,b),bU(e,k);const S=e.selection.getRng(),z=JS(S.startContainer,S.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),z.each(M=>{const I=M.container;I.data.charAt(M.offset-1)===_t&&(I.deleteData(M.offset-1,1),sy(e.dom,I.parentNode,Q=>Q===e.dom.getRoot()))})}),!0):!1}).getOr(!1)},iO=(e,n)=>{const o=e.selection.getRng();oO(e,o).map(r=>{const c=Math.max(0,o.startOffset-1),u=eN(e.dom,r,o.startContainer,c),m=sO(n,r,u),b=cO(e,r,o.startContainer,c,m,!1);b.length>0&&e.undoManager.transact(()=>{dN(e,b)})})},qw=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},Dx=(e,n)=>qw(e,n,(o,r)=>o===r.keyCode&&!Cn.modifierPressed(r)),Kg=(e,n)=>qw(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),zx=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>r1(p2(e),F0(e)),c=()=>h1(e);e.on("keydown",m=>{if(m.keyCode===13&&!Cn.modifierPressed(m)&&e.selection.isCollapsed()){const b=r();(b.inlinePatterns.length>0||b.blockPatterns.length>0||c())&&CU(e,b)&&m.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()){const m=r();(m.inlinePatterns.length>0||c())&&iO(e,m)}};e.on("keyup",m=>{Dx(o,m)&&u()}),e.on("keypress",m=>{Kg(n,m)&&ad.setEditorTimeout(e,u)})},Rv=e=>{zx(e)},fN=e=>{const n=Dt.each,o=Cn.BACKSPACE,r=Cn.DELETE,c=e.dom,u=e.selection,m=e.parser,b=pn.browser,k=b.isFirefox(),S=b.isChromium()||b.isSafari(),z=pn.deviceType.isiPhone()||pn.deviceType.isiPad(),M=pn.os.isMacOS()||pn.os.isiOS(),I=(Kn,Zt)=>{try{e.getDoc().execCommand(Kn,!1,String(Zt))}catch(Ut){}},Q=Kn=>Kn.isDefaultPrevented(),se=()=>{const Kn=yo=>{const hs=c.create("body"),Xs=yo.cloneContents();return hs.appendChild(Xs),u.serializer.serialize(hs,{format:"html"})},Zt=yo=>{const hs=Kn(yo),Xs=c.createRng();Xs.selectNode(e.getBody());const Fn=Kn(Xs);return hs===Fn},Ut=yo=>{const hs=de.fromDom(yo),Xs=Fn=>bd(Fn).exists(us=>!$t(us));return he(ja(hs,'[contenteditable="true"]'),Xs)};e.on("keydown",yo=>{const hs=yo.keyCode;if(!Q(yo)&&(hs===r||hs===o)&&e.selection.isEditable()){const Xs=e.selection.isCollapsed(),Fn=e.getBody();if(Xs&&(!c.isEmpty(Fn)||Ut(Fn))||!Xs&&!Zt(e.selection.getRng()))return;yo.preventDefault(),e.setContent(""),Fn.firstChild&&c.isBlock(Fn.firstChild)?e.selection.setCursorLocation(Fn.firstChild,0):e.selection.setCursorLocation(Fn,0),e.nodeChanged()}})},K=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},oe=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",Kn=>{let Zt;if(Kn.target===e.getDoc().documentElement)if(Zt=u.getRng(),e.getBody().focus(),Kn.type==="mousedown"){if(Fs(Zt.startContainer))return;u.placeCaretAt(Kn.clientX,Kn.clientY)}else u.setRng(Zt)})},Te=()=>{e.on("keydown",Kn=>{if(!Q(Kn)&&Kn.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const Zt=u.getNode(),Ut=Zt.previousSibling;if(Zt.nodeName==="HR"){c.remove(Zt),Kn.preventDefault();return}Ut&&Ut.nodeName&&Ut.nodeName.toLowerCase()==="hr"&&(c.remove(Ut),Kn.preventDefault())}}})},ze=()=>{Range.prototype.getClientRects||e.on("mousedown",Kn=>{if(!Q(Kn)&&Kn.target.nodeName==="HTML"){const Zt=e.getBody();Zt.blur(),ad.setEditorTimeout(e,()=>{Zt.focus()})}})},Me=()=>{const Kn=eb(e);e.on("click",Zt=>{const Ut=Zt.target;/^(IMG|HR)$/.test(Ut.nodeName)&&c.isEditable(Ut.parentNode)&&(Zt.preventDefault(),e.selection.select(Ut),e.nodeChanged()),Ut.nodeName==="A"&&c.hasClass(Ut,Kn)&&Ut.childNodes.length===0&&c.isEditable(Ut.parentNode)&&(Zt.preventDefault(),u.select(Ut))})},Ue=()=>{const Kn=()=>{const Ut=c.getAttribs(u.getStart().cloneNode(!1));return()=>{const yo=u.getStart();yo!==e.getBody()&&(c.setAttrib(yo,"style",null),n(Ut,hs=>{yo.setAttributeNode(hs.cloneNode(!0))}))}},Zt=()=>!u.isCollapsed()&&c.getParent(u.getStart(),c.isBlock)!==c.getParent(u.getEnd(),c.isBlock);e.on("keypress",Ut=>{let yo;return!Q(Ut)&&(Ut.keyCode===8||Ut.keyCode===46)&&Zt()?(yo=Kn(),e.getDoc().execCommand("delete",!1),yo(),Ut.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",Ut=>{if(!Q(Ut)&&Zt()){const yo=Kn();ad.setEditorTimeout(e,()=>{yo()})}})},At=()=>{e.on("keydown",Kn=>{if(!Q(Kn)&&Kn.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){const Zt=u.getNode().previousSibling;if(Zt&&Zt.nodeName&&Zt.nodeName.toLowerCase()==="table")return Kn.preventDefault(),!1}return!0})},sn=()=>{e.on("keydown",Kn=>{if(Q(Kn)||Kn.keyCode!==Cn.BACKSPACE)return;let Zt=u.getRng();const Ut=Zt.startContainer,yo=Zt.startOffset,hs=c.getRoot();let Xs=Ut;if(!(!Zt.collapsed||yo!==0)){for(;Xs.parentNode&&Xs.parentNode.firstChild===Xs&&Xs.parentNode!==hs;)Xs=Xs.parentNode;Xs.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,Xs),Zt=c.createRng(),Zt.setStart(Ut,0),Zt.setEnd(Ut,0),u.setRng(Zt))}})},Kt=()=>{const Kn=()=>{I("StyleWithCSS",!1),I("enableInlineTableEditing",!1),M0(e)||I("enableObjectResizing",!1)};xf(e)||e.on("BeforeExecCommand mousedown",Kn)},Je=()=>{const Kn=()=>{n(c.select("a:not([data-mce-block])"),Zt=>{var Ut;let yo=Zt.parentNode;const hs=c.getRoot();if((yo==null?void 0:yo.lastChild)===Zt){for(;yo&&!c.isBlock(yo);){if(((Ut=yo.parentNode)===null||Ut===void 0?void 0:Ut.lastChild)!==yo||yo===hs)return;yo=yo.parentNode}c.add(yo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Zt=>{(Zt.type==="setcontent"||Zt.command==="mceInsertLink")&&Kn()})},nt=()=>{e.on("init",()=>{I("DefaultParagraphSeparator",ci(e))})},Bt=Kn=>{const Zt=Kn.getBody(),Ut=Kn.selection.getRng();return Ut.startContainer===Ut.endContainer&&Ut.startContainer===Zt&&Ut.startOffset===0&&Ut.endOffset===Zt.childNodes.length},Vn=()=>{e.on("keyup focusin mouseup",Kn=>{!Cn.modifierPressed(Kn)&&!Bt(e)&&u.normalize()},!0)},ro=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},jo=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},ls=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",Kn=>{let Zt;Kn.target.nodeName==="HTML"&&(Zt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Zt),e.selection.normalize(),e.nodeChanged())}))},Is=()=>{M&&e.on("keydown",Kn=>{Cn.metaKeyPressed(Kn)&&!Kn.shiftKey&&(Kn.keyCode===37||Kn.keyCode===39)&&(Kn.preventDefault(),e.selection.getSel().modify("move",Kn.keyCode===37?"backward":"forward","lineboundary"))})},ar=()=>{e.on("click",Kn=>{let Zt=Kn.target;do if(Zt.tagName==="A"){Kn.preventDefault();return}while(Zt=Zt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},_a=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",Kn=>{Kn.preventDefault()})})},La=()=>{m.addNodeFilter("br",Kn=>{let Zt=Kn.length;for(;Zt--;)Kn[Zt].attr("class")==="Apple-interchange-newline"&&Kn[Zt].remove()})},vc=De,jt=()=>{if(!k||e.removed)return!1;const Kn=e.selection.getSel();return!Kn||!Kn.rangeCount||Kn.rangeCount===0},_n=()=>{S&&(oe(),Me(),_a(),K(),z&&(jo(),ls(),ar())),k&&(ze(),Kt(),ro(),Is())},Os=()=>{e.on("drop",Kn=>{var Zt;const Ut=(Zt=Kn.dataTransfer)===null||Zt===void 0?void 0:Zt.getData("text/html");W(Ut)&&/^<img[^>]*>$/.test(Ut)&&e.dispatch("dragend",new window.DragEvent("dragend",Kn))})},os=()=>{sn(),se(),pn.windowsPhone||Vn(),S&&(oe(),Me(),nt(),_a(),At(),La(),z?(jo(),ls(),ar()):K()),k&&(Te(),ze(),Ue(),Kt(),Je(),ro(),Is(),At(),Os())};return Fm(e)?_n():os(),{refreshContentEditable:vc,isHidden:jt}},lO=Ys.DOM,SU=(e,n)=>{const o=de.fromDom(e.getBody()),r=qm(kl(o)),c=de.fromTag("style");Gs(c,"type","text/css"),Sa(c,de.fromText(n)),Sa(r,c),e.on("remove",()=>{Ms(c)})},mN=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,uO=e=>Cs(e,n=>Sn(n)===!1),Rx=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return uO({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:mN(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},Gw=e=>{const n=e.options.get;return uO({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},dh=e=>{const n=e.options.get;return te(te(te({},Rx(e)),Gw(e)),uO({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")}))},ry=e=>{const n=iv(Rx(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const c=e.dom,u="data-mce-"+r;let m=o.length;for(;m--;){const b=o[m];let k=b.attr(r);if(k&&!b.attr(u)){if(k.indexOf("data:")===0||k.indexOf("blob:")===0)continue;r==="style"?(k=c.serializeStyle(c.parseStyle(k),b.name),k.length||(k=null),b.attr(u,k),b.attr(r,k)):r==="tabindex"?(b.attr(u,k),b.attr(r,null)):b.attr(u,e.convertURL(k,r,b.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const c=o[r],u=c.attr("type")||"no/type";u.indexOf("mce-")!==0&&c.attr("type","mce-"+u)}}),g1(e)&&n.addNodeFilter("#cdata",o=>{var r;let c=o.length;for(;c--;){const u=o[c];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const c=e.schema.getNonEmptyElements();for(;r--;){const u=o[r];u.isEmpty(c)&&u.getAll("br").length===0&&u.append(new Ml("br",1))}}),n},gN=e=>{const n=td(e);n&&ad.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},xU=e=>{const n=e.dom.getRoot();!e.inline&&(!E1(e)||e.selection.getStart(!0)===n)&&ka(n).each(o=>{const r=o.getNode(),c=Qi(r)?ka(r).getOr(o):o;e.selection.setRng(c.toRange())})},EU=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Lp(e),e.focus(!0),xU(e),e.nodeChanged({initial:!0});const n=f1(e);ce(n)&&n.call(e,e),gN(e)},pN=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,TU=(e,n,o)=>{const r=[pN(e).loadAll(n)];return e.inline?r:r.concat([e.ui.styleSheetLoader.loadAll(o)])},hN=e=>{const n=pN(e),o=Sm(e),r=e.contentCSS,c=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let k="";Dt.each(e.contentStyles,S=>{k+=S+`\r
`}),e.dom.addStyle(k)}const m=Promise.all(TU(e,r,o)).then(u).catch(u),b=c1(e);return b&&SU(e,b),m},AU=e=>{const n=e.getDoc(),o=e.getBody();CT(e),xm(e)||(n.body.spellcheck=!1,lO.setAttrib(o,"spellcheck","false")),e.quirks=fN(e),wk(e);const r=xp(e);r!==void 0&&(o.dir=r);const c=B0(e);c&&e.on("BeforeSetContent",u=>{Dt.each(c,m=>{u.content=u.content.replace(m,b=>"<!--mce:protected "+escape(b)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},bN=e=>{Fm(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},dO=e=>{e.removed!==!0&&(bN(e),EU(e))},OU=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},yN=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(lO.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=xf(e),e._editableRoot=a2(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&lO.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=Y$(e),e.schema=Ju(Gw(e)),e.dom=Ys(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:AE(e),referrerPolicy:Sp(e),onSetAttrib:m=>{e.dispatch("SetAttrib",m)}}),e.parser=ry(e),e.serializer=Lf(dh(e),e),e.selection=H4(e.dom,e.getWin(),e.serializer,e),e.annotator=zf(e),e.formatter=pR(e),e.undoManager=Q4(e),e._nodeChangeDispatcher=new BH(e),e._selectionOverrides=dU(e),NA(e),B7(e),hL(e),Fm(e)||(BV(e),Rv(e));const c=PH(e);LS(e,c),aZ(e),sI(e),P7(e);const u=e$(e);AU(e),u.fold(()=>{const m=OU(e);hN(e).then(()=>{dO(e),m()})},m=>{e.setProgressState(!0),hN(e).then(()=>{m().then(b=>{e.setProgressState(!1),dO(e),W6(e)},b=>{e.notificationManager.open({type:"error",text:String(b)}),dO(e),W6(e)})})})},CZ=it,DU=(e,n,o)=>xh(e,n,CZ,o),Kw=Ys.DOM,zU=(e,n,o,r)=>{const c=de.fromTag("iframe");return r.each(u=>Gs(c,"tabindex",u)),Xi(c,o),Xi(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),$l(c,"tox-edit-area__iframe"),c},RU=e=>{let n=a1(e)+"<html><head>";_p(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=ed(e),r=ql(e),c=e.translate(i2(e));return mg(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+mg(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,n},vN=(e,n)=>{const o=e.translate("Rich Text Area"),r=hl(de.fromDom(e.getElement()),"tabindex").bind(Qr),c=zU(e.id,o,Zl(e),r).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=c,e.iframeHTML=RU(e),Kw.add(n.iframeContainer,c)},MU=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,yN(e)};if(tb(e)||pn.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=DU(de.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},kN=(e,n)=>{vN(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=Kw.isHidden(n.editorContainer)),e.getElement().style.display="none",Kw.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,MU(e)},wN=Ys.DOM,fO=(e,n,o)=>{const r=Kb.get(o),c=Kb.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=Dt.trim(o),r&&Dt.inArray(n,o)===-1){if(e.plugins[o])return;try{const u=r(e,c)||{};e.plugins[o]=u,ce(u.init)&&(u.init(e,c),n.push(o))}catch(u){H$(e,o,u)}}},NU=e=>e.replace(/^\-/,""),PU=e=>{const n=[];ae(l1(e),o=>{fO(e,n,NU(o))})},BU=e=>{const n=Dt.trim(X_(e)),o=e.ui.registry.getAll().icons,r=te(te({},lS.get("default").icons),lS.get(n).icons);xt(r,(c,u)=>{qn(o,u)||e.ui.registry.addIcon(u,c)})},FU=e=>{const n=Dd(e);if(W(n)){const o=oh.get(n);e.theme=o(e,oh.urls[n])||{},ce(e.theme.init)&&e.theme.init(e,oh.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},_N=e=>{const n=i1(e),o=fv.get(n);e.model=o(e,fv.urls[n])},mO=e=>{const n=e.theme.renderUI;return n?n():IU(e)},CN=e=>{const n=e.getElement(),r=Dd(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},Mx=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),$U=e=>{const n=wN.create("div");return wN.insertAfter(n,e),Mx(n,n)},IU=e=>{const n=e.getElement();return e.inline?Mx(null):$U(n)},SZ=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,W(Dd(e))?mO(e):ce(Dd(e))?CN(e):IU(e)},LU=(e,n)=>{const o={show:F.from(n.show).getOr(De),hide:F.from(n.hide).getOr(De),isEnabled:F.from(n.isEnabled).getOr(it),setEnabled:r=>{e.mode.isReadOnly()||F.from(n.setEnabled).each(c=>c(r))}};e.ui=te(te({},e.ui),o)},SN=e=>f_(this,null,function*(){e.dispatch("ScriptsLoaded"),BU(e),FU(e),_N(e),PU(e);const n=yield SZ(e);LU(e,F.from(n.api).getOr({})),e.editorContainer=n.editorContainer,j$(e),e.inline?yN(e):kN(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})}),ay=Ys.DOM,xN=e=>e.charAt(0)==="-",HU=(e,n)=>{const o=Q_(n),r=OE(n);if(!Vl.hasCode(o)&&o!=="en"){const c=wo(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(c).catch(()=>{$$(n,c,o)})}},xZ=(e,n)=>{const o=Dd(e);if(W(o)&&!xN(o)&&!qn(oh.urls,o)){const r=zE(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;oh.load(o,c).catch(()=>{I$(e,c,o)})}},EZ=(e,n)=>{const o=i1(e);if(o!=="plugin"&&!qn(fv.urls,o)){const r=o2(e),c=W(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;fv.load(o,c).catch(()=>{L$(e,c,o)})}},EN=e=>F.from(xE(e)).filter(wo).map(n=>({url:n,name:F.none()})),gO=(e,n,o)=>F.from(n).filter(r=>wo(r)&&!lS.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:F.some(r)})),VU=(e,n,o)=>{const r=gO(n,"default",o),c=EN(n).orThunk(()=>gO(n,X_(n),""));ae(zr([r,c]),u=>{e.add(u.url).catch(()=>{Hd(n,u.url,u.name.getOrUndefined())})})},UU=(e,n)=>{const o=(r,c)=>{Kb.load(r,c).catch(()=>{sh(e,c,r)})};xt($E(e),(r,c)=>{o(c,r),e.options.set("plugins",l1(e).concat(c))}),ae(l1(e),r=>{r=Dt.trim(r),r&&!Kb.urls[r]&&!xN(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},WU=e=>{const n=Dd(e);return!W(n)||$e(oh.get(n))},TZ=e=>{const n=i1(e);return $e(fv.get(n))},AZ=(e,n)=>{const o=Td.ScriptLoader,r=()=>{!e.removed&&WU(e)&&TZ(e)&&SN(e)};xZ(e,n),EZ(e,n),HU(o,e),VU(o,e,n),UU(e,n),o.loadQueue().then(r,r)},OZ=(e,n)=>Kv.forElement(e,{contentCssCors:c2(n),referrerPolicy:Sp(n)}),jU=e=>{const n=e.id;Vl.setCode(Q_(e));const o=()=>{ay.unbind(window,"ready",o),e.render()};if(!Ed.Event.domLoaded){ay.bind(window,"ready",o);return}if(!e.getElement())return;const r=de.fromDom(e.getElement()),c=lu(r);e.on("remove",()=>{Ne(r.dom.attributes,m=>ta(r,m.name)),Xi(r,c)}),e.ui.styleSheetLoader=OZ(r,e),N0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||ay.getParent(n,"form");u&&(e.formElement=u,gg(e)&&!ip(e.getElement())&&(ay.insertAfter(ay.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=m=>{e.dispatch(m.type,m)},ay.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),PE(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=dw(e),e.notificationManager=Gb(e),y2(e)&&e.on("GetContent",m=>{m.save&&(m.content=ay.encode(m.content))}),BE(e)&&e.on("submit",()=>{e.initialized&&e.save()}),FE(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),AZ(e,e.suffix)},DZ=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),AT(e,n))},ZU=e=>e._editableRoot,cy=(e,n)=>({sections:rt(e),options:rt(n)}),Nx=js().deviceType,Yw=Nx.isPhone(),TN=Nx.isTablet(),Mv=e=>{if(Jt(e))return[];{const n=ht(e)?e:e.split(/[ ,]/),o=we(n,Ra);return Ye(o,wo)}},AN=(e,n)=>{const o=qr(n,(r,c)=>ee(e,c));return cy(o.t,o.f)},qU=(e,n,o={})=>{const r=e.sections(),c=fs(r,n).getOr({});return Dt.extend({},o,c)},pO=(e,n)=>qn(e.sections(),n),GU=(e,n)=>pO(e,n)?e.sections()[n]:{},KU=(e,n)=>{const o={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:fs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},r={menubar:!1};return te(te({},o),n?r:{})},fh=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?Dt.extend({},e.external_plugins,r):r},YU=(e,n)=>[...Mv(e),...Mv(n)],ON=(e,n,o,r)=>e&&pO(n,"mobile")?r:o,XU=(e,n,o,r)=>{const c=Mv(o.forced_plugins),u=Mv(r.plugins),m=GU(n,"mobile"),b=m.plugins?Mv(m.plugins):u,k=ON(e,n,u,b),S=YU(c,k);return Dt.extend(r,{forced_plugins:c,plugins:S})},Px=(e,n)=>e&&pO(n,"mobile"),JU=(e,n,o,r,c)=>{var u;const m=e?{mobile:KU((u=c.mobile)!==null&&u!==void 0?u:{},n)}:{},b=AN(["mobile"],ex(m,c)),k=Dt.extend(o,r,b.options(),Px(e,b)?qU(b,"mobile"):{},{external_plugins:fh(r,b.options())});return XU(e,b,r,k)},QU=(e,n)=>JU(Yw||TN,Yw,n,e,n),eW=(e,n)=>p$(e,n),DN=e=>{const n=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},o=r=>()=>{ae("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},tW=e=>{const n=o=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return he(c,u=>$e(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},nW=e=>{DN(e),tW(e)},oW=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch(c){r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(pn.os.isMacOS()||pn.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:c,type:"error"})}}})},hO=(e,n,o)=>{const r=de.fromDom(e.getRoot());return Nk(r,ut.fromRangeStart(n))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Pk(r,ut.fromRangeEnd(n))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},sW=e=>{if(typeof e!="string"){const n=Dt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},rW=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?hO(r,o.getRng(),n):n},Ia=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=sW(n);S4(e,pt(te({},r),{content:rW(e,o),format:"html",set:!1,selection:!0})).each(c=>{const u=or(e,c.content,r);x4(e,u,c),e.addVisual()})}},aW=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{Ia(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{Ia(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{Ia(e,r)},mceInsertContent:(n,o,r)=>{Ia(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(LE(e))}})},cW={"font-size":"size","font-family":"face"},bO=jc("font"),zN=(e,n,o)=>{const r=u=>Na(u,e).orThunk(()=>bO(u)?fs(cW,e).bind(m=>hl(u,m)):F.none()),c=u=>Rs(de.fromDom(n),u);return Pf(de.fromDom(o),u=>r(u),c)},yO=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),iW=(e,n)=>F.from(Ys.DOM.getStyle(n,e,!0)),RN=e=>(n,o)=>F.from(o).map(de.fromDom).filter(lc).bind(r=>zN(e,n,r.dom).or(iW(e,r.dom))).getOr(""),lW=RN("font-size"),uW=E(yO,RN("font-family")),dW=e=>ka(e.getBody()).bind(n=>{const o=n.container();return F.from(It(o)?o.parentNode:o)}),fW=e=>F.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?F.none():F.from(e.selection.getStart(!0))}),mW=(e,n)=>fW(e).orThunk(et(dW,e)).map(de.fromDom).filter(lc).bind(n),vO=(e,n)=>mW(e,gn(F.some,n)),iy=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=I0(e),c=b2(e);return c.length>0?c[o-1]||n:r[o-1]||n}else return n}else return n},qf=e=>{const n=e.split(/\s*,\s*/);return we(n,o=>o.indexOf(" ")!==-1&&!(so(o,'"')||so(o,"'"))?`'${o}'`:o).join(",")},gW=(e,n)=>{const o=iy(e,n);e.formatter.toggle("fontname",{value:qf(o)}),e.nodeChanged()},pW=e=>vO(e,n=>uW(e.getBody(),n.dom)).getOr(""),hW=(e,n)=>{e.formatter.toggle("fontsize",{value:iy(e,n)}),e.nodeChanged()},bW=e=>vO(e,n=>lW(e.getBody(),n.dom)).getOr(""),yW=e=>vO(e,n=>{const o=de.fromDom(e.getBody()),r=Pf(n,u=>Na(u,"line-height"),et(Rs,o)),c=()=>{const u=parseFloat(Rr(n,"line-height")),m=parseFloat(Rr(n,"font-size"));return String(u/m)};return r.getOrThunk(c)}).getOr(""),vW=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},kW=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,c)=>{n(o,{value:c})},BackColor:(o,r,c)=>{n("hilitecolor",{value:c})},FontName:(o,r,c)=>{gW(e,c)},FontSize:(o,r,c)=>{hW(e,c)},LineHeight:(o,r,c)=>{vW(e,c)},Lang:(o,r,c)=>{var u;n(o,{value:c.code,customValue:(u=c.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,c)=>{n(W(c)?c:"p")},mceToggleFormat:(o,r,c)=>{n(c)}})},wW=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>pW(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>bW(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>yW(e))},_W=e=>{kW(e),wW(e)},zZ=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},CW=e=>{e.editorCommands.addCommands({Indent:()=>{hM(e)},Outdent:()=>{lL(e)}}),e.editorCommands.addCommands({Outdent:()=>IS(e)},"state")},SW=e=>{const n=(o,r,c)=>{const u=W(c)?{href:c}:c,m=e.dom.getParent(e.selection.getNode(),"a");ft(u)&&W(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!m||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,m))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},xW=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{e.getDoc().execCommand(n);const o=e.dom.getParent(e.selection.getNode(),"ol,ul");if(o){const r=o.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){const c=e.selection.getBookmark();e.dom.split(r,o),e.selection.moveToBookmark(c)}}}})},EW=e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":n=>{const o=e.dom.getParent(e.selection.getNode(),"ul,ol");return o&&(n==="insertunorderedlist"&&o.tagName==="UL"||n==="insertorderedlist"&&o.tagName==="OL")}},"state")},TW=e=>{xW(e),EW(e)},AW=(e,n,o,r)=>{const c=e.dom,u=b=>c.isBlock(b)&&b.parentElement===o,m=u(n)?n:c.getParent(r,u,o);return F.from(m).map(de.fromDom)},OW=(e,n)=>{const o=e.dom,r=e.selection.getRng(),c=n?e.selection.getStart():e.selection.getEnd(),u=n?r.startContainer:r.endContainer,m=ux(o,u);if(!m||!m.isContentEditable)return;const b=n?Wa:Il,k=ci(e);AW(e,c,m,u).each(S=>{const z=M8(e,u,S.dom,m,!1,k);b(S,de.fromDom(z)),e.selection.setCursorLocation(z,0),e.dispatch("NewBlock",{newBlock:z}),Pw(e,"insertParagraph")})},DW=e=>OW(e,!0),zW=e=>OW(e,!1),RW=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{DW(e)},InsertNewBlockAfter:()=>{zW(e)}})},MW=e=>{e.editorCommands.addCommands({insertParagraph:()=>{hx(H8,e)},mceInsertNewLine:(n,o,r)=>{K8(e,r)},InsertLineBreak:(n,o,r)=>{hx(v5,e)}})},NW=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),u=>wn(u)&&c++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),nc);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},PW=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const c=r!=null?r:e.selection.getNode();if(c!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{bP(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},BW=e=>{nW(e),oW(e),zZ(e),NW(e),aW(e),SW(e),CW(e),RW(e),MW(e),TW(e),_W(e),PW(e)},FW=["toggleview"],MN=e=>ee(FW,e.toLowerCase());class NN{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,c){const u=this.editor,m=n.toLowerCase(),b=c==null?void 0:c.skip_focus;if(u.removed||(m!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)&&!b?u.focus():qO(u)),u.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const S=this.commands.exec[m];return ce(S)?(S(m,o,r),u.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!MN(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return ce(r)?r(o):!1}queryCommandValue(n){if(!MN(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return ce(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;xt(n,(c,u)=>{ae(u.toLowerCase().split(","),m=>{r[o][m]=c})})}addCommand(n,o,r){const c=n.toLowerCase();this.commands.exec[c]=(u,m,b)=>o.call(r!=null?r:this.editor,m,b)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r!=null?r:this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r!=null?r:this.editor)}}const ly="data-mce-contenteditable",$W=(e,n,o)=>{yl(e,n)&&!o?Lu(e,n):o&&$l(e,n)},kO=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch(r){}},Bx=(e,n)=>{e.dom.contentEditable=n?"true":"false"},IW=e=>{ae(ja(e,'*[contenteditable="true"]'),n=>{Gs(n,ly,"true"),Bx(n,!1)})},LW=e=>{ae(ja(e,`*[${ly}="true"]`),n=>{ta(n,ly),Bx(n,!0)})},PN=e=>{F.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},HW=e=>{e.selection.setRng(e.selection.getRng())},VW=(e,n)=>{const o=de.fromDom(e.getBody());$W(o,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),PN(e),e.readonly=!0,Bx(o,!1),IW(o)):(e.readonly=!1,e.hasEditableRoot()&&Bx(o,!0),LW(o),kO(e,"StyleWithCSS",!1),kO(e,"enableInlineTableEditing",!1),kO(e,"enableObjectResizing",!1),gC(e)&&e.focus(),HW(e),e.nodeChanged())},uy=e=>e.readonly,BN=e=>{e.parser.addAttributeFilter("contenteditable",n=>{uy(e)&&ae(n,o=>{o.attr(ly,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ly,n=>{uy(e)&&ae(n,o=>{o.attr("contenteditable",o.attr(ly))})}),e.serializer.addTempAttr(ly)},UW=e=>{e.serializer?BN(e):e.on("PreInit",()=>{BN(e)})},WW=e=>e.type==="click",jW=["copy"],ZW=e=>ee(jW,e.type),FN=(e,n)=>ve(n,"a",r=>Rs(r,de.fromDom(e.getBody()))).bind(r=>hl(r,"href")),qW=(e,n)=>{if(WW(n)&&!Cn.metaKeyPressed(n)){const o=de.fromDom(n.target);FN(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${Mn(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else ZW(n)&&e.dispatch(n.type,n)},GW=e=>{e.on("ShowCaret",n=>{uy(e)&&n.preventDefault()}),e.on("ObjectSelected",n=>{uy(e)&&n.preventDefault()})},KW=Dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class wO{static isNative(n){return!!KW[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Re}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),c=Ly(r,o!=null?o:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const u=this.bindings[r];if(u)for(let m=0,b=u.length;m<b;m++){const k=u[m];if(!k.removed){if(k.once&&this.off(r,k.func),c.isImmediatePropagationStopped())return c;if(k.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(n,o,r,c){if(o===!1&&(o=Re),o){const u={func:o,removed:!1};c&&Dt.extend(u,c);const m=n.toLowerCase().split(" ");let b=m.length;for(;b--;){const k=m[b];let S=this.bindings[k];S||(S=[],this.toggleEvent(k,!0)),r?S=[u,...S]:S=[...S,u],this.bindings[k]=S}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let c=r.length;for(;c--;){const u=r[c];let m=this.bindings[u];if(!u)return xt(this.bindings,(b,k)=>{this.toggleEvent(k,!1),delete this.bindings[k]}),this;if(m){if(!o)m.length=0;else{const b=Pe(m,k=>k.func===o);m=b.fail,this.bindings[u]=m,ae(b.pass,k=>{k.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[u])}}}else xt(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const Xw=e=>(e._eventDispatcher||(e._eventDispatcher=new wO({scope:e,toggleEvent:(n,o)=>{wO.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),_O={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return Ly(e.toLowerCase(),n!=null?n:{},r);const c=Xw(r).dispatch(e,n);if(o!==!1&&r.parent){let u=r.parent();for(;u&&!c.isPropagationStopped();)u.dispatch(e,c,!1),u=u.parent?u.parent():void 0}return c},on(e,n,o){return Xw(this).on(e,n,o)},off(e,n){return Xw(this).off(e,n)},once(e,n){return Xw(this).once(e,n)},hasEventListeners(e){return Xw(this).has(e)}},Fx=Ys.DOM;let dy;const Jw=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=oc(e);return o?(e.eventRoot||(e.eventRoot=Fx.select(o)[0]),e.eventRoot):e.getBody()},RZ=e=>!e.hidden&&!uy(e),CO=(e,n,o)=>{RZ(e)?e.dispatch(n,o):uy(e)&&qW(e,o)},$N=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=Jw(e,n);if(oc(e)){if(dy||(dy={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||dy&&(xt(dy,(c,u)=>{e.dom.unbind(Jw(e,u))}),dy=null)})),dy[n])return;const r=c=>{const u=c.target,m=e.editorManager.get();let b=m.length;for(;b--;){const k=m[b].getBody();(k===u||Fx.isChildOf(u,k))&&CO(m[b],n,c)}};dy[n]=r,Fx.bind(o,n,r)}else{const r=c=>{CO(e,n,c)};Fx.bind(o,n,r),e.delegates[n]=r}},SO=pt(te({},_O),{bindPendingEventDelegates(){const e=this;Dt.each(e._pendingNativeEvents,n=>{$N(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?$N(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Jw(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(xt(e.delegates,(r,c)=>{e.dom.unbind(Jw(e,c),c,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}}),YW=e=>W(e)?{value:e.split(/[ ,]/),valid:!0}:Se(e,W)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},XW=e=>{const n=(()=>{switch(e){case"array":return ht;case"boolean":return at;case"function":return ce;case"number":return Ro;case"object":return ft;case"string":return W;case"string[]":return YW;case"object[]":return o=>Se(o,ft);case"regexp":return o=>Ot(o,RegExp);default:return it}})();return o=>xO(o,n,`The value must be a ${e}.`)},JW=e=>W(e.processor),IN=(e,n)=>{const o=ms(n.message)?"":`. ${n.message}`;return e+o},LN=e=>e.valid,xO=(e,n,o="")=>{const r=n(e);return at(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},EO=(e,n,o)=>{if(!Sn(n)){const r=xO(n,o);if(LN(r))return r.value;console.error(IN(`Invalid default value passed for the "${e}" option`,r))}},TO=(e,n)=>{const o={},r={},c=(M,I,Q)=>{const se=xO(I,Q);return LN(se)?(r[M]=se.value,!0):(console.warn(IN(`Invalid value passed for the ${M} option`,se)),!1)},u=(M,I)=>{const Q=JW(I)?XW(I.processor):I.processor,se=EO(M,I.default,Q);o[M]=pt(te({},I),{default:se,processor:Q}),fs(r,M).orThunk(()=>fs(n,M)).each(oe=>c(M,oe,Q))},m=M=>qn(o,M);return{register:u,isRegistered:m,get:M=>fs(r,M).orThunk(()=>fs(o,M).map(I=>I.default)).getOrUndefined(),set:(M,I)=>{if(m(M)){const Q=o[M];return Q.immutable?(console.error(`"${M}" is an immutable option and cannot be updated`),!1):c(M,I,Q.processor)}else return console.warn(`"${M}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:M=>{const I=m(M);return I&&delete r[M],I},isSet:M=>qn(r,M)}},QW=["design","readonly"],AO=(e,n,o,r)=>{const c=o[n.get()],u=o[r];try{u.activate()}catch(m){console.error(`problem while activating editor mode ${r}:`,m);return}c.deactivate(),c.editorReadOnly!==u.editorReadOnly&&VW(e,u.editorReadOnly),n.set(r),wT(e,r)},ej=(e,n,o,r)=>{if(r!==o.get()){if(!qn(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?AO(e,o,n,r):e.on("init",()=>AO(e,o,n,r))}},tj=(e,n,o)=>{if(ee(QW,n))throw new Error(`Cannot override default mode ${n}`);return pt(te({},e),{[n]:pt(te({},o),{deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}})})},nj=e=>{const n=Pa("design"),o=Pa({design:{activate:De,deactivate:De,editorReadOnly:!1},readonly:{activate:De,deactivate:De,editorReadOnly:!0}});return UW(e),GW(e),{isReadOnly:()=>uy(e),set:r=>ej(e,o.get(),n,r),get:()=>n.get(),register:(r,c)=>{o.set(tj(o.get(),r,c))}}},OO=Dt.each,DO=Dt.explode,oj={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},HN=Dt.makeMap("alt,ctrl,shift,meta,access"),sj=e=>e in HN,rj=e=>{const n={},o=pn.os.isMacOS()||pn.os.isiOS();OO(DO(e.toLowerCase(),"+"),u=>{sj(u)?n[u]=!0:/^[0-9]{2,}$/.test(u)?n.keyCode=parseInt(u,10):(n.charCode=u.charCodeAt(0),n.keyCode=oj[u]||u.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let c;for(c in HN)n[c]?r.push(c):n[c]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class VN{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(OO(o.shortcuts,c=>{o.matchShortcut(r,c)&&(o.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(c))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,c){const u=this,m=u.normalizeCommandFunc(r);return OO(DO(Dt.trim(n)),b=>{const k=u.createShortcut(b,o,m,c);u.shortcuts[k.id]=k}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:Dt.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,c){const u=Dt.map(DO(n,">"),rj);return u[u.length-1]=Dt.extend(u[u.length-1],{func:r,scope:c||this.editor}),Dt.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const zO=()=>{const e={},n={},o={},r={},c={},u={},m={},b={},k=(z,M)=>(I,Q)=>{z[I.toLowerCase()]=pt(te({},Q),{type:M})},S=(z,M)=>r[z.toLowerCase()]=M;return{addButton:k(e,"button"),addGroupToolbarButton:k(e,"grouptoolbarbutton"),addToggleButton:k(e,"togglebutton"),addMenuButton:k(e,"menubutton"),addSplitButton:k(e,"splitbutton"),addMenuItem:k(n,"menuitem"),addNestedMenuItem:k(n,"nestedmenuitem"),addToggleMenuItem:k(n,"togglemenuitem"),addAutocompleter:k(o,"autocompleter"),addContextMenu:k(c,"contextmenu"),addContextToolbar:k(u,"contexttoolbar"),addContextForm:k(u,"contextform"),addSidebar:k(m,"sidebar"),addView:k(b,"views"),addIcon:S,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:c,contextToolbars:u,sidebars:m,views:b})}},aj=()=>{const e=zO();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},fy=Ys.DOM,UN=Dt.extend,cj=Dt.each;class $x{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,UN(this,SO);const c=this;this.id=n,this.hidden=!1;const u=QU(r.defaultOptions,o);this.options=TO(c,u),q_(c);const m=this.options.get;m("deprecation_warnings")&&N$(o,u);const b=m("suffix");b&&(r.suffix=b),this.suffix=r.suffix;const k=m("base_url");k&&r._setBaseUrl(k),this.baseUri=r.baseURI;const S=Sp(c);S&&(Td.ScriptLoader._setReferrerPolicy(S),Ys.DOM.styleSheetLoader._setReferrerPolicy(S));const z=c2(c);$e(z)&&Ys.DOM.styleSheetLoader._setContentCssCors(z),va.languageLoad=m("language_load"),va.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new $f(_p(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=N0(c),this.hasVisual=u1(c),this.shortcuts=new VN(this),this.editorCommands=new NN(this),BW(this);const M=m("cache_suffix");M&&(pn.cacheSuffix=M.replace(/^[\?\&]+/,"")),this.ui={registry:aj(),styleSheetLoader:void 0,show:De,hide:De,setEnabled:De,isEnabled:it},this.mode=nj(c),r.dispatch("SetupEditor",{editor:this});const I=zd(c);ce(I)&&I.call(c,c)}render(){jU(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Ob(this)}translate(n){return Vl.translate(n)}getParam(n,o,r){const c=this.options;return c.isRegistered(n)||($e(r)?c.register(n,{processor:r,default:o}):c.register(n,{processor:it,default:o})),!c.isSet(n)&&!Sn(o)?o:c.get(n)}hasPlugin(n,o){return ee(l1(this),n)?o?Kb.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,c){this.shortcuts.add(n,o,r,c)}execCommand(n,o,r,c){return this.editorCommands.execCommand(n,o,r,c)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(fy.show(n.getContainer()),fy.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(fy.hide(n.getContainer()),fy.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const c=pt(te({},n),{load:!0}),u=ip(r)?r.value:r.innerHTML,m=o.setContent(u,c);return c.no_events||o.dispatch("LoadContent",pt(te({},c),{element:r})),m}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const c=pt(te({},n),{save:!0,element:r});let u=o.getContent(c);const m=pt(te({},c),{content:u});if(m.no_events||o.dispatch("SaveContent",m),m.format==="raw"&&o.dispatch("RawSaveContent",m),u=m.content,ip(r))r.value=u;else{(n.is_removing||!o.inline)&&(r.innerHTML=u);const b=fy.getParent(o.id,"form");b&&cj(b.elements,k=>k.name===o.id?(k.value=u,!1):!0)}return m.element=c.element=r=null,m.set_dirty!==!1&&o.setDirty(!1),u}setContent(n,o){return cS(this,n,o)}getContent(n){return S$(this,n)}insertContent(n,o){o&&(n=UN({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?cS(this,this.startContent,{format:"raw"}):cS(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||fy.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=fy.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const c=this,u=c.options.get,m=l2(c);return ce(m)?m.call(c,n,r,!0,o):!u("convert_urls")||r==="link"||ft(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:u("relative_urls")?c.documentBaseURI.toRelative(n):(n=c.documentBaseURI.toAbsolute(n,u("remove_script_host")),n)}addVisual(n){eW(this,n)}setEditableRoot(n){DZ(this,n)}hasEditableRoot(){return ZU(this)}remove(){W4(this)}destroy(n){F$(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const my=Ys.DOM,Lm=Dt.each;let ij=!1,Ix,ou=[];const Lx=e=>{const n=e.type;Lm(Yg.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},WN=e=>{if(e!==ij){const n=Ys.DOM;e?(n.bind(window,"resize",Lx),n.bind(window,"scroll",Lx)):(n.unbind(window,"resize",Lx),n.unbind(window,"scroll",Lx)),ij=e}},lj=e=>{const n=ou;return ou=Ye(ou,o=>e!==o),Yg.activeEditor===e&&(Yg.activeEditor=ou.length>0?ou[0]:null),Yg.focusedEditor===e&&(Yg.focusedEditor=null),n.length!==ou.length},uj=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(lj(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Mu=document.compatMode!=="CSS1Compat",Yg=pt(te({},_O),{baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.0",releaseDate:"2023-08-30",i18n:Vl,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=$f.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)n=c.base||c.baseURL,o=c.suffix;else{const u=document.getElementsByTagName("script");for(let m=0;m<u.length;m++){const b=u[m].src||"";if(b==="")continue;const k=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){k.indexOf(".min")!==-1&&(o=".min"),n=b.substring(0,b.lastIndexOf("/"));break}}if(!n&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(o=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new $f(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new $f(e.baseURL),e.suffix=o,lP(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&xt(r,(c,u)=>{va.PluginManager.urls[u]=c})},init(e){const n=this;let o;const r=Dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(z,M)=>z.inline&&M.tagName.toLowerCase()in r,u=z=>{let M=z.id;return M||(M=fs(z,"name").filter(I=>!my.get(I)).getOrThunk(my.uniqueId),z.setAttribute("id",M)),M},m=z=>{const M=e[z];if(M)return M.apply(n,[])},b=z=>pn.browser.isIE()||pn.browser.isEdge()?(gS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):Mu?(gS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):W(z.selector)?my.select(z.selector):$e(z.target)?[z.target]:[];let k=z=>{o=z};const S=()=>{let z=0;const M=[];let I;const Q=(se,K,oe)=>{const Te=new $x(se,K,n);M.push(Te),Te.on("init",()=>{++z===I.length&&k(M)}),Te.targetElm=Te.targetElm||oe,Te.render()};my.unbind(window,"ready",S),m("onpageload"),I=as(b(e)),Dt.each(I,se=>{uj(n.get(se.id))}),I=Dt.grep(I,se=>!n.get(se.id)),I.length===0?k([]):Lm(I,se=>{c(e,se)?gS("Could not initialize inline editor on invalid inline target element",se):Q(u(se),e,se)})};return my.bind(window,"ready",S),new Promise(z=>{o?z(o):k=M=>{z(M)}})},get(e){return arguments.length===0?ou.slice(0):W(e)?Le(ou,n=>n.id===e).getOr(null):Ro(e)&&ou[e]?ou[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&ou.push(e),WN(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),Ix||(Ix=r=>{const c=n.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",Ix))),e},createEditor(e,n){return this.add(new $x(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=ou.length-1;r>=0;r--)n.remove(ou[r]);return}if(W(e)){Lm(my.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,H(n.get(o.id))?null:(lj(o)&&n.dispatch("RemoveEditor",{editor:o}),ou.length===0&&window.removeEventListener("beforeunload",Ix),o.remove(),WN(ou.length>0),o)},execCommand(e,n,o){var r;const c=this,u=ft(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!c.get(u)){const m=o.options;new $x(u,m,c).render()}return!0}case"mceRemoveEditor":{const m=c.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=c.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(c.execCommand("mceAddEditor",!1,o),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{Lm(ou,e=>{e.save()})},addI18n:(e,n)=>{Vl.add(e,n)},translate:e=>Vl.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new $f(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new $f(this.baseURL)}});Yg.setup();const dj=(()=>{const e=Qu(),n=u=>({items:u,types:xo(u),getType:m=>fs(u,m).getOrUndefined()}),o=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:c}})(),jN=Math.min,Nv=Math.max,Hx=Math.round,ZN=(e,n,o)=>{let r=n.x,c=n.y;const u=e.w,m=e.h,b=n.w,k=n.h,S=(o||"").split("");return S[0]==="b"&&(c+=k),S[1]==="r"&&(r+=b),S[0]==="c"&&(c+=Hx(k/2)),S[1]==="c"&&(r+=Hx(b/2)),S[3]==="b"&&(c-=m),S[4]==="r"&&(r-=u),S[3]==="c"&&(c-=Hx(m/2)),S[4]==="c"&&(r-=Hx(u/2)),Pv(r,c,u,m)},fj=(e,n,o,r)=>{for(let c=0;c<r.length;c++){const u=ZN(e,n,r[c]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return r[c]}return null},qN=(e,n,o)=>Pv(e.x-n,e.y-o,e.w+n*2,e.h+o*2),mj=(e,n)=>{const o=Nv(e.x,n.x),r=Nv(e.y,n.y),c=jN(e.x+e.w,n.x+n.w),u=jN(e.y+e.h,n.y+n.h);return c-o<0||u-r<0?null:Pv(o,r,c-o,u-r)},gj=(e,n,o)=>{let r=e.x,c=e.y,u=e.x+e.w,m=e.y+e.h;const b=n.x+n.w,k=n.y+n.h,S=Nv(0,n.x-r),z=Nv(0,n.y-c),M=Nv(0,u-b),I=Nv(0,m-k);return r+=S,c+=z,o&&(u+=S,m+=z,r-=M,c-=I),u-=M,m-=I,Pv(r,c,u-r,m-c)},Pv=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),pj={inflate:qN,relativePosition:ZN,findBestRelativePosition:fj,intersect:mj,clamp:gj,create:Pv,fromClientRect:e=>Pv(e.left,e.top,e.width,e.height)},hj=(e,n,o=1e3)=>{let r=!1,c=null;const u=S=>(...z)=>{r||(r=!0,c!==null&&(clearTimeout(c),c=null),S.apply(null,z))},m=u(e),b=u(n);return{start:(...S)=>{!r&&c===null&&(c=setTimeout(()=>b.apply(null,S),o))},resolve:m,reject:b}},Bv=(()=>{const e={},n={};return{load:(u,m)=>{const b=`Script at URL "${m}" failed to load`,k=`Script at URL "${m}" did not call \`tinymce.Resource.add('${u}', data)\` within 1 second`;if(e[u]!==void 0)return e[u];{const S=new Promise((z,M)=>{const I=hj(z,M);n[u]=I.resolve,Td.ScriptLoader.loadScript(m).then(()=>I.start(k),()=>I.reject(b))});return e[u]=S,S}},add:(u,m)=>{n[u]!==void 0&&(n[u](m),delete n[u]),e[u]=Promise.resolve(m)},unload:u=>{delete e[u]}}})(),bj=()=>(()=>{let e={},n=[];const o={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{n.push(r),e[r]=String(c)},key:r=>n[r],removeItem:r=>{n=n.filter(c=>c===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let Qw;try{const e="__storage_test__";Qw=window.localStorage,Qw.setItem(e,e),Qw.removeItem(e)}catch(e){Qw=bj()}var yj=Qw;const vj={geom:{Rect:pj},util:{Delay:ad,Tools:Dt,VK:Cn,URI:$f,EventDispatcher:wO,Observable:_O,I18n:Vl,LocalStorage:yj,ImageUploader:uR},dom:{EventUtils:Ed,TreeWalker:vr,TextSeeker:wm,DOMUtils:Ys,ScriptLoader:Td,RangeUtils:l,Serializer:Lf,StyleSheetLoader:Gv,ControlSelection:Ck,BookmarkManager:Ip,Selection:H4,Event:Ed.Event},html:{Styles:Iy,Entities:bm,Node:Ml,Schema:Ju,DomParser:iv,Writer:XT,Serializer:Db},Env:pn,AddOnManager:va,Annotator:zf,Formatter:pR,UndoManager:Q4,EditorCommands:NN,WindowManager:dw,NotificationManager:Gb,EditorObservable:SO,Shortcuts:VN,Editor:$x,FocusManager:GO,EditorManager:Yg,DOM:Ys.DOM,ScriptLoader:Td.ScriptLoader,PluginManager:Kb,ThemeManager:oh,ModelManager:fv,IconManager:lS,Resource:Bv,FakeClipboard:dj,trim:Dt.trim,isArray:Dt.isArray,is:Dt.is,toArray:Dt.toArray,makeMap:Dt.makeMap,each:Dt.each,map:Dt.map,grep:Dt.grep,inArray:Dt.inArray,extend:Dt.extend,walk:Dt.walk,resolve:Dt.resolve,explode:Dt.explode,_addCacheSuffix:Dt._addCacheSuffix},RO=Dt.extend(Yg,vj),Vx=e=>{try{Tn.exports=e}catch(n){}};(e=>{window.tinymce=e,window.tinyMCE=e})(RO),Vx(RO)})()}}]);
}());