"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[5315],{83726:function(ee,D,e){var x=e(21140),l=e.n(x),P=e(63466),O=e.n(P),S=e(58853),y=e.n(S),A=e(38888),M=e.n(A),C=e(87363),b=e.n(C),j=e(23620),T=e(19435),u=e(33130),B=function(K){y()(i,K);var s=M()(i);function i(){return l()(this,i),s.apply(this,arguments)}return O()(i,[{key:"render",value:function(){return(0,u.jsx)(T.A,{})}}]),i}(C.Component);(0,j.Thl)({type:"logic",autoVar:!0})(B)},55639:function(ee,D,e){e.r(D),e.d(D,{default:function(){return ce}});var x=e(54306),l=e.n(x),P=e(98306),O={editorContainer:"editorContainer___czC1W"},S=e(21140),y=e.n(S),A=e(63466),M=e.n(A),C=e(58853),b=e.n(C),j=e(38888),T=e.n(j),u=e(87363),B=e(63204),K=e(83726),s=e(33130),i=function(r){b()(d,r);var h=T()(d);function d(){return y()(this,d),h.apply(this,arguments)}return M()(d,[{key:"render",value:function(){var U,I="cxd",L="zh-CN",m=this.props,p=m.pageSchmea,E=m.preview,g=m.isMobile,Z=m.onChange;return(0,s.jsx)(B.MLE,{value:p,isMobile:g,preview:E,onChange:Z,showCustomRenderersPanel:!0})}}]),d}(u.Component),J=i,ne=e(50720),te=e(40767),F=e(75904),se=e(22983),ae=e(46464),oe=e(54882),re=e(43702),N=e(52943),ue=e(90010),z=e.n(ue),le=e(56868),_=e(70517),ie=e(70256),De=e(33358),xe=e(49500),Pe=e(16123),Oe=e(82162);_.Z.interceptors.response.use(function(r){return console.log("axios config"),console.log(r),r.data?r:Promise.reject(new Error(r.data.message))},function(r){if(console.log("axios error"),r.response.data){var h=r.response;return console.log("--\u300Bdata\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse\uFF01"),console.log(h),h}return Promise.reject(r)});var de=function(h){var d="cxd",_e="zh-CN",U=(0,P.UO)(),I=U.render,L=U.id,m=(0,u.useState)({}),p=l()(m,2),E=p[0],g=p[1];(0,u.useEffect)(function(){console.log("Editor"),console.log(I),(0,ie.n4)(I,L).then(function(o){return g(o)})},[L]);var Z=(0,u.useState)(!1),G=l()(Z,2),R=G[0],me=G[1],ve=(0,u.useState)(!1),Q=l()(ve,2),he=Q[0],W=Q[1],ge=(0,u.useState)(!1),V=l()(ge,2),X=V[0],$=V[1],fe=(0,u.useState)(""),H=l()(fe,2),Y=H[0],Ce=H[1],pe=(0,u.useState)(""),w=l()(pe,2),k=w[0],q=w[1],Se=ne.Z.Text;return(0,s.jsxs)("div",{className:O.editorContainer,children:[(0,s.jsxs)(te.Z,{style:{margin:"5px",float:"right"},children:[(0,s.jsx)(F.ZP,{onClick:function(){return me(!R)},children:R?"\u7F16\u8F91":"\u9884\u89C8"},1),(0,s.jsx)(F.ZP,{type:"primary",onClick:function(n){z()(JSON.stringify(E))},children:"\u590D\u5236\u914D\u7F6E"},2)]}),(0,s.jsx)(se.Z,{style:{margin:"0px"}}),(0,s.jsx)(J,{pageSchmea:E,preview:R,onChange:function(n){return g(n)},style:{height:"100vh"}}),(0,s.jsxs)(ae.Z,{open:he,confirmLoading:X,title:"\u914D\u7F6E\u751F\u6210\u5C0F\u52A9\u624B(Beta)",cancelText:"\u53D6\u6D88",okText:"\u4F7F\u7528\u914D\u7F6E",width:800,onOk:function(){W(!1),g(JSON.parse(k))},onCancel:function(){return W(!1)},children:[(0,s.jsx)(oe.Z.TextArea,{style:{margin:"5px"},placeholder:'\u8F93\u5165\u4E00\u6BB5\u9700\u6C42\uFF0C\u5982"\u751F\u6210\u4E00\u4E2A\u4EFB\u52A1\u7BA1\u7406\u754C\u9762\uFF0C\u4EFB\u52A1\u4FE1\u606F\u5305\u542B\u4EFB\u52A1\u53F7id\u3001\u65F6\u95F4time\u3001\u8D1F\u8D23\u4EBAmgr_user',onChange:function(n){return Ce(n.target.value)}}),(0,s.jsx)(F.ZP,{loading:X,onClick:function(){if(Y.length==0){re.ZP.warning("\u8BF7\u8F93\u5165\u4E00\u6BB5\u9700\u6C42\u63D0\u793A");return}W(!0),$(!0),_.Z.post("/openai/v1/chat/completions",{headers:{Authorization:"Bearer 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"},data:{model:"gpt-3.5-turbo",messages:[{role:"system",content:"\u4F60\u662F\u4E00\u4E2Aamis\u914D\u7F6E\u6587\u4EF6\u751F\u6210\u5668\uFF0C\u5E2E\u6211\u751F\u6210json\u914D\u7F6E\u6587\u4EF6"},{role:"user",content:Y}]}}).then(function(n){var v=n.choices[0].message.content;$(!1);var c=v.indexOf("```"),a=v.lastIndexOf("```"),f=v.substring(c+7,a);console.log(f),q(f)})},icon:(0,s.jsx)(le.Z,{}),type:"primary",style:{width:"100%",marginTop:"5px",marginBottom:"5px"},children:"\u751F\u6210\u914D\u7F6E\u2193"}),(0,s.jsx)(N.ML,{value:k,onChange:function(n){return q(n)},height:300,language:"json",options:{fetcher:function(n){var v=n.url,c=n.method,a=n.data,f=n.responseType,t=n.config,Ee=n.headers;return t=t||{},t.withCredentials=!0,f&&(t.responseType=f),t.cancelExecutor&&(t.cancelToken=new _.Z.CancelToken(t.cancelExecutor)),t.headers=Ee||{},c!=="post"&&c!=="put"&&c!=="patch"?(a&&(t.params=a),_.Z[c](v,t)):(a&&a instanceof FormData?(t.headers=t.headers||{},t.headers["Content-Type"]="multipart/form-data"):a&&typeof a!="string"&&!(a instanceof Blob)&&!(a instanceof ArrayBuffer)&&(a=JSON.stringify(a),t.headers=t.headers||{},t.headers["Content-Type"]="application/json"),_.Z[c](v,a,t))},isCancel:function(n){return _.Z.isCancel(n)},copy:function(n){z()(n),N.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:d}})]})]})},ce=de}}]);
