"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[4865],{23542:function(z,M,e){e.d(M,{Z:function(){return W}});var L=e(57213),o=e.n(L),R=e(788),O=e(63466),x=e(21140),j=e(52510),P=e(54306),T=e.n(P),d=e(97944),I=e(83195),y=e(75904),U=e(47503),v=e(87363),s=e.n(v),i=e(84191),m=e(49425),n=e(94744),t=e(33130),E=null,p=function(l){var a=(0,d.Ik)(),C=(0,v.useContext)(I.r),r=C.logic;(0,v.useEffect)(function(){if(r){var u,g,h,f,k=n.y.getJsonByParams((u=r.variables)!==null&&u!==void 0?u:[]),Q=(0,i.k)("_var",k),X=n.y.getJsonByParams((g=r.params)!==null&&g!==void 0?g:[]),Y=(0,i.k)("_par",X),$=n.y.getJsonByParams((h=r.returns)!==null&&h!==void 0?h:[]),q=(0,i.k)("_ret",$),ee=n.y.getJsonByParams((f=r.envs)!==null&&f!==void 0?f:[]),ne=(0,i.k)("_env",ee);a==null||a.languages.typescript.javascriptDefaults.addExtraLib(Q,"var.ts"),a==null||a.languages.typescript.javascriptDefaults.addExtraLib(Y,"input.ts"),a==null||a.languages.typescript.javascriptDefaults.addExtraLib(q,"return.ts"),a==null||a.languages.typescript.javascriptDefaults.addExtraLib(ne,"env.ts"),a==null||a.languages.typescript.javascriptDefaults.addExtraLib("let _lastRet:{}","lastRet.ts")}return function(){var V;console.log("effect dispose"),a==null||(V=a.current)===null||V===void 0||V.dispose()}},[r==null?void 0:r.params,r==null?void 0:r.variables,r==null?void 0:r.returns,r==null?void 0:r.envs]);var b=(0,v.useState)(!1),S=T()(b,2),c=S[0],A=S[1];return(0,t.jsx)("div",{style:{width:"100%"},children:c?(0,t.jsx)(U.Z,{title:"js\u7F16\u8F91\u5668",centered:!0,width:1200,bodyStyle:{height:"80vh"},open:c,footer:null,onCancel:function(){return A(!1)},children:(0,t.jsx)(d.ML,o()(o()({theme:"vs-dark",defaultValue:l.value,defaultLanguage:l.language,options:{minimap:{enabled:!1}}},l),{},{height:"100%"}))}):(0,t.jsxs)("div",{children:[(0,t.jsx)(d.ML,o()({className:"editorByLoader",theme:"vs-dark",defaultValue:l.value,defaultLanguage:l.language,onMount:function(g){var h;(h=g.getAction("editor.action.formatDocument"))===null||h===void 0||h.run(),g.setValue(g.getValue())},options:{minimap:{enabled:!1}},height:500},l)),(0,t.jsx)(y.ZP,{size:"small",type:"text",icon:(0,t.jsx)(m.Z,{}),style:{position:"absolute",top:0,right:0,margin:"10px",color:"whitesmoke"},onClick:function(){return A(!0)}})]})})},_=s().memo(p),H=null,N=function(l){return(0,t.jsx)(_,o()(o()({},l),{},{language:"json"}))},K=N,w=null,Z=function(l){return(0,t.jsx)(_,o()(o()({},l),{},{language:"javascript"}))},J=Z,F=e(16414),B=function(l){return(0,v.useEffect)(function(){d._m.config({monaco:F})},[]),(0,t.jsx)(R.ZP,o()({widgets:{json:K,js:J}},l))},G=B,W=B||G},41546:function(z,M,e){e.r(M),e.d(M,{default:function(){return H}});var L=e(25359),o=e.n(L),R=e(49811),O=e.n(R),x=e(54306),j=e.n(x),P=e(43702),T=e(40767),d=e(46464),I=e(58856),y=e(77682),U=e(75904),v=e(98306),s=e(87363),i=e.n(s),m=e(31120),n=e(47068),t=e(23542),E=e(788),p=e(60825),_=e(33130);function H(N){var K=(0,s.useState)([]),w=j()(K,2),Z=w[0],J=w[1],F=(0,s.useState)(!1),B=j()(F,2),G=B[0],W=B[1],D=(0,s.useState)(!1),l=j()(D,2),a=l[0],C=l[1],r=(0,E.cI)(),b=(0,s.useCallback)(function(){C(!0),(0,p.nA)().then(function(c){J(c.result.items),C(!1)}).catch(function(c){P.ZP.error(c.message),C(!1)})},[]),S=[{key:"btn",title:"\u64CD\u4F5C",dataIndex:"id",width:"100px",render:function(A,u){return(0,_.jsxs)(T.Z,{children:[(0,_.jsx)(m.Z,{}),(0,_.jsx)(n.Z,{style:{color:"red"},onClick:function(){d.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u6B64Api\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){(0,p.aD)(u.id).then(function(f){b()})}})}})]})}},{key:"system",title:"\u7CFB\u7EDF\u540D",width:"200px",dataIndex:"system",render:function(A,u){return(0,_.jsx)(T.Z,{children:(0,_.jsx)(v.rU,{to:"/assets/swagger/i/".concat(u._id,"/ui"),target:"_blank",children:u.system})})}},{key:"create_time",title:"\u5BFC\u5165\u65F6\u95F4",dataIndex:"create_time"}];return(0,s.useEffect)(function(){b()},[]),(0,_.jsx)(I.Z,{children:(0,_.jsxs)(I.Z.Content,{children:[(0,_.jsx)(y.Z,{loading:a,columns:S,dataSource:Z}),(0,_.jsx)(d.Z,{open:G,footer:!1,title:"\u65B0\u5EFA\u7F16\u6392",onCancel:function(){return W(!1)},children:(0,_.jsx)(t.Z,{style:{margin:"10px"},form:r,schema:{type:"object",properties:{id:{title:"\u552F\u4E00\u7F16\u53F7",type:"string",widget:"input"},name:{title:"\u4E1A\u52A1\u540D\u79F0",type:"string",widget:"input"}}},footer:function(){return(0,_.jsx)(U.ZP,{type:"primary",style:{width:"200px"},onClick:O()(o()().mark(function A(){var u,g;return o()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return u=r.getValues(),C(!0),W(!1),f.next=5,addApi(u.id,u.name);case 5:g=f.sent,C(!1),b();case 8:case"end":return f.stop()}},A)})),children:"\u4FDD\u5B58"})}})})]})})}},60825:function(z,M,e){e.d(M,{HF:function(){return j},aD:function(){return I},nA:function(){return U}});var L=e(25359),o=e.n(L),R=e(49811),O=e.n(R),x=e(70517);function j(s){return P.apply(this,arguments)}function P(){return P=O()(o()().mark(function s(i){return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",x.Z.post("/api/form/swagger/query",{ids:[i]}).then(function(t){return t.data.result.items[0]}));case 1:case"end":return n.stop()}},s)})),P.apply(this,arguments)}function T(s,i){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark(function s(i,m){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",axios.post("/api/form/swagger/add",{id:i,name:m}).then(function(E){var p=E.data.result;return p}));case 1:case"end":return t.stop()}},s)})),d.apply(this,arguments)}function I(s){return y.apply(this,arguments)}function y(){return y=O()(o()().mark(function s(i){return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",x.Z.delete("/api/form/swagger/delete/".concat(i)).then(function(t){return t.data.result}));case 1:case"end":return n.stop()}},s)})),y.apply(this,arguments)}function U(){return v.apply(this,arguments)}function v(){return v=O()(o()().mark(function s(){var i,m,n=arguments;return o()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return i=n.length>0&&n[0]!==void 0?n[0]:1,m=n.length>1&&n[1]!==void 0?n[1]:10,E.abrupt("return",x.Z.post("/api/form/swagger/query",{page:i,pageSize:m}).then(function(p){return p.data}));case 3:case"end":return E.stop()}},s)})),v.apply(this,arguments)}}}]);
