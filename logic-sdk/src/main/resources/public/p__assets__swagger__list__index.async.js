"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[4865],{31120:function(K,D,e){e.d(D,{Z:function(){return E}});var j=e(56159),a=e(87363),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},P=I,y=e(45288),O=function(_,C){return a.createElement(y.Z,(0,j.Z)({},_,{ref:C,icon:P}))},E=a.forwardRef(O)},23542:function(K,D,e){e.d(D,{Z:function(){return b}});var j=e(57213),a=e.n(j),I=e(788),P=e(63466),y=e(21140),O=e(52510),E=e(54306),A=e.n(E),_=e(97944),C=e(83195),L=e(75904),T=e(47503),v=e(87363),o=e.n(v),i=e(84191),c=e(49425),n=e(94744),t=e(33130),h=null,M=function(l){var r=(0,_.Ik)(),R=(0,v.useContext)(C.r),s=R.logic;(0,v.useEffect)(function(){if(s){var u,f,p,g,Q=n.y.getJsonByParams((u=s.variables)!==null&&u!==void 0?u:[]),X=(0,i.k)("_var",Q),Y=n.y.getJsonByParams((f=s.params)!==null&&f!==void 0?f:[]),$=(0,i.k)("_par",Y),k=n.y.getJsonByParams((p=s.returns)!==null&&p!==void 0?p:[]),q=(0,i.k)("_ret",k),ee=n.y.getJsonByParams((g=s.envs)!==null&&g!==void 0?g:[]),ne=(0,i.k)("_env",ee);r==null||r.languages.typescript.javascriptDefaults.addExtraLib(X,"var.ts"),r==null||r.languages.typescript.javascriptDefaults.addExtraLib($,"input.ts"),r==null||r.languages.typescript.javascriptDefaults.addExtraLib(q,"return.ts"),r==null||r.languages.typescript.javascriptDefaults.addExtraLib(ne,"env.ts"),r==null||r.languages.typescript.javascriptDefaults.addExtraLib("let _lastRet:{}","lastRet.ts")}return function(){var V;console.log("effect dispose"),r==null||(V=r.current)===null||V===void 0||V.dispose()}},[s==null?void 0:s.params,s==null?void 0:s.variables,s==null?void 0:s.returns,s==null?void 0:s.envs]);var W=(0,v.useState)(!1),S=A()(W,2),m=S[0],B=S[1];return(0,t.jsx)("div",{style:{width:"100%"},children:m?(0,t.jsx)(T.Z,{title:"js\u7F16\u8F91\u5668",centered:!0,width:1200,bodyStyle:{height:"80vh"},open:m,footer:null,onCancel:function(){return B(!1)},children:(0,t.jsx)(_.ML,a()(a()({theme:"vs-dark",defaultValue:l.value,defaultLanguage:l.language,options:{minimap:{enabled:!1}}},l),{},{height:"100%"}))}):(0,t.jsxs)("div",{children:[(0,t.jsx)(_.ML,a()({className:"editorByLoader",theme:"vs-dark",defaultValue:l.value,defaultLanguage:l.language,onMount:function(f){var p;(p=f.getAction("editor.action.formatDocument"))===null||p===void 0||p.run(),f.setValue(f.getValue())},options:{minimap:{enabled:!1}},height:500},l)),(0,t.jsx)(L.ZP,{size:"small",type:"text",icon:(0,t.jsx)(c.Z,{}),style:{position:"absolute",top:0,right:0,margin:"10px",color:"whitesmoke"},onClick:function(){return B(!0)}})]})})},d=o().memo(M),H=null,N=function(l){return(0,t.jsx)(d,a()(a()({},l),{},{language:"json"}))},w=N,Z=null,J=function(l){return(0,t.jsx)(d,a()(a()({},l),{},{language:"javascript"}))},F=J,z=e(16414),U=function(l){return(0,v.useEffect)(function(){_._m.config({monaco:z})},[]),(0,t.jsx)(I.ZP,a()({widgets:{json:w,js:F}},l))},G=U,b=U||G},41546:function(K,D,e){e.r(D),e.d(D,{default:function(){return H}});var j=e(25359),a=e.n(j),I=e(49811),P=e.n(I),y=e(54306),O=e.n(y),E=e(43702),A=e(40767),_=e(46464),C=e(58856),L=e(77682),T=e(75904),v=e(98306),o=e(87363),i=e.n(o),c=e(31120),n=e(47068),t=e(23542),h=e(788),M=e(60825),d=e(33130);function H(N){var w=(0,o.useState)([]),Z=O()(w,2),J=Z[0],F=Z[1],z=(0,o.useState)(!1),U=O()(z,2),G=U[0],b=U[1],x=(0,o.useState)(!1),l=O()(x,2),r=l[0],R=l[1],s=(0,h.cI)(),W=(0,o.useCallback)(function(){R(!0),(0,M.nA)().then(function(m){F(m.result.items),R(!1)}).catch(function(m){E.ZP.error(m.message),R(!1)})},[]),S=[{key:"btn",title:"\u64CD\u4F5C",dataIndex:"id",width:"100px",render:function(B,u){return(0,d.jsxs)(A.Z,{children:[(0,d.jsx)(c.Z,{}),(0,d.jsx)(n.Z,{style:{color:"red"},onClick:function(){_.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u6B64Api\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){(0,M.aD)(u.id).then(function(g){W()})}})}})]})}},{key:"system",title:"\u7CFB\u7EDF\u540D",width:"200px",dataIndex:"system",render:function(B,u){return(0,d.jsx)(A.Z,{children:(0,d.jsx)(v.rU,{to:"/assets/swagger/i/".concat(u._id,"/ui"),target:"_blank",children:u.system})})}},{key:"create_time",title:"\u5BFC\u5165\u65F6\u95F4",dataIndex:"create_time"}];return(0,o.useEffect)(function(){W()},[]),(0,d.jsx)(C.Z,{children:(0,d.jsxs)(C.Z.Content,{children:[(0,d.jsx)(L.Z,{loading:r,columns:S,dataSource:J}),(0,d.jsx)(_.Z,{open:G,footer:!1,title:"\u65B0\u5EFA\u7F16\u6392",onCancel:function(){return b(!1)},children:(0,d.jsx)(t.Z,{style:{margin:"10px"},form:s,schema:{type:"object",properties:{id:{title:"\u552F\u4E00\u7F16\u53F7",type:"string",widget:"input"},name:{title:"\u4E1A\u52A1\u540D\u79F0",type:"string",widget:"input"}}},footer:function(){return(0,d.jsx)(T.ZP,{type:"primary",style:{width:"200px"},onClick:P()(a()().mark(function B(){var u,f;return a()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return u=s.getValues(),R(!0),b(!1),g.next=5,addApi(u.id,u.name);case 5:f=g.sent,R(!1),W();case 8:case"end":return g.stop()}},B)})),children:"\u4FDD\u5B58"})}})})]})})}},60825:function(K,D,e){e.d(D,{HF:function(){return O},aD:function(){return C},nA:function(){return T}});var j=e(25359),a=e.n(j),I=e(49811),P=e.n(I),y=e(70517);function O(o){return E.apply(this,arguments)}function E(){return E=P()(a()().mark(function o(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",y.Z.post("/api/form/swagger/query",{ids:[i]}).then(function(t){return t.data.result.items[0]}));case 1:case"end":return n.stop()}},o)})),E.apply(this,arguments)}function A(o,i){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function o(i,c){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",axios.post("/api/form/swagger/add",{id:i,name:c}).then(function(h){var M=h.data.result;return M}));case 1:case"end":return t.stop()}},o)})),_.apply(this,arguments)}function C(o){return L.apply(this,arguments)}function L(){return L=P()(a()().mark(function o(i){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",y.Z.delete("/api/form/swagger/delete/".concat(i)).then(function(t){return t.data.result}));case 1:case"end":return n.stop()}},o)})),L.apply(this,arguments)}function T(){return v.apply(this,arguments)}function v(){return v=P()(a()().mark(function o(){var i,c,n=arguments;return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return i=n.length>0&&n[0]!==void 0?n[0]:1,c=n.length>1&&n[1]!==void 0?n[1]:10,h.abrupt("return",y.Z.post("/api/form/swagger/query",{page:i,pageSize:c}).then(function(M){return M.data}));case 3:case"end":return h.stop()}},o)})),v.apply(this,arguments)}}}]);
