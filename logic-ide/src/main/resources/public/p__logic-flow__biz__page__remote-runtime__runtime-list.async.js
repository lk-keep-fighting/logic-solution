"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[5492],{68784:function(W,b,e){var O=e(26068),n=e.n(O),M=e(48305),i=e.n(M),p=e(950),c=e(87363),T=e.n(c),y=e(874),f=e.n(y),d=e(66345),_=e(94391),P=e(99294),D=e(42327),B=e(3044),R=e(21644),w=e(77201),r=e(30697),a=e(12146),v=e(33627),u=e(370),t=e(62086),l=function(o){var g=(0,c.useState)({type:"page"}),A=i()(g,2),L=A[0],h=A[1],U=(0,c.useState)(),S=i()(U,2),G=S[0],Z=S[1],$=(0,c.useState)(),F=i()($,2),Y=F[0],H=F[1],k="cxd",J="zh-CN";(0,c.useEffect)(function(){(0,a.m)(p.Z)},[]),(0,c.useEffect)(function(){o.pageId&&((0,P.UD)(o.pageId).then(function(j){h(j)}),u.S.getEnvJson().then(function(j){Z(JSON.parse(v.j.getEnv()))}))},[o.pageId]);var N=function(E,I){console.log("broadcast:",E,I),o.onBroadcast&&o.onBroadcast(E,I.data)};return(0,t.jsxs)("div",{children:[(0,t.jsx)(_.qRY,{theme:k,position:"top-right",locale:J},"toast"),(0,t.jsx)(_.wxo,{theme:k,locale:J},"alert"),(0,d.sYA)(L,{data:n()({envs:G},o.data),onBroadcast:N},{fetcher:function(E){var I=E.url,K=E.method,C=E.data,x=E.responseType,m=E.config,z=E.headers;return o.data&&o.data.runtime&&(I="/api/ide/papi/".concat(o.data.runtime).concat(I)),m=m||{},m.withCredentials=!0,x&&(m.responseType=x),m.cancelExecutor&&(m.cancelToken=new p.Z.CancelToken(m.cancelExecutor)),m.headers=z||{},m.headers.Authorization||(m.headers.Authorization="Bearer "+r.F.getTokenFormLocal()),K!=="post"&&K!=="put"&&K!=="patch"?(C&&(m.params=C),p.Z[K](I,m)):(C&&C instanceof FormData?(m.headers=m.headers||{},m.headers["Content-Type"]="multipart/form-data"):C&&typeof C!="string"&&!(C instanceof Blob)&&!(C instanceof ArrayBuffer)&&(C=JSON.stringify(C),m.headers=m.headers||{},m.headers["Content-Type"]="application/json"),p.Z[K](I,C,m))},isCancel:function(E){return p.Z.isCancel(E)},copy:function(E){f()(E),_.Amu.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:k,jumpTo:function(E,I){debugger;I.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+E,"_blank"):window.location.hash=E}})]})};b.Z=l},12146:function(W,b,e){e.d(b,{m:function(){return p}});var O=e(90228),n=e.n(O),M=e(87999),i=e.n(M);function p(T){return c.apply(this,arguments)}function c(){return c=i()(n()().mark(function T(y){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:y.interceptors.response.use(function(_){return console.log("axios response"),console.log(_),_&&_.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),_.data.error||(_.data.error={code:0}),_.data.code==500&&(_.data.error={code:500,message:_.data.msg}),_.data.data&&_.data.data.records&&(_.data.data.items=_.data.data.records),_):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(_.data),Promise.reject(new Error(_.data.message)))},function(_){if(console.log("\u6355\u6349axios error"),console.log(_),_.response&&_.response.data){var P,D=_.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((P=_.response.data.error)===null||P===void 0?void 0:P.code)==0&&(_.response.data.error.code=500),console.log(D),D}return Promise.reject(_)});case 1:case"end":return d.stop()}},T)})),c.apply(this,arguments)}},30697:function(W,b,e){e.d(b,{F:function(){return O}});var O={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(M){return localStorage.setItem("token",M)}}},70658:function(W,b,e){e.r(b);var O=e(48305),n=e.n(O),M=e(68784),i=e(87363),p=e.n(i),c=e(62086),T=function(f){var d=(0,i.useState)({}),_=n()(d,2),P=_[0],D=_[1];return(0,c.jsx)(M.Z,{pageId:"remote-runtimes-main",data:P})};b.default=T},370:function(W,b,e){e.d(b,{S:function(){return _}});var O=e(90228),n=e.n(O),M=e(87999),i=e.n(M),p=e(25298),c=e.n(p),T=e(17069),y=e.n(T),f=e(33627),d=e(72591),_=function(){function P(){c()(this,P)}return y()(P,null,[{key:"getEnvJson",value:function(){var D=i()(n()().mark(function R(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.U2)("/api/runtime/env").then(function(a){return a.data.data}).then(function(a){return f.j.setModel(a.UI_CONFIG_MODEL),f.j.setEnv(JSON.stringify(a)),f.j.setApiUrlPrefix(a.API_GATEWAY_PREFIX),f.j.setReryApi(a.CUSTOM_RETRY_URL),f.j.setReryApi(a.CUSTOM_RETRY_URL),a}));case 1:case"end":return r.stop()}},R)}));function B(){return D.apply(this,arguments)}return B}()},{key:"getRemoteRuntimeConfig",value:function(){var D=i()(n()().mark(function R(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.v_)("/api/ide/remote-runtimes").then(function(a){return a.data}).then(function(a){return console.log("remote runtimes:",a.data),f.j.setRemoteRuntimes(JSON.stringify(a.data)),a}));case 1:case"end":return r.stop()}},R)}));function B(){return D.apply(this,arguments)}return B}()}]),P}()},99294:function(W,b,e){e.d(b,{CD:function(){return B},UD:function(){return P},n4:function(){return w},wx:function(){return a}});var O=e(90228),n=e.n(O),M=e(87999),i=e.n(M),p=e(33627),c=e(25298),T=e.n(c),y=e(17069),f=e.n(y),d=e(72591),_=function(){function u(){T()(this,u)}return f()(u,null,[{key:"getAssetFromDb",value:function(){var t=i()(n()().mark(function s(o,g){var A;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,d.U2)("/api/ide/settings/asset/".concat(o,"/").concat(g));case 2:return A=h.sent.data,h.abrupt("return",JSON.parse(A.data.config));case 4:case"end":return h.stop()}},s)}));function l(s,o){return t.apply(this,arguments)}return l}()},{key:"saveAssetToDb",value:function(){var t=i()(n()().mark(function s(o,g,A){return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,d.v_)("/api/ide/settings/asset/".concat(o,"/").concat(g),A));case 1:case"end":return h.stop()}},s)}));function l(s,o,g){return t.apply(this,arguments)}return l}()},{key:"getRemoteAssetFromDb",value:function(){var t=i()(n()().mark(function s(o,g,A){var L;return n()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,d.U2)("/api/ide/papi/".concat(o,"/api/ide/settings/asset/").concat(g,"/").concat(A));case 2:return L=U.sent.data,U.abrupt("return",JSON.parse(L.data.config));case 4:case"end":return U.stop()}},s)}));function l(s,o,g){return t.apply(this,arguments)}return l}()},{key:"saveRemoteAssetToDb",value:function(){var t=i()(n()().mark(function s(o,g,A,L){return n()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,d.v_)("/api/ide/papi/".concat(o,"/api/ide/settings/asset/").concat(g,"/").concat(A),L));case 1:case"end":return U.stop()}},s)}));function l(s,o,g,A){return t.apply(this,arguments)}return l}()}]),u}();function P(u){return D.apply(this,arguments)}function D(){return D=i()(n()().mark(function u(t){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(p.j.getModel()!="db"){s.next=4;break}return s.abrupt("return",_.getAssetFromDb("page",t));case 4:return s.next=6,(0,d.U2)("/logic/setting/pages/".concat(t,".json"));case 6:return s.abrupt("return",s.sent.data);case 7:case"end":return s.stop()}},u)})),D.apply(this,arguments)}function B(u){return R.apply(this,arguments)}function R(){return R=i()(n()().mark(function u(t){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(p.j.getModel()!="db"){s.next=4;break}return s.abrupt("return",_.getAssetFromDb("form",t));case 4:return s.next=6,(0,d.U2)("/logic/setting/forms/".concat(t,".json"));case 6:return s.abrupt("return",s.sent.data);case 7:case"end":return s.stop()}},u)})),R.apply(this,arguments)}function w(u,t){return r.apply(this,arguments)}function r(){return r=i()(n()().mark(function u(t,l){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(p.j.getModel()!="db"){o.next=4;break}return o.abrupt("return",_.getAssetFromDb(t,l));case 4:return o.next=6,(0,d.U2)("/logic/setting/".concat(t,"s/").concat(l,".json"));case 6:return o.abrupt("return",o.sent.data);case 7:case"end":return o.stop()}},u)})),r.apply(this,arguments)}function a(u,t,l){return v.apply(this,arguments)}function v(){return v=i()(n()().mark(function u(t,l,s){return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(p.j.getModel()!="db"){g.next=2;break}return g.abrupt("return",_.saveAssetToDb(t,l,s));case 2:case"end":return g.stop()}},u)})),v.apply(this,arguments)}},72591:function(W,b,e){e.d(b,{U2:function(){return y},gz:function(){return d},v_:function(){return B}});var O=e(90228),n=e.n(O),M=e(26068),i=e.n(M),p=e(87999),c=e.n(p),T=e(950);function y(r,a){return f.apply(this,arguments)}function f(){return f=c()(n()().mark(function r(a,v){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T.Z.get(a,w(v)));case 1:case"end":return t.stop()}},r)})),f.apply(this,arguments)}function d(r,a,v){return _.apply(this,arguments)}function _(){return _=c()(n()().mark(function r(a,v,u){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",T.Z.put(a,v,w(u)));case 1:case"end":return l.stop()}},r)})),_.apply(this,arguments)}function P(r,a){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function r(a,v){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",axios.delete(a,w(v)));case 1:case"end":return t.stop()}},r)})),D.apply(this,arguments)}function B(r,a,v){return R.apply(this,arguments)}function R(){return R=c()(n()().mark(function r(a,v,u){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",T.Z.post(a,v,w(u)));case 1:case"end":return l.stop()}},r)})),R.apply(this,arguments)}function w(r){var a={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(a.Authorization="Bearer "+localStorage.getItem("token")),i()(i()({},r),{},{headers:i()(i()({},a),r==null?void 0:r.headers)})}},77201:function(){}}]);
