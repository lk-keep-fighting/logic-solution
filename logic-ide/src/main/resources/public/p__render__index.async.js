"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[6313],{44132:function(U,m,e){var v=e(54306),t=e.n(v),o=e(70517),c=e(90010),b=e.n(c),D=e(23620),l=e(2069),E=e(87363),h=e.n(E),P=e(70256),n=e(33358),g=e(49500),f=e(16123),M=e(69078),i=e(98896),s=e(33130),a=function(_){var u=(0,E.useState)({type:"page"}),T=t()(u,2),K=T[0],W=T[1],I="cxd",B="zh-CN";return(0,E.useEffect)(function(){(0,i.m)(o.Z)},[]),(0,E.useEffect)(function(){_.pageId&&(0,P.UD)(_.pageId).then(function(A){W(A)})},[_.pageId]),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.qR,{theme:I,position:"top-right",locale:B},"toast"),(0,s.jsx)(l.wx,{theme:I,locale:B},"alert"),(0,D.sYA)(K,{data:_.data},{fetcher:function(d){var R=d.url,C=d.method,O=d.data,L=d.responseType,r=d.config,y=d.headers;return r=r||{},r.withCredentials=!0,L&&(r.responseType=L),r.cancelExecutor&&(r.cancelToken=new o.Z.CancelToken(r.cancelExecutor)),r.headers=y||{},r.headers.Authorization||(r.headers.Authorization="Bearer "+M.F.getTokenFormLocal()),C!=="post"&&C!=="put"&&C!=="patch"?(O&&(r.params=O),o.Z[C](R,r)):(O&&O instanceof FormData?(r.headers=r.headers||{},r.headers["Content-Type"]="multipart/form-data"):O&&typeof O!="string"&&!(O instanceof Blob)&&!(O instanceof ArrayBuffer)&&(O=JSON.stringify(O),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"),o.Z[C](R,O,r))},isCancel:function(d){return o.Z.isCancel(d)},copy:function(d){b()(d),l.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:I,jumpTo:function(d,R){debugger;R.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+d,"_blank"):window.location.hash=d}})]})};m.Z=a},98896:function(U,m,e){e.d(m,{m:function(){return b}});var v=e(25359),t=e.n(v),o=e(49811),c=e.n(o);function b(l){return D.apply(this,arguments)}function D(){return D=c()(t()().mark(function l(E){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:E.interceptors.response.use(function(n){return console.log("axios response"),console.log(n),n&&n.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),n.data.error||(n.data.error={code:0}),n.data.code==500&&(n.data.error={code:500,message:n.data.msg}),n.data.data&&n.data.data.records&&(n.data.data.items=n.data.data.records),n):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(n.data),Promise.reject(new Error(n.data.message)))},function(n){if(console.log("\u6355\u6349axios error"),console.log(n),n.response&&n.response.data){var g,f=n.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((g=n.response.data.error)===null||g===void 0?void 0:g.code)==0&&(n.response.data.error.code=500),console.log(f),f}return Promise.reject(n)});case 1:case"end":return P.stop()}},l)})),D.apply(this,arguments)}},69078:function(U,m,e){e.d(m,{F:function(){return v}});var v={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(o){return localStorage.setItem("token",o)}}},54848:function(U,m,e){e.r(m);var v=e(54306),t=e.n(v),o=e(87363),c=e.n(o),b=e(33358),D=e(49500),l=e(16123),E=e(70256),h=e(98306),P=e(44132),n=e(33130),g=function(M){var i=(0,o.useState)({type:"page"}),s=t()(i,2),a=s[0],p=s[1],_=(0,h.UO)(),u=_.pageId;return(0,o.useEffect)(function(){u&&(0,E.UD)(u).then(function(T){p(T)})},[u]),(0,n.jsx)(P.Z,{pageId:u,data:M})};m.default=g},85002:function(U,m,e){e.d(m,{Z:function(){return P}});var v=e(25359),t=e.n(v),o=e(49811),c=e.n(o),b=e(21140),D=e.n(b),l=e(63466),E=e.n(l),h=e(70517),P=function(){function n(){D()(this,n)}return E()(n,null,[{key:"getAssetFromDb",value:function(){var g=c()(t()().mark(function M(i,s){var a;return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,h.Z.get("/api/ide/settings/asset/".concat(i,"/").concat(s));case 2:return a=_.sent.data,_.abrupt("return",JSON.parse(a.data.config));case 4:case"end":return _.stop()}},M)}));function f(M,i){return g.apply(this,arguments)}return f}()},{key:"saveAssetToDb",value:function(){var g=c()(t()().mark(function M(i,s,a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",h.Z.post("/api/ide/settings/asset/".concat(i,"/").concat(s),a));case 1:case"end":return _.stop()}},M)}));function f(M,i,s){return g.apply(this,arguments)}return f}()}]),n}()},70256:function(U,m,e){e.d(m,{CD:function(){return P},UD:function(){return E},n4:function(){return g},wx:function(){return M}});var v=e(25359),t=e.n(v),o=e(49811),c=e.n(o),b=e(31837),D=e(70517),l=e(85002);function E(s){return h.apply(this,arguments)}function h(){return h=c()(t()().mark(function s(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:debugger;if(b.j.getModel()!="db"){_.next=5;break}return _.abrupt("return",l.Z.getAssetFromDb("page",a));case 5:return _.next=7,D.Z.get("/setting/pages/".concat(a,".json"));case 7:return _.abrupt("return",_.sent.data);case 8:case"end":return _.stop()}},s)})),h.apply(this,arguments)}function P(s){return n.apply(this,arguments)}function n(){return n=c()(t()().mark(function s(a){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(b.j.getModel()!="db"){_.next=4;break}return _.abrupt("return",l.Z.getAssetFromDb("form",a));case 4:return _.next=6,D.Z.get("/setting/forms/".concat(a,".json"));case 6:return _.abrupt("return",_.sent.data);case 7:case"end":return _.stop()}},s)})),n.apply(this,arguments)}function g(s,a){return f.apply(this,arguments)}function f(){return f=c()(t()().mark(function s(a,p){return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(b.j.getModel()!="db"){u.next=4;break}return u.abrupt("return",l.Z.getAssetFromDb(a,p));case 4:return u.next=6,D.Z.get("/setting/".concat(a,"s/").concat(p,".json"));case 6:return u.abrupt("return",u.sent.data);case 7:case"end":return u.stop()}},s)})),f.apply(this,arguments)}function M(s,a,p){return i.apply(this,arguments)}function i(){return i=c()(t()().mark(function s(a,p,_){return t()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(b.j.getModel()!="db"){T.next=2;break}return T.abrupt("return",l.Z.saveAssetToDb(a,p,_));case 2:case"end":return T.stop()}},s)})),i.apply(this,arguments)}}}]);
