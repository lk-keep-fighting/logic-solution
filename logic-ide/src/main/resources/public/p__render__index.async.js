"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[6313],{11331:function(A,d,e){var E=e(54306),o=e.n(E),t=e(70517),P=e(90010),h=e.n(P),C=e(23620),c=e(52943),g=e(87363),O=e.n(g),p=e(70256),M=e(33358),r=e(49500),m=e(16123),D=e(99273),n=e(33130);t.Z.interceptors.response.use(function(_){return console.log("axios response"),console.log(_),_&&_.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),_.data.error||(_.data.error={code:0}),_.data.code==500&&(_.data.error={code:500,message:_.data.msg}),_.data.data&&_.data.data.records&&(_.data.data.items=_.data.data.records),_):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(_.data),Promise.reject(new Error(_.data.message)))},function(_){if(console.log("\u6355\u6349axios error"),console.log(_),_.response&&_.response.data){var i,v=_.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((i=_.response.data.error)===null||i===void 0?void 0:i.code)==0&&(_.response.data.error.code=500),console.log(v),v}return Promise.reject(_)});var u=function(i){var v=(0,g.useState)({type:"page"}),f=o()(v,2),R=f[0],K=f[1],B="cxd",L="zh-CN";return(0,g.useEffect)(function(){i.pageId&&(0,p.UD)(i.pageId).then(function(T){K(T)})},[i.pageId]),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.qR,{theme:B,position:"top-right",locale:L},"toast"),(0,n.jsx)(c.wx,{theme:B,locale:L},"alert"),(0,C.sYA)(R,{data:i.data},{fetcher:function(s){var I=s.url,U=s.method,l=s.data,b=s.responseType,a=s.config,W=s.headers;return a=a||{},a.withCredentials=!0,b&&(a.responseType=b),a.cancelExecutor&&(a.cancelToken=new t.Z.CancelToken(a.cancelExecutor)),a.headers=W||{},a.headers.Authorization||(a.headers.Authorization="Bearer "+D.F.getTokenFormLocal()),U!=="post"&&U!=="put"&&U!=="patch"?(l&&(a.params=l),t.Z[U](I,a)):(l&&l instanceof FormData?(a.headers=a.headers||{},a.headers["Content-Type"]="multipart/form-data"):l&&typeof l!="string"&&!(l instanceof Blob)&&!(l instanceof ArrayBuffer)&&(l=JSON.stringify(l),a.headers=a.headers||{},a.headers["Content-Type"]="application/json"),t.Z[U](I,l,a))},isCancel:function(s){return t.Z.isCancel(s)},copy:function(s){h()(s),c.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:B,jumpTo:function(s,I){debugger;I.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+s,"_blank"):window.location.hash=s}})]})};d.Z=u},54848:function(A,d,e){e.r(d);var E=e(54306),o=e.n(E),t=e(87363),P=e.n(t),h=e(33358),C=e(49500),c=e(16123),g=e(70256),O=e(98306),p=e(11331),M=e(33130),r=function(D){var n=(0,t.useState)({type:"page"}),u=o()(n,2),_=u[0],i=u[1],v=(0,O.UO)(),f=v.pageId;return(0,t.useEffect)(function(){f&&(0,g.UD)(f).then(function(R){i(R)})},[f]),(0,M.jsx)(p.Z,{pageId:f,data:D})};d.default=r},70256:function(A,d,e){e.d(d,{CD:function(){return g},UD:function(){return C},n4:function(){return p}});var E=e(25359),o=e.n(E),t=e(49811),P=e.n(t),h=e(70517);function C(r){return c.apply(this,arguments)}function c(){return c=P()(o()().mark(function r(m){return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.Z.get("/setting/pages/".concat(m,".json"));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}},r)})),c.apply(this,arguments)}function g(r){return O.apply(this,arguments)}function O(){return O=P()(o()().mark(function r(m){return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.Z.get("/setting/forms/".concat(m,".json"));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}},r)})),O.apply(this,arguments)}function p(r,m){return M.apply(this,arguments)}function M(){return M=P()(o()().mark(function r(m,D){return o()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,h.Z.get("/setting/".concat(m,"s/").concat(D,".json"));case 2:return u.abrupt("return",u.sent.data);case 3:case"end":return u.stop()}},r)})),M.apply(this,arguments)}},99273:function(A,d,e){e.d(d,{F:function(){return E}});var E={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(t){return localStorage.setItem("token",t)}}}}]);
