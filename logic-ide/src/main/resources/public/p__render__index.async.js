"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[6313],{44132:function(T,c,e){var g=e(54306),s=e.n(g),u=e(70517),D=e(90010),b=e.n(D),E=e(23620),m=e(2069),d=e(87363),t=e.n(d),a=e(70256),_=e(33358),P=e(49500),M=e(16123),h=e(78057),f=e(69078),r=e(98896),o=e(33130),p=function(l){var U=(0,d.useState)({type:"page"}),B=s()(U,2),W=B[0],j=B[1],I="cxd",L="zh-CN";return(0,d.useEffect)(function(){(0,r.m)(u.Z)},[]),(0,d.useEffect)(function(){l.pageId&&(0,a.UD)(l.pageId).then(function(A){j(A)})},[l.pageId]),(0,o.jsxs)("div",{children:[(0,o.jsx)(m.qR,{theme:I,position:"top-right",locale:L},"toast"),(0,o.jsx)(m.wx,{theme:I,locale:L},"alert"),(0,E.sYA)(W,{data:l.data},{fetcher:function(v){var R=v.url,C=v.method,O=v.data,K=v.responseType,i=v.config,w=v.headers;return i=i||{},i.withCredentials=!0,K&&(i.responseType=K),i.cancelExecutor&&(i.cancelToken=new u.Z.CancelToken(i.cancelExecutor)),i.headers=w||{},i.headers.Authorization||(i.headers.Authorization="Bearer "+f.F.getTokenFormLocal()),C!=="post"&&C!=="put"&&C!=="patch"?(O&&(i.params=O),u.Z[C](R,i)):(O&&O instanceof FormData?(i.headers=i.headers||{},i.headers["Content-Type"]="multipart/form-data"):O&&typeof O!="string"&&!(O instanceof Blob)&&!(O instanceof ArrayBuffer)&&(O=JSON.stringify(O),i.headers=i.headers||{},i.headers["Content-Type"]="application/json"),u.Z[C](R,O,i))},isCancel:function(v){return u.Z.isCancel(v)},copy:function(v){b()(v),m.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:I,jumpTo:function(v,R){debugger;R.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+v,"_blank"):window.location.hash=v}})]})};c.Z=p},98896:function(T,c,e){e.d(c,{m:function(){return b}});var g=e(25359),s=e.n(g),u=e(49811),D=e.n(u);function b(m){return E.apply(this,arguments)}function E(){return E=D()(s()().mark(function m(d){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d.interceptors.response.use(function(_){return console.log("axios response"),console.log(_),_&&_.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),_.data.error||(_.data.error={code:0}),_.data.code==500&&(_.data.error={code:500,message:_.data.msg}),_.data.data&&_.data.data.records&&(_.data.data.items=_.data.data.records),_):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(_.data),Promise.reject(new Error(_.data.message)))},function(_){if(console.log("\u6355\u6349axios error"),console.log(_),_.response&&_.response.data){var P,M=_.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((P=_.response.data.error)===null||P===void 0?void 0:P.code)==0&&(_.response.data.error.code=500),console.log(M),M}return Promise.reject(_)});case 1:case"end":return a.stop()}},m)})),E.apply(this,arguments)}},69078:function(T,c,e){e.d(c,{F:function(){return g}});var g={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(u){return localStorage.setItem("token",u)}}},54848:function(T,c,e){e.r(c);var g=e(54306),s=e.n(g),u=e(87363),D=e.n(u),b=e(33358),E=e(49500),m=e(16123),d=e(70256),t=e(98306),a=e(44132),_=e(33130),P=function(h){var f=(0,u.useState)({type:"page"}),r=s()(f,2),o=r[0],p=r[1],n=(0,t.UO)(),l=n.pageId;return(0,u.useEffect)(function(){l&&(0,d.UD)(l).then(function(U){p(U)})},[l]),(0,_.jsx)(a.Z,{pageId:l,data:h})};c.default=P},85002:function(T,c,e){e.d(c,{Z:function(){return a}});var g=e(25359),s=e.n(g),u=e(49811),D=e.n(u),b=e(21140),E=e.n(b),m=e(63466),d=e.n(m),t=e(57475),a=function(){function _(){E()(this,_)}return d()(_,null,[{key:"getAssetFromDb",value:function(){var P=D()(s()().mark(function h(f,r){var o;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,t.U2)("/api/ide/settings/asset/".concat(f,"/").concat(r));case 2:return o=n.sent.data,n.abrupt("return",JSON.parse(o.data.config));case 4:case"end":return n.stop()}},h)}));function M(h,f){return P.apply(this,arguments)}return M}()},{key:"saveAssetToDb",value:function(){var P=D()(s()().mark(function h(f,r,o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,t.v_)("/api/ide/settings/asset/".concat(f,"/").concat(r),o));case 1:case"end":return n.stop()}},h)}));function M(h,f,r){return P.apply(this,arguments)}return M}()}]),_}()},70256:function(T,c,e){e.d(c,{CD:function(){return a},UD:function(){return d},n4:function(){return P},wx:function(){return h}});var g=e(25359),s=e.n(g),u=e(49811),D=e.n(u),b=e(31837),E=e(85002),m=e(57475);function d(r){return t.apply(this,arguments)}function t(){return t=D()(s()().mark(function r(o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:debugger;if(b.j.getModel()!="db"){n.next=5;break}return n.abrupt("return",E.Z.getAssetFromDb("page",o));case 5:return n.next=7,(0,m.U2)("/setting/pages/".concat(o,".json"));case 7:return n.abrupt("return",n.sent.data);case 8:case"end":return n.stop()}},r)})),t.apply(this,arguments)}function a(r){return _.apply(this,arguments)}function _(){return _=D()(s()().mark(function r(o){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(b.j.getModel()!="db"){n.next=4;break}return n.abrupt("return",E.Z.getAssetFromDb("form",o));case 4:return n.next=6,(0,m.U2)("/setting/forms/".concat(o,".json"));case 6:return n.abrupt("return",n.sent.data);case 7:case"end":return n.stop()}},r)})),_.apply(this,arguments)}function P(r,o){return M.apply(this,arguments)}function M(){return M=D()(s()().mark(function r(o,p){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(b.j.getModel()!="db"){l.next=4;break}return l.abrupt("return",E.Z.getAssetFromDb(o,p));case 4:return l.next=6,(0,m.U2)("/setting/".concat(o,"s/").concat(p,".json"));case 6:return l.abrupt("return",l.sent.data);case 7:case"end":return l.stop()}},r)})),M.apply(this,arguments)}function h(r,o,p){return f.apply(this,arguments)}function f(){return f=D()(s()().mark(function r(o,p,n){return s()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(b.j.getModel()!="db"){U.next=2;break}return U.abrupt("return",E.Z.saveAssetToDb(o,p,n));case 2:case"end":return U.stop()}},r)})),f.apply(this,arguments)}},57475:function(T,c,e){e.d(c,{U2:function(){return D},v_:function(){return m}});var g=e(57213),s=e.n(g),u=e(70517);function D(t,a){return u.Z.get(t,d(a))}function b(t,a,_){return axios.put(t,a,d(_))}function E(t,a){return axios.delete(t,d(a))}function m(t,a,_){return u.Z.post(t,a,d(_))}function d(t){var a={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(a.Authorization=localStorage.getItem("token")),s()(s()({},t),{},{headers:s()(s()({},a),t==null?void 0:t.headers)})}},78057:function(){}}]);
