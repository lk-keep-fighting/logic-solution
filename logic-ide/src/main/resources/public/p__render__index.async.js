"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[6313],{44132:function(T,m,e){var g=e(54306),t=e.n(g),r=e(70517),D=e(90010),f=e.n(D),E=e(23620),c=e(2069),d=e(87363),s=e.n(d),a=e(70256),_=e(33358),P=e(49500),M=e(16123),h=e(78057),p=e(69078),u=e(98896),o=e(33130),v=function(l){var U=(0,d.useState)({type:"page"}),B=t()(U,2),W=B[0],j=B[1],I="cxd",L="zh-CN";return(0,d.useEffect)(function(){(0,u.m)(r.Z)},[]),(0,d.useEffect)(function(){l.pageId&&(0,a.UD)(l.pageId).then(function(A){j(A)})},[l.pageId]),(0,o.jsxs)("div",{children:[(0,o.jsx)(c.qR,{theme:I,position:"top-right",locale:L},"toast"),(0,o.jsx)(c.wx,{theme:I,locale:L},"alert"),(0,E.sYA)(W,{data:l.data},{fetcher:function(b){var R=b.url,C=b.method,O=b.data,K=b.responseType,i=b.config,w=b.headers;return i=i||{},i.withCredentials=!0,K&&(i.responseType=K),i.cancelExecutor&&(i.cancelToken=new r.Z.CancelToken(i.cancelExecutor)),i.headers=w||{},i.headers.Authorization||(i.headers.Authorization="Bearer "+p.F.getTokenFormLocal()),C!=="post"&&C!=="put"&&C!=="patch"?(O&&(i.params=O),r.Z[C](R,i)):(O&&O instanceof FormData?(i.headers=i.headers||{},i.headers["Content-Type"]="multipart/form-data"):O&&typeof O!="string"&&!(O instanceof Blob)&&!(O instanceof ArrayBuffer)&&(O=JSON.stringify(O),i.headers=i.headers||{},i.headers["Content-Type"]="application/json"),r.Z[C](R,O,i))},isCancel:function(b){return r.Z.isCancel(b)},copy:function(b){f()(b),c.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:I,jumpTo:function(b,R){debugger;R.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+b,"_blank"):window.location.hash=b}})]})};m.Z=v},98896:function(T,m,e){e.d(m,{m:function(){return f}});var g=e(25359),t=e.n(g),r=e(49811),D=e.n(r);function f(c){return E.apply(this,arguments)}function E(){return E=D()(t()().mark(function c(d){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d.interceptors.response.use(function(_){return console.log("axios response"),console.log(_),_&&_.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),_.data.error||(_.data.error={code:0}),_.data.code==500&&(_.data.error={code:500,message:_.data.msg}),_.data.data&&_.data.data.records&&(_.data.data.items=_.data.data.records),_):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(_.data),Promise.reject(new Error(_.data.message)))},function(_){if(console.log("\u6355\u6349axios error"),console.log(_),_.response&&_.response.data){var P,M=_.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((P=_.response.data.error)===null||P===void 0?void 0:P.code)==0&&(_.response.data.error.code=500),console.log(M),M}return Promise.reject(_)});case 1:case"end":return a.stop()}},c)})),E.apply(this,arguments)}},69078:function(T,m,e){e.d(m,{F:function(){return g}});var g={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(r){return localStorage.setItem("token",r)}}},54848:function(T,m,e){e.r(m);var g=e(54306),t=e.n(g),r=e(87363),D=e.n(r),f=e(33358),E=e(49500),c=e(16123),d=e(70256),s=e(98306),a=e(44132),_=e(33130),P=function(h){var p=(0,r.useState)({type:"page"}),u=t()(p,2),o=u[0],v=u[1],n=(0,s.UO)(),l=n.pageId;return(0,r.useEffect)(function(){l&&(0,d.UD)(l).then(function(U){v(U)})},[l]),(0,_.jsx)(a.Z,{pageId:l,data:h})};m.default=P},85002:function(T,m,e){e.d(m,{Z:function(){return a}});var g=e(25359),t=e.n(g),r=e(49811),D=e.n(r),f=e(21140),E=e.n(f),c=e(63466),d=e.n(c),s=e(57475),a=function(){function _(){E()(this,_)}return d()(_,null,[{key:"getAssetFromDb",value:function(){var P=D()(t()().mark(function h(p,u){var o;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.U2)("/api/ide/settings/asset/".concat(p,"/").concat(u));case 2:return o=n.sent.data,n.abrupt("return",JSON.parse(o.data.config));case 4:case"end":return n.stop()}},h)}));function M(h,p){return P.apply(this,arguments)}return M}()},{key:"saveAssetToDb",value:function(){var P=D()(t()().mark(function h(p,u,o){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.v_)("/api/ide/settings/asset/".concat(p,"/").concat(u),o));case 1:case"end":return n.stop()}},h)}));function M(h,p,u){return P.apply(this,arguments)}return M}()}]),_}()},70256:function(T,m,e){e.d(m,{CD:function(){return a},UD:function(){return d},n4:function(){return P},wx:function(){return h}});var g=e(25359),t=e.n(g),r=e(49811),D=e.n(r),f=e(31837),E=e(85002),c=e(57475);function d(u){return s.apply(this,arguments)}function s(){return s=D()(t()().mark(function u(o){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:debugger;if(f.j.getModel()!="db"){n.next=5;break}return n.abrupt("return",E.Z.getAssetFromDb("page",o));case 5:return n.next=7,(0,c.U2)("/logic/setting/pages/".concat(o,".json"));case 7:return n.abrupt("return",n.sent.data);case 8:case"end":return n.stop()}},u)})),s.apply(this,arguments)}function a(u){return _.apply(this,arguments)}function _(){return _=D()(t()().mark(function u(o){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(f.j.getModel()!="db"){n.next=4;break}return n.abrupt("return",E.Z.getAssetFromDb("form",o));case 4:return n.next=6,(0,c.U2)("/logic/setting/forms/".concat(o,".json"));case 6:return n.abrupt("return",n.sent.data);case 7:case"end":return n.stop()}},u)})),_.apply(this,arguments)}function P(u,o){return M.apply(this,arguments)}function M(){return M=D()(t()().mark(function u(o,v){return t()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(f.j.getModel()!="db"){l.next=4;break}return l.abrupt("return",E.Z.getAssetFromDb(o,v));case 4:return l.next=6,(0,c.U2)("/logic/setting/".concat(o,"s/").concat(v,".json"));case 6:return l.abrupt("return",l.sent.data);case 7:case"end":return l.stop()}},u)})),M.apply(this,arguments)}function h(u,o,v){return p.apply(this,arguments)}function p(){return p=D()(t()().mark(function u(o,v,n){return t()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(f.j.getModel()!="db"){U.next=2;break}return U.abrupt("return",E.Z.saveAssetToDb(o,v,n));case 2:case"end":return U.stop()}},u)})),p.apply(this,arguments)}},57475:function(T,m,e){e.d(m,{U2:function(){return D},gz:function(){return f},v_:function(){return c}});var g=e(57213),t=e.n(g),r=e(70517);function D(s,a){return r.Z.get(s,d(a))}function f(s,a,_){return r.Z.put(s,a,d(_))}function E(s,a){return axios.delete(s,d(a))}function c(s,a,_){return r.Z.post(s,a,d(_))}function d(s){var a={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(a.Authorization="Bearer "+localStorage.getItem("token")),t()(t()({},s),{},{headers:t()(t()({},a),s==null?void 0:s.headers)})}},78057:function(){}}]);
