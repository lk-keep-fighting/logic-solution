"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[6313],{44132:function(U,c,e){var v=e(54306),s=e.n(v),u=e(70517),D=e(90010),P=e.n(D),E=e(23620),l=e(2069),g=e(87363),O=e.n(g),b=e(70256),n=e(33358),f=e(49500),p=e(16123),h=e(78057),i=e(69078),a=e(98896),t=e(33130),d=function(r){var T=(0,g.useState)({type:"page"}),B=s()(T,2),W=B[0],y=B[1],I="cxd",L="zh-CN";return(0,g.useEffect)(function(){(0,a.m)(u.Z)},[]),(0,g.useEffect)(function(){r.pageId&&(0,b.UD)(r.pageId).then(function(A){y(A)})},[r.pageId]),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.qR,{theme:I,position:"top-right",locale:L},"toast"),(0,t.jsx)(l.wx,{theme:I,locale:L},"alert"),(0,E.sYA)(W,{data:r.data},{fetcher:function(m){var R=m.url,C=m.method,M=m.data,K=m.responseType,o=m.config,w=m.headers;return o=o||{},o.withCredentials=!0,K&&(o.responseType=K),o.cancelExecutor&&(o.cancelToken=new u.Z.CancelToken(o.cancelExecutor)),o.headers=w||{},o.headers.Authorization||(o.headers.Authorization="Bearer "+i.F.getTokenFormLocal()),C!=="post"&&C!=="put"&&C!=="patch"?(M&&(o.params=M),u.Z[C](R,o)):(M&&M instanceof FormData?(o.headers=o.headers||{},o.headers["Content-Type"]="multipart/form-data"):M&&typeof M!="string"&&!(M instanceof Blob)&&!(M instanceof ArrayBuffer)&&(M=JSON.stringify(M),o.headers=o.headers||{},o.headers["Content-Type"]="application/json"),u.Z[C](R,M,o))},isCancel:function(m){return u.Z.isCancel(m)},copy:function(m){P()(m),l.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:I,jumpTo:function(m,R){debugger;R.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+m,"_blank"):window.location.hash=m}})]})};c.Z=d},98896:function(U,c,e){e.d(c,{m:function(){return P}});var v=e(25359),s=e.n(v),u=e(49811),D=e.n(u);function P(l){return E.apply(this,arguments)}function E(){return E=D()(s()().mark(function l(g){return s()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:g.interceptors.response.use(function(n){return console.log("axios response"),console.log(n),n&&n.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),n.data.error||(n.data.error={code:0}),n.data.code==500&&(n.data.error={code:500,message:n.data.msg}),n.data.data&&n.data.data.records&&(n.data.data.items=n.data.data.records),n):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(n.data),Promise.reject(new Error(n.data.message)))},function(n){if(console.log("\u6355\u6349axios error"),console.log(n),n.response&&n.response.data){var f,p=n.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((f=n.response.data.error)===null||f===void 0?void 0:f.code)==0&&(n.response.data.error.code=500),console.log(p),p}return Promise.reject(n)});case 1:case"end":return b.stop()}},l)})),E.apply(this,arguments)}},69078:function(U,c,e){e.d(c,{F:function(){return v}});var v={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(u){return localStorage.setItem("token",u)}}},54848:function(U,c,e){e.r(c);var v=e(54306),s=e.n(v),u=e(87363),D=e.n(u),P=e(33358),E=e(49500),l=e(16123),g=e(70256),O=e(98306),b=e(44132),n=e(33130),f=function(h){var i=(0,u.useState)({type:"page"}),a=s()(i,2),t=a[0],d=a[1],_=(0,O.UO)(),r=_.pageId;return(0,u.useEffect)(function(){r&&(0,g.UD)(r).then(function(T){d(T)})},[r]),(0,n.jsx)(b.Z,{pageId:r,data:h})};c.default=f},85002:function(U,c,e){e.d(c,{Z:function(){return b}});var v=e(25359),s=e.n(v),u=e(49811),D=e.n(u),P=e(21140),E=e.n(P),l=e(63466),g=e.n(l),O=e(70517),b=function(){function n(){E()(this,n)}return g()(n,null,[{key:"getAssetFromDb",value:function(){var f=D()(s()().mark(function h(i,a){var t;return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,O.Z.get("/api/ide/settings/asset/".concat(i,"/").concat(a));case 2:return t=_.sent.data,_.abrupt("return",JSON.parse(t.data.config));case 4:case"end":return _.stop()}},h)}));function p(h,i){return f.apply(this,arguments)}return p}()},{key:"saveAssetToDb",value:function(){var f=D()(s()().mark(function h(i,a,t){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",O.Z.post("/api/ide/settings/asset/".concat(i,"/").concat(a),t));case 1:case"end":return _.stop()}},h)}));function p(h,i,a){return f.apply(this,arguments)}return p}()}]),n}()},70256:function(U,c,e){e.d(c,{CD:function(){return b},UD:function(){return g},n4:function(){return f},wx:function(){return h}});var v=e(25359),s=e.n(v),u=e(49811),D=e.n(u),P=e(31837),E=e(70517),l=e(85002);function g(a){return O.apply(this,arguments)}function O(){return O=D()(s()().mark(function a(t){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:debugger;if(P.j.getModel()!="db"){_.next=5;break}return _.abrupt("return",l.Z.getAssetFromDb("page",t));case 5:return _.next=7,E.Z.get("/setting/pages/".concat(t,".json"));case 7:return _.abrupt("return",_.sent.data);case 8:case"end":return _.stop()}},a)})),O.apply(this,arguments)}function b(a){return n.apply(this,arguments)}function n(){return n=D()(s()().mark(function a(t){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(P.j.getModel()!="db"){_.next=4;break}return _.abrupt("return",l.Z.getAssetFromDb("form",t));case 4:return _.next=6,E.Z.get("/setting/forms/".concat(t,".json"));case 6:return _.abrupt("return",_.sent.data);case 7:case"end":return _.stop()}},a)})),n.apply(this,arguments)}function f(a,t){return p.apply(this,arguments)}function p(){return p=D()(s()().mark(function a(t,d){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(P.j.getModel()!="db"){r.next=4;break}return r.abrupt("return",l.Z.getAssetFromDb(t,d));case 4:return r.next=6,E.Z.get("/setting/".concat(t,"s/").concat(d,".json"));case 6:return r.abrupt("return",r.sent.data);case 7:case"end":return r.stop()}},a)})),p.apply(this,arguments)}function h(a,t,d){return i.apply(this,arguments)}function i(){return i=D()(s()().mark(function a(t,d,_){return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(P.j.getModel()!="db"){T.next=2;break}return T.abrupt("return",l.Z.saveAssetToDb(t,d,_));case 2:case"end":return T.stop()}},a)})),i.apply(this,arguments)}},78057:function(){}}]);
