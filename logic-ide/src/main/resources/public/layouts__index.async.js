"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[1717],{57451:function(_e,G,n){n.r(G),n.d(G,{default:function(){return Je}});var Q=n(54306),v=n.n(Q),O=n(98306),Z={navs:"navs___X754f"},S=n(23360),I=n(27183),R=n(61224),J=n(36559),L=n(44561),w=t=>{const e=t!=null&&t.algorithm?(0,I.jG)(t.algorithm):(0,I.jG)(R.Z),o=Object.assign(Object.assign({},J.Z),t==null?void 0:t.token);return(0,I.t2)(o,{override:t==null?void 0:t.token},e,L.Z)},T=n(38793),C=n(66911),E=n(99338);function U(t){const{sizeUnit:e,sizeStep:o}=t,s=o-2;return{sizeXXL:e*(s+10),sizeXL:e*(s+6),sizeLG:e*(s+2),sizeMD:e*(s+2),sizeMS:e*(s+1),size:e*s,sizeSM:e*s,sizeXS:e*(s-1),sizeXXS:e*(s-1)}}var c=n(53798),xe=(t,e)=>{const o=e!=null?e:(0,R.Z)(t),s=o.fontSizeSM,r=o.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),U(e!=null?e:t)),(0,c.Z)(s)),{controlHeight:r}),(0,E.Z)(Object.assign(Object.assign({},o),{controlHeight:r})))},se=n(81548),Se=n(26097),re=n(99978);const x=(t,e)=>new re.C(t).setAlpha(e).toRgbString(),B=(t,e)=>new re.C(t).lighten(e).toHexString(),Ce=t=>{const e=(0,se.R_)(t,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},Ee=(t,e)=>{const o=t||"#000",s=e||"#fff";return{colorBgBase:o,colorTextBase:s,colorText:x(s,.85),colorTextSecondary:x(s,.65),colorTextTertiary:x(s,.45),colorTextQuaternary:x(s,.25),colorFill:x(s,.18),colorFillSecondary:x(s,.12),colorFillTertiary:x(s,.08),colorFillQuaternary:x(s,.04),colorBgElevated:B(o,12),colorBgContainer:B(o,8),colorBgLayout:B(o,0),colorBgSpotlight:B(o,26),colorBgBlur:x(s,.04),colorBorder:B(o,26),colorBorderSecondary:B(o,19)}};var ye=(t,e)=>{const o=Object.keys(J.M).map(r=>{const i=(0,se.R_)(t[r],{theme:"dark"});return new Array(10).fill(1).reduce((d,D,h)=>(d[`${r}-${h+1}`]=i[h],d[`${r}${h+1}`]=i[h],d),{})}).reduce((r,i)=>(r=Object.assign(Object.assign({},r),i),r),{}),s=e!=null?e:(0,R.Z)(t);return Object.assign(Object.assign(Object.assign({},s),o),(0,Se.Z)(t,{generateColorPalettes:Ce,generateNeutralColorPalettes:Ee}))};function je(){const[t,e,o]=(0,T.Z)();return{theme:t,token:e,hashId:o}}var Oe={defaultConfig:C.u_,defaultSeed:C.u_.token,useToken:je,defaultAlgorithm:R.Z,darkAlgorithm:ye,compactAlgorithm:xe,getDesignToken:w},Te=n(30696),y=n(87363),l=n.n(y),Ae=n(84875),ae=n.n(Ae),le=n(92291),De=n(35822),Pe=n(59816),ie=n(4447);function be(t){let e;const o=r=>()=>{e=null,t.apply(void 0,(0,Pe.Z)(r))},s=function(){if(e==null){for(var r=arguments.length,i=new Array(r),d=0;d<r;d++)i[d]=arguments[d];e=(0,ie.Z)(o(i))}};return s.cancel=()=>{ie.Z.cancel(e),e=null},s}var ue=be,ce=n(88596),Re=n(79987),Be=n(48826);const ze=t=>{const{componentCls:e}=t;return{[e]:{position:"fixed",zIndex:t.zIndexPopup}}};var Me=(0,Re.Z)("Affix",t=>{const e=(0,Be.TS)(t,{zIndexPopup:t.zIndexBase+10});return[ze(e)]});function X(t){return t!==window?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function de(t,e,o){if(o!==void 0&&e.top>t.top-o)return o+e.top}function fe(t,e,o){if(o!==void 0&&e.bottom<t.bottom+o){const s=window.innerHeight-e.bottom;return o+s}}const ge=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Ze(){return typeof window!="undefined"?window:null}var z;(function(t){t[t.None=0]="None",t[t.Prepare=1]="Prepare"})(z||(z={}));const Ie=l().forwardRef((t,e)=>{var o;const{style:s,offsetTop:r,offsetBottom:i,affixPrefixCls:d,rootClassName:D,children:h,target:j,onChange:F}=t,[N,V]=l().useState(!1),[m,Y]=l().useState(),[q,ee]=l().useState(),M=l().useRef(z.None),H=l().useRef(null),P=l().useRef(),b=l().useRef(null),te=l().useRef(null),p=l().useRef(null),{getTargetContainer:ne}=l().useContext(ce.E_),_=(o=j!=null?j:ne)!==null&&o!==void 0?o:Ze,ve=i===void 0&&r===void 0?0:r,Xe=()=>{if(M.current!==z.Prepare||!te.current||!b.current||!_)return;const f=_();if(f){const u={status:z.None},a=X(b.current);if(a.top===0&&a.left===0&&a.width===0&&a.height===0)return;const K=X(f),$=de(a,K,ve),pe=fe(a,K,i);$!==void 0?(u.affixStyle={position:"fixed",top:$,width:a.width,height:a.height},u.placeholderStyle={width:a.width,height:a.height}):pe!==void 0&&(u.affixStyle={position:"fixed",bottom:pe,width:a.width,height:a.height},u.placeholderStyle={width:a.width,height:a.height}),u.lastAffix=!!u.affixStyle,N!==u.lastAffix&&(F==null||F(u.lastAffix)),M.current=u.status,Y(u.affixStyle),ee(u.placeholderStyle),V(u.lastAffix)}},me=()=>{var f;M.current=z.Prepare,Xe()},W=ue(()=>{me()}),k=ue(()=>{if(_&&m){const f=_();if(f&&b.current){const u=X(f),a=X(b.current),K=de(a,u,ve),$=fe(a,u,i);if(K!==void 0&&m.top===K||$!==void 0&&m.bottom===$)return}}me()}),he=()=>{const f=_==null?void 0:_();ge.forEach(u=>{var a;P.current&&((a=H.current)===null||a===void 0||a.removeEventListener(u,P.current)),f==null||f.addEventListener(u,k)}),H.current=f,P.current=k},ke=()=>{p.current&&(clearTimeout(p.current),p.current=null);const f=_==null?void 0:_();ge.forEach(u=>{var a;f==null||f.removeEventListener(u,k),P.current&&((a=H.current)===null||a===void 0||a.removeEventListener(u,P.current))}),W.cancel(),k.cancel()};l().useImperativeHandle(e,()=>({updatePosition:W})),l().useEffect(()=>(p.current=setTimeout(he),()=>ke()),[]),l().useEffect(()=>{he()},[j,m]),l().useEffect(()=>{W()},[j,r,i]);const Qe=ae()({[d]:m,[D]:m&&D});let Ve=(0,De.Z)(t,["prefixCls","offsetTop","offsetBottom","target","onChange","affixPrefixCls","rootClassName"]);return l().createElement(le.Z,{onResize:W},l().createElement("div",Object.assign({style:s,ref:b},Ve),m&&l().createElement("div",{style:q,"aria-hidden":"true"}),l().createElement("div",{className:Qe,ref:te,style:m},l().createElement(le.Z,{onResize:W},h))))});var Le=l().forwardRef((t,e)=>{const{prefixCls:o,rootClassName:s}=t,{getPrefixCls:r}=l().useContext(ce.E_),i=r("affix",o),[d,D]=Me(i),h=Object.assign(Object.assign({},t),{affixPrefixCls:i,rootClassName:ae()(s,D)});return d(l().createElement(Ie,Object.assign({},h,{ref:e})))}),we=n(56159),Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},Fe=Ue,Ne=n(92335),He=function(e,o){return y.createElement(Ne.Z,(0,we.Z)({},e,{ref:o,icon:Fe}))},We=y.forwardRef(He),Ke=n(38510),g=n(33130),$e=S.Z.Content,Ge=S.Z.Header,et=S.Z.Sider,tt=S.Z.Footer;function nt(t,e,o,s){var r,i;return((r=e)===null||r===void 0?void 0:r.toString().length)>1?t=_jsx(Link,{to:e.toString(),children:t}):e=(i=t)===null||i===void 0?void 0:i.toString(),{key:e,icon:o,children:s,label:t}}function Je(t){var e=(0,y.useState)(!1),o=v()(e,2),s=o[0],r=o[1],i=(0,y.useState)([]),d=v()(i,2),D=d[0],h=d[1],j=(0,O.UO)(),F=j.pageId,N=j.appId,V=(0,y.useState)("x"),m=v()(V,2),Y=m[0],q=m[1],ee=(0,y.useState)(null),M=v()(ee,2),H=M[0],P=M[1];(0,y.useEffect)(function(){new Ke.Z().getAppJson(N).then(function(p){h(p.menus),q(p.title)})},[N]);var b=Oe.useToken(),te=b.token.colorBgContainer;return(0,g.jsx)("div",{className:Z.navs,children:(0,g.jsxs)(S.Z,{style:{minHeight:"100vh"},children:[(0,g.jsxs)(Ge,{title:"\u4E1A\u52A1\u7F16\u6392\u5DE5\u5177",style:{position:"sticky",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center"},children:[(0,g.jsx)("img",{style:{marginRight:"20px",width:"30px",height:"30px"},src:"/logo.png"}),(0,g.jsx)("div",{style:{color:"ButtonFace",fontSize:"18px",fontFamily:"\u9ED1\u4F53",fontWeight:"bolder",cursor:"pointer"},onClick:function(){O.m8.push("/")},children:Y}),(0,g.jsx)(Te.Z,{mode:"horizontal",theme:"dark",defaultSelectedKeys:["1"],items:D,style:{marginLeft:"100px",color:"whitesmoke",fontSize:"16px",fontFamily:"\u9ED1\u4F53"},onClick:function(ne){debugger;O.m8.push("/app/".concat(N,"/").concat(ne.key))}})]}),(0,g.jsx)(S.Z,{children:(0,g.jsxs)($e,{style:{margin:"10px 16px"},ref:P,children:[(0,g.jsx)(O.j3,{}),(0,g.jsx)(Le,{offsetBottom:2,target:function(){return H},style:{position:"absolute",right:16},children:(0,g.jsx)(O.rU,{to:"/set/design/page/".concat(F),target:"_blank",children:(0,g.jsx)(We,{})})})]})})]})})}},38510:function(_e,G,n){n.d(G,{Z:function(){return oe}});var Q=n(25359),v=n.n(Q),O=n(49811),Z=n.n(O),S=n(21140),I=n.n(S),R=n(63466),J=n.n(R),L=n(70517),oe=function(){function w(){I()(this,w)}return J()(w,[{key:"initApp",value:function(){var T=Z()(v()().mark(function E(){return v()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L.Z.get("/setting/app.json");case 2:return c.abrupt("return",c.sent.data);case 3:case"end":return c.stop()}},E)}));function C(){return T.apply(this,arguments)}return C}()},{key:"getAppJson",value:function(){var T=Z()(v()().mark(function E(U){return v()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,L.Z.get("/setting/apps/".concat(U,".json"));case 2:return A.abrupt("return",A.sent.data);case 3:case"end":return A.stop()}},E)}));function C(E){return T.apply(this,arguments)}return C}()},{key:"getIndexJson",value:function(){var T=Z()(v()().mark(function E(){return v()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L.Z.get("/setting/apps/index.json");case 2:return c.abrupt("return",c.sent.data);case 3:case"end":return c.stop()}},E)}));function C(){return T.apply(this,arguments)}return C}()}]),w}()}}]);
