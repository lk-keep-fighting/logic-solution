(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[7773],{77773:function(A,O,c){"use strict";c.r(O),c.d(O,{CheckboxesControlRenderer:function(){return J},default:function(){return F}});var t=c(15767),v=c(87363),r=c.n(v),y=c(29504),_=c.n(y),i=c(42977),C=c(94391),Z=c(45581),j=c(66292),K=c.n(j),F=function(g){(0,t.ZT)(a,g);function a(){var e=g!==null&&g.apply(this,arguments)||this;return e.checkboxRef=r().createRef(),e.childRefs=[],e}return a.prototype.doAction=function(e,n,s){var d,l,o=this.props,h=o.resetValue,f=o.onChange,p=o.formStore,b=o.store,x=o.name,E=e==null?void 0:e.actionType;if(E==="clear")f("");else if(E==="reset"){var k=(l=(0,i.E04)((d=p==null?void 0:p.pristine)!==null&&d!==void 0?d:b==null?void 0:b.pristine,x))!==null&&l!==void 0?l:h;f(k!=null?k:"")}},a.prototype.reload=function(e,n){var s=this.props.reloadOptions;s&&s(e,n)},a.prototype.handleAddClick=function(){var e=this.props.onAdd;e&&e()},a.prototype.handleEditClick=function(e,n){var s=this.props.onEdit;e.preventDefault(),e.stopPropagation(),s&&s(n)},a.prototype.handleDeleteClick=function(e,n){var s=this.props.onDelete;e.preventDefault(),e.stopPropagation(),s&&s(n)},a.prototype.componentDidMount=function(){this.updateBorderStyle();var e=K()(this.updateBorderStyle,100);this.checkboxRef.current&&(this.checkboxRefObserver=new ResizeObserver(e),this.checkboxRefObserver.observe(this.checkboxRef.current))},a.prototype.componentWillUnmount=function(){var e;(e=this.checkboxRefObserver)===null||e===void 0||e.disconnect()},a.prototype.updateBorderStyle=function(){if(this.props.optionType==="button"&&this.childRefs.length){var e=this.childRefs.map(function(p){return p==null?void 0:p.ref}),n=e[0].labelRef.current.offsetTop,s=[],d=e.length;s[0]="first";for(var l=0,o=1;o<d;o++){var h=e[o],f=h.labelRef.current.offsetTop;s[o]="",f!==n&&(s[o]="first",s[o-1]+=" last",l=o,n=f)}s[d-1]+=" last",s.forEach(function(p,b){b>=l&&(p+=" last-line"),e[b].setClassName(p)})}},a.prototype.renderGroup=function(e,n){var s=this,d,l=this.props,o=l.classnames,h=l.labelField;if(!(!((d=e.children)===null||d===void 0)&&d.length))return null;var f=e.children.map(function(b,x){return s.renderItem(b,x)}),p=this.columnsSplit(f);return r().createElement("div",{key:"group-"+n,className:o("CheckboxesControl-group",e.className)},r().createElement("label",{className:o("CheckboxesControl-groupLabel",e.labelClassName)},e[h||"label"]),p)},a.prototype.addChildRefs=function(e){e&&this.childRefs.push(e)},a.prototype.renderItem=function(e,n){var s=this,d;if(!((d=e.children)===null||d===void 0)&&d.length)return this.renderGroup(e,n);var l=this.props,o=l.render,h=l.itemClassName,f=l.onToggle,p=l.selectedOptions,b=l.disabled,x=l.inline,E=l.labelClassName,k=l.labelField,R=l.removable,T=l.editable,P=l.translate,I=l.optionType,B=l.menuTpl,S=l.data,D=l.testIdBuilder,N=String(e[k||"label"]),L=e.labelClassName,w=D==null?void 0:D.getChild("item-"+N||0);return r().createElement(C.XZJ,{className:h,key:n,onChange:function(){return f(e)},checked:!!~p.indexOf(e),disabled:b||e.disabled,inline:x,labelClassName:L||E,description:e.description,optionType:I,testIdBuilder:w,ref:this.addChildRefs},B?o("checkboxes/".concat(n),B,{data:(0,i.nW9)(S,e)}):N,R&&(0,i.rIu)(e,"removable")?r().createElement("a",{"data-tooltip":P("Select.clear"),"data-position":"left"},r().createElement(C.JO$,{icon:"minus",className:"icon",onClick:function(M){return s.handleDeleteClick(M,e)}})):null,T&&(0,i.rIu)(e,"editable")?r().createElement("a",{"data-tooltip":"\u7F16\u8F91","data-position":"left"},r().createElement(C.JO$,{icon:"pencil",className:"icon",onClick:function(M){return s.handleEditClick(M,e)}})):null)},a.prototype.columnsSplit=function(e){var n=this.props,s=n.columnsCount,d=n.classnames,l=[],o=[];return e.forEach(function(h){h&&h.key&&String(h.key).startsWith("group")?(o.length&&(l.push((0,i.UOr)(o,d,s)),o=[]),l.push(h)):o.push(h)}),o.length&&l.push((0,i.UOr)(o,d,s)),l},a.prototype.render=function(){var e=this,n=this.props,s=n.className,d=n.style,l=n.disabled,o=n.placeholder,h=n.options,f=n.inline,p=n.columnsCount,b=n.selectedOptions,x=n.onToggle,E=n.onToggleAll,k=n.checkAll,R=n.checkAllText,T=n.classnames,P=n.itemClassName,I=n.labelClassName,B=n.creatable,S=n.addApi,D=n.createBtnLabel,N=n.translate,L=n.optionType,w=n.loading,M=n.loadingConfig,$=n.themeCss,W=n.id,z=n.env,u=n.classPrefix,m=[];h&&h.length&&(m=h.map(function(G,X){return e.renderItem(G,X)})),k&&m.length&&L==="default"&&m.unshift(r().createElement(C.XZJ,{key:"checkall",className:P,onChange:E,checked:!!b.length,partial:_()(b.length,0,(0,i.OOX)(h).length),disabled:l,inline:f,labelClassName:I},R!=null?R:N("Checkboxes.selectAll"))),m=this.columnsSplit(m);var U=(0,i.ZBW)($,"checkboxes");return r().createElement("div",{className:T("CheckboxesControl",s,(0,i.GwQ)((0,t.pi)((0,t.pi)({},this.props),{name:["checkboxesControlClassName","checkboxesControlCheckedClassName","checkboxesClassName","checkboxesCheckedClassName","checkboxesInnerClassName","checkboxesShowClassName"],id:W,themeCss:U}))),ref:this.checkboxRef},m&&m.length?m:w?null:r().createElement("span",{className:"Form-placeholder"},N(o)),w?r().createElement(C.$jN,{show:!0,icon:"reload",size:"sm",spinnerClassName:T("Checkboxes-spinner"),loadingConfig:M}):null,(B||S)&&!l?r().createElement("a",{className:T("Checkboxes-addBtn"),onClick:this.handleAddClick},r().createElement(C.JO$,{icon:"plus",className:"icon"}),N(D)):null,r().createElement(i.cWM,(0,t.pi)({},this.props,{config:{themeCss:U,classNames:[{key:"checkboxesControlClassName",weights:{default:{inner:".".concat(u,"Checkbox:not(.checked):not(.disabled)")},hover:{suf:" .".concat(u,"Checkbox:not(.disabled):not(.checked)")},disabled:{inner:".".concat(u,"Checkbox.disabled:not(.checked)")}}},{key:"checkboxesControlCheckedClassName",weights:{default:{inner:".".concat(u,"Checkbox.checked:not(.disabled)")},hover:{suf:" .".concat(u,"Checkbox.checked:not(.disabled)")},disabled:{inner:".".concat(u,"Checkbox.checked.disabled")}}},{key:"checkboxesClassName",weights:{default:{inner:".".concat(u,"Checkbox:not(.checked):not(.disabled) > i")},hover:{suf:" .".concat(u,"Checkbox:not(.disabled):not(.checked)"),inner:"> i"},disabled:{inner:".".concat(u,"Checkbox.disabled:not(.checked) > i")}}},{key:"checkboxesCheckedClassName",weights:{default:{inner:".".concat(u,"Checkbox:not(.disabled) > i")},hover:{suf:" .".concat(u,"Checkbox:not(.disabled)"),inner:"> i"},disabled:{inner:".".concat(u,"Checkbox.disabled > i")}}},{key:"checkboxesInnerClassName",weights:{default:{inner:".".concat(u,"Checkbox:not(.disabled) > i .icon")},hover:{suf:" .".concat(u,"Checkbox:not(.disabled)"),inner:"> i .icon"},disabled:{inner:".".concat(u,"Checkbox.disabled > i .icon")}}},{key:"checkboxesShowClassName",weights:{default:{inner:".".concat(u,"Checkbox > i")}}}],id:W},env:z})))},a.defaultProps={columnsCount:1,multiple:!0,placeholder:"placeholder.noOption",creatable:!1,inline:!0,createBtnLabel:"Select.createLabel",optionType:"default"},(0,t.gn)([i.NjZ,(0,t.w6)("design:type",Function),(0,t.w6)("design:paramtypes",[]),(0,t.w6)("design:returntype",void 0)],a.prototype,"handleAddClick",null),(0,t.gn)([i.NjZ,(0,t.w6)("design:type",Function),(0,t.w6)("design:paramtypes",[Event,Object]),(0,t.w6)("design:returntype",void 0)],a.prototype,"handleEditClick",null),(0,t.gn)([i.NjZ,(0,t.w6)("design:type",Function),(0,t.w6)("design:paramtypes",[Event,Object]),(0,t.w6)("design:returntype",void 0)],a.prototype,"handleDeleteClick",null),(0,t.gn)([i.NjZ,(0,t.w6)("design:type",Function),(0,t.w6)("design:paramtypes",[]),(0,t.w6)("design:returntype",void 0)],a.prototype,"updateBorderStyle",null),(0,t.gn)([i.NjZ,(0,t.w6)("design:type",Function),(0,t.w6)("design:paramtypes",[Object]),(0,t.w6)("design:returntype",void 0)],a.prototype,"addChildRefs",null),(0,t.gn)([(0,Z.i)(),(0,t.w6)("design:type",Function),(0,t.w6)("design:paramtypes",[]),(0,t.w6)("design:returntype",void 0)],a.prototype,"render",null),a}(r().Component),J=function(g){(0,t.ZT)(a,g);function a(){return g!==null&&g.apply(this,arguments)||this}return a=(0,t.gn)([(0,i.oZB)({type:"checkboxes",sizeMutable:!1,thin:!0})],a),a}(F)},57964:function(A){var O=Math.max,c=Math.min;function t(v,r,y){return v>=c(r,y)&&v<O(r,y)}A.exports=t},29504:function(A,O,c){var t=c(57964),v=c(70986),r=c(12448);function y(_,i,C){return i=v(i),C===void 0?(C=i,i=0):C=v(C),_=r(_),t(_,i,C)}A.exports=y}}]);
