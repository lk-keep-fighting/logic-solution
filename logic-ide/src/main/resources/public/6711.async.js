"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[6711],{96711:function(E,g,l){l.r(g),l.d(g,{ConditionBuilderRenderer:function(){return O},default:function(){return y}});var n=l(15767),m=l(87363),c=l.n(m),a=l(42977),b=l(94391),y=function(o){(0,n.ZT)(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.renderEtrValue=function(e,t){return this.props.render("inline",Object.assign({},e,{label:!1,inputOnly:!0,changeImmediately:!0}),t)},r.prototype.renderPickerIcon=function(){var e=this.props,t=e.render,i=e.pickerIcon;return i?t("picker-icon",i):void 0},r.prototype.getAddBtnVisible=function(e){var t=this.props,i=t.data,d=t.addBtnVisibleOn;return typeof d=="string"&&d?(0,a.fz_)(d,(0,a.nW9)(i,e)):!0},r.prototype.getAddGroupBtnVisible=function(e){var t=this.props,i=t.data,d=t.addGroupBtnVisibleOn;return typeof d=="string"&&d?(0,a.fz_)(d,(0,a.nW9)(i,e)):!0},r.prototype.validate=function(){var e,t=this.props,i=t.value,d=t.required,f=t.translate;if(d){if(!i||!i.children)return f("Condition.isRequired");var s=!0,u=["is_empty","is_not_empty"];return(e=i==null?void 0:i.children)===null||e===void 0||e.forEach(function(v){if(v.op&&(v.right||~u.indexOf(v.op))){s=!1;return}}),s?f("Condition.isRequired"):null}},r.prototype.render=function(){var e=this.props,t=e.className,i=e.classnames,d=e.style,f=e.pickerIcon,s=e.env,u=e.popOverContainer,v=e.mobileUI,C=(0,n._T)(e,["className","classnames","style","pickerIcon","env","popOverContainer","mobileUI"]),p=this.props.formula?(0,n.pi)({},this.props.formula):void 0;return p&&p.variables&&(0,a.SSQ)(p.variables)&&(p.variables=(0,a.OgC)(p.variables,this.props.data,"| raw")),c().createElement("div",{className:i("ConditionBuilderControl",{"is-mobile":v},t)},c().createElement(h,(0,n.pi)({renderEtrValue:this.renderEtrValue,pickerIcon:this.renderPickerIcon(),isAddBtnVisibleOn:this.getAddBtnVisible,isAddGroupBtnVisibleOn:this.getAddGroupBtnVisible,popOverContainer:u||s.getModalContainer},C,{formula:p})))},(0,n.gn)([a.NjZ,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Object,Object]),(0,n.w6)("design:returntype",void 0)],r.prototype,"renderEtrValue",null),(0,n.gn)([a.NjZ,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Object]),(0,n.w6)("design:returntype",void 0)],r.prototype,"getAddBtnVisible",null),(0,n.gn)([a.NjZ,(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[Object]),(0,n.w6)("design:returntype",void 0)],r.prototype,"getAddGroupBtnVisible",null),r}(c().PureComponent),h=(0,b.it4)({adaptor:function(o){return o.fields||o}})(function(o){(0,n.ZT)(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.render=function(){var e=this.props,t=e.loading,i=e.config,d=e.deferLoad,f=e.disabled,s=e.renderEtrValue,u=(0,n._T)(e,["loading","config","deferLoad","disabled","renderEtrValue"]);return c().createElement(b.IjF,(0,n.pi)({},u,{fields:i||u.fields||[],disabled:f||t,renderEtrValue:s}))},r}(c().Component)),O=function(o){(0,n.ZT)(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r=(0,n.gn)([(0,a.xJW)({type:"condition-builder",strictMode:!1})],r),r}(y)}}]);
