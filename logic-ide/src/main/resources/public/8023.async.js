"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[8023],{93797:function(ue,U,e){e.d(U,{E:function(){return ee},Z:function(){return ge}});var B=e(93525),s=e.n(B),L=e(54306),f=e.n(L),b=e(63466),A=e(21140),V=e(52510),_=e(87363),p=e.n(_),T=e(5671),d=e(9722),K=e(17696),k=e(19227),ne=e(75476),Y=e(1167),z=e(22046),x=e(22150),P=e(11250),F=e(89357),g=e(83217),r=e(23360),c=e(27522),i=e(54145),h=e(34957),l=e(33130);function Q(W){return(0,l.jsxs)("div",{style:{margin:0,height:"95vh",overflowY:"scroll"},children:[(0,l.jsx)(h.Z,{isStatic:W.isStatic,editNode:W.editNode,jsTipMap:W.jsTipMap,onSubmit:W.onSubmit}),W!=null&&W.isCollapsed?"":(0,l.jsx)(i.ZP,{type:"text",style:{position:"absolute",top:10,right:15,fontSize:20,textAlign:"center"},onClick:function(){W==null||W.onClose()},children:"x"})]})}var ae=Q,O=e(9976),o=e(12490),R=function(t,v){var $,q,G,de,le=v.getData(),oe=v.getPosition(),ce=t.getNodes(),J;if(["ExtSharp","polygon"].indexOf(v.shape)>-1&&le!=null&&le.config&&le.config.type)switch(le.config.type){case"switch":var me=200,re=t.addNode({shape:"switch",position:oe,width:me,height:50,ports:o.Tt,data:v.data,attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}});t.removeNode(v);var u=t.addNode({shape:"switch-case",position:{y:oe.y+100,x:oe.x-me/2},width:120,height:50,ports:o.Tt,data:{config:{type:"switch-case"}}}),m=t.addNode({shape:"switch-default",position:{y:oe.y+100,x:oe.x+me},width:120,height:50,ports:o.Tt,data:{config:{type:"switch-default"}}}),S=t.addEdge({source:re,sourcePort:($=re.ports.items.find(function(j){return j.group=="bottom"}))===null||$===void 0?void 0:$.id,target:u,targetPort:(q=u.ports.items.find(function(j){return j.group=="top"}))===null||q===void 0?void 0:q.id,zIndex:0}),w=t.addEdge({source:re,sourcePort:(G=re.ports.items.find(function(j){return j.group=="bottom"}))===null||G===void 0?void 0:G.id,target:m,targetPort:(de=m.ports.items.find(function(j){return j.group=="top"}))===null||de===void 0?void 0:de.id,zIndex:0});J=re;break;case"switch-case":var C=t.createNode({shape:"switch-case",position:v.position(),width:120,height:50,ports:o.Tt,data:v.data});t.removeNode(v),t.addNode(C),J=C;break;case"switch-cases":var ie=t.createNode({shape:"switch-cases",position:v.position(),width:120,height:50,ports:o.Tt,data:v.data});t.removeNode(v),t.addNode(ie),J=ie;break;case"string":var D=t.createNode({shape:"string",position:v.position(),width:100,height:50,ports:o.Tt,data:v.data});t.removeNode(v),t.addNode(D),J=D;break;case"num":var pe=t.createNode({shape:"num",position:v.position(),width:100,height:50,ports:o.Tt,data:v.data});t.removeNode(v),t.addNode(pe),J=pe;break;case"assignment":var Se=t.createNode({shape:"assignment",position:v.position(),width:220,height:50,ports:o.Tt,data:v.data});t.removeNode(v),t.addNode(Se),J=Se;break;default:break}if(["\u5DE5\u5E8F\u7EC4"].indexOf(v.getAttrByPath("text/text"))>-1&&(v.zIndex=-1),console.log("node:added"),J&&ce.length==1){var he,se,ye,be,_e;t.addEdge({source:ce[0],sourcePort:(he=ce[0].ports.items.find(function(j){return j.group=="bottom"}))===null||he===void 0?void 0:he.id,target:J,targetPort:(se=J)===null||se===void 0||(ye=se.ports)===null||ye===void 0||(be=ye.items)===null||be===void 0||(_e=be.find(function(j){return j.group=="top"}))===null||_e===void 0?void 0:_e.id,zIndex:0})}},N=e(71731),Z=null,ee=p().createContext({}),X=function(t,v){for(var $=0,q=t.length;$<q;$+=1)t[$].style.visibility=v?"visible":"hidden"},ve=function(t){var v,$,q,G=(0,_.useState)(),de=f()(G,2),le=de[0],oe=de[1],ce=(0,_.useState)(!t.showLeft),J=f()(ce,2),me=J[0],re=J[1],u=(0,_.useState)(!t.showRight),m=f()(u,2),S=m[0],w=m[1],C=(0,_.useState)(t.panelData),ie=f()(C,2),D=ie[0],pe=ie[1],Se=(0,_.useState)(),he=f()(Se,2),se=he[0],ye=he[1],be=(0,_.useState)(),_e=f()(be,2),j=_e[0],Ce=_e[1],Pe=(0,_.useState)(),Ee=f()(Pe,2),je=Ee[0],Ae=Ee[1],Oe=(0,_.useState)(t.graphIns),De=f()(Oe,2),fe=De[0],we=De[1],Me=(0,_.useState)(),Te=f()(Me,2),Ue=Te[0],Re=Te[1];(0,_.useEffect)(function(){try{var M;if((M=t.panelData)!==null&&M!==void 0&&M.Shapes){var n;(n=t.panelData)===null||n===void 0||n.Shapes.forEach(function(a){console.log("\u56FE\u5185\u90E8\u6CE8\u518C\u65B0\u8282\u70B9:"+a.name),T.kJ.registerNode(a.name,a.config,!0)})}}catch(a){console.error("\u6CE8\u518C\u8282\u70B9\u51FA\u9519\uFF1A"),console.error(a)}},[(v=t.panelData)===null||v===void 0?void 0:v.Shapes]),(0,_.useEffect)(function(){fe&&(fe.options.connecting.createEdge=t.createEdge)},[t.createEdge]),(0,_.useEffect)(function(){j&&Ne(j)},[j]),(0,_.useEffect)(function(){if(fe&&t.graphJson)try{fe.fromJSON(t.graphJson),fe.centerContent()}catch(M){g.ZP.error("\u56FE\u6570\u636E\u6709\u8BEF\uFF0C\u5DF2\u5FFD\u7565"),console.error(M),console.log(t.graphJson)}},[t.graphJson]),(0,_.useEffect)(function(){re(!(t!=null&&t.showLeft))},[t.showLeft]);function Ne(M){if(console.log("initGraph"),!!M){var n=t.graphIns;return n||(n=new T.kJ({container:M,embedding:{enabled:!0,findParent:function(y){var E=y.node,I=E.getBBox();return this.getNodes().filter(function(H){var te=H.getData();if(te&&te.parent){var xe=H.getBBox();return I.isIntersectWithRect(xe)}return!1})}},mousewheel:{enabled:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:15}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,allowMulti:!0,snap:{radius:20},createEdge:t.createEdge,validateConnection:function(y){var E=y.targetMagnet;return!!E}},background:{color:"#fff"},grid:!0})),n.use(new Y.H({enabled:!0,sharp:!0})).use(new K.A({enabled:!0})).use(new ne.Y({enabled:!0,multiple:!0,strict:!0,rubberband:!0,movable:!0,showNodeSelectionBox:!0,pointerEvents:"none"})).use(new x.T({enabled:!0})).use(new k.N).use(new d.T({enabled:!0})).use(new P.D).use(new N.w({resizing:{enabled:!0,minWidth:50,maxWidth:0,minHeight:50,maxHeight:0,orthogonal:!1,restrict:!1,preserveAspectRatio:!1}})).use(new F.a({container:je})),n.on("edge:dblclick",function(a){var y=a.cell}),n.on("edge:change:router",function(a){console.log("edge:change:router")}),n.on("edge:mouseenter",function(a){var y=a.cell;t.edgeTools&&t.edgeTools.forEach(function(E){switch(E){case"edge-editor":break;case"button-remove":y.addTools([{name:"button-remove",args:{distance:-10}}]);break;case"segments":y.addTools(["segments"]);break;case"vertices":y.addTools(["vertices"]);break;default:break}})}),n.on("edge:mouseleave",function(a){var y=a.cell;y.removeTools()}),n.on("node:mouseenter",function(a){var y,E,I=a.cell;((y=I.data)===null||y===void 0||(E=y.config)===null||E===void 0?void 0:E.type)!="start"&&(I.addTools([{name:"button-remove",args:{x:"100%",y:0,offset:{x:-10,y:10}}}]),I.setData({selected:!0}));var H=j==null?void 0:j.querySelectorAll(".x6-port-body");X(H,!0)}),n.on("node:mouseleave",function(a){var y=a.cell;y.setData({selected:!1}),y.removeTools();var E=j==null?void 0:j.querySelectorAll(".x6-port-body");X(E,!1)}),n.on("node:click",function(a){var y=a.e,E=a.x,I=a.y,H=a.node,te=a.view;H.removeTools(),oe(H)}),n.on("node:added",function(a){var y=a.node,E=a.index,I=a.options;R(n,y)}),n.on("node:dblclick",function(a){var y=a.e,E=a.x,I=a.y,H=a.node,te=a.view;w(!1),oe(H)}),n.bindKey(["meta+c","ctrl+c"],function(){var a=n.getSelectedCells();return a.length&&n.copy(a,{useLocalStorage:!0}),!1}),n.bindKey(["meta+v","ctrl+v"],function(){debugger;if(!n.isClipboardEmpty({useLocalStorage:!0})){var a=n.paste({offset:32,useLocalStorage:!0});n.cleanSelection(),n.select(a)}return!1}),n.bindKey(["meta+x","ctrl+x"],function(){var a=n.getSelectedCells();return a.length&&n.cut(a),!1}),n.bindKey(["meta+z","ctrl+z"],function(){return n.canUndo()&&n.undo(),!1}),n.bindKey(["meta+shift+z","ctrl+shift+z"],function(){return n.canRedo()&&n.redo(),!1}),n.bindKey("backspace",function(){var a=n.getSelectedCells();n.removeCells(a)}),n.on("blank:click",function(a){var y=a.e,E=a.x,I=a.y;console.log("blank:click",E,I),w(!0)}),n.on("blank:dblclick",function(a){var y=a.e,E=a.x,I=a.y;console.log("blank:dbclick",E,I),t.autoLayout&&t.autoLayout(n)}),n.bindKey(["ctrl+1","meta+1"],function(){var a=n.zoom();a<1.5&&n.zoom(.1)}),n.bindKey(["ctrl+2","meta+2"],function(){var a=n.zoom();a>.5&&n.zoom(-.1)}),we(n),t.graphJson&&Object.keys(t.graphJson).length>0?n.fromJSON(t.graphJson):t.onGraphJsonEmpty&&t.onGraphJsonEmpty(n),t.onGraphInsChange&&t.onGraphInsChange(n),n.centerContent(),n}}(0,_.useEffect)(function(){var M;if((M=t.panelData)!==null&&M!==void 0&&M.Groups&&t.panelData.Nodes){var n,a,y=new z.t({title:"\u5C55\u5F00/\u6536\u8D77",target:fe,search:function(H,te){var xe=H.getAttrByPath("text/text");return(xe==null?void 0:xe.indexOf(te))!==-1},placeholder:"\u641C\u7D22\u8282\u70B9",notFoundText:"\u672A\u627E\u5230",collapsable:!0,stencilGraphWidth:250,groups:(n=t.panelData)===null||n===void 0?void 0:n.Groups,layoutOptions:{rowHeight:70,columns:2}}),E={};t.panelData.Nodes.forEach(function(I){var H=fe.createNode(I.getNodeConfig());t.panelData.Groups.forEach(function(te){I.getGroups().includes(te.name)&&(E[te.name]?E[te.name].push(H):E[te.name]=[H])})}),Object.keys(E).forEach(function(I){y.load(s()(E[I]),I)}),se==null||(a=se.children.item(0))===null||a===void 0||a.remove(),se==null||se.appendChild(y.container),Re(y)}},[($=t.panelData)===null||$===void 0?void 0:$.Nodes,(q=t.panelData)===null||q===void 0?void 0:q.Groups]);function Ie(){t.onSave&&t.onSave(fe)}var Fe=(0,_.useMemo)(function(){if(t.toolElements){var M;return(0,l.jsx)(r.Z.Header,{style:{padding:0,backgroundColor:"white"},children:(0,l.jsx)(c.Z,{style:{height:"50px"},children:(M=t.toolElements)===null||M===void 0?void 0:M.map(function(n){return n})})})}else return(0,l.jsx)("span",{})},[t.toolElements]);return(0,l.jsx)(ee.Provider,{value:t.editorCtx,children:(0,l.jsxs)(r.Z,{style:{height:"100vh",width:"100%",margin:0},children:[Fe,(0,l.jsxs)(r.Z,{style:{height:"100vh"},children:[(0,l.jsx)(r.Z.Sider,{theme:"light",collapsed:me,collapsedWidth:0,width:250,ref:function(n){return ye(n)}}),(0,l.jsxs)(r.Z.Content,{className:"app-content",children:[(0,l.jsx)(O.Z,{ref:function(n){return Ce(n)}}),(0,l.jsx)("div",{className:"app-minimap",ref:function(n){return Ae(n)}})]}),(0,l.jsx)(r.Z.Sider,{style:{background:"transparent"},collapsed:S,collapsedWidth:0,width:600,children:(0,l.jsx)(ae,{isStatic:t.isStatic,editNode:le,onSubmit:Ie,jsTipMap:t.jsTipMap,onClose:function(){w(!0)},isCollapsed:S})})]})]})})},ge=ve},9976:function(ue,U,e){e.d(U,{Z:function(){return f}});var B=e(87363),s=e(33130),L=(0,B.forwardRef)(function(b,A){return(0,s.jsx)("div",{className:"drag-graph",ref:A})}),f=L},34957:function(ue,U,e){var B=e(57213),s=e.n(B),L=e(54306),f=e.n(L),b=e(94990),A=e(87363),V=e.n(A),_=e(33130);U.Z=function(p){var T,d=(0,A.useState)(""),K=f()(d,2),k=K[0],ne=K[1],Y=(0,A.useState)({}),z=f()(Y,2),x=z[0],P=z[1],F=function(r){var c,i,h;(c=p.editNode)===null||c===void 0||c.setAttrByPath("text/text",r.name);var l=(i=p.editNode)===null||i===void 0?void 0:i.data.config;p.editNode&&(console.log("update graph data",r),p.editNode.setData(s()(s()({},p.editNode.data),{},{config:s()(s()({},l),r)}),{overwrite:!0})),console.log("submit---props.editNode.data.config"),console.log((h=p.editNode)===null||h===void 0?void 0:h.data.config),p==null||p.onSubmit()};return(0,A.useEffect)(function(){if(p.editNode&&p.editNode.data){var g=p.editNode.data.config||{};ne(p.editNode.data.configSchema||g.type)}},[p.editNode]),(0,A.useEffect)(function(){var g;if((g=p.editNode)!==null&&g!==void 0&&g.data){var r,c,i=((r=p.editNode)===null||r===void 0?void 0:r.data.config)||{},h=s()({},i),l=(c=p.editNode)===null||c===void 0?void 0:c.attrs;l&&l.text&&l.text.text&&(h.name=l.text.text),P(h)}},[(T=p.editNode)===null||T===void 0?void 0:T.data]),(0,_.jsx)(b.Z,{isStatic:p.isStatic,formId:k,values:s()({},x),onSubmit:F,jsTipMap:p.jsTipMap})}},12490:function(ue,U,e){e.d(U,{Hi:function(){return L},Tt:function(){return B}});var B={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]},s={groups:{right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"right"}]},L={groups:{bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"bottom"}]}},94990:function(ue,U,e){e.d(U,{Z:function(){return ae}});var B=e(57213),s=e.n(B),L=e(54306),f=e.n(L),b=e(87363),A=e.n(b),V=e(12472),_=e(70517),p=e(90010),T=e.n(p),d=e(23620),K=e(2069),k=e(37635),ne=e.n(k),Y=function O(o){if(o=o==null)return o;var R="{";return Object.keys(o).forEach(function(N){var Z=o[N];R+="".concat(N,":"),Array.isArray(Z)?R+="[],":ne()(Z)=="object"?R+=O(Z)+",":typeof Z=="string"?R+="'".concat(Z,"',"):R+="".concat(Z,",")}),R+="}",R},z=function(o,R){var N="";R&&(Object.keys(R).forEach(function(ee){var X=R[ee];N+="".concat(ee,":"),Array.isArray(X)?N+="[],":ne()(X)=="object"?N+=Y(X)+",":typeof X=="string"?N+="'".concat(X,"',"):N+="".concat(X,",")}),N=N.substring(0,N.length-1));var Z="const ".concat(o,"={").concat(N,"}");return Z},x=e(33358),P=e(49500),F=e(16123),g=e(69078),r=e(93797),c=e(98896),i=e(33130),h=function(o){var R=(0,b.useContext)(r.E),N=(0,b.useState)(o==null?void 0:o.config),Z=f()(N,2),ee=Z[0],X=Z[1],ve=(0,b.useState)(o==null?void 0:o.values),ge=f()(ve,2),W=ge[0],t=ge[1],v=R==null?void 0:R.jsTips,$=(0,b.useState)(),q=f()($,2),G=q[0],de=q[1];function le(u,m,S){u==="formSubmited"?(console.log("\u5185\u90E8\u8868\u5355\u63D0\u4EA4\u4E86",S),o.onSubmit(S)):console.log("\u5185\u90E8\u8868\u5355\u89E6\u53D1\u4E86Broadcast",S)}(0,b.useEffect)(function(){(0,c.m)(_.Z)},[]),(0,b.useEffect)(function(){if(o.config&&o.config.body){var u,m=o.config.body[0];(u=m.body)===null||u===void 0||u.forEach(function(w){re(w)});var S=G==null?void 0:G.getComponentByName("page1.form1");S==null||S.props.store.clear(),X(o.config)}},[o.config]),(0,b.useEffect)(function(){var u=G==null?void 0:G.getComponentByName("page1.form1");u==null||u.props.store.clear(),u==null||u.props.store.setValues(o.values)},[ee]),(0,b.useEffect)(function(){var u=G==null?void 0:G.getComponentByName("page1.form1");u==null||u.props.store.clear(),u==null||u.props.store.setValues(o.values),t(o.values)},[o.values]);var oe=(0,b.useState)(),ce=f()(oe,2),J=ce[0],me=ce[1];function re(u){u.type=="editor"&&u.language=="javascript"?u.editorDidMount=function(m,S){return me(S),v&&Object.keys(v).forEach(function(w){var C=z(w,JSON.parse(v[w]));S==null||S.languages.typescript.javascriptDefaults.addExtraLib(C,"".concat(w,".ts"))}),function(){try{var w,C;console.log("effect dispose"),m==null||m.dispose(),m==null||(w=m.current)===null||w===void 0||w.dispose(),S==null||(C=S.current)===null||C===void 0||C.dispose()}catch(ie){console.error("error in findEditorItem"),console.error(ie)}}}:u.body&&u.body.forEach(function(m){re(m)})}return(0,b.useEffect)(function(){v&&Object.keys(v).forEach(function(u){var m=z(u,JSON.parse(v[u]));J==null||J.languages.typescript.javascriptDefaults.addExtraLib(m,"".concat(u,".ts"))})},[v]),(0,i.jsxs)("div",{children:[(0,i.jsx)(K.qR,{theme:"cxd",position:"top-right",locale:"zh-CN"},"toast"),(0,i.jsx)(K.wx,{theme:"cxd",locale:"zh-CN"},"alert"),(0,d.sYA)(ee,{onBroadcast:le,data:W,scopeRef:function(m){return de(m)}},{fetcher:function(m){var S=m.url,w=m.method,C=m.data,ie=m.responseType,D=m.config,pe=m.headers;return D=D||{},D.withCredentials=!0,ie&&(D.responseType=ie),D.cancelExecutor&&(D.cancelToken=new _.Z.CancelToken(D.cancelExecutor)),D.headers=pe||{},D.headers.Authorization||(D.headers.Authorization="Bearer "+g.F.getTokenFormLocal()),w!=="post"&&w!=="put"&&w!=="patch"?(C&&(D.params=C),_.Z[w](S,D)):(C&&C instanceof FormData?(D.headers=D.headers||{},D.headers["Content-Type"]="multipart/form-data"):C&&typeof C!="string"&&!(C instanceof Blob)&&!(C instanceof ArrayBuffer)&&(C=JSON.stringify(C),D.headers=D.headers||{},D.headers["Content-Type"]="application/json"),_.Z[w](S,C,D))},isCancel:function(m){return _.Z.isCancel(m)},copy:function(m){T()(m),K.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:"cxd",jumpTo:function(m,S){debugger;S.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+m,"_blank"):window.location.hash=m}})]})},l=A().memo(h),Q=function(o){var R=(0,b.useState)({type:"page"}),N=f()(R,2),Z=N[0],ee=N[1];return(0,b.useEffect)(function(){if(o.formId){var X=o.isStatic?o.formId+"-static":o.formId;(0,V.CD)(X).then(function(ve){ee(ve)}).catch(function(ve){console.log(ve),(0,V.CD)(o.formId).then(function(ge){ee(ge)})})}},[o.formId]),(0,i.jsx)("div",{children:(0,i.jsx)(l,s()(s()({},o),{},{config:Z}))})},ae=Q},98896:function(ue,U,e){e.d(U,{m:function(){return b}});var B=e(25359),s=e.n(B),L=e(49811),f=e.n(L);function b(V){return A.apply(this,arguments)}function A(){return A=f()(s()().mark(function V(_){return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:_.interceptors.response.use(function(d){return console.log("axios response"),console.log(d),d&&d.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),d.data.error||(d.data.error={code:0}),d.data.code==500&&(d.data.error={code:500,message:d.data.msg}),d.data.data&&d.data.data.records&&(d.data.data.items=d.data.data.records),d):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(d.data),Promise.reject(new Error(d.data.message)))},function(d){if(console.log("\u6355\u6349axios error"),console.log(d),d.response&&d.response.data){var K,k=d.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((K=d.response.data.error)===null||K===void 0?void 0:K.code)==0&&(d.response.data.error.code=500),console.log(k),k}return Promise.reject(d)});case 1:case"end":return T.stop()}},V)})),A.apply(this,arguments)}},69078:function(ue,U,e){e.d(U,{F:function(){return B}});var B={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(L){return localStorage.setItem("token",L)}}},12472:function(ue,U,e){e.d(U,{CD:function(){return ne},UD:function(){return K},n4:function(){return z},wx:function(){return P}});var B=e(25359),s=e.n(B),L=e(49811),f=e.n(L),b=e(31837),A=e(21140),V=e.n(A),_=e(63466),p=e.n(_),T=e(57475),d=function(){function g(){V()(this,g)}return p()(g,null,[{key:"getAssetFromDb",value:function(){var r=f()(s()().mark(function i(h,l){var Q;return s()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,T.U2)("/api/ide/settings/asset/".concat(h,"/").concat(l));case 2:return Q=O.sent.data,O.abrupt("return",JSON.parse(Q.data.config));case 4:case"end":return O.stop()}},i)}));function c(i,h){return r.apply(this,arguments)}return c}()},{key:"saveAssetToDb",value:function(){var r=f()(s()().mark(function i(h,l,Q){return s()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,T.v_)("/api/ide/settings/asset/".concat(h,"/").concat(l),Q));case 1:case"end":return O.stop()}},i)}));function c(i,h,l){return r.apply(this,arguments)}return c}()},{key:"getRemoteAssetFromDb",value:function(){var r=f()(s()().mark(function i(h,l,Q){var ae;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,T.U2)("/api/ide/papi/".concat(h,"/api/ide/settings/asset/").concat(l,"/").concat(Q));case 2:return ae=o.sent.data,o.abrupt("return",JSON.parse(ae.data.config));case 4:case"end":return o.stop()}},i)}));function c(i,h,l){return r.apply(this,arguments)}return c}()},{key:"saveRemoteAssetToDb",value:function(){var r=f()(s()().mark(function i(h,l,Q,ae){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,T.v_)("/api/ide/papi/".concat(h,"/api/ide/settings/asset/").concat(l,"/").concat(Q),ae));case 1:case"end":return o.stop()}},i)}));function c(i,h,l,Q){return r.apply(this,arguments)}return c}()}]),g}();function K(g){return k.apply(this,arguments)}function k(){return k=f()(s()().mark(function g(r){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(b.j.getModel()!="db"){i.next=4;break}return i.abrupt("return",d.getAssetFromDb("page",r));case 4:return i.next=6,(0,T.U2)("/logic/setting/pages/".concat(r,".json"));case 6:return i.abrupt("return",i.sent.data);case 7:case"end":return i.stop()}},g)})),k.apply(this,arguments)}function ne(g){return Y.apply(this,arguments)}function Y(){return Y=f()(s()().mark(function g(r){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(b.j.getModel()!="db"){i.next=4;break}return i.abrupt("return",d.getAssetFromDb("form",r));case 4:return i.next=6,(0,T.U2)("/logic/setting/forms/".concat(r,".json"));case 6:return i.abrupt("return",i.sent.data);case 7:case"end":return i.stop()}},g)})),Y.apply(this,arguments)}function z(g,r){return x.apply(this,arguments)}function x(){return x=f()(s()().mark(function g(r,c){return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(b.j.getModel()!="db"){h.next=4;break}return h.abrupt("return",d.getAssetFromDb(r,c));case 4:return h.next=6,(0,T.U2)("/logic/setting/".concat(r,"s/").concat(c,".json"));case 6:return h.abrupt("return",h.sent.data);case 7:case"end":return h.stop()}},g)})),x.apply(this,arguments)}function P(g,r,c){return F.apply(this,arguments)}function F(){return F=f()(s()().mark(function g(r,c,i){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(b.j.getModel()!="db"){l.next=2;break}return l.abrupt("return",d.saveAssetToDb(r,c,i));case 2:case"end":return l.stop()}},g)})),F.apply(this,arguments)}},57475:function(ue,U,e){e.d(U,{U2:function(){return _},gz:function(){return T},v_:function(){return ne}});var B=e(25359),s=e.n(B),L=e(57213),f=e.n(L),b=e(49811),A=e.n(b),V=e(70517);function _(x,P){return p.apply(this,arguments)}function p(){return p=A()(s()().mark(function x(P,F){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",V.Z.get(P,z(F)));case 1:case"end":return r.stop()}},x)})),p.apply(this,arguments)}function T(x,P,F){return d.apply(this,arguments)}function d(){return d=A()(s()().mark(function x(P,F,g){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",V.Z.put(P,F,z(g)));case 1:case"end":return c.stop()}},x)})),d.apply(this,arguments)}function K(x,P){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function x(P,F){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",axios.delete(P,z(F)));case 1:case"end":return r.stop()}},x)})),k.apply(this,arguments)}function ne(x,P,F){return Y.apply(this,arguments)}function Y(){return Y=A()(s()().mark(function x(P,F,g){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",V.Z.post(P,F,z(g)));case 1:case"end":return c.stop()}},x)})),Y.apply(this,arguments)}function z(x){var P={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(P.Authorization="Bearer "+localStorage.getItem("token")),f()(f()({},x),{},{headers:f()(f()({},P),x==null?void 0:x.headers)})}}}]);
