"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[8023],{93797:function(de,F,e){e.d(F,{E:function(){return ee},Z:function(){return he}});var U=e(93525),s=e.n(U),B=e(54306),f=e.n(B),y=e(63466),j=e(21140),V=e(52510),_=e(87363),p=e.n(_),T=e(5671),d=e(9722),W=e(17696),L=e(19227),ne=e(75476),Y=e(1167),G=e(22046),x=e(22150),P=e(11250),N=e(89357),m=e(83217),r=e(23360),c=e(4283),i=e(54145),h=e(34957),l=e(33130);function Q(k){return(0,l.jsxs)("div",{style:{margin:0,height:"95vh",overflowY:"scroll"},children:[(0,l.jsx)(h.Z,{isStatic:k.isStatic,editNode:k.editNode,jsTipMap:k.jsTipMap,onSubmit:k.onSubmit}),k!=null&&k.isCollapsed?"":(0,l.jsx)(i.ZP,{type:"text",style:{position:"absolute",top:10,right:15,fontSize:20,textAlign:"center"},onClick:function(){k==null||k.onClose()},children:"x"})]})}var ae=Q,A=e(9976),o=e(12490),w=function(t,g){var $,q,J,ce,le=g.getData(),oe=g.getPosition(),fe=t.getNodes(),K;if(["ExtSharp","polygon"].indexOf(g.shape)>-1&&le!=null&&le.config&&le.config.type)switch(le.config.type){case"switch":var me=200,re=t.addNode({shape:"switch",position:oe,width:me,height:50,ports:o.Tt,data:g.data,attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}});t.removeNode(g);var u=t.addNode({shape:"switch-case",position:{y:oe.y+100,x:oe.x-me/2},width:120,height:50,ports:o.Tt,data:{config:{type:"switch-case"}}}),v=t.addNode({shape:"switch-default",position:{y:oe.y+100,x:oe.x+me},width:120,height:50,ports:o.Tt,data:{config:{type:"switch-default"}}}),S=t.addEdge({source:re,sourcePort:($=re.ports.items.find(function(Z){return Z.group=="bottom"}))===null||$===void 0?void 0:$.id,target:u,targetPort:(q=u.ports.items.find(function(Z){return Z.group=="top"}))===null||q===void 0?void 0:q.id,zIndex:0}),O=t.addEdge({source:re,sourcePort:(J=re.ports.items.find(function(Z){return Z.group=="bottom"}))===null||J===void 0?void 0:J.id,target:v,targetPort:(ce=v.ports.items.find(function(Z){return Z.group=="top"}))===null||ce===void 0?void 0:ce.id,zIndex:0});K=re;break;case"switch-case":var C=t.createNode({shape:"switch-case",position:g.position(),width:120,height:50,ports:o.Tt,data:g.data});t.removeNode(g),t.addNode(C),K=C;break;case"string":var ie=t.createNode({shape:"string",position:g.position(),width:100,height:50,ports:o.Tt,data:g.data});t.removeNode(g),t.addNode(ie),K=ie;break;case"num":var D=t.createNode({shape:"num",position:g.position(),width:100,height:50,ports:o.Tt,data:g.data});t.removeNode(g),t.addNode(D),K=D;break;case"assignment":var pe=t.createNode({shape:"assignment",position:g.position(),width:220,height:50,ports:o.Tt,data:g.data});t.removeNode(g),t.addNode(pe),K=pe;break;default:break}if(["\u5DE5\u5E8F\u7EC4"].indexOf(g.getAttrByPath("text/text"))>-1&&(g.zIndex=-1),console.log("node:added"),K&&fe.length==1){var ye,_e,se,be,xe;t.addEdge({source:fe[0],sourcePort:(ye=fe[0].ports.items.find(function(Z){return Z.group=="bottom"}))===null||ye===void 0?void 0:ye.id,target:K,targetPort:(_e=K)===null||_e===void 0||(se=_e.ports)===null||se===void 0||(be=se.items)===null||be===void 0||(xe=be.find(function(Z){return Z.group=="top"}))===null||xe===void 0?void 0:xe.id,zIndex:0})}},R=e(71731),z=null,ee=p().createContext({}),X=function(t,g){for(var $=0,q=t.length;$<q;$+=1)t[$].style.visibility=g?"visible":"hidden"},ge=function(t){var g,$,q,J=(0,_.useState)(),ce=f()(J,2),le=ce[0],oe=ce[1],fe=(0,_.useState)(!t.showLeft),K=f()(fe,2),me=K[0],re=K[1],u=(0,_.useState)(!t.showRight),v=f()(u,2),S=v[0],O=v[1],C=(0,_.useState)(t.panelData),ie=f()(C,2),D=ie[0],pe=ie[1],ye=(0,_.useState)(),_e=f()(ye,2),se=_e[0],be=_e[1],xe=(0,_.useState)(),Z=f()(xe,2),ue=Z[0],Ce=Z[1],Pe=(0,_.useState)(),Ee=f()(Pe,2),je=Ee[0],Ae=Ee[1],Oe=(0,_.useState)(t.graphIns),De=f()(Oe,2),ve=De[0],Me=De[1],we=(0,_.useState)(),Te=f()(we,2),Ue=Te[0],Re=Te[1];(0,_.useEffect)(function(){try{var M;if((M=t.panelData)!==null&&M!==void 0&&M.Shapes){var n;(n=t.panelData)===null||n===void 0||n.Shapes.forEach(function(a){console.log("\u56FE\u5185\u90E8\u6CE8\u518C\u65B0\u8282\u70B9:"+a.name),T.kJ.registerNode(a.name,a.config,!0)})}}catch(a){console.error("\u6CE8\u518C\u8282\u70B9\u51FA\u9519\uFF1A"),console.error(a)}},[(g=t.panelData)===null||g===void 0?void 0:g.Shapes]),(0,_.useEffect)(function(){ve&&(ve.options.connecting.createEdge=t.createEdge)},[t.createEdge]),(0,_.useEffect)(function(){ue&&Ne(ue)},[ue]),(0,_.useEffect)(function(){if(ve&&t.graphJson)try{ve.fromJSON(t.graphJson),ve.centerContent()}catch(M){m.ZP.error("\u56FE\u6570\u636E\u6709\u8BEF\uFF0C\u5DF2\u5FFD\u7565"),console.error(M),console.log(t.graphJson)}},[t.graphJson]),(0,_.useEffect)(function(){re(!(t!=null&&t.showLeft))},[t.showLeft]);function Ne(M){if(console.log("initGraph"),!!M){var n=t.graphIns;return n||(n=new T.kJ({container:M,embedding:{enabled:!0,findParent:function(b){var E=b.node,I=E.getBBox();return this.getNodes().filter(function(H){var te=H.getData();if(te&&te.parent){var Se=H.getBBox();return I.isIntersectWithRect(Se)}return!1})}},mousewheel:{enabled:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:15}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,allowMulti:!0,snap:{radius:20},createEdge:t.createEdge,validateConnection:function(b){var E=b.targetMagnet;return!!E}},background:{color:"#fff"},grid:!0})),n.use(new Y.H({enabled:!0,sharp:!0})).use(new W.A({enabled:!0})).use(new ne.Y({enabled:!0,multiple:!0,strict:!0,rubberband:!0,movable:!0,showNodeSelectionBox:!0,pointerEvents:"none"})).use(new x.T({enabled:!0})).use(new L.N).use(new d.T({enabled:!0})).use(new P.D).use(new R.w({resizing:{enabled:!0,minWidth:50,maxWidth:0,minHeight:50,maxHeight:0,orthogonal:!1,restrict:!1,preserveAspectRatio:!1}})).use(new N.a({container:je})),n.on("edge:dblclick",function(a){var b=a.cell}),n.on("edge:change:router",function(a){console.log("edge:change:router")}),n.on("edge:mouseenter",function(a){var b=a.cell;t.edgeTools&&t.edgeTools.forEach(function(E){switch(E){case"edge-editor":break;case"button-remove":b.addTools([{name:"button-remove",args:{attrs:{fill:"#fff",stroke:"#fff",r:10,cursor:"pointer"}}}]);break;case"segments":b.addTools(["segments"]);break;case"vertices":b.addTools(["vertices"]);break;default:break}})}),n.on("edge:mouseleave",function(a){var b=a.cell;b.removeTools()}),n.on("node:mouseenter",function(a){var b,E,I=a.cell;((b=I.data)===null||b===void 0||(E=b.config)===null||E===void 0?void 0:E.type)!="start"&&I.addTools([{name:"button-remove",args:{x:"100%",y:0,offset:{x:-10,y:10}}}]);var H=ue==null?void 0:ue.querySelectorAll(".x6-port-body");X(H,!0)}),n.on("node:mouseleave",function(a){var b=a.cell;b.removeTools();var E=ue==null?void 0:ue.querySelectorAll(".x6-port-body");X(E,!1)}),n.on("node:click",function(a){var b=a.e,E=a.x,I=a.y,H=a.node,te=a.view;H.removeTools(),oe(H)}),n.on("node:added",function(a){var b=a.node,E=a.index,I=a.options;w(n,b)}),n.on("node:dblclick",function(a){var b=a.e,E=a.x,I=a.y,H=a.node,te=a.view;O(!1),oe(H)}),n.bindKey(["meta+c","ctrl+c"],function(){var a=n.getSelectedCells();return a.length&&n.copy(a,{useLocalStorage:!0}),!1}),n.bindKey(["meta+v","ctrl+v"],function(){debugger;if(!n.isClipboardEmpty({useLocalStorage:!0})){var a=n.paste({offset:32,useLocalStorage:!0});n.cleanSelection(),n.select(a)}return!1}),n.bindKey(["meta+x","ctrl+x"],function(){var a=n.getSelectedCells();return a.length&&n.cut(a),!1}),n.bindKey(["meta+z","ctrl+z"],function(){return n.canUndo()&&n.undo(),!1}),n.bindKey(["meta+shift+z","ctrl+shift+z"],function(){return n.canRedo()&&n.redo(),!1}),n.bindKey("backspace",function(){var a=n.getSelectedCells();n.removeCells(a)}),n.on("blank:click",function(a){var b=a.e,E=a.x,I=a.y;console.log("blank:click",E,I),O(!0)}),n.on("blank:dblclick",function(a){var b=a.e,E=a.x,I=a.y;console.log("blank:dbclick",E,I),t.autoLayout&&t.autoLayout(n)}),n.bindKey(["ctrl+1","meta+1"],function(){var a=n.zoom();a<1.5&&n.zoom(.1)}),n.bindKey(["ctrl+2","meta+2"],function(){var a=n.zoom();a>.5&&n.zoom(-.1)}),Me(n),t.graphJson&&Object.keys(t.graphJson).length>0?n.fromJSON(t.graphJson):t.onGraphJsonEmpty&&t.onGraphJsonEmpty(n),t.onGraphInsChange&&t.onGraphInsChange(n),n.centerContent(),n}}(0,_.useEffect)(function(){var M;if((M=t.panelData)!==null&&M!==void 0&&M.Groups&&t.panelData.Nodes){var n,a,b=new G.t({title:"\u5C55\u5F00/\u6536\u8D77",target:ve,search:function(H,te){var Se=H.getAttrByPath("text/text");return(Se==null?void 0:Se.indexOf(te))!==-1},placeholder:"\u641C\u7D22\u8282\u70B9",notFoundText:"\u672A\u627E\u5230",collapsable:!0,stencilGraphWidth:250,groups:(n=t.panelData)===null||n===void 0?void 0:n.Groups,layoutOptions:{rowHeight:70,columns:2}}),E={};t.panelData.Nodes.forEach(function(I){var H=ve.createNode(I.getNodeConfig());t.panelData.Groups.forEach(function(te){I.getGroups().includes(te.name)&&(E[te.name]?E[te.name].push(H):E[te.name]=[H])})}),Object.keys(E).forEach(function(I){b.load(s()(E[I]),I)}),se==null||(a=se.children.item(0))===null||a===void 0||a.remove(),se==null||se.appendChild(b.container),Re(b)}},[($=t.panelData)===null||$===void 0?void 0:$.Nodes,(q=t.panelData)===null||q===void 0?void 0:q.Groups]);function Ie(){t.onSave&&t.onSave(ve)}var Fe=(0,_.useMemo)(function(){if(t.toolElements){var M;return(0,l.jsx)(r.Z.Header,{style:{padding:0,backgroundColor:"white"},children:(0,l.jsx)(c.Z,{style:{height:"50px"},children:(M=t.toolElements)===null||M===void 0?void 0:M.map(function(n){return n})})})}else return(0,l.jsx)("span",{})},[t.toolElements]);return(0,l.jsx)(ee.Provider,{value:t.editorCtx,children:(0,l.jsxs)(r.Z,{style:{height:"100vh",width:"100%",margin:0},children:[Fe,(0,l.jsxs)(r.Z,{style:{height:"100vh"},children:[(0,l.jsx)(r.Z.Sider,{theme:"light",collapsed:me,collapsedWidth:0,width:250,ref:function(n){return be(n)}}),(0,l.jsxs)(r.Z.Content,{className:"app-content",children:[(0,l.jsx)(A.Z,{ref:function(n){return Ce(n)}}),(0,l.jsx)("div",{className:"app-minimap",ref:function(n){return Ae(n)}})]}),(0,l.jsx)(r.Z.Sider,{style:{background:"transparent"},collapsed:S,collapsedWidth:0,width:600,children:(0,l.jsx)(ae,{isStatic:t.isStatic,editNode:le,onSubmit:Ie,jsTipMap:t.jsTipMap,onClose:function(){O(!0)},isCollapsed:S})})]})]})})},he=ge},9976:function(de,F,e){e.d(F,{Z:function(){return f}});var U=e(87363),s=e(33130),B=(0,U.forwardRef)(function(y,j){return(0,s.jsx)("div",{className:"drag-graph",ref:j})}),f=B},34957:function(de,F,e){var U=e(57213),s=e.n(U),B=e(54306),f=e.n(B),y=e(94990),j=e(87363),V=e.n(j),_=e(33130);F.Z=function(p){var T,d=(0,j.useState)(""),W=f()(d,2),L=W[0],ne=W[1],Y=(0,j.useState)({}),G=f()(Y,2),x=G[0],P=G[1],N=function(r){var c,i,h;(c=p.editNode)===null||c===void 0||c.setAttrByPath("text/text",r.name);var l=(i=p.editNode)===null||i===void 0?void 0:i.data.config;p.editNode&&(console.log("update graph data",r),p.editNode.setData(s()(s()({},p.editNode.data),{},{config:s()(s()({},l),r)}),{overwrite:!0})),console.log("submit---props.editNode.data.config"),console.log((h=p.editNode)===null||h===void 0?void 0:h.data.config),p==null||p.onSubmit()};return(0,j.useEffect)(function(){if(p.editNode&&p.editNode.data){var m=p.editNode.data.config||{};ne(p.editNode.data.configSchema||m.type)}},[p.editNode]),(0,j.useEffect)(function(){var m;if((m=p.editNode)!==null&&m!==void 0&&m.data){var r,c,i=((r=p.editNode)===null||r===void 0?void 0:r.data.config)||{},h=s()({},i),l=(c=p.editNode)===null||c===void 0?void 0:c.attrs;l&&l.text&&l.text.text&&(h.name=l.text.text),P(h)}},[(T=p.editNode)===null||T===void 0?void 0:T.data]),(0,_.jsx)(y.Z,{isStatic:p.isStatic,formId:L,values:s()({},x),onSubmit:N,jsTipMap:p.jsTipMap})}},12490:function(de,F,e){e.d(F,{Hi:function(){return B},Tt:function(){return U}});var U={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]},s={groups:{right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"right"}]},B={groups:{bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"bottom"}]}},94990:function(de,F,e){e.d(F,{Z:function(){return ae}});var U=e(57213),s=e.n(U),B=e(54306),f=e.n(B),y=e(87363),j=e.n(y),V=e(12472),_=e(70517),p=e(90010),T=e.n(p),d=e(23620),W=e(2069),L=e(37635),ne=e.n(L),Y=function A(o){if(o=o==null)return o;var w="{";return Object.keys(o).forEach(function(R){var z=o[R];w+="".concat(R,":"),Array.isArray(z)?w+="[],":ne()(z)=="object"?w+=A(z)+",":typeof z=="string"?w+="'".concat(z,"',"):w+="".concat(z,",")}),w+="}",w},G=function(o,w){var R="";w&&(Object.keys(w).forEach(function(ee){var X=w[ee];R+="".concat(ee,":"),Array.isArray(X)?R+="[],":ne()(X)=="object"?R+=Y(X)+",":typeof X=="string"?R+="'".concat(X,"',"):R+="".concat(X,",")}),R=R.substring(0,R.length-1));var z="const ".concat(o,"={").concat(R,"}");return z},x=e(33358),P=e(49500),N=e(16123),m=e(69078),r=e(93797),c=e(98896),i=e(33130),h=function(o){var w=(0,y.useContext)(r.E),R=(0,y.useState)(o==null?void 0:o.config),z=f()(R,2),ee=z[0],X=z[1],ge=(0,y.useState)(o==null?void 0:o.values),he=f()(ge,2),k=he[0],t=he[1],g=w==null?void 0:w.jsTips,$=(0,y.useState)(),q=f()($,2),J=q[0],ce=q[1];function le(u,v,S){u==="formSubmited"?(console.log("\u5185\u90E8\u8868\u5355\u63D0\u4EA4\u4E86",S),o.onSubmit(S)):console.log("\u5185\u90E8\u8868\u5355\u89E6\u53D1\u4E86Broadcast",S)}(0,y.useEffect)(function(){(0,c.m)(_.Z)},[]),(0,y.useEffect)(function(){if(o.config&&o.config.body){var u,v=o.config.body[0];(u=v.body)===null||u===void 0||u.forEach(function(O){re(O)});var S=J==null?void 0:J.getComponentByName("page1.form1");S==null||S.props.store.clear(),X(o.config)}},[o.config]),(0,y.useEffect)(function(){var u=J==null?void 0:J.getComponentByName("page1.form1");u==null||u.props.store.clear(),u==null||u.props.store.setValues(o.values)},[ee]),(0,y.useEffect)(function(){var u=J==null?void 0:J.getComponentByName("page1.form1");u==null||u.props.store.clear(),u==null||u.props.store.setValues(o.values),t(o.values)},[o.values]);var oe=(0,y.useState)(),fe=f()(oe,2),K=fe[0],me=fe[1];function re(u){u.type=="editor"&&u.language=="javascript"?u.editorDidMount=function(v,S){return me(S),g&&Object.keys(g).forEach(function(O){var C=G(O,JSON.parse(g[O]));S==null||S.languages.typescript.javascriptDefaults.addExtraLib(C,"".concat(O,".ts"))}),function(){try{var O,C;console.log("effect dispose"),v==null||v.dispose(),v==null||(O=v.current)===null||O===void 0||O.dispose(),S==null||(C=S.current)===null||C===void 0||C.dispose()}catch(ie){console.error("error in findEditorItem"),console.error(ie)}}}:u.body&&u.body.forEach(function(v){re(v)})}return(0,y.useEffect)(function(){g&&Object.keys(g).forEach(function(u){var v=G(u,JSON.parse(g[u]));K==null||K.languages.typescript.javascriptDefaults.addExtraLib(v,"".concat(u,".ts"))})},[g]),(0,i.jsxs)("div",{children:[(0,i.jsx)(W.qR,{theme:"cxd",position:"top-right",locale:"zh-CN"},"toast"),(0,i.jsx)(W.wx,{theme:"cxd",locale:"zh-CN"},"alert"),(0,d.sYA)(ee,{onBroadcast:le,data:k,scopeRef:function(v){return ce(v)}},{fetcher:function(v){var S=v.url,O=v.method,C=v.data,ie=v.responseType,D=v.config,pe=v.headers;return D=D||{},D.withCredentials=!0,ie&&(D.responseType=ie),D.cancelExecutor&&(D.cancelToken=new _.Z.CancelToken(D.cancelExecutor)),D.headers=pe||{},D.headers.Authorization||(D.headers.Authorization="Bearer "+m.F.getTokenFormLocal()),O!=="post"&&O!=="put"&&O!=="patch"?(C&&(D.params=C),_.Z[O](S,D)):(C&&C instanceof FormData?(D.headers=D.headers||{},D.headers["Content-Type"]="multipart/form-data"):C&&typeof C!="string"&&!(C instanceof Blob)&&!(C instanceof ArrayBuffer)&&(C=JSON.stringify(C),D.headers=D.headers||{},D.headers["Content-Type"]="application/json"),_.Z[O](S,C,D))},isCancel:function(v){return _.Z.isCancel(v)},copy:function(v){T()(v),W.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:"cxd",jumpTo:function(v,S){debugger;S.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+v,"_blank"):window.location.hash=v}})]})},l=j().memo(h),Q=function(o){var w=(0,y.useState)({type:"page"}),R=f()(w,2),z=R[0],ee=R[1];return(0,y.useEffect)(function(){if(o.formId){var X=o.isStatic?o.formId+"-static":o.formId;(0,V.CD)(X).then(function(ge){ee(ge)}).catch(function(ge){console.log(ge),(0,V.CD)(o.formId).then(function(he){ee(he)})})}},[o.formId]),(0,i.jsx)("div",{children:(0,i.jsx)(l,s()(s()({},o),{},{config:z}))})},ae=Q},98896:function(de,F,e){e.d(F,{m:function(){return y}});var U=e(25359),s=e.n(U),B=e(49811),f=e.n(B);function y(V){return j.apply(this,arguments)}function j(){return j=f()(s()().mark(function V(_){return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:_.interceptors.response.use(function(d){return console.log("axios response"),console.log(d),d&&d.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),d.data.error||(d.data.error={code:0}),d.data.code==500&&(d.data.error={code:500,message:d.data.msg}),d.data.data&&d.data.data.records&&(d.data.data.items=d.data.data.records),d):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(d.data),Promise.reject(new Error(d.data.message)))},function(d){if(console.log("\u6355\u6349axios error"),console.log(d),d.response&&d.response.data){var W,L=d.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((W=d.response.data.error)===null||W===void 0?void 0:W.code)==0&&(d.response.data.error.code=500),console.log(L),L}return Promise.reject(d)});case 1:case"end":return T.stop()}},V)})),j.apply(this,arguments)}},69078:function(de,F,e){e.d(F,{F:function(){return U}});var U={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(B){return localStorage.setItem("token",B)}}},12472:function(de,F,e){e.d(F,{CD:function(){return ne},UD:function(){return W},n4:function(){return G},wx:function(){return P}});var U=e(25359),s=e.n(U),B=e(49811),f=e.n(B),y=e(31837),j=e(21140),V=e.n(j),_=e(63466),p=e.n(_),T=e(57475),d=function(){function m(){V()(this,m)}return p()(m,null,[{key:"getAssetFromDb",value:function(){var r=f()(s()().mark(function i(h,l){var Q;return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,T.U2)("/api/ide/settings/asset/".concat(h,"/").concat(l));case 2:return Q=A.sent.data,A.abrupt("return",JSON.parse(Q.data.config));case 4:case"end":return A.stop()}},i)}));function c(i,h){return r.apply(this,arguments)}return c}()},{key:"saveAssetToDb",value:function(){var r=f()(s()().mark(function i(h,l,Q){return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,T.v_)("/api/ide/settings/asset/".concat(h,"/").concat(l),Q));case 1:case"end":return A.stop()}},i)}));function c(i,h,l){return r.apply(this,arguments)}return c}()},{key:"getRemoteAssetFromDb",value:function(){var r=f()(s()().mark(function i(h,l,Q){var ae;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,T.U2)("/api/ide/papi/".concat(h,"/api/ide/settings/asset/").concat(l,"/").concat(Q));case 2:return ae=o.sent.data,o.abrupt("return",JSON.parse(ae.data.config));case 4:case"end":return o.stop()}},i)}));function c(i,h,l){return r.apply(this,arguments)}return c}()},{key:"saveRemoteAssetToDb",value:function(){var r=f()(s()().mark(function i(h,l,Q,ae){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,T.v_)("/api/ide/papi/".concat(h,"/api/ide/settings/asset/").concat(l,"/").concat(Q),ae));case 1:case"end":return o.stop()}},i)}));function c(i,h,l,Q){return r.apply(this,arguments)}return c}()}]),m}();function W(m){return L.apply(this,arguments)}function L(){return L=f()(s()().mark(function m(r){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.j.getModel()!="db"){i.next=4;break}return i.abrupt("return",d.getAssetFromDb("page",r));case 4:return i.next=6,(0,T.U2)("/logic/setting/pages/".concat(r,".json"));case 6:return i.abrupt("return",i.sent.data);case 7:case"end":return i.stop()}},m)})),L.apply(this,arguments)}function ne(m){return Y.apply(this,arguments)}function Y(){return Y=f()(s()().mark(function m(r){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.j.getModel()!="db"){i.next=4;break}return i.abrupt("return",d.getAssetFromDb("form",r));case 4:return i.next=6,(0,T.U2)("/logic/setting/forms/".concat(r,".json"));case 6:return i.abrupt("return",i.sent.data);case 7:case"end":return i.stop()}},m)})),Y.apply(this,arguments)}function G(m,r){return x.apply(this,arguments)}function x(){return x=f()(s()().mark(function m(r,c){return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(y.j.getModel()!="db"){h.next=4;break}return h.abrupt("return",d.getAssetFromDb(r,c));case 4:return h.next=6,(0,T.U2)("/logic/setting/".concat(r,"s/").concat(c,".json"));case 6:return h.abrupt("return",h.sent.data);case 7:case"end":return h.stop()}},m)})),x.apply(this,arguments)}function P(m,r,c){return N.apply(this,arguments)}function N(){return N=f()(s()().mark(function m(r,c,i){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(y.j.getModel()!="db"){l.next=2;break}return l.abrupt("return",d.saveAssetToDb(r,c,i));case 2:case"end":return l.stop()}},m)})),N.apply(this,arguments)}},57475:function(de,F,e){e.d(F,{U2:function(){return _},gz:function(){return T},v_:function(){return ne}});var U=e(25359),s=e.n(U),B=e(57213),f=e.n(B),y=e(49811),j=e.n(y),V=e(70517);function _(x,P){return p.apply(this,arguments)}function p(){return p=j()(s()().mark(function x(P,N){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",V.Z.get(P,G(N)));case 1:case"end":return r.stop()}},x)})),p.apply(this,arguments)}function T(x,P,N){return d.apply(this,arguments)}function d(){return d=j()(s()().mark(function x(P,N,m){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",V.Z.put(P,N,G(m)));case 1:case"end":return c.stop()}},x)})),d.apply(this,arguments)}function W(x,P){return L.apply(this,arguments)}function L(){return L=_asyncToGenerator(_regeneratorRuntime().mark(function x(P,N){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",axios.delete(P,G(N)));case 1:case"end":return r.stop()}},x)})),L.apply(this,arguments)}function ne(x,P,N){return Y.apply(this,arguments)}function Y(){return Y=j()(s()().mark(function x(P,N,m){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",V.Z.post(P,N,G(m)));case 1:case"end":return c.stop()}},x)})),Y.apply(this,arguments)}function G(x){var P={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(P.Authorization="Bearer "+localStorage.getItem("token")),f()(f()({},x),{},{headers:f()(f()({},P),x==null?void 0:x.headers)})}}}]);
