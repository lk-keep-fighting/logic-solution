"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[8023],{93797:function(oe,M,e){e.d(M,{E:function(){return X},Z:function(){return fe}});var A=e(93525),l=e.n(A),j=e(54306),f=e.n(j),v=e(63466),D=e(21140),W=e(52510),u=e(87363),a=e.n(u),m=e(5671),i=e(9722),I=e(17696),B=e(19227),k=e(75476),F=e(1167),b=e(22046),S=e(22150),J=e(11250),d=e(89357),C=e(83217),P=e(23360),Q=e(4283),G=e(54145),$=e(34957),y=e(33130);function pe(L){return(0,y.jsxs)("div",{style:{margin:0,height:"95vh",overflowY:"scroll"},children:[(0,y.jsx)($.Z,{isStatic:L.isStatic,editNode:L.editNode,jsTipMap:L.jsTipMap,onSubmit:L.onSubmit}),L!=null&&L.isCollapsed?"":(0,y.jsx)(G.ZP,{type:"text",style:{position:"absolute",top:10,right:15,fontSize:20,textAlign:"center"},onClick:function(){L==null||L.onClose()},children:"x"})]})}var xe=pe,_e=e(9976),r=e(12490),U=function(t,_){var V,q,N,le,ee=_.getData(),ae=_.getPosition(),ie=t.getNodes(),z;if(["ExtSharp","polygon"].indexOf(_.shape)>-1&&ee!=null&&ee.config&&ee.config.type)switch(ee.config.type){case"switch":var de=200,te=t.addNode({shape:"switch",position:ae,width:de,height:50,ports:r.Tt,data:_.data,attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}});t.removeNode(_);var s=t.addNode({shape:"switch-case",position:{y:ae.y+100,x:ae.x-de/2},width:120,height:50,ports:r.Tt,data:{config:{type:"switch-case"}}}),c=t.addNode({shape:"switch-default",position:{y:ae.y+100,x:ae.x+de},width:120,height:50,ports:r.Tt,data:{config:{type:"switch-default"}}}),h=t.addEdge({source:te,sourcePort:(V=te.ports.items.find(function(T){return T.group=="bottom"}))===null||V===void 0?void 0:V.id,target:s,targetPort:(q=s.ports.items.find(function(T){return T.group=="top"}))===null||q===void 0?void 0:q.id,zIndex:0}),w=t.addEdge({source:te,sourcePort:(N=te.ports.items.find(function(T){return T.group=="bottom"}))===null||N===void 0?void 0:N.id,target:c,targetPort:(le=c.ports.items.find(function(T){return T.group=="top"}))===null||le===void 0?void 0:le.id,zIndex:0});z=te;break;case"switch-case":var p=t.createNode({shape:"switch-case",position:_.position(),width:120,height:50,ports:r.Tt,data:_.data});t.removeNode(_),t.addNode(p),z=p;break;case"string":var ne=t.createNode({shape:"string",position:_.position(),width:100,height:50,ports:r.Tt,data:_.data});t.removeNode(_),t.addNode(ne),z=ne;break;case"num":var x=t.createNode({shape:"num",position:_.position(),width:100,height:50,ports:r.Tt,data:_.data});t.removeNode(_),t.addNode(x),z=x;break;case"assignment":var ve=t.createNode({shape:"assignment",position:_.position(),width:220,height:50,ports:r.Tt,data:_.data});t.removeNode(_),t.addNode(ve),z=ve;break;default:break}if(["\u5DE5\u5E8F\u7EC4"].indexOf(_.getAttrByPath("text/text"))>-1&&(_.zIndex=-1),console.log("node:added"),z&&ie.length==1){var me,ue,he,be,ge;t.addEdge({source:ie[0],sourcePort:(me=ie[0].ports.items.find(function(T){return T.group=="bottom"}))===null||me===void 0?void 0:me.id,target:z,targetPort:(ue=z)===null||ue===void 0||(he=ue.ports)===null||he===void 0||(be=he.items)===null||be===void 0||(ge=be.find(function(T){return T.group=="top"}))===null||ge===void 0?void 0:ge.id,zIndex:0})}},R=e(71731),Z=null,X=a().createContext({}),H=function(t,_){for(var V=0,q=t.length;V<q;V+=1)t[V].style.visibility=_?"visible":"hidden"},se=function(t){var _,V,q=(0,u.useState)(),N=f()(q,2),le=N[0],ee=N[1],ae=(0,u.useState)(!t.showLeft),ie=f()(ae,2),z=ie[0],de=ie[1],te=(0,u.useState)(!t.showRight),s=f()(te,2),c=s[0],h=s[1],w=(0,u.useState)(t.panelData),p=f()(w,2),ne=p[0],x=p[1],ve=(0,u.useState)(),me=f()(ve,2),ue=me[0],he=me[1],be=(0,u.useState)(),ge=f()(be,2),T=ge[0],Te=ge[1],je=(0,u.useState)(),Se=f()(je,2),Oe=Se[0],Me=Se[1],Ae=(0,u.useState)(t.graphIns),Pe=f()(Ae,2),ce=Pe[0],Ue=Pe[1],Re=(0,u.useState)(),Ce=f()(Re,2),De=Ce[0],Ie=Ce[1];(0,u.useEffect)(function(){try{var O;if((O=t.panelData)!==null&&O!==void 0&&O.Shapes){var n;(n=t.panelData)===null||n===void 0||n.Shapes.forEach(function(Y){console.log("\u56FE\u5185\u90E8\u6CE8\u518C\u65B0\u8282\u70B9:"+Y.name),m.kJ.registerNode(Y.name,Y.config,!0)})}}catch(Y){console.error("\u6CE8\u518C\u8282\u70B9\u51FA\u9519\uFF1A"),console.error(Y)}},[(_=t.panelData)===null||_===void 0?void 0:_.Shapes]),(0,u.useEffect)(function(){ce&&(ce.options.connecting.createEdge=t.createEdge)},[t.createEdge]),(0,u.useEffect)(function(){T&&we(T)},[T]),(0,u.useEffect)(function(){if(ce&&t.graphJson)try{ce.fromJSON(t.graphJson),ce.centerContent()}catch(O){C.ZP.error("\u56FE\u6570\u636E\u6709\u8BEF\uFF0C\u5DF2\u5FFD\u7565"),console.error(O),console.log(t.graphJson)}},[t.graphJson]),(0,u.useEffect)(function(){de(!(t!=null&&t.showLeft))},[t.showLeft]);function we(O){if(console.log("initGraph"),!!O){var n=t.graphIns;if(n||(n=new m.kJ({container:O,embedding:{enabled:!0,findParent:function(g){var E=g.node,K=E.getBBox();return this.getNodes().filter(function(re){var Ee=re.getData();if(Ee&&Ee.parent){var Ne=re.getBBox();return K.isIntersectWithRect(Ne)}return!1})}},mousewheel:{enabled:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:15}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,allowMulti:!0,snap:{radius:20},createEdge:t.createEdge,validateConnection:function(g){var E=g.targetMagnet;return!!E}},background:{color:"#F2F7FA"},grid:!0})),n.use(new F.H({enabled:!0,sharp:!0})).use(new I.A({enabled:!0})).use(new k.Y({enabled:!0,multiple:!0,strict:!0,rubberband:!0,movable:!0,showNodeSelectionBox:!0,pointerEvents:"none"})).use(new S.T({enabled:!0})).use(new B.N).use(new i.T({enabled:!0})).use(new J.D).use(new R.w({resizing:{enabled:!0,minWidth:50,maxWidth:0,minHeight:50,maxHeight:0,orthogonal:!1,restrict:!1,preserveAspectRatio:!1}})).use(new d.a({container:Oe})),n.on("edge:dblclick",function(o){var g=o.cell}),n.on("edge:change:router",function(o){console.log("edge:change:router")}),n.on("edge:mouseenter",function(o){var g=o.cell;t.edgeTools&&t.edgeTools.forEach(function(E){switch(E){case"edge-editor":break;case"button-remove":g.addTools([{name:"button-remove",args:{attrs:{fill:"#fff",stroke:"#fff",r:10,cursor:"pointer"}}}]);break;case"segments":g.addTools(["segments"]);break;case"vertices":g.addTools(["vertices"]);break;default:break}})}),n.on("edge:mouseleave",function(o){var g=o.cell;g.removeTools()}),n.on("node:mouseenter",function(o){var g,E,K=o.cell;((g=K.data)===null||g===void 0||(E=g.config)===null||E===void 0?void 0:E.type)!="start"&&K.addTools([{name:"button-remove",args:{x:"100%",y:0,offset:{x:-10,y:10}}}]);var re=T==null?void 0:T.querySelectorAll(".x6-port-body");H(re,!0)}),n.on("node:mouseleave",function(o){var g=o.cell;g.removeTools();var E=T==null?void 0:T.querySelectorAll(".x6-port-body");H(E,!1)}),n.on("node:click",function(o){var g=o.e,E=o.x,K=o.y,re=o.node,Ee=o.view;re.removeTools(),ee(re)}),n.on("node:added",function(o){var g=o.node,E=o.index,K=o.options;U(n,g)}),n.on("node:dblclick",function(o){var g=o.e,E=o.x,K=o.y,re=o.node,Ee=o.view;h(!1),ee(re)}),n.bindKey(["meta+c","ctrl+c"],function(){var o=n.getSelectedCells();return o.length&&n.copy(o,{useLocalStorage:!0}),!1}),n.bindKey(["meta+v","ctrl+v"],function(){debugger;if(!n.isClipboardEmpty({useLocalStorage:!0})){var o=n.paste({offset:32,useLocalStorage:!0});n.cleanSelection(),n.select(o)}return!1}),n.bindKey(["meta+x","ctrl+x"],function(){var o=n.getSelectedCells();return o.length&&n.cut(o),!1}),n.bindKey(["meta+z","ctrl+z"],function(){return n.canUndo()&&n.undo(),!1}),n.bindKey(["meta+shift+z","ctrl+shift+z"],function(){return n.canRedo()&&n.redo(),!1}),n.bindKey("backspace",function(){var o=n.getSelectedCells();o.length&&(o.find(function(g){var E;return g.data?["start"].indexOf((E=g.data.config)===null||E===void 0?void 0:E.type)>-1:!1})?C.ZP.error("\u7981\u6B62\u5220\u9664\u5F00\u59CB\u8282\u70B9\uFF01"):n.removeCells(o))}),n.on("blank:click",function(o){var g=o.e,E=o.x,K=o.y;console.log("blank:click",E,K),h(!0)}),n.on("blank:dblclick",function(o){var g=o.e,E=o.x,K=o.y;console.log("blank:dbclick",E,K),t.autoLayout&&t.autoLayout(n)}),n.bindKey(["ctrl+1","meta+1"],function(){var o=n.zoom();o<1.5&&n.zoom(.1)}),n.bindKey(["ctrl+2","meta+2"],function(){var o=n.zoom();o>.5&&n.zoom(-.1)}),Ue(n),ne){var Y=ne.Groups,ye=new b.t({title:"\u5C55\u5F00/\u6536\u8D77",target:n,search:function(g,E){var K=g.getAttrByPath("text/text");return(K==null?void 0:K.indexOf(E))!==-1},notFoundText:"\u672A\u627E\u5230",collapsable:!0,stencilGraphWidth:250,groups:Y,layoutOptions:{rowHeight:100}});ue==null||ue.appendChild(ye.container),Ie(ye)}return t.graphJson&&Object.keys(t.graphJson).length>0?n.fromJSON(t.graphJson):t.onGraphJsonEmpty&&t.onGraphJsonEmpty(n),t.onGraphInsChange&&t.onGraphInsChange(n),n.centerContent(),n}}(0,u.useEffect)(function(){var O;if(De&&(O=t.panelData)!==null&&O!==void 0&&O.Nodes){var n={};t.panelData.Nodes.forEach(function(Y){var ye=ce.createNode(Y.getNodeConfig());t.panelData.Groups.forEach(function(o){Y.getGroups().includes(o.name)&&(n[o.name]?n[o.name].push(ye):n[o.name]=[ye])})}),Object.keys(n).forEach(function(Y){De.load(l()(n[Y]),Y)})}},[De,(V=t.panelData)===null||V===void 0?void 0:V.Nodes]);function Be(){t.onSave&&t.onSave(ce)}var Le=(0,u.useMemo)(function(){if(t.toolElements){var O;return(0,y.jsx)(P.Z.Header,{style:{padding:0,backgroundColor:"white"},children:(0,y.jsx)(Q.Z,{style:{height:"50px"},children:(O=t.toolElements)===null||O===void 0?void 0:O.map(function(n){return n})})})}else return(0,y.jsx)("span",{})},[t.toolElements]);return(0,y.jsx)(X.Provider,{value:t.editorCtx,children:(0,y.jsxs)(P.Z,{style:{height:"100vh",width:"100%",margin:0},children:[(0,y.jsx)(P.Z.Sider,{theme:"light",collapsed:z,collapsedWidth:0,width:250,ref:function(n){return he(n)}}),(0,y.jsxs)(P.Z,{style:{height:"100vh"},children:[Le,(0,y.jsxs)(P.Z.Content,{className:"app-content",children:[(0,y.jsx)(_e.Z,{ref:function(n){return Te(n)}}),(0,y.jsx)("div",{className:"app-minimap",ref:function(n){return Me(n)}})]})]}),(0,y.jsx)(P.Z.Sider,{theme:"light",collapsed:c,collapsedWidth:0,width:600,children:(0,y.jsx)(xe,{isStatic:t.isStatic,editNode:le,onSubmit:Be,jsTipMap:t.jsTipMap,onClose:function(){h(!0)},isCollapsed:c})})]})})},fe=se},9976:function(oe,M,e){e.d(M,{Z:function(){return f}});var A=e(87363),l=e(33130),j=(0,A.forwardRef)(function(v,D){return(0,l.jsx)("div",{className:"drag-graph",ref:D})}),f=j},34957:function(oe,M,e){var A=e(57213),l=e.n(A),j=e(54306),f=e.n(j),v=e(94990),D=e(87363),W=e.n(D),u=e(33130);M.Z=function(a){var m,i=(0,D.useState)(""),I=f()(i,2),B=I[0],k=I[1],F=(0,D.useState)({}),b=f()(F,2),S=b[0],J=b[1],d=function(P){var Q,G,$;(Q=a.editNode)===null||Q===void 0||Q.setAttrByPath("text/text",P.name);var y=(G=a.editNode)===null||G===void 0?void 0:G.data.config;a.editNode&&(console.log("update graph data",P),a.editNode.setData(l()(l()({},a.editNode.data),{},{config:l()(l()({},y),P)}),{overwrite:!0})),console.log("submit---props.editNode.data.config"),console.log(($=a.editNode)===null||$===void 0?void 0:$.data.config),a==null||a.onSubmit()};return(0,D.useEffect)(function(){if(a.editNode&&a.editNode.data){var C=a.editNode.data.config||{};k(a.editNode.data.configSchema||C.type)}},[a.editNode]),(0,D.useEffect)(function(){var C;if((C=a.editNode)!==null&&C!==void 0&&C.data){var P,Q,G=((P=a.editNode)===null||P===void 0?void 0:P.data.config)||{},$=l()({},G),y=(Q=a.editNode)===null||Q===void 0?void 0:Q.attrs;y&&y.text&&y.text.text&&($.name=y.text.text),J($)}},[(m=a.editNode)===null||m===void 0?void 0:m.data]),(0,u.jsx)(v.Z,{isStatic:a.isStatic,formId:B,values:l()({},S),onSubmit:d,jsTipMap:a.jsTipMap})}},12490:function(oe,M,e){e.d(M,{Hi:function(){return j},Tt:function(){return A}});var A={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]},l={groups:{right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"right"}]},j={groups:{bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"bottom"}]}},94990:function(oe,M,e){e.d(M,{Z:function(){return xe}});var A=e(57213),l=e.n(A),j=e(54306),f=e.n(j),v=e(87363),D=e.n(v),W=e(70256),u=e(70517),a=e(90010),m=e.n(a),i=e(23620),I=e(2069),B=e(37635),k=e.n(B),F=function _e(r){if(r=r==null)return r;var U="{";return Object.keys(r).forEach(function(R){var Z=r[R];U+="".concat(R,":"),Array.isArray(Z)?U+="[],":k()(Z)=="object"?U+=_e(Z)+",":typeof Z=="string"?U+="'".concat(Z,"',"):U+="".concat(Z,",")}),U+="}",U},b=function(r,U){var R="";U&&(Object.keys(U).forEach(function(X){var H=U[X];R+="".concat(X,":"),Array.isArray(H)?R+="[],":k()(H)=="object"?R+=F(H)+",":typeof H=="string"?R+="'".concat(H,"',"):R+="".concat(H,",")}),R=R.substring(0,R.length-1));var Z="const ".concat(r,"={").concat(R,"}");return Z},S=e(33358),J=e(49500),d=e(16123),C=e(69078),P=e(93797),Q=e(98896),G=e(33130),$=function(r){var U=(0,v.useContext)(P.E),R=(0,v.useState)(r==null?void 0:r.config),Z=f()(R,2),X=Z[0],H=Z[1],se=(0,v.useState)(r==null?void 0:r.values),fe=f()(se,2),L=fe[0],t=fe[1],_=U==null?void 0:U.jsTips,V=(0,v.useState)(),q=f()(V,2),N=q[0],le=q[1];function ee(s,c,h){s==="formSubmited"?(console.log("\u5185\u90E8\u8868\u5355\u63D0\u4EA4\u4E86",h),r.onSubmit(h)):console.log("\u5185\u90E8\u8868\u5355\u89E6\u53D1\u4E86Broadcast",h)}(0,v.useEffect)(function(){(0,Q.m)(u.Z)},[]),(0,v.useEffect)(function(){if(r.config&&r.config.body){var s,c=r.config.body[0];(s=c.body)===null||s===void 0||s.forEach(function(w){te(w)});var h=N==null?void 0:N.getComponentByName("page1.form1");h==null||h.props.store.clear(),H(r.config)}},[r.config]),(0,v.useEffect)(function(){var s=N==null?void 0:N.getComponentByName("page1.form1");s==null||s.props.store.clear(),s==null||s.props.store.setValues(r.values)},[X]),(0,v.useEffect)(function(){var s=N==null?void 0:N.getComponentByName("page1.form1");s==null||s.props.store.clear(),s==null||s.props.store.setValues(r.values),t(r.values)},[r.values]);var ae=(0,v.useState)(),ie=f()(ae,2),z=ie[0],de=ie[1];function te(s){s.type=="editor"&&s.language=="javascript"?s.editorDidMount=function(c,h){return de(h),_&&Object.keys(_).forEach(function(w){var p=b(w,JSON.parse(_[w]));h==null||h.languages.typescript.javascriptDefaults.addExtraLib(p,"".concat(w,".ts"))}),function(){try{var w,p;console.log("effect dispose"),c==null||c.dispose(),c==null||(w=c.current)===null||w===void 0||w.dispose(),h==null||(p=h.current)===null||p===void 0||p.dispose()}catch(ne){console.error("error in findEditorItem"),console.error(ne)}}}:s.body&&s.body.forEach(function(c){te(c)})}return(0,v.useEffect)(function(){_&&Object.keys(_).forEach(function(s){var c=b(s,JSON.parse(_[s]));z==null||z.languages.typescript.javascriptDefaults.addExtraLib(c,"".concat(s,".ts"))})},[_]),(0,G.jsxs)("div",{children:[(0,G.jsx)(I.qR,{theme:"cxd",position:"top-right",locale:"zh-CN"},"toast"),(0,G.jsx)(I.wx,{theme:"cxd",locale:"zh-CN"},"alert"),(0,i.sYA)(X,{onBroadcast:ee,data:L,scopeRef:function(c){return le(c)}},{fetcher:function(c){var h=c.url,w=c.method,p=c.data,ne=c.responseType,x=c.config,ve=c.headers;return x=x||{},x.withCredentials=!0,ne&&(x.responseType=ne),x.cancelExecutor&&(x.cancelToken=new u.Z.CancelToken(x.cancelExecutor)),x.headers=ve||{},x.headers.Authorization||(x.headers.Authorization="Bearer "+C.F.getTokenFormLocal()),w!=="post"&&w!=="put"&&w!=="patch"?(p&&(x.params=p),u.Z[w](h,x)):(p&&p instanceof FormData?(x.headers=x.headers||{},x.headers["Content-Type"]="multipart/form-data"):p&&typeof p!="string"&&!(p instanceof Blob)&&!(p instanceof ArrayBuffer)&&(p=JSON.stringify(p),x.headers=x.headers||{},x.headers["Content-Type"]="application/json"),u.Z[w](h,p,x))},isCancel:function(c){return u.Z.isCancel(c)},copy:function(c){m()(c),I.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:"cxd",jumpTo:function(c,h){debugger;h.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+c,"_blank"):window.location.hash=c}})]})},y=D().memo($),pe=function(r){var U=(0,v.useState)({type:"page"}),R=f()(U,2),Z=R[0],X=R[1];return(0,v.useEffect)(function(){if(r.formId){var H=r.isStatic?r.formId+"-static":r.formId;(0,W.CD)(H).then(function(se){X(se)}).catch(function(se){console.log(se),(0,W.CD)(r.formId).then(function(fe){X(fe)})})}},[r.formId]),(0,G.jsx)("div",{children:(0,G.jsx)(y,l()(l()({},r),{},{config:Z}))})},xe=pe},98896:function(oe,M,e){e.d(M,{m:function(){return v}});var A=e(25359),l=e.n(A),j=e(49811),f=e.n(j);function v(W){return D.apply(this,arguments)}function D(){return D=f()(l()().mark(function W(u){return l()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:u.interceptors.response.use(function(i){return console.log("axios response"),console.log(i),i&&i.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),i.data.error||(i.data.error={code:0}),i.data.code==500&&(i.data.error={code:500,message:i.data.msg}),i.data.data&&i.data.data.records&&(i.data.data.items=i.data.data.records),i):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(i.data),Promise.reject(new Error(i.data.message)))},function(i){if(console.log("\u6355\u6349axios error"),console.log(i),i.response&&i.response.data){var I,B=i.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((I=i.response.data.error)===null||I===void 0?void 0:I.code)==0&&(i.response.data.error.code=500),console.log(B),B}return Promise.reject(i)});case 1:case"end":return m.stop()}},W)})),D.apply(this,arguments)}},69078:function(oe,M,e){e.d(M,{F:function(){return A}});var A={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(j){return localStorage.setItem("token",j)}}},85002:function(oe,M,e){e.d(M,{Z:function(){return m}});var A=e(25359),l=e.n(A),j=e(49811),f=e.n(j),v=e(21140),D=e.n(v),W=e(63466),u=e.n(W),a=e(57475),m=function(){function i(){D()(this,i)}return u()(i,null,[{key:"getAssetFromDb",value:function(){var I=f()(l()().mark(function k(F,b){var S;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,a.U2)("/api/ide/settings/asset/".concat(F,"/").concat(b));case 2:return S=d.sent.data,d.abrupt("return",JSON.parse(S.data.config));case 4:case"end":return d.stop()}},k)}));function B(k,F){return I.apply(this,arguments)}return B}()},{key:"saveAssetToDb",value:function(){var I=f()(l()().mark(function k(F,b,S){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,a.v_)("/api/ide/settings/asset/".concat(F,"/").concat(b),S));case 1:case"end":return d.stop()}},k)}));function B(k,F,b){return I.apply(this,arguments)}return B}()}]),i}()},70256:function(oe,M,e){e.d(M,{CD:function(){return m},UD:function(){return u},n4:function(){return I},wx:function(){return k}});var A=e(25359),l=e.n(A),j=e(49811),f=e.n(j),v=e(31837),D=e(85002),W=e(57475);function u(b){return a.apply(this,arguments)}function a(){return a=f()(l()().mark(function b(S){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:debugger;if(v.j.getModel()!="db"){d.next=5;break}return d.abrupt("return",D.Z.getAssetFromDb("page",S));case 5:return d.next=7,(0,W.U2)("/setting/pages/".concat(S,".json"));case 7:return d.abrupt("return",d.sent.data);case 8:case"end":return d.stop()}},b)})),a.apply(this,arguments)}function m(b){return i.apply(this,arguments)}function i(){return i=f()(l()().mark(function b(S){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(v.j.getModel()!="db"){d.next=4;break}return d.abrupt("return",D.Z.getAssetFromDb("form",S));case 4:return d.next=6,(0,W.U2)("/setting/forms/".concat(S,".json"));case 6:return d.abrupt("return",d.sent.data);case 7:case"end":return d.stop()}},b)})),i.apply(this,arguments)}function I(b,S){return B.apply(this,arguments)}function B(){return B=f()(l()().mark(function b(S,J){return l()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(v.j.getModel()!="db"){C.next=4;break}return C.abrupt("return",D.Z.getAssetFromDb(S,J));case 4:return C.next=6,(0,W.U2)("/setting/".concat(S,"s/").concat(J,".json"));case 6:return C.abrupt("return",C.sent.data);case 7:case"end":return C.stop()}},b)})),B.apply(this,arguments)}function k(b,S,J){return F.apply(this,arguments)}function F(){return F=f()(l()().mark(function b(S,J,d){return l()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(v.j.getModel()!="db"){P.next=2;break}return P.abrupt("return",D.Z.saveAssetToDb(S,J,d));case 2:case"end":return P.stop()}},b)})),F.apply(this,arguments)}},57475:function(oe,M,e){e.d(M,{U2:function(){return f},v_:function(){return W}});var A=e(57213),l=e.n(A),j=e(70517);function f(a,m){return j.Z.get(a,u(m))}function v(a,m,i){return axios.put(a,m,u(i))}function D(a,m){return axios.delete(a,u(m))}function W(a,m,i){return j.Z.post(a,m,u(i))}function u(a){var m={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(m.Authorization=localStorage.getItem("token")),l()(l()({},a),{},{headers:l()(l()({},m),a==null?void 0:a.headers)})}}}]);
