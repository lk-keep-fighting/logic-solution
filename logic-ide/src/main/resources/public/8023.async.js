"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[8023],{93797:function(ie,M,e){e.d(M,{E:function(){return $},Z:function(){return ve}});var A=e(93525),l=e.n(A),C=e(54306),f=e.n(C),m=e(63466),x=e(21140),N=e(52510),u=e(87363),a=e.n(u),h=e(5671),i=e(9722),I=e(17696),B=e(19227),k=e(75476),W=e(1167),b=e(22046),D=e(22150),Z=e(11250),d=e(89357),T=e(83217),S=e(23360),X=e(4283),H=e(54145),ee=e(34957),y=e(33130);function pe(L){return(0,y.jsxs)("div",{style:{margin:0,height:"95vh",overflowY:"scroll"},children:[(0,y.jsx)(ee.Z,{isStatic:L.isStatic,editNode:L.editNode,jsTipMap:L.jsTipMap,onSubmit:L.onSubmit}),L!=null&&L.isCollapsed?"":(0,y.jsx)(H.ZP,{type:"text",style:{position:"absolute",top:10,right:15,fontSize:20,textAlign:"center"},onClick:function(){L==null||L.onClose()},children:"x"})]})}var xe=pe,fe=e(9976),r=e(12490),U=function(t,_){var Y,Q,F,le,re=_.getData(),te=_.getPosition(),de=t.getNodes(),K;if(["ExtSharp","polygon"].indexOf(_.shape)>-1&&re!=null&&re.config&&re.config.type)switch(re.config.type){case"switch":var _e=200,ne=t.addNode({shape:"switch",position:te,width:_e,height:50,ports:r.Tt,data:_.data,attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}});t.removeNode(_);var s=t.addNode({shape:"switch-case",position:{y:te.y+100,x:te.x-_e/2},width:120,height:50,ports:r.Tt,data:{config:{type:"switch-case"}}}),c=t.addNode({shape:"switch-default",position:{y:te.y+100,x:te.x+_e},width:120,height:50,ports:r.Tt,data:{config:{type:"switch-default"}}}),E=t.addEdge({source:ne,sourcePort:(Y=ne.ports.items.find(function(z){return z.group=="bottom"}))===null||Y===void 0?void 0:Y.id,target:s,targetPort:(Q=s.ports.items.find(function(z){return z.group=="top"}))===null||Q===void 0?void 0:Q.id,zIndex:0}),j=t.addEdge({source:ne,sourcePort:(F=ne.ports.items.find(function(z){return z.group=="bottom"}))===null||F===void 0?void 0:F.id,target:c,targetPort:(le=c.ports.items.find(function(z){return z.group=="top"}))===null||le===void 0?void 0:le.id,zIndex:0});K=ne;break;case"switch-case":var P=t.createNode({shape:"switch-case",position:_.position(),width:120,height:50,ports:r.Tt,data:_.data});t.removeNode(_),t.addNode(P),K=P;break;case"string":var oe=t.createNode({shape:"string",position:_.position(),width:100,height:50,ports:r.Tt,data:_.data});t.removeNode(_),t.addNode(oe),K=oe;break;case"num":var p=t.createNode({shape:"num",position:_.position(),width:100,height:50,ports:r.Tt,data:_.data});t.removeNode(_),t.addNode(p),K=p;break;case"assignment":var ge=t.createNode({shape:"assignment",position:_.position(),width:220,height:50,ports:r.Tt,data:_.data});t.removeNode(_),t.addNode(ge),K=ge;break;default:break}if(["\u5DE5\u5E8F\u7EC4"].indexOf(_.getAttrByPath("text/text"))>-1&&(_.zIndex=-1),console.log("node:added"),K&&de.length==1){var he,me,ae,be,ye;t.addEdge({source:de[0],sourcePort:(he=de[0].ports.items.find(function(z){return z.group=="bottom"}))===null||he===void 0?void 0:he.id,target:K,targetPort:(me=K)===null||me===void 0||(ae=me.ports)===null||ae===void 0||(be=ae.items)===null||be===void 0||(ye=be.find(function(z){return z.group=="top"}))===null||ye===void 0?void 0:ye.id,zIndex:0})}},R=e(71731),J=null,$=a().createContext({}),V=function(t,_){for(var Y=0,Q=t.length;Y<Q;Y+=1)t[Y].style.visibility=_?"visible":"hidden"},ce=function(t){var _,Y,Q,F=(0,u.useState)(),le=f()(F,2),re=le[0],te=le[1],de=(0,u.useState)(!t.showLeft),K=f()(de,2),_e=K[0],ne=K[1],s=(0,u.useState)(!t.showRight),c=f()(s,2),E=c[0],j=c[1],P=(0,u.useState)(t.panelData),oe=f()(P,2),p=oe[0],ge=oe[1],he=(0,u.useState)(),me=f()(he,2),ae=me[0],be=me[1],ye=(0,u.useState)(),z=f()(ye,2),se=z[0],Ce=z[1],Te=(0,u.useState)(),De=f()(Te,2),je=De[0],Oe=De[1],Me=(0,u.useState)(t.graphIns),Se=f()(Me,2),ue=Se[0],Ae=Se[1],Ue=(0,u.useState)(),Pe=f()(Ue,2),Le=Pe[0],Re=Pe[1];(0,u.useEffect)(function(){try{var O;if((O=t.panelData)!==null&&O!==void 0&&O.Shapes){var n;(n=t.panelData)===null||n===void 0||n.Shapes.forEach(function(o){console.log("\u56FE\u5185\u90E8\u6CE8\u518C\u65B0\u8282\u70B9:"+o.name),h.kJ.registerNode(o.name,o.config,!0)})}}catch(o){console.error("\u6CE8\u518C\u8282\u70B9\u51FA\u9519\uFF1A"),console.error(o)}},[(_=t.panelData)===null||_===void 0?void 0:_.Shapes]),(0,u.useEffect)(function(){ue&&(ue.options.connecting.createEdge=t.createEdge)},[t.createEdge]),(0,u.useEffect)(function(){se&&Ie(se)},[se]),(0,u.useEffect)(function(){if(ue&&t.graphJson)try{ue.fromJSON(t.graphJson),ue.centerContent()}catch(O){T.ZP.error("\u56FE\u6570\u636E\u6709\u8BEF\uFF0C\u5DF2\u5FFD\u7565"),console.error(O),console.log(t.graphJson)}},[t.graphJson]),(0,u.useEffect)(function(){ne(!(t!=null&&t.showLeft))},[t.showLeft]);function Ie(O){if(console.log("initGraph"),!!O){var n=t.graphIns;return n||(n=new h.kJ({container:O,embedding:{enabled:!0,findParent:function(v){var g=v.node,w=g.getBBox();return this.getNodes().filter(function(G){var q=G.getData();if(q&&q.parent){var Ee=G.getBBox();return w.isIntersectWithRect(Ee)}return!1})}},mousewheel:{enabled:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:15}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,allowMulti:!0,snap:{radius:20},createEdge:t.createEdge,validateConnection:function(v){var g=v.targetMagnet;return!!g}},background:{color:"#fff"},grid:!0})),n.use(new W.H({enabled:!0,sharp:!0})).use(new I.A({enabled:!0})).use(new k.Y({enabled:!0,multiple:!0,strict:!0,rubberband:!0,movable:!0,showNodeSelectionBox:!0,pointerEvents:"none"})).use(new D.T({enabled:!0})).use(new B.N).use(new i.T({enabled:!0})).use(new Z.D).use(new R.w({resizing:{enabled:!0,minWidth:50,maxWidth:0,minHeight:50,maxHeight:0,orthogonal:!1,restrict:!1,preserveAspectRatio:!1}})).use(new d.a({container:je})),n.on("edge:dblclick",function(o){var v=o.cell}),n.on("edge:change:router",function(o){console.log("edge:change:router")}),n.on("edge:mouseenter",function(o){var v=o.cell;t.edgeTools&&t.edgeTools.forEach(function(g){switch(g){case"edge-editor":break;case"button-remove":v.addTools([{name:"button-remove",args:{attrs:{fill:"#fff",stroke:"#fff",r:10,cursor:"pointer"}}}]);break;case"segments":v.addTools(["segments"]);break;case"vertices":v.addTools(["vertices"]);break;default:break}})}),n.on("edge:mouseleave",function(o){var v=o.cell;v.removeTools()}),n.on("node:mouseenter",function(o){var v,g,w=o.cell;((v=w.data)===null||v===void 0||(g=v.config)===null||g===void 0?void 0:g.type)!="start"&&w.addTools([{name:"button-remove",args:{x:"100%",y:0,offset:{x:-10,y:10}}}]);var G=se==null?void 0:se.querySelectorAll(".x6-port-body");V(G,!0)}),n.on("node:mouseleave",function(o){var v=o.cell;v.removeTools();var g=se==null?void 0:se.querySelectorAll(".x6-port-body");V(g,!1)}),n.on("node:click",function(o){var v=o.e,g=o.x,w=o.y,G=o.node,q=o.view;G.removeTools(),te(G)}),n.on("node:added",function(o){var v=o.node,g=o.index,w=o.options;U(n,v)}),n.on("node:dblclick",function(o){var v=o.e,g=o.x,w=o.y,G=o.node,q=o.view;j(!1),te(G)}),n.bindKey(["meta+c","ctrl+c"],function(){var o=n.getSelectedCells();return o.length&&n.copy(o,{useLocalStorage:!0}),!1}),n.bindKey(["meta+v","ctrl+v"],function(){debugger;if(!n.isClipboardEmpty({useLocalStorage:!0})){var o=n.paste({offset:32,useLocalStorage:!0});n.cleanSelection(),n.select(o)}return!1}),n.bindKey(["meta+x","ctrl+x"],function(){var o=n.getSelectedCells();return o.length&&n.cut(o),!1}),n.bindKey(["meta+z","ctrl+z"],function(){return n.canUndo()&&n.undo(),!1}),n.bindKey(["meta+shift+z","ctrl+shift+z"],function(){return n.canRedo()&&n.redo(),!1}),n.bindKey("backspace",function(){var o=n.getSelectedCells();o.length&&(o.find(function(v){var g;return v.data?["start"].indexOf((g=v.data.config)===null||g===void 0?void 0:g.type)>-1:!1})?T.ZP.error("\u7981\u6B62\u5220\u9664\u5F00\u59CB\u8282\u70B9\uFF01"):n.removeCells(o))}),n.on("blank:click",function(o){var v=o.e,g=o.x,w=o.y;console.log("blank:click",g,w),j(!0)}),n.on("blank:dblclick",function(o){var v=o.e,g=o.x,w=o.y;console.log("blank:dbclick",g,w),t.autoLayout&&t.autoLayout(n)}),n.bindKey(["ctrl+1","meta+1"],function(){var o=n.zoom();o<1.5&&n.zoom(.1)}),n.bindKey(["ctrl+2","meta+2"],function(){var o=n.zoom();o>.5&&n.zoom(-.1)}),Ae(n),t.graphJson&&Object.keys(t.graphJson).length>0?n.fromJSON(t.graphJson):t.onGraphJsonEmpty&&t.onGraphJsonEmpty(n),t.onGraphInsChange&&t.onGraphInsChange(n),n.centerContent(),n}}(0,u.useEffect)(function(){var O;if((O=t.panelData)!==null&&O!==void 0&&O.Groups&&t.panelData.Nodes){var n,o,v=new b.t({title:"\u5C55\u5F00/\u6536\u8D77",target:ue,search:function(G,q){var Ee=G.getAttrByPath("text/text");return(Ee==null?void 0:Ee.indexOf(q))!==-1},placeholder:"\u641C\u7D22\u8282\u70B9",notFoundText:"\u672A\u627E\u5230",collapsable:!0,stencilGraphWidth:250,groups:(n=t.panelData)===null||n===void 0?void 0:n.Groups,layoutOptions:{rowHeight:100}}),g={};t.panelData.Nodes.forEach(function(w){var G=ue.createNode(w.getNodeConfig());t.panelData.Groups.forEach(function(q){w.getGroups().includes(q.name)&&(g[q.name]?g[q.name].push(G):g[q.name]=[G])})}),Object.keys(g).forEach(function(w){v.load(l()(g[w]),w)}),ae==null||(o=ae.children.item(0))===null||o===void 0||o.remove(),ae==null||ae.appendChild(v.container),Re(v)}},[(Y=t.panelData)===null||Y===void 0?void 0:Y.Nodes,(Q=t.panelData)===null||Q===void 0?void 0:Q.Groups]);function we(){t.onSave&&t.onSave(ue)}var Be=(0,u.useMemo)(function(){if(t.toolElements){var O;return(0,y.jsx)(S.Z.Header,{style:{padding:0,backgroundColor:"white"},children:(0,y.jsx)(X.Z,{style:{height:"50px"},children:(O=t.toolElements)===null||O===void 0?void 0:O.map(function(n){return n})})})}else return(0,y.jsx)("span",{})},[t.toolElements]);return(0,y.jsx)($.Provider,{value:t.editorCtx,children:(0,y.jsxs)(S.Z,{style:{height:"100vh",width:"100%",margin:0},children:[Be,(0,y.jsxs)(S.Z,{style:{height:"100vh"},children:[(0,y.jsx)(S.Z.Sider,{theme:"light",collapsed:_e,collapsedWidth:0,width:250,ref:function(n){return be(n)}}),(0,y.jsxs)(S.Z.Content,{className:"app-content",children:[(0,y.jsx)(fe.Z,{ref:function(n){return Ce(n)}}),(0,y.jsx)("div",{className:"app-minimap",ref:function(n){return Oe(n)}})]}),(0,y.jsx)(S.Z.Sider,{theme:"light",collapsed:E,collapsedWidth:0,width:600,children:(0,y.jsx)(xe,{isStatic:t.isStatic,editNode:re,onSubmit:we,jsTipMap:t.jsTipMap,onClose:function(){j(!0)},isCollapsed:E})})]})]})})},ve=ce},9976:function(ie,M,e){e.d(M,{Z:function(){return f}});var A=e(87363),l=e(33130),C=(0,A.forwardRef)(function(m,x){return(0,l.jsx)("div",{className:"drag-graph",ref:x})}),f=C},34957:function(ie,M,e){var A=e(57213),l=e.n(A),C=e(54306),f=e.n(C),m=e(94990),x=e(87363),N=e.n(x),u=e(33130);M.Z=function(a){var h,i=(0,x.useState)(""),I=f()(i,2),B=I[0],k=I[1],W=(0,x.useState)({}),b=f()(W,2),D=b[0],Z=b[1],d=function(S){var X,H,ee;(X=a.editNode)===null||X===void 0||X.setAttrByPath("text/text",S.name);var y=(H=a.editNode)===null||H===void 0?void 0:H.data.config;a.editNode&&(console.log("update graph data",S),a.editNode.setData(l()(l()({},a.editNode.data),{},{config:l()(l()({},y),S)}),{overwrite:!0})),console.log("submit---props.editNode.data.config"),console.log((ee=a.editNode)===null||ee===void 0?void 0:ee.data.config),a==null||a.onSubmit()};return(0,x.useEffect)(function(){if(a.editNode&&a.editNode.data){var T=a.editNode.data.config||{};k(a.editNode.data.configSchema||T.type)}},[a.editNode]),(0,x.useEffect)(function(){var T;if((T=a.editNode)!==null&&T!==void 0&&T.data){var S,X,H=((S=a.editNode)===null||S===void 0?void 0:S.data.config)||{},ee=l()({},H),y=(X=a.editNode)===null||X===void 0?void 0:X.attrs;y&&y.text&&y.text.text&&(ee.name=y.text.text),Z(ee)}},[(h=a.editNode)===null||h===void 0?void 0:h.data]),(0,u.jsx)(m.Z,{isStatic:a.isStatic,formId:B,values:l()({},D),onSubmit:d,jsTipMap:a.jsTipMap})}},12490:function(ie,M,e){e.d(M,{Hi:function(){return C},Tt:function(){return A}});var A={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]},l={groups:{right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"right"}]},C={groups:{bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"bottom"}]}},94990:function(ie,M,e){e.d(M,{Z:function(){return xe}});var A=e(57213),l=e.n(A),C=e(54306),f=e.n(C),m=e(87363),x=e.n(m),N=e(70256),u=e(70517),a=e(90010),h=e.n(a),i=e(23620),I=e(2069),B=e(37635),k=e.n(B),W=function fe(r){if(r=r==null)return r;var U="{";return Object.keys(r).forEach(function(R){var J=r[R];U+="".concat(R,":"),Array.isArray(J)?U+="[],":k()(J)=="object"?U+=fe(J)+",":typeof J=="string"?U+="'".concat(J,"',"):U+="".concat(J,",")}),U+="}",U},b=function(r,U){var R="";U&&(Object.keys(U).forEach(function($){var V=U[$];R+="".concat($,":"),Array.isArray(V)?R+="[],":k()(V)=="object"?R+=W(V)+",":typeof V=="string"?R+="'".concat(V,"',"):R+="".concat(V,",")}),R=R.substring(0,R.length-1));var J="const ".concat(r,"={").concat(R,"}");return J},D=e(33358),Z=e(49500),d=e(16123),T=e(69078),S=e(93797),X=e(98896),H=e(33130),ee=function(r){var U=(0,m.useContext)(S.E),R=(0,m.useState)(r==null?void 0:r.config),J=f()(R,2),$=J[0],V=J[1],ce=(0,m.useState)(r==null?void 0:r.values),ve=f()(ce,2),L=ve[0],t=ve[1],_=U==null?void 0:U.jsTips,Y=(0,m.useState)(),Q=f()(Y,2),F=Q[0],le=Q[1];function re(s,c,E){s==="formSubmited"?(console.log("\u5185\u90E8\u8868\u5355\u63D0\u4EA4\u4E86",E),r.onSubmit(E)):console.log("\u5185\u90E8\u8868\u5355\u89E6\u53D1\u4E86Broadcast",E)}(0,m.useEffect)(function(){(0,X.m)(u.Z)},[]),(0,m.useEffect)(function(){if(r.config&&r.config.body){var s,c=r.config.body[0];(s=c.body)===null||s===void 0||s.forEach(function(j){ne(j)});var E=F==null?void 0:F.getComponentByName("page1.form1");E==null||E.props.store.clear(),V(r.config)}},[r.config]),(0,m.useEffect)(function(){var s=F==null?void 0:F.getComponentByName("page1.form1");s==null||s.props.store.clear(),s==null||s.props.store.setValues(r.values)},[$]),(0,m.useEffect)(function(){var s=F==null?void 0:F.getComponentByName("page1.form1");s==null||s.props.store.clear(),s==null||s.props.store.setValues(r.values),t(r.values)},[r.values]);var te=(0,m.useState)(),de=f()(te,2),K=de[0],_e=de[1];function ne(s){s.type=="editor"&&s.language=="javascript"?s.editorDidMount=function(c,E){return _e(E),_&&Object.keys(_).forEach(function(j){var P=b(j,JSON.parse(_[j]));E==null||E.languages.typescript.javascriptDefaults.addExtraLib(P,"".concat(j,".ts"))}),function(){try{var j,P;console.log("effect dispose"),c==null||c.dispose(),c==null||(j=c.current)===null||j===void 0||j.dispose(),E==null||(P=E.current)===null||P===void 0||P.dispose()}catch(oe){console.error("error in findEditorItem"),console.error(oe)}}}:s.body&&s.body.forEach(function(c){ne(c)})}return(0,m.useEffect)(function(){_&&Object.keys(_).forEach(function(s){var c=b(s,JSON.parse(_[s]));K==null||K.languages.typescript.javascriptDefaults.addExtraLib(c,"".concat(s,".ts"))})},[_]),(0,H.jsxs)("div",{children:[(0,H.jsx)(I.qR,{theme:"cxd",position:"top-right",locale:"zh-CN"},"toast"),(0,H.jsx)(I.wx,{theme:"cxd",locale:"zh-CN"},"alert"),(0,i.sYA)($,{onBroadcast:re,data:L,scopeRef:function(c){return le(c)}},{fetcher:function(c){var E=c.url,j=c.method,P=c.data,oe=c.responseType,p=c.config,ge=c.headers;return p=p||{},p.withCredentials=!0,oe&&(p.responseType=oe),p.cancelExecutor&&(p.cancelToken=new u.Z.CancelToken(p.cancelExecutor)),p.headers=ge||{},p.headers.Authorization||(p.headers.Authorization="Bearer "+T.F.getTokenFormLocal()),j!=="post"&&j!=="put"&&j!=="patch"?(P&&(p.params=P),u.Z[j](E,p)):(P&&P instanceof FormData?(p.headers=p.headers||{},p.headers["Content-Type"]="multipart/form-data"):P&&typeof P!="string"&&!(P instanceof Blob)&&!(P instanceof ArrayBuffer)&&(P=JSON.stringify(P),p.headers=p.headers||{},p.headers["Content-Type"]="application/json"),u.Z[j](E,P,p))},isCancel:function(c){return u.Z.isCancel(c)},copy:function(c){h()(c),I.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:"cxd",jumpTo:function(c,E){debugger;E.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+c,"_blank"):window.location.hash=c}})]})},y=x().memo(ee),pe=function(r){var U=(0,m.useState)({type:"page"}),R=f()(U,2),J=R[0],$=R[1];return(0,m.useEffect)(function(){if(r.formId){var V=r.isStatic?r.formId+"-static":r.formId;(0,N.CD)(V).then(function(ce){$(ce)}).catch(function(ce){console.log(ce),(0,N.CD)(r.formId).then(function(ve){$(ve)})})}},[r.formId]),(0,H.jsx)("div",{children:(0,H.jsx)(y,l()(l()({},r),{},{config:J}))})},xe=pe},98896:function(ie,M,e){e.d(M,{m:function(){return m}});var A=e(25359),l=e.n(A),C=e(49811),f=e.n(C);function m(N){return x.apply(this,arguments)}function x(){return x=f()(l()().mark(function N(u){return l()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:u.interceptors.response.use(function(i){return console.log("axios response"),console.log(i),i&&i.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),i.data.error||(i.data.error={code:0}),i.data.code==500&&(i.data.error={code:500,message:i.data.msg}),i.data.data&&i.data.data.records&&(i.data.data.items=i.data.data.records),i):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(i.data),Promise.reject(new Error(i.data.message)))},function(i){if(console.log("\u6355\u6349axios error"),console.log(i),i.response&&i.response.data){var I,B=i.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((I=i.response.data.error)===null||I===void 0?void 0:I.code)==0&&(i.response.data.error.code=500),console.log(B),B}return Promise.reject(i)});case 1:case"end":return h.stop()}},N)})),x.apply(this,arguments)}},69078:function(ie,M,e){e.d(M,{F:function(){return A}});var A={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(C){return localStorage.setItem("token",C)}}},85002:function(ie,M,e){e.d(M,{Z:function(){return h}});var A=e(25359),l=e.n(A),C=e(49811),f=e.n(C),m=e(21140),x=e.n(m),N=e(63466),u=e.n(N),a=e(57475),h=function(){function i(){x()(this,i)}return u()(i,null,[{key:"getAssetFromDb",value:function(){var I=f()(l()().mark(function k(W,b){var D;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,a.U2)("/api/ide/settings/asset/".concat(W,"/").concat(b));case 2:return D=d.sent.data,d.abrupt("return",JSON.parse(D.data.config));case 4:case"end":return d.stop()}},k)}));function B(k,W){return I.apply(this,arguments)}return B}()},{key:"saveAssetToDb",value:function(){var I=f()(l()().mark(function k(W,b,D){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,a.v_)("/api/ide/settings/asset/".concat(W,"/").concat(b),D));case 1:case"end":return d.stop()}},k)}));function B(k,W,b){return I.apply(this,arguments)}return B}()}]),i}()},70256:function(ie,M,e){e.d(M,{CD:function(){return h},UD:function(){return u},n4:function(){return I},wx:function(){return k}});var A=e(25359),l=e.n(A),C=e(49811),f=e.n(C),m=e(31837),x=e(85002),N=e(57475);function u(b){return a.apply(this,arguments)}function a(){return a=f()(l()().mark(function b(D){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:debugger;if(m.j.getModel()!="db"){d.next=5;break}return d.abrupt("return",x.Z.getAssetFromDb("page",D));case 5:return d.next=7,(0,N.U2)("/setting/pages/".concat(D,".json"));case 7:return d.abrupt("return",d.sent.data);case 8:case"end":return d.stop()}},b)})),a.apply(this,arguments)}function h(b){return i.apply(this,arguments)}function i(){return i=f()(l()().mark(function b(D){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(m.j.getModel()!="db"){d.next=4;break}return d.abrupt("return",x.Z.getAssetFromDb("form",D));case 4:return d.next=6,(0,N.U2)("/setting/forms/".concat(D,".json"));case 6:return d.abrupt("return",d.sent.data);case 7:case"end":return d.stop()}},b)})),i.apply(this,arguments)}function I(b,D){return B.apply(this,arguments)}function B(){return B=f()(l()().mark(function b(D,Z){return l()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(m.j.getModel()!="db"){T.next=4;break}return T.abrupt("return",x.Z.getAssetFromDb(D,Z));case 4:return T.next=6,(0,N.U2)("/setting/".concat(D,"s/").concat(Z,".json"));case 6:return T.abrupt("return",T.sent.data);case 7:case"end":return T.stop()}},b)})),B.apply(this,arguments)}function k(b,D,Z){return W.apply(this,arguments)}function W(){return W=f()(l()().mark(function b(D,Z,d){return l()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(m.j.getModel()!="db"){S.next=2;break}return S.abrupt("return",x.Z.saveAssetToDb(D,Z,d));case 2:case"end":return S.stop()}},b)})),W.apply(this,arguments)}},57475:function(ie,M,e){e.d(M,{U2:function(){return f},gz:function(){return m},v_:function(){return N}});var A=e(57213),l=e.n(A),C=e(70517);function f(a,h){return C.Z.get(a,u(h))}function m(a,h,i){return C.Z.put(a,h,u(i))}function x(a,h){return axios.delete(a,u(h))}function N(a,h,i){return C.Z.post(a,h,u(i))}function u(a){var h={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(h.Authorization="Bearer "+localStorage.getItem("token")),l()(l()({},a),{},{headers:l()(l()({},h),a==null?void 0:a.headers)})}}}]);
