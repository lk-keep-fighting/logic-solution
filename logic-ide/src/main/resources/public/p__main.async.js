"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[5233],{44132:function(T,p,e){var v=e(57213),t=e.n(v),D=e(54306),l=e.n(D),u=e(70517),g=e(90010),b=e.n(g),m=e(23620),s=e(2069),a=e(87363),n=e.n(a),i=e(70256),P=e(33358),M=e(49500),d=e(16123),o=e(78057),r=e(69078),f=e(98896),_=e(32126),c=e(31837),U=e(33130),y=function(I){var x=(0,a.useState)({type:"page"}),B=l()(x,2),S=B[0],J=B[1],k=(0,a.useState)(),j=l()(k,2),F=j[0],Z=j[1],G=(0,a.useState)(),w=l()(G,2),z=w[0],Y=w[1],L="cxd",W="zh-CN";return(0,a.useEffect)(function(){(0,f.m)(u.Z)},[]),(0,a.useEffect)(function(){I.pageId&&((0,i.UD)(I.pageId).then(function(A){J(A)}),(0,_.U)().then(function(A){Z(JSON.parse(c.j.getEnv()))}))},[I.pageId]),(0,U.jsxs)("div",{children:[(0,U.jsx)(s.qR,{theme:L,position:"top-right",locale:W},"toast"),(0,U.jsx)(s.wx,{theme:L,locale:W},"alert"),(0,m.sYA)(S,{data:t()({envs:F},I.data)},{fetcher:function(O){var R=O.url,C=O.method,h=O.data,K=O.responseType,E=O.config,N=O.headers;return E=E||{},E.withCredentials=!0,K&&(E.responseType=K),E.cancelExecutor&&(E.cancelToken=new u.Z.CancelToken(E.cancelExecutor)),E.headers=N||{},E.headers.Authorization||(E.headers.Authorization="Bearer "+r.F.getTokenFormLocal()),C!=="post"&&C!=="put"&&C!=="patch"?(h&&(E.params=h),u.Z[C](R,E)):(h&&h instanceof FormData?(E.headers=E.headers||{},E.headers["Content-Type"]="multipart/form-data"):h&&typeof h!="string"&&!(h instanceof Blob)&&!(h instanceof ArrayBuffer)&&(h=JSON.stringify(h),E.headers=E.headers||{},E.headers["Content-Type"]="application/json"),u.Z[C](R,h,E))},isCancel:function(O){return u.Z.isCancel(O)},copy:function(O){b()(O),s.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:L,jumpTo:function(O,R){debugger;R.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+O,"_blank"):window.location.hash=O}})]})};p.Z=y},98896:function(T,p,e){e.d(p,{m:function(){return u}});var v=e(25359),t=e.n(v),D=e(49811),l=e.n(D);function u(b){return g.apply(this,arguments)}function g(){return g=l()(t()().mark(function b(m){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:m.interceptors.response.use(function(n){return console.log("axios response"),console.log(n),n&&n.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),n.data.error||(n.data.error={code:0}),n.data.code==500&&(n.data.error={code:500,message:n.data.msg}),n.data.data&&n.data.data.records&&(n.data.data.items=n.data.data.records),n):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(n.data),Promise.reject(new Error(n.data.message)))},function(n){if(console.log("\u6355\u6349axios error"),console.log(n),n.response&&n.response.data){var i,P=n.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((i=n.response.data.error)===null||i===void 0?void 0:i.code)==0&&(n.response.data.error.code=500),console.log(P),P}return Promise.reject(n)});case 1:case"end":return a.stop()}},b)})),g.apply(this,arguments)}},69078:function(T,p,e){e.d(p,{F:function(){return v}});var v={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(D){return localStorage.setItem("token",D)}}},78636:function(T,p,e){e.r(p);var v=e(54306),t=e.n(v),D=e(44132),l=e(38510),u=e(87363),g=e.n(u),b=e(33130),m=function(a){var n=(0,u.useState)({}),i=t()(n,2),P=i[0],M=i[1];return(0,u.useEffect)(function(){var d=new l.Z;d.getSettingIndexJson().then(function(o){d.getIndexJson().then(function(r){M(r)})})},[]),(0,b.jsx)(D.Z,{pageId:"index",data:P})};p.default=m},38510:function(T,p,e){e.d(p,{Z:function(){return P}});var v=e(25359),t=e.n(v),D=e(49811),l=e.n(D),u=e(21140),g=e.n(u),b=e(63466),m=e.n(b),s=e(31837),a=e(85002),n=e(57475),i=e(32126),P=function(){function M(){g()(this,M)}return m()(M,[{key:"initApp",value:function(){var d=l()(t()().mark(function r(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,n.U2)("/setting/app.json");case 2:return _.abrupt("return",_.sent.data);case 3:case"end":return _.stop()}},r)}));function o(){return d.apply(this,arguments)}return o}()},{key:"getAppJson",value:function(){var d=l()(t()().mark(function r(f){return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(s.j.getModel()!="db"){c.next=4;break}return c.abrupt("return",a.Z.getAssetFromDb("app",f));case 4:return c.next=6,(0,n.U2)("/logic/setting/apps/".concat(f,".json"));case 6:return c.abrupt("return",c.sent.data);case 7:case"end":return c.stop()}},r)}));function o(r){return d.apply(this,arguments)}return o}()},{key:"getIndexJson",value:function(){var d=l()(t()().mark(function r(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(s.j.getModel()!="db"){_.next=4;break}return _.abrupt("return",a.Z.getAssetFromDb("app","index"));case 4:return _.next=6,(0,n.U2)("/logic/setting/apps/index.json");case 6:return _.abrupt("return",_.sent.data);case 7:case"end":return _.stop()}},r)}));function o(){return d.apply(this,arguments)}return o}()},{key:"getSettingIndexJson",value:function(){var d=l()(t()().mark(function r(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,i.U)();case 2:return _.abrupt("return",s.j);case 3:case"end":return _.stop()}},r)}));function o(){return d.apply(this,arguments)}return o}()}]),M}()},85002:function(T,p,e){e.d(p,{Z:function(){return a}});var v=e(25359),t=e.n(v),D=e(49811),l=e.n(D),u=e(21140),g=e.n(u),b=e(63466),m=e.n(b),s=e(57475),a=function(){function n(){g()(this,n)}return m()(n,null,[{key:"getAssetFromDb",value:function(){var i=l()(t()().mark(function M(d,o){var r;return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,s.U2)("/api/ide/settings/asset/".concat(d,"/").concat(o));case 2:return r=_.sent.data,_.abrupt("return",JSON.parse(r.data.config));case 4:case"end":return _.stop()}},M)}));function P(M,d){return i.apply(this,arguments)}return P}()},{key:"saveAssetToDb",value:function(){var i=l()(t()().mark(function M(d,o,r){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,s.v_)("/api/ide/settings/asset/".concat(d,"/").concat(o),r));case 1:case"end":return _.stop()}},M)}));function P(M,d,o){return i.apply(this,arguments)}return P}()}]),n}()},32126:function(T,p,e){e.d(p,{U:function(){return b}});var v=e(25359),t=e.n(v),D=e(49811),l=e.n(D),u=e(31837),g=e(57475);function b(){return m.apply(this,arguments)}function m(){return m=l()(t()().mark(function s(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.U2)("/api/runtime/env").then(function(i){return i.data.data}).then(function(i){return u.j.setModel(i.UI_CONFIG_MODEL),u.j.setEnv(JSON.stringify(i)),u.j.setApiUrlPrefix(i.API_GATEWAY_PREFIX),u.j.setReryApi(i.CUSTOM_RETRY_URL),i}));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}},70256:function(T,p,e){e.d(p,{CD:function(){return a},UD:function(){return m},n4:function(){return i},wx:function(){return M}});var v=e(25359),t=e.n(v),D=e(49811),l=e.n(D),u=e(31837),g=e(85002),b=e(57475);function m(o){return s.apply(this,arguments)}function s(){return s=l()(t()().mark(function o(r){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(u.j.getModel()!="db"){_.next=4;break}return _.abrupt("return",g.Z.getAssetFromDb("page",r));case 4:return _.next=6,(0,b.U2)("/logic/setting/pages/".concat(r,".json"));case 6:return _.abrupt("return",_.sent.data);case 7:case"end":return _.stop()}},o)})),s.apply(this,arguments)}function a(o){return n.apply(this,arguments)}function n(){return n=l()(t()().mark(function o(r){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(u.j.getModel()!="db"){_.next=4;break}return _.abrupt("return",g.Z.getAssetFromDb("form",r));case 4:return _.next=6,(0,b.U2)("/logic/setting/forms/".concat(r,".json"));case 6:return _.abrupt("return",_.sent.data);case 7:case"end":return _.stop()}},o)})),n.apply(this,arguments)}function i(o,r){return P.apply(this,arguments)}function P(){return P=l()(t()().mark(function o(r,f){return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(u.j.getModel()!="db"){c.next=4;break}return c.abrupt("return",g.Z.getAssetFromDb(r,f));case 4:return c.next=6,(0,b.U2)("/logic/setting/".concat(r,"s/").concat(f,".json"));case 6:return c.abrupt("return",c.sent.data);case 7:case"end":return c.stop()}},o)})),P.apply(this,arguments)}function M(o,r,f){return d.apply(this,arguments)}function d(){return d=l()(t()().mark(function o(r,f,_){return t()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(u.j.getModel()!="db"){U.next=2;break}return U.abrupt("return",g.Z.saveAssetToDb(r,f,_));case 2:case"end":return U.stop()}},o)})),d.apply(this,arguments)}},57475:function(T,p,e){e.d(p,{U2:function(){return l},gz:function(){return u},v_:function(){return b}});var v=e(57213),t=e.n(v),D=e(70517);function l(s,a){return D.Z.get(s,m(a))}function u(s,a,n){return D.Z.put(s,a,m(n))}function g(s,a){return axios.delete(s,m(a))}function b(s,a,n){return D.Z.post(s,a,m(n))}function m(s){var a={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(a.Authorization="Bearer "+localStorage.getItem("token")),t()(t()({},s),{},{headers:t()(t()({},a),s==null?void 0:s.headers)})}},78057:function(){}}]);
