(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[5233],{11331:function(c,p,e){"use strict";var g=e(54306),a=e.n(g),i=e(70517),o=e(90010),l=e.n(o),E=e(23620),s=e(52943),h=e(87363),P=e.n(h),M=e(70256),v=e(33358),u=e(49500),d=e(16123),m=e(99273),n=e(33130);i.Z.interceptors.response.use(function(_){return console.log("axios response"),console.log(_),_&&_.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),_.data.error||(_.data.error={code:0}),_.data.status=0,_.data.data&&_.data.data.records&&(_.data.data.items=_.data.data.records),_):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(_.data),Promise.reject(new Error(_.data.message)))},function(_){if(console.log("\u6355\u6349axios error"),console.log(_),_.response&&_.response.data){var b,U=_.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((b=_.response.data.error)===null||b===void 0?void 0:b.code)==0&&(_.response.data.error.code=500),console.log(U),U}return Promise.reject(_)});var t=function(b){var U=(0,h.useState)({type:"page"}),I=a()(U,2),R=I[0],B=I[1],A="cxd",y="zh-CN";return(0,h.useEffect)(function(){b.pageId&&(0,M.UD)(b.pageId).then(function(O){B(O)})},[b.pageId]),(0,n.jsxs)("div",{children:[(0,n.jsx)(s.qR,{theme:A,position:"top-right",locale:y},"toast"),(0,n.jsx)(s.wx,{theme:A,locale:y},"alert"),(0,E.sYA)(R,{data:b.data},{fetcher:function(f){var C=f.url,T=f.method,D=f.data,w=f.responseType,r=f.config,L=f.headers;return r=r||{},r.withCredentials=!0,w&&(r.responseType=w),r.cancelExecutor&&(r.cancelToken=new i.Z.CancelToken(r.cancelExecutor)),r.headers=L||{},r.headers.Authorization||(r.headers.Authorization="Bearer "+m.F.getTokenFormLocal()),T!=="post"&&T!=="put"&&T!=="patch"?(D&&(r.params=D),i.Z[T](C,r)):(D&&D instanceof FormData?(r.headers=r.headers||{},r.headers["Content-Type"]="multipart/form-data"):D&&typeof D!="string"&&!(D instanceof Blob)&&!(D instanceof ArrayBuffer)&&(D=JSON.stringify(D),r.headers=r.headers||{},r.headers["Content-Type"]="application/json"),i.Z[T](C,D,r))},isCancel:function(f){return i.Z.isCancel(f)},copy:function(f){l()(f),s.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:A,jumpTo:function(f,C){debugger;C.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+f,"_blank"):window.location.hash=f}})]})};p.Z=t},78636:function(c,p,e){"use strict";e.r(p);var g=e(54306),a=e.n(g),i=e(11331),o=e(38510),l=e(87363),E=e.n(l),s=e(33130),h=function(M){var v=(0,l.useState)({}),u=a()(v,2),d=u[0],m=u[1];return(0,l.useEffect)(function(){new o.Z().getIndexJson().then(function(n){m(n)})},[]),(0,s.jsx)(i.Z,{pageId:"index",data:d})};p.default=h},38510:function(c,p,e){"use strict";e.d(p,{Z:function(){return M}});var g=e(25359),a=e.n(g),i=e(49811),o=e.n(i),l=e(21140),E=e.n(l),s=e(63466),h=e.n(s),P=e(70517),M=function(){function v(){E()(this,v)}return h()(v,[{key:"initApp",value:function(){var u=o()(a()().mark(function m(){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.Z.get("/setting/app.json");case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}},m)}));function d(){return u.apply(this,arguments)}return d}()},{key:"getAppJson",value:function(){var u=o()(a()().mark(function m(n){return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,P.Z.get("/setting/apps/".concat(n,".json"));case 2:return _.abrupt("return",_.sent.data);case 3:case"end":return _.stop()}},m)}));function d(m){return u.apply(this,arguments)}return d}()},{key:"getIndexJson",value:function(){var u=o()(a()().mark(function m(){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.Z.get("/setting/apps/index.json");case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}},m)}));function d(){return u.apply(this,arguments)}return d}()}]),v}()},70256:function(c,p,e){"use strict";e.d(p,{CD:function(){return h},UD:function(){return E},n4:function(){return M}});var g=e(25359),a=e.n(g),i=e(49811),o=e.n(i),l=e(70517);function E(u){return s.apply(this,arguments)}function s(){return s=o()(a()().mark(function u(d){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.get("/setting/pages/".concat(d,".json"));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}},u)})),s.apply(this,arguments)}function h(u){return P.apply(this,arguments)}function P(){return P=o()(a()().mark(function u(d){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.Z.get("/setting/forms/".concat(d,".json"));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}},u)})),P.apply(this,arguments)}function M(u,d){return v.apply(this,arguments)}function v(){return v=o()(a()().mark(function u(d,m){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.get("/setting/".concat(d,"s/").concat(m,".json"));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}},u)})),v.apply(this,arguments)}},99273:function(c,p,e){"use strict";e.d(p,{F:function(){return g}});var g={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(i){return localStorage.setItem("token",i)}}},21140:function(c){function p(e,g){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")}c.exports=p,c.exports.__esModule=!0,c.exports.default=c.exports},63466:function(c,p,e){var g=e(26982);function a(o,l){for(var E=0;E<l.length;E++){var s=l[E];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,g(s.key),s)}}function i(o,l,E){return l&&a(o.prototype,l),E&&a(o,E),Object.defineProperty(o,"prototype",{writable:!1}),o}c.exports=i,c.exports.__esModule=!0,c.exports.default=c.exports}}]);
