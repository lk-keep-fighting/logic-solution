"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[5233],{44132:function(U,E,e){var P=e(54306),s=e.n(P),d=e(70517),l=e(90010),D=e.n(l),b=e(23620),m=e(2069),f=e(87363),v=e.n(f),g=e(70256),n=e(33358),p=e(49500),c=e(16123),i=e(78057),u=e(69078),a=e(98896),t=e(33130),r=function(M){var T=(0,f.useState)({type:"page"}),w=s()(T,2),K=w[0],W=w[1],R="cxd",L="zh-CN";return(0,f.useEffect)(function(){(0,a.m)(d.Z)},[]),(0,f.useEffect)(function(){M.pageId&&(0,g.UD)(M.pageId).then(function(A){W(A)})},[M.pageId]),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.qR,{theme:R,position:"top-right",locale:L},"toast"),(0,t.jsx)(m.wx,{theme:R,locale:L},"alert"),(0,b.sYA)(K,{data:M.data},{fetcher:function(h){var I=h.url,C=h.method,O=h.data,B=h.responseType,o=h.config,j=h.headers;return o=o||{},o.withCredentials=!0,B&&(o.responseType=B),o.cancelExecutor&&(o.cancelToken=new d.Z.CancelToken(o.cancelExecutor)),o.headers=j||{},o.headers.Authorization||(o.headers.Authorization="Bearer "+u.F.getTokenFormLocal()),C!=="post"&&C!=="put"&&C!=="patch"?(O&&(o.params=O),d.Z[C](I,o)):(O&&O instanceof FormData?(o.headers=o.headers||{},o.headers["Content-Type"]="multipart/form-data"):O&&typeof O!="string"&&!(O instanceof Blob)&&!(O instanceof ArrayBuffer)&&(O=JSON.stringify(O),o.headers=o.headers||{},o.headers["Content-Type"]="application/json"),d.Z[C](I,O,o))},isCancel:function(h){return d.Z.isCancel(h)},copy:function(h){D()(h),m.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:R,jumpTo:function(h,I){debugger;I.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+h,"_blank"):window.location.hash=h}})]})};E.Z=r},98896:function(U,E,e){e.d(E,{m:function(){return D}});var P=e(25359),s=e.n(P),d=e(49811),l=e.n(d);function D(m){return b.apply(this,arguments)}function b(){return b=l()(s()().mark(function m(f){return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:f.interceptors.response.use(function(n){return console.log("axios response"),console.log(n),n&&n.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),n.data.error||(n.data.error={code:0}),n.data.code==500&&(n.data.error={code:500,message:n.data.msg}),n.data.data&&n.data.data.records&&(n.data.data.items=n.data.data.records),n):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(n.data),Promise.reject(new Error(n.data.message)))},function(n){if(console.log("\u6355\u6349axios error"),console.log(n),n.response&&n.response.data){var p,c=n.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((p=n.response.data.error)===null||p===void 0?void 0:p.code)==0&&(n.response.data.error.code=500),console.log(c),c}return Promise.reject(n)});case 1:case"end":return g.stop()}},m)})),b.apply(this,arguments)}},69078:function(U,E,e){e.d(E,{F:function(){return P}});var P={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(d){return localStorage.setItem("token",d)}}},78636:function(U,E,e){e.r(E);var P=e(54306),s=e.n(P),d=e(44132),l=e(38510),D=e(87363),b=e.n(D),m=e(33130),f=function(g){var n=(0,D.useState)({}),p=s()(n,2),c=p[0],i=p[1];return(0,D.useEffect)(function(){var u=new l.Z;u.getSettingIndexJson().then(function(a){u.getIndexJson(a.setting).then(function(t){i(t)})})},[]),(0,m.jsx)(d.Z,{pageId:"index",data:c})};E.default=f},38510:function(U,E,e){e.d(E,{Z:function(){return p}});var P=e(25359),s=e.n(P),d=e(49811),l=e.n(d),D=e(21140),b=e.n(D),m=e(63466),f=e.n(m),v=e(70517),g=e(31837),n=e(85002),p=function(){function c(){b()(this,c)}return f()(c,[{key:"initApp",value:function(){var i=l()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.Z.get("/setting/app.json");case 2:return r.abrupt("return",r.sent.data);case 3:case"end":return r.stop()}},a)}));function u(){return i.apply(this,arguments)}return u}()},{key:"getAppJson",value:function(){var i=l()(s()().mark(function a(t){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(g.j.getModel()!="db"){_.next=4;break}return _.abrupt("return",n.Z.getAssetFromDb("app",t));case 4:return _.next=6,v.Z.get("/setting/apps/".concat(t,".json"));case 6:return _.abrupt("return",_.sent.data);case 7:case"end":return _.stop()}},a)}));function u(a){return i.apply(this,arguments)}return u}()},{key:"getIndexJson",value:function(){var i=l()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(g.j.getModel()!="db"){r.next=4;break}return r.abrupt("return",n.Z.getAssetFromDb("app","index"));case 4:return r.next=6,v.Z.get("/setting/apps/index.json");case 6:return r.abrupt("return",r.sent.data);case 7:case"end":return r.stop()}},a)}));function u(){return i.apply(this,arguments)}return u}()},{key:"getSettingIndexJson",value:function(){var i=l()(s()().mark(function a(){var t;return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,v.Z.get("/api/runtime/env");case 2:return t=_.sent.data,g.j.setModel(t.data.UI_CONFIG_MODEL),_.abrupt("return",g.j);case 5:case"end":return _.stop()}},a)}));function u(){return i.apply(this,arguments)}return u}()}]),c}()},85002:function(U,E,e){e.d(E,{Z:function(){return g}});var P=e(25359),s=e.n(P),d=e(49811),l=e.n(d),D=e(21140),b=e.n(D),m=e(63466),f=e.n(m),v=e(70517),g=function(){function n(){b()(this,n)}return f()(n,null,[{key:"getAssetFromDb",value:function(){var p=l()(s()().mark(function i(u,a){var t;return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,v.Z.get("/api/ide/settings/asset/".concat(u,"/").concat(a));case 2:return t=_.sent.data,_.abrupt("return",JSON.parse(t.data.config));case 4:case"end":return _.stop()}},i)}));function c(i,u){return p.apply(this,arguments)}return c}()},{key:"saveAssetToDb",value:function(){var p=l()(s()().mark(function i(u,a,t){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",v.Z.post("/api/ide/settings/asset/".concat(u,"/").concat(a),t));case 1:case"end":return _.stop()}},i)}));function c(i,u,a){return p.apply(this,arguments)}return c}()}]),n}()},70256:function(U,E,e){e.d(E,{CD:function(){return g},UD:function(){return f},n4:function(){return p},wx:function(){return i}});var P=e(25359),s=e.n(P),d=e(49811),l=e.n(d),D=e(31837),b=e(70517),m=e(85002);function f(a){return v.apply(this,arguments)}function v(){return v=l()(s()().mark(function a(t){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:debugger;if(D.j.getModel()!="db"){_.next=5;break}return _.abrupt("return",m.Z.getAssetFromDb("page",t));case 5:return _.next=7,b.Z.get("/setting/pages/".concat(t,".json"));case 7:return _.abrupt("return",_.sent.data);case 8:case"end":return _.stop()}},a)})),v.apply(this,arguments)}function g(a){return n.apply(this,arguments)}function n(){return n=l()(s()().mark(function a(t){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(D.j.getModel()!="db"){_.next=4;break}return _.abrupt("return",m.Z.getAssetFromDb("form",t));case 4:return _.next=6,b.Z.get("/setting/forms/".concat(t,".json"));case 6:return _.abrupt("return",_.sent.data);case 7:case"end":return _.stop()}},a)})),n.apply(this,arguments)}function p(a,t){return c.apply(this,arguments)}function c(){return c=l()(s()().mark(function a(t,r){return s()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(D.j.getModel()!="db"){M.next=4;break}return M.abrupt("return",m.Z.getAssetFromDb(t,r));case 4:return M.next=6,b.Z.get("/setting/".concat(t,"s/").concat(r,".json"));case 6:return M.abrupt("return",M.sent.data);case 7:case"end":return M.stop()}},a)})),c.apply(this,arguments)}function i(a,t,r){return u.apply(this,arguments)}function u(){return u=l()(s()().mark(function a(t,r,_){return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(D.j.getModel()!="db"){T.next=2;break}return T.abrupt("return",m.Z.saveAssetToDb(t,r,_));case 2:case"end":return T.stop()}},a)})),u.apply(this,arguments)}},78057:function(){}}]);
