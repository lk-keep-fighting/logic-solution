"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[5233],{44132:function(j,P,e){var M=e(57213),n=e.n(M),U=e(54306),o=e.n(U),g=e(70517),f=e(90010),T=e.n(f),R=e(23620),p=e(2069),i=e(87363),t=e.n(i),O=e(12472),m=e(33358),E=e(49500),D=e(16123),b=e(78057),s=e(69078),_=e(98896),c=e(31837),d=e(32126),a=e(33130),l=function(u){var h=(0,i.useState)({type:"page"}),I=o()(h,2),L=I[0],A=I[1],C=(0,i.useState)(),x=o()(C,2),G=x[0],Z=x[1],$=(0,i.useState)(),k=o()($,2),z=k[0],Y=k[1],S="cxd",J="zh-CN";return(0,i.useEffect)(function(){(0,_.m)(g.Z)},[]),(0,i.useEffect)(function(){u.pageId&&((0,O.UD)(u.pageId).then(function(B){A(B)}),d.S.getEnvJson().then(function(B){Z(JSON.parse(c.j.getEnv()))}))},[u.pageId]),(0,a.jsxs)("div",{children:[(0,a.jsx)(p.qR,{theme:S,position:"top-right",locale:J},"toast"),(0,a.jsx)(p.wx,{theme:S,locale:J},"alert"),(0,R.sYA)(L,{data:n()({envs:G},u.data)},{fetcher:function(w){var W=w.url,K=w.method,y=w.data,F=w.responseType,v=w.config,N=w.headers;return u.data&&u.data.runtime&&(W="/api/ide/papi/".concat(u.data.runtime).concat(W)),v=v||{},v.withCredentials=!0,F&&(v.responseType=F),v.cancelExecutor&&(v.cancelToken=new g.Z.CancelToken(v.cancelExecutor)),v.headers=N||{},v.headers.Authorization||(v.headers.Authorization="Bearer "+s.F.getTokenFormLocal()),K!=="post"&&K!=="put"&&K!=="patch"?(y&&(v.params=y),g.Z[K](W,v)):(y&&y instanceof FormData?(v.headers=v.headers||{},v.headers["Content-Type"]="multipart/form-data"):y&&typeof y!="string"&&!(y instanceof Blob)&&!(y instanceof ArrayBuffer)&&(y=JSON.stringify(y),v.headers=v.headers||{},v.headers["Content-Type"]="application/json"),g.Z[K](W,y,v))},isCancel:function(w){return g.Z.isCancel(w)},copy:function(w){T()(w),p.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:S,jumpTo:function(w,W){debugger;W.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+w,"_blank"):window.location.hash=w}})]})};P.Z=l},98896:function(j,P,e){e.d(P,{m:function(){return g}});var M=e(25359),n=e.n(M),U=e(49811),o=e.n(U);function g(T){return f.apply(this,arguments)}function f(){return f=o()(n()().mark(function T(R){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:R.interceptors.response.use(function(t){return console.log("axios response"),console.log(t),t&&t.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),t.data.error||(t.data.error={code:0}),t.data.code==500&&(t.data.error={code:500,message:t.data.msg}),t.data.data&&t.data.data.records&&(t.data.data.items=t.data.data.records),t):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(t.data),Promise.reject(new Error(t.data.message)))},function(t){if(console.log("\u6355\u6349axios error"),console.log(t),t.response&&t.response.data){var O,m=t.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((O=t.response.data.error)===null||O===void 0?void 0:O.code)==0&&(t.response.data.error.code=500),console.log(m),m}return Promise.reject(t)});case 1:case"end":return i.stop()}},T)})),f.apply(this,arguments)}},69078:function(j,P,e){e.d(P,{F:function(){return M}});var M={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(U){return localStorage.setItem("token",U)}}},78636:function(j,P,e){e.r(P);var M=e(54306),n=e.n(M),U=e(44132),o=e(38510),g=e(32126),f=e(87363),T=e.n(f),R=e(33130),p=function(t){var O=(0,f.useState)({}),m=n()(O,2),E=m[0],D=m[1];return(0,f.useEffect)(function(){var b=new o.Z("");g.S.getEnvJson().then(function(s){b.getIndexJson().then(function(_){D(_)})})},[]),(0,R.jsx)(U.Z,{pageId:"index",data:E})};P.default=p},38510:function(j,P,e){e.d(P,{Z:function(){return O}});var M=e(25359),n=e.n(M),U=e(49811),o=e.n(U),g=e(21140),f=e.n(g),T=e(63466),R=e.n(T),p=e(52510),i=e.n(p),t=e(57475),O=function(){function m(E){f()(this,m),i()(this,"runtime",void 0),this.runtime=E}return R()(m,[{key:"isValidRuntime",value:function(){return this.runtime!=null&&this.runtime!=""&&this.runtime!=null}},{key:"initApp",value:function(){var E=o()(n()().mark(function b(){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,t.U2)("/setting/app.json");case 2:return _.abrupt("return",_.sent.data);case 3:case"end":return _.stop()}},b)}));function D(){return E.apply(this,arguments)}return D}()},{key:"getAppJson",value:function(){var E=o()(n()().mark(function b(s){return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,t.U2)("/logic/setting/apps/".concat(s,".json"));case 2:return c.abrupt("return",c.sent.data);case 3:case"end":return c.stop()}},b)}));function D(b){return E.apply(this,arguments)}return D}()},{key:"getIndexJson",value:function(){var E=o()(n()().mark(function b(){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,t.U2)("/logic/setting/apps/index.json");case 2:return _.abrupt("return",_.sent.data);case 3:case"end":return _.stop()}},b)}));function D(){return E.apply(this,arguments)}return D}()}]),m}()},32126:function(j,P,e){e.d(P,{S:function(){return t}});var M=e(25359),n=e.n(M),U=e(49811),o=e.n(U),g=e(21140),f=e.n(g),T=e(63466),R=e.n(T),p=e(31837),i=e(57475),t=function(){function O(){f()(this,O)}return R()(O,null,[{key:"getEnvJson",value:function(){var m=o()(n()().mark(function D(){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,i.U2)("/api/runtime/env").then(function(_){return _.data.data}).then(function(_){return p.j.setModel(_.UI_CONFIG_MODEL),p.j.setEnv(JSON.stringify(_)),p.j.setApiUrlPrefix(_.API_GATEWAY_PREFIX),p.j.setReryApi(_.CUSTOM_RETRY_URL),p.j.setReryApi(_.CUSTOM_RETRY_URL),_}));case 1:case"end":return s.stop()}},D)}));function E(){return m.apply(this,arguments)}return E}()},{key:"getRemoteRuntimeConfig",value:function(){var m=o()(n()().mark(function D(){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,i.v_)("/api/ide/remote-runtimes").then(function(_){return _.data}).then(function(_){return console.log("remote runtimes:",_.data),p.j.setRemoteRuntimes(JSON.stringify(_.data)),_}));case 1:case"end":return s.stop()}},D)}));function E(){return m.apply(this,arguments)}return E}()}]),O}()},12472:function(j,P,e){e.d(P,{CD:function(){return E},UD:function(){return O},n4:function(){return b},wx:function(){return _}});var M=e(25359),n=e.n(M),U=e(49811),o=e.n(U),g=e(31837),f=e(21140),T=e.n(f),R=e(63466),p=e.n(R),i=e(57475),t=function(){function d(){T()(this,d)}return p()(d,null,[{key:"getAssetFromDb",value:function(){var a=o()(n()().mark(function r(u,h){var I;return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,i.U2)("/api/ide/settings/asset/".concat(u,"/").concat(h));case 2:return I=A.sent.data,A.abrupt("return",JSON.parse(I.data.config));case 4:case"end":return A.stop()}},r)}));function l(r,u){return a.apply(this,arguments)}return l}()},{key:"saveAssetToDb",value:function(){var a=o()(n()().mark(function r(u,h,I){return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,i.v_)("/api/ide/settings/asset/".concat(u,"/").concat(h),I));case 1:case"end":return A.stop()}},r)}));function l(r,u,h){return a.apply(this,arguments)}return l}()},{key:"getRemoteAssetFromDb",value:function(){var a=o()(n()().mark(function r(u,h,I){var L;return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,i.U2)("/api/ide/papi/".concat(u,"/api/ide/settings/asset/").concat(h,"/").concat(I));case 2:return L=C.sent.data,C.abrupt("return",JSON.parse(L.data.config));case 4:case"end":return C.stop()}},r)}));function l(r,u,h){return a.apply(this,arguments)}return l}()},{key:"saveRemoteAssetToDb",value:function(){var a=o()(n()().mark(function r(u,h,I,L){return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,i.v_)("/api/ide/papi/".concat(u,"/api/ide/settings/asset/").concat(h,"/").concat(I),L));case 1:case"end":return C.stop()}},r)}));function l(r,u,h,I){return a.apply(this,arguments)}return l}()}]),d}();function O(d){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function d(a){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(g.j.getModel()!="db"){r.next=4;break}return r.abrupt("return",t.getAssetFromDb("page",a));case 4:return r.next=6,(0,i.U2)("/logic/setting/pages/".concat(a,".json"));case 6:return r.abrupt("return",r.sent.data);case 7:case"end":return r.stop()}},d)})),m.apply(this,arguments)}function E(d){return D.apply(this,arguments)}function D(){return D=o()(n()().mark(function d(a){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(g.j.getModel()!="db"){r.next=4;break}return r.abrupt("return",t.getAssetFromDb("form",a));case 4:return r.next=6,(0,i.U2)("/logic/setting/forms/".concat(a,".json"));case 6:return r.abrupt("return",r.sent.data);case 7:case"end":return r.stop()}},d)})),D.apply(this,arguments)}function b(d,a){return s.apply(this,arguments)}function s(){return s=o()(n()().mark(function d(a,l){return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(g.j.getModel()!="db"){u.next=4;break}return u.abrupt("return",t.getAssetFromDb(a,l));case 4:return u.next=6,(0,i.U2)("/logic/setting/".concat(a,"s/").concat(l,".json"));case 6:return u.abrupt("return",u.sent.data);case 7:case"end":return u.stop()}},d)})),s.apply(this,arguments)}function _(d,a,l){return c.apply(this,arguments)}function c(){return c=o()(n()().mark(function d(a,l,r){return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(g.j.getModel()!="db"){h.next=2;break}return h.abrupt("return",t.saveAssetToDb(a,l,r));case 2:case"end":return h.stop()}},d)})),c.apply(this,arguments)}},57475:function(j,P,e){e.d(P,{U2:function(){return R},gz:function(){return i},v_:function(){return E}});var M=e(25359),n=e.n(M),U=e(57213),o=e.n(U),g=e(49811),f=e.n(g),T=e(70517);function R(s,_){return p.apply(this,arguments)}function p(){return p=f()(n()().mark(function s(_,c){return n()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",T.Z.get(_,b(c)));case 1:case"end":return a.stop()}},s)})),p.apply(this,arguments)}function i(s,_,c){return t.apply(this,arguments)}function t(){return t=f()(n()().mark(function s(_,c,d){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",T.Z.put(_,c,b(d)));case 1:case"end":return l.stop()}},s)})),t.apply(this,arguments)}function O(s,_){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function s(_,c){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",axios.delete(_,b(c)));case 1:case"end":return a.stop()}},s)})),m.apply(this,arguments)}function E(s,_,c){return D.apply(this,arguments)}function D(){return D=f()(n()().mark(function s(_,c,d){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",T.Z.post(_,c,b(d)));case 1:case"end":return l.stop()}},s)})),D.apply(this,arguments)}function b(s){var _={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(_.Authorization="Bearer "+localStorage.getItem("token")),o()(o()({},s),{},{headers:o()(o()({},_),s==null?void 0:s.headers)})}},78057:function(){}}]);
