"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[5808],{85808:function(U,O,r){r.r(O),r.d(O,{IconPickerControlRenderer:function(){return R},default:function(){return w}});var e=r(15767),k=r(87363),o=r.n(k),F=r(84875),V=r.n(F),E=r(8427),M=r(17735),j=r.n(M),C=r(30673),l=r(42977),I=r(71576),T=r(94391),w=function(d){(0,e.ZT)(n,d);function n(){var t=d!==null&&d.apply(this,arguments)||this;return t.state={isOpen:!1,inputValue:"",isFocused:!1,vendorIndex:0},t}return n.prototype.componentDidUpdate=function(t){var a=this.props;t.value!==a.value&&this.setState({inputValue:""})},n.prototype.changeVendor=function(t){this.setState({vendorIndex:t},this.formatOptions)},n.prototype.formatOptions=function(){var t=this.state.vendorIndex||0,a=I.U[t],i=a.prefix,u=a.icons;return u.map(function(p){return{label:i+p,value:i+p}})},n.prototype.getVendors=function(){return I.U.map(function(t){return t.name})},n.prototype.inputRef=function(t){this.input=t},n.prototype.focus=function(){if(this.input){this.input.focus();var t=this.input.value.length;t&&this.input.setSelectionRange(t,t)}},n.prototype.handleClick=function(){this.props.disabled||(this.focus(),this.setState({isOpen:!0}))},n.prototype.handleFocus=function(t){this.setState({isOpen:!0,isFocused:!0}),this.props.onFocus&&this.props.onFocus(t)},n.prototype.handleBlur=function(t){var a=this.props,i=a.onBlur,u=a.trimContents,p=a.value,s=a.onChange;this.setState({isFocused:!1},function(){u&&p&&typeof p=="string"&&s(p.trim())}),i&&i(t)},n.prototype.handleInputChange=function(t){var a=t.currentTarget.value;this.setState({inputValue:a})},n.prototype.handleKeyDown=function(t){var a=j()(t.keyCode);if(a==="backspace"){var i=this.props.onChange;this.state.inputValue||(i(""),this.setState({inputValue:""}))}},n.prototype.handleChange=function(t){var a=this.props,i=a.onChange,u=a.disabled;u||(i(t),this.setState({isFocused:!1,inputValue:""}))},n.prototype.handleStateChange=function(t){switch(t.type){case C.ZP.stateChangeTypes.itemMouseEnter:case C.ZP.stateChangeTypes.changeInput:this.setState({isOpen:!0});break;default:var a={};typeof t.isOpen!="undefined"&&(a.isOpen=t.isOpen),this.state.isOpen&&t.isOpen===!1&&(a.inputValue=""),this.setState(a);break}},n.prototype.handleClear=function(){var t=this,a=this.props,i=a.onChange,u=a.resetValue;i==null||i(u),this.setState({inputValue:u,isFocused:!0},function(){t.focus()})},n.prototype.renderFontIcons=function(){var t=this,a=this.props,i=a.className,u=a.inputOnly,p=a.placeholder,s=a.classnames,y=a.name,c=a.value,b=a.noDataTip,_=a.disabled,Z=a.clearable,B=a.translate,N=this.formatOptions(),v=this.getVendors();return o().createElement(C.ZP,{isOpen:this.state.isOpen,inputValue:this.state.inputValue,onChange:this.handleChange,onOuterClick:this.handleBlur,onStateChange:this.handleStateChange,selectedItem:[c]},function(m){var S=m.getInputProps,K=m.getItemProps,f=m.isOpen,P=m.inputValue,D=P&&f?(0,E.Lu)(N,P,{keys:["label","value"],threshold:E.Lu.rankings.CONTAINS}):N;return o().createElement("div",{className:s("IconPickerControl-input IconPickerControl-input--withAC",u?i:"",{"is-opened":f}),onClick:t.handleClick},o().createElement("div",{className:s("IconPickerControl-valueWrap")},p&&!c&&!t.state.inputValue?o().createElement("div",{className:s("IconPickerControl-placeholder")},p):null,!c||P&&f?null:o().createElement("div",{className:s("IconPickerControl-value")},o().createElement("i",{className:s(c)}),typeof c=="string"?c:""),o().createElement("input",(0,e.pi)({},S({name:y,ref:t.inputRef,onFocus:t.handleFocus,onChange:t.handleInputChange,onKeyDown:t.handleKeyDown,value:t.state.inputValue}),{autoComplete:"off",disabled:_,size:10})),Z&&!_&&c?o().createElement("a",{onClick:t.handleClear,className:s("IconPickerControl-clear")},o().createElement(T.JO$,{icon:"input-clear",className:"icon"})):null),f?o().createElement("div",{className:s("IconPickerControl-sugsPanel")},v.length>1?o().createElement("div",{className:s("IconPickerControl-tabs")},v.map(function(h,g){return o().createElement("div",{className:s("IconPickerControl-tab",{active:t.state.vendorIndex===g}),onClick:function(){return t.changeVendor(g)},key:g},h)})):null,D.length?o().createElement("div",{className:s("IconPickerControl-sugs",v.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},D.map(function(h,g){return o().createElement("div",(0,e.pi)({},K({item:h.value,className:s("IconPickerControl-sugItem",{"is-active":c===h.value})}),{key:g}),o().createElement("i",{className:s("".concat(h.value)),title:"".concat(h.value)}))})):o().createElement("div",{className:s(v.length>1?"IconPickerControl-multiVendor":"IconPickerControl-singleVendor")},B(b))):null)})},n.prototype.render=function(){var t=this.props,a=t.className,i=t.style,u=t.classPrefix,p=t.inputOnly,s=t.disabled,y=this.renderFontIcons();return p?y:o().createElement("div",{className:V()(a,"".concat(u,"IconPickerControl"),{"is-focused":this.state.isFocused,"is-disabled":s})},y)},n.defaultProps={resetValue:"",placeholder:"",noDataTip:"placeholder.noData"},(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Number]),(0,e.w6)("design:returntype",void 0)],n.prototype,"changeVendor",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",void 0)],n.prototype,"formatOptions",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",void 0)],n.prototype,"getVendors",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],n.prototype,"inputRef",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",void 0)],n.prototype,"focus",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",void 0)],n.prototype,"handleClick",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],n.prototype,"handleFocus",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],n.prototype,"handleBlur",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],n.prototype,"handleInputChange",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],n.prototype,"handleKeyDown",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],n.prototype,"handleChange",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],n.prototype,"handleStateChange",null),(0,e.gn)([l.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",void 0)],n.prototype,"handleClear",null),n}(o().PureComponent),R=function(d){(0,e.ZT)(n,d);function n(){return d!==null&&d.apply(this,arguments)||this}return n=(0,e.gn)([(0,l.xJW)({type:"icon-picker"})],n),n}(w)}}]);
