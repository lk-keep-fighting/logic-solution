"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[9267],{50070:function(T,D,u){u.r(D),u.d(D,{DiffEditorControlRenderer:function(){return P},DiffEditorRenderer:function(){return C}});var l=u(15767),M=u(87363),g=u.n(M),f=u(42977),O=u(94391);function m(s,n){if(s&&typeof s!="string"&&(s=JSON.stringify(s,null,2)),n&&n==="json")try{s=JSON.stringify(typeof s=="string"?JSON.parse(s):s,null,2)}catch(t){}return s||""}var C=function(s){(0,l.ZT)(n,s);function n(t){var e=s.call(this,t)||this;return e.state={focused:!1},e.handleFocus=e.handleFocus.bind(e),e.handleBlur=e.handleBlur.bind(e),e.handleEditorMounted=e.handleEditorMounted.bind(e),e.handleChange=e.handleChange.bind(e),e}return n.prototype.doAction=function(t,e,r,a){var o,i;r===void 0&&(r=!1);var d=t==null?void 0:t.actionType,h=this.props,c=h.onChange,y=h.resetValue,v=h.formStore,p=h.store,_=h.name;if(d==="clear")c("");else if(d==="reset"){var E=(i=(0,f.E04)((o=v==null?void 0:v.pristine)!==null&&o!==void 0?o:p==null?void 0:p.pristine,_))!==null&&i!==void 0?i:y;c(E!=null?E:"")}else d==="focus"&&this.focus()},n.prototype.focus=function(){var t,e,r;(t=this.editor)===null||t===void 0||t.focus(),this.setState({focused:!0});var a=(e=this.editor)===null||e===void 0?void 0:e.getPosition();(r=this.editor)===null||r===void 0||r.setPosition(a)},n.prototype.handleFocus=function(t){return(0,l.mG)(this,void 0,void 0,function(){var e,r,a,o,i;return(0,l.Jh)(this,function(d){switch(d.label){case 0:return e=this.props,r=e.dispatchEvent,a=e.value,o=e.onFocus,this.setState({focused:!0}),[4,r("focus",(0,f.vXk)(this.props,{value:a}))];case 1:return i=d.sent(),i!=null&&i.prevented?[2]:(o==null||o(t),[2])}})})},n.prototype.handleBlur=function(t){return(0,l.mG)(this,void 0,void 0,function(){var e,r,a,o,i;return(0,l.Jh)(this,function(d){switch(d.label){case 0:return e=this.props,r=e.dispatchEvent,a=e.value,o=e.onBlur,this.setState({focused:!1}),[4,r("blur",(0,f.vXk)(this.props,{value:a}))];case 1:return i=d.sent(),i!=null&&i.prevented?[2]:(o==null||o(t),[2])}})})},n.prototype.handleChange=function(t){return(0,l.mG)(this,void 0,void 0,function(){var e,r,a,o;return(0,l.Jh)(this,function(i){switch(i.label){case 0:return e=this.props,r=e.onChange,a=e.dispatchEvent,[4,a("change",(0,f.vXk)(this.props,{value:t}))];case 1:return o=i.sent(),o!=null&&o.prevented?[2]:(r&&r(t),[2])}})})},n.prototype.handleEditorMounted=function(t){this.editor=t},n.prototype.render=function(){var t=this.props,e=t.className,r=t.style,a=t.value,o=t.onChange,i=t.disabled,d=t.size,h=t.options,c=t.language,y=t.editorTheme,v=t.diffValue,p=t.classnames,_=t.data,E=(0,f.SSQ)(v)?m((0,f.OgC)(v||"",_,"| raw"),c):m(v,c),B=m(a,c);return g().createElement("div",{className:p("EditorControl",d?"EditorControl--".concat(d):"",e,{"is-focused":this.state.focused})},g().createElement(O.SVH,{value:B,originValue:E,onChange:this.handleChange,disabled:i,language:c,editorTheme:y,options:h,onFocus:this.handleFocus,onBlur:this.handleBlur,editorDidMount:this.handleEditorMounted}))},n.defaultProps={language:"javascript",editorTheme:"vs",options:{automaticLayout:!1,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1}},diffValue:""},n}(g().Component),P=function(s){(0,l.ZT)(n,s);function n(){return s!==null&&s.apply(this,arguments)||this}return n.defaultProps=(0,l.pi)({},C.defaultProps),n=(0,l.gn)([(0,f.xJW)({type:"diff-editor",sizeMutable:!1})],n),n}(C)}}]);
