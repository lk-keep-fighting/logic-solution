"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[6938],{9838:function(q,_,f){f.r(_),f.d(_,{ImagesField:function(){return G},ImagesFieldRenderer:function(){return B}});var r=f(15767),P=f(87363),h=f.n(P),c=f(42977),I=f(22055),v=f(24),G=function(w){(0,r.ZT)(p,w);function p(i){var e=w.call(this,i)||this;return e.containerRef=(0,P.createRef)(),e.resizeObserver=null,e.isSwiping=!1,e.startX=0,e.list=[],e.gap=5,e.evenReg=/^even-[1-9]\d*-[1-9]\d*$/,e.wrapperRef=h().createRef(),e.generateHeight=function(s,t){var a=Number(e.props.height)||e.state.defaultHeight;if(s==="sm-ss-sss-m"||s==="sss-ss-ms-m"||s==="sms-ss-sms-m")return t===0?a:(a-e.gap)*.5;if(s==="sm-ss-sss-ss"||s==="ms-ss-sss-ss"||s==="sss-ss-sm-ss"||s==="mss-ss-ssm-ss"||s==="sss-ss-mm-ss")return(a-e.gap)*.5;if(e.evenReg.test(s||"")){var n=Number(s==null?void 0:s.split("-")[1]),l=Number(s==null?void 0:s.split("-")[2]);if(t<n*l)return(a-e.gap*(n-1))/n}return 0},e.generateWidth=function(s,t){var a=Number(e.props.width)||e.state.defaultWidth;if(s==="sm-ss-sss-m"||s==="sss-ss-ms-m")return t===0?(a-2*e.gap)/3:t===1?(a-2*e.gap)/3*2+e.gap:(a-2*e.gap)/3;if(s==="sms-ss-sms-m"){if([0,2,4].includes(t))return(a-2*e.gap)/4;if(t===1||t===3)return(a-2*e.gap)/2+e.gap}else{if(s==="sm-ss-sss-ss")return[0,2,3,4].includes(t)?(a-2*e.gap)/3:(a-2*e.gap)/3*2+e.gap;if(s==="ms-ss-sss-ss")return[1,2,3,4].includes(t)?(a-2*e.gap)/3:(a-2*e.gap)/3*2+e.gap;if(s==="sss-ss-sm-ss")return[0,1,2,4].includes(t)?(a-2*e.gap)/3:(a-2*e.gap)/3*2+e.gap;if(s==="mss-ss-ssm-ss")return[1,2,4,5].includes(t)?(a-2*e.gap)/4:(a-2*e.gap)/2+e.gap;if(s==="sss-ss-mm-ss")return[0,1,2].includes(t)?(a-e.gap*2)/3:(a-e.gap)/2;if(e.evenReg.test(s||"")){var n=Number(s==null?void 0:s.split("-")[1]),l=Number(s==null?void 0:s.split("-")[2]);if(t<n*l)return(a-e.gap*(l-1))/l}}return 0},e.generateTranslate=function(s,t){var a=Number(e.props.width)||e.state.defaultWidth,n=Number(e.props.height)||e.state.defaultHeight,l={position:"absolute",boxSizing:"content-box",height:e.generateHeight(s,t)+"px",width:e.generateWidth(s,t)+"px"};return s==="sm-ss-sss-m"?t===1?l.transform="translate(".concat((a-2*e.gap)/3+e.gap,"px,").concat(0,"px)"):t===2?l.transform="translate(".concat((a-2*e.gap)/3+e.gap,"px,").concat((n-e.gap)*.5+e.gap,"px)"):t===3&&(l.transform="translate(".concat((a-2*e.gap)/3*2+2*e.gap,"px,").concat((n-e.gap)*.5+e.gap,"px)")):s==="sss-ss-ms-m"?t===1?l.transform="translate(".concat((a-2*e.gap)/3+e.gap,"px,").concat((n-e.gap)*.5+e.gap,"px)"):t===2?l.transform="translate(".concat((a-2*e.gap)/3+e.gap,"px,").concat(0,"px)"):t===3&&(l.transform="translate(".concat((a-2*e.gap)/3*2+2*e.gap,"px,").concat(0,"px)")):s==="sms-ss-sms-m"?t===1?l.transform="translate(".concat((a-2*e.gap)/4+e.gap,"px,").concat(0,"px)"):t===2?l.transform="translate(".concat((a-2*e.gap)/4*3+3*e.gap,"px,").concat(0,"px)"):t===3?l.transform="translate(".concat((a-2*e.gap)/4+e.gap,"px,").concat((n-e.gap)/2+e.gap,"px)"):t===4&&(l.transform="translate(".concat((a-2*e.gap)/4*3+3*e.gap,"px,").concat((n-e.gap)/2+e.gap,"px)")):s==="sm-ss-sss-ss"?t===1?l.transform="translate(".concat((a-2*e.gap)/3+e.gap,"px,").concat(0,"px)"):t===2?l.transform="translate(".concat(0,"px,").concat((n-e.gap)/2+e.gap,"px)"):t===3?l.transform="translate(".concat((a-2*e.gap)/3+e.gap,"px,").concat((n-e.gap)/2+e.gap,"px)"):t===4&&(l.transform="translate(".concat((a-2*e.gap)/3*2+2*e.gap,"px,").concat((n-e.gap)/2+e.gap,"px)")):s==="ms-ss-sss-ss"?t===1?l.transform="translate(".concat((a-2*e.gap)/3*2+2*e.gap,"px,").concat(0,"px)"):t===2?l.transform="translate(".concat(0,"px,").concat((n-e.gap)/2+e.gap,"px)"):t===3?l.transform="translate(".concat((a-2*e.gap)/3+e.gap,"px,").concat((n-e.gap)/2+e.gap,"px)"):t===4&&(l.transform="translate(".concat((a-2*e.gap)/3*2+2*e.gap,"px,").concat((n-e.gap)/2+e.gap,"px)")):s==="sss-ss-sm-ss"?t===1?l.transform="translate(".concat((a-2*e.gap)/3+e.gap,"px,").concat(0,"px)"):t===2?l.transform="translate(".concat((a-2*e.gap)/3*2+2*e.gap,"px,").concat(0,"px)"):t===3?l.transform="translate(".concat(0,"px,").concat((n-e.gap)/2+e.gap,"px)"):t===4&&(l.transform="translate(".concat((a-2*e.gap)/3*2+2*e.gap,"px,").concat((n-e.gap)/2+e.gap,"px")):s==="mss-ss-ssm-ss"?t===1||t===2?l.transform="translate(".concat(((a-2*e.gap)/4+e.gap)*(t+1),"px,").concat(0,"px)"):t===3?l.transform="translate(".concat(0,"px,").concat((n-e.gap)/2+e.gap,"px)"):(t===4||t===5)&&(l.transform="translate(".concat(((a-2*e.gap)/4+e.gap)*(t-2),"px,").concat((n-e.gap)/2+e.gap,"px)")):s==="sss-ss-mm-ss"?t===1||t===2?l.transform="translate(".concat(((a-2*e.gap)/3+e.gap)*t,"px,").concat(0,"px)"):(t===3||t===4)&&(l.transform="translate(".concat(((a-e.gap)/2+e.gap)*(t-3),"px,").concat((n-e.gap)/2+e.gap,"px)")):e.evenReg.test(s||"")&&(l.transform=e.generateEvenTranslate(s,t)),l},e.state={defaultWidth:200,defaultHeight:112.5,currentIndex:0,nextAnimation:""},e}return p.prototype.getFrameId=function(i){var e=this.state.currentIndex,s=this.list.length;switch(i){case"prev":return(e-1+s)%s;case"next":return(e+1)%s;default:return e}},p.prototype.transitFramesTowards=function(i,e){return(0,r.mG)(this,void 0,void 0,function(){var s,t;return(0,r.Jh)(this,function(a){switch(s=this.state.currentIndex,t=s,i){case"left":s=this.getFrameId("next"),e="slideLeft";break;case"right":s=this.getFrameId("prev"),e="slideRight";break;default:return[2]}return this.setState({currentIndex:s,nextAnimation:e}),[2]})})},p.prototype.handleSwipe=function(i){var e=50;Math.abs(i)>e&&(i>0?this.transitFramesTowards("right","slideRight"):this.transitFramesTowards("left","slideLeft"))},p.prototype.handleTouchStart=function(i){this.props.displayMode==="full"&&(this.isSwiping=!0,this.startX=i.touches[0].clientX)},p.prototype.handleTouchEnd=function(i){if(this.isSwiping){var e=i.changedTouches[0].clientX-this.startX;this.handleSwipe(e),this.isSwiping=!1}},p.prototype.handleMouseDown=function(i){this.props.displayMode==="full"&&(i.preventDefault(),this.isSwiping=!0,this.startX=i.clientX,document.addEventListener("mouseup",this.handleMouseUp))},p.prototype.handleMouseUp=function(i){if(this.isSwiping){var e=i.clientX-this.startX;this.handleSwipe(e),this.isSwiping=!1,document.removeEventListener("mouseup",this.handleMouseUp)}},p.prototype.handleEnlarge=function(i){var e=this.props,s=e.onImageEnlarge,t=e.src,a=e.originalSrc;s&&s((0,r.pi)((0,r.pi)({},i),{originalSrc:i.originalSrc||i.src,list:this.list.map(function(n){return{src:t?(0,c.hXT)(t,n,"| raw"):n&&n.image||n,originalSrc:a?(0,c.hXT)(a,n,"| raw"):(n==null?void 0:n.src)||(0,c.hXT)(t,n,"| raw")||(n==null?void 0:n.image)||n,title:n&&(n.enlargeTitle||n.title),caption:n&&(n.enlargeCaption||n.description||n.caption)}})}),this.props)},p.prototype.generateEvenTranslate=function(i,e){var s="",t=Number(this.props.width)||this.state.defaultWidth,a=Number(this.props.height)||this.state.defaultHeight,n=Number(i==null?void 0:i.split("-")[1]),l=Number(i==null?void 0:i.split("-")[2]);if(e<n*l){var y=(t-(l-1)*this.gap)/l,S=(a-(n-1)*this.gap)/n,F=Math.floor(e/l),u=e%l,C=u*(y+this.gap),O=F*(S+this.gap);s="translate(".concat(C,"px,").concat(O,"px)")}return s},p.prototype.componentDidMount=function(){(!this.props.width||!this.props.height||String(this.props.width).includes("%")&&String(this.props.height).includes("%"))&&this.observeParentSize()},p.prototype.componentWillUnmount=function(){this.resizeObserver&&this.resizeObserver.disconnect()},p.prototype.observeParentSize=function(){var i=this,e;!((e=this.containerRef.current)===null||e===void 0)&&e.parentElement&&(this.resizeObserver=new ResizeObserver(function(s){var t,a;try{for(var n=(0,r.XA)(s),l=n.next();!l.done;l=n.next()){var y=l.value;i.setState({defaultWidth:y.contentRect.width*parseFloat(i.props.width||"100")/100,defaultHeight:y.contentRect.height*parseFloat(i.props.height||"100")/100}),i.forceUpdate()}}catch(S){t={error:S}}finally{try{l&&!l.done&&(a=n.return)&&a.call(n)}finally{if(t)throw t.error}}}),this.resizeObserver.observe(this.containerRef.current.parentElement))},p.prototype.render=function(){var i=this,e=this.props,s=e.className,t=e.style,a=e.defaultImage,n=e.thumbMode,l=e.thumbRatio,y=e.data,S=e.name,F=e.placeholder,u=e.classnames,C=e.source,O=e.delimiter,j=e.enlargeAble,T=e.enlargeWithGallary,b=e.src,M=e.originalSrc,U=e.listClassName,Z=e.options,H=e.showToolbar,L=e.toolbarActions,z=e.imageGallaryClassName,ee=e.galleryControlClassName,d=e.id,k=e.wrapperCustomStyle,K=e.env,N=e.themeCss,R=e.sortType,te=e.imagesControlClassName,x=e.displayMode,J=e.fullThumbMode,$=e.maskColor,V=this.state.currentIndex,A,g;return typeof C=="string"&&(0,c.SSQ)(C)?g=(0,c.OgC)(C,y,"| raw")||void 0:Array.isArray(A=(0,c.v8S)(this.props))||typeof A=="string"?g=A:Array.isArray(Z)&&(g=Z),typeof g=="string"?g=g.split(O):g&&!Array.isArray(g)&&(g=[g]),this.list=g,this.props.sortType==="sm-ss-sss-m"?this.list=g.slice(0,4):this.props.sortType==="sss-ss-ms-m"?this.list=g.slice(0,5):this.props.sortType==="sms-ss-sms-m"||this.props.sortType==="sm-ss-sss-ss"||this.props.sortType==="ms-ss-sss-ss"||this.props.sortType==="sss-ss-sm-ss"?this.list=g.slice(0,6):this.props.sortType==="mss-ss-ssm-ss"?this.list=g.slice(0,8):this.props.sortType==="sss-ss-mm-ss"&&(this.list=g.slice(0,6)),this.props.sortType?h().createElement("div",{ref:this.containerRef,className:R,style:{width:(this.props.width||this.state.defaultWidth)+"px",height:(this.props.height||this.state.defaultHeight)+"px"}},this.list.map(function(o,m){return h().createElement(I.default,{maskColor:$,fontStyle:i.props.fontStyle,style:i.generateTranslate(R,m),width:i.generateWidth(R,m),height:i.generateHeight(R,m),hoverMode:i.props.hoverMode||"text-style-4",index:m,className:u("Images-item"),key:m,src:(b?(0,c.hXT)(b,o,"| raw"):o&&o.image)||o,originalSrc:(M?(0,c.hXT)(M,o,"| raw"):o&&o.src)||o,title:o&&o.title,sortType:i.props.sortType,caption:o&&(o.description||o.caption),thumbMode:n,thumbRatio:l,enlargeAble:j,enlargeWithGallary:T,onEnlarge:i.handleEnlarge,showToolbar:H,imageGallaryClassName:"".concat(z," ").concat((0,c.GwQ)((0,r.pi)((0,r.pi)({},i.props),{name:"imageGallaryClassName",id:d,themeCss:N}))," ").concat((0,c.GwQ)((0,r.pi)((0,r.pi)({},i.props),{name:"galleryControlClassName",id:d,themeCss:N}))),toolbarActions:L})})):h().createElement("div",{ref:this.wrapperRef,className:u("ImagesField",s,x==="full"?"ImagesField--full":"",(0,c.GwQ)((0,r.pi)((0,r.pi)({},this.props),{name:"imagesControlClassName",id:d,themeCss:N})),(0,c.GwQ)((0,r.pi)((0,r.pi)({},this.props),{name:"wrapperCustomStyle",id:d,themeCss:k}))),style:(0,r.pi)((0,r.pi)({},t),x==="full"?{height:"auto"}:{}),onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onMouseDown:this.handleMouseDown},Array.isArray(g)?h().createElement("div",{className:u("Images",U)},x==="full"?h().createElement("div",{className:u("Images-container")},g.map(function(o,m){return h().createElement(v.ZP,{key:m,in:m===V,timeout:300,mountOnEnter:!0,unmountOnExit:!0},function(Q){var E,X,W;Q===v.d0&&((W=i.wrapperRef.current)===null||W===void 0||W.childNodes.forEach(function(D){return D.offsetHeight}));var Y=(E={},E[v.d0]={opacity:1,transform:"translateX(0)"},E[v.cn]={opacity:1,transform:"translateX(0)"},E[v.Ix]={opacity:0,transform:i.state.nextAnimation==="slideRight"?"translateX(100%)":"translateX(-100%)"},E[v.Wj]={opacity:0,transform:i.state.nextAnimation==="slideRight"?"translateX(-100%)":"translateX(100%)"},E);return h().createElement("div",{className:u("Images-item"),style:(0,r.pi)({position:"absolute",width:"100%",height:"100%",transition:"all 300ms ease-in-out"},Y[Q])},h().createElement("div",{className:u("Images-itemInner")},h().createElement("img",{className:u("Image-image",(X={},X["Image-image--".concat(J)]=x==="full",X)),src:(b?(0,c.hXT)(b,o,"| raw"):o&&o.image)||o,alt:o&&o.title,draggable:!1,onDragStart:function(D){return D.preventDefault()}}),h().createElement("div",{className:u("Images-itemIndex")},m+1,"/",g.length)))})})):g.map(function(o,m){return h().createElement(I.default,{hoverMode:i.props.hoverMode||"text-style-4",fontStyle:i.props.fontStyle,index:m,className:u("Images-item"),key:m,src:(b?(0,c.hXT)(b,o,"| raw"):o&&o.image)||o,originalSrc:(M?(0,c.hXT)(M,o,"| raw"):o&&o.src)||o,title:o&&o.title,caption:o&&(o.description||o.caption),thumbMode:n,thumbRatio:l,enlargeAble:j,enlargeWithGallary:T,onEnlarge:i.handleEnlarge,showToolbar:H,imageGallaryClassName:"".concat(z," ").concat((0,c.GwQ)((0,r.pi)((0,r.pi)({},i.props),{name:"imageGallaryClassName",id:d,themeCss:N}))," ").concat((0,c.GwQ)((0,r.pi)((0,r.pi)({},i.props),{name:"galleryControlClassName",id:d,themeCss:N}))),toolbarActions:L})})):a?h().createElement("div",{className:u("Images",U)},h().createElement(I.default,{hoverMode:this.props.hoverMode||"text-style-4",className:u("Images-item"),src:a,thumbMode:n,thumbRatio:l})):F,h().createElement(c.cWM,(0,r.pi)({},this.props,{config:{wrapperCustomStyle:k,id:d,themeCss:N,classNames:[{key:"imagesControlClassName"},{key:"galleryControlClassName"}]},env:K})))},p.defaultProps={className:"",delimiter:",",defaultImage:I.imagePlaceholder,placehoder:"-",thumbMode:"cover",thumbRatio:"1:1",displayMode:"thumb",fullThumbMode:"cover"},(0,r.gn)([c.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String]),(0,r.w6)("design:returntype",void 0)],p.prototype,"getFrameId",null),(0,r.gn)([c.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,String]),(0,r.w6)("design:returntype",Promise)],p.prototype,"transitFramesTowards",null),(0,r.gn)([c.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Number]),(0,r.w6)("design:returntype",void 0)],p.prototype,"handleSwipe",null),(0,r.gn)([c.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],p.prototype,"handleTouchStart",null),(0,r.gn)([c.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],p.prototype,"handleTouchEnd",null),(0,r.gn)([c.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],p.prototype,"handleMouseDown",null),(0,r.gn)([c.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[MouseEvent]),(0,r.w6)("design:returntype",void 0)],p.prototype,"handleMouseUp",null),(0,r.gn)([c.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],p.prototype,"handleEnlarge",null),p}(h().Component),B=function(w){(0,r.ZT)(p,w);function p(){return w!==null&&w.apply(this,arguments)||this}return p=(0,r.gn)([(0,c.Thl)({type:"images"})],p),p}(G)}}]);
