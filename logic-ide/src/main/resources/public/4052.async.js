"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[4052],{24052:function(b,w,u){u.r(w),u.d(w,{Tpl:function(){return E},TplRenderer:function(){return L}});var e=u(15767),N=u(87363),h=u.n(N),i=u(42977),D=u(82691),P=u.n(D),x=u(94391),E=function(d){(0,e.ZT)(s,d);function s(n){var t=d.call(this,n)||this;return t.sn=0,t.state={content:t.getContent()},t.mounted=!0,t}return s.prototype.componentDidUpdate=function(n){var t=this,r=["tpl","html","text","raw","data","placeholder"];(r.some(function(a){return!Object.is(n[a],t.props[a])})||!Object.is((0,i.v8S)(n),(0,i.v8S)(this.props)))&&this.updateContent()},s.prototype.componentDidMount=function(){this.updateContent()},s.prototype.componentWillUnmount=function(){this.mounted=!1},s.prototype.updateContent=function(){return(0,e.mG)(this,void 0,void 0,function(){var n,t;return(0,e.Jh)(this,function(r){switch(r.label){case 0:return n=++this.sn,[4,this.getAsyncContent()];case 1:return t=r.sent(),n!==this.sn?[2]:(this.mounted&&this.setState({content:t}),[2])}})})},s.prototype.getContent=function(){var n=this.props,t=n.tpl,r=n.html,a=n.text,p=n.raw,l=n.data,c=n.placeholder,o=(0,i.v8S)(this.props);return p||(r?(0,i.hXT)(r,l):t?(0,i.hXT)(t,l):a?(0,i.Xvb)((0,i.hXT)(a,l)):o==null||o===""?'<span class="text-muted">'.concat(c,"</span>"):typeof o=="string"?o:JSON.stringify(o))},s.prototype.getAsyncContent=function(){return(0,e.mG)(this,void 0,void 0,function(){var n,t,r,a,p,l,c,o,v;return(0,e.Jh)(this,function(m){switch(m.label){case 0:return n=this.props,t=n.tpl,r=n.html,a=n.text,p=n.data,l=n.raw,c=n.placeholder,o=(0,i.v8S)(this.props),l?[2,l]:[3,1];case 1:return r?[2,(0,i.uT5)(r,p)]:[3,2];case 2:return t?[2,(0,i.uT5)(t,p)]:[3,3];case 3:return a?(v=i.Xvb,[4,(0,i.uT5)(a,p)]):[3,5];case 4:return[2,v.apply(void 0,[m.sent()])];case 5:return[2,o==null||o===""?'<span class="text-muted">'.concat(c,"</span>"):typeof o=="string"?o:JSON.stringify(o)]}})})},s.prototype.getTitle=function(n){var t,r=this.props.showNativeTitle;if(!r)return"";var a=typeof n=="string"?n:"",p=new DOMParser().parseFromString(n,"text/html");return!((t=p==null?void 0:p.body)===null||t===void 0)&&t.textContent&&(a=p.body.textContent),a},s.prototype.handleClick=function(n){var t=this.props,r=t.dispatchEvent,a=t.data;r(n,a)},s.prototype.handleMouseEnter=function(n){var t=this.props,r=t.dispatchEvent,a=t.data;r(n,a)},s.prototype.handleMouseLeave=function(n){var t=this.props,r=t.dispatchEvent,a=t.data;r(n,a)},s.prototype.render=function(){var n,t=this.props,r=t.className,a=t.wrapperComponent,p=t.inline,l=t.classnames,c=t.style,o=t.maxLine,v=t.showNativeTitle,m=t.data,y=t.id,T=t.wrapperCustomStyle,_=t.env,M=t.themeCss,g=t.testIdBuilder,S=a||(p?"span":"div"),O=this.state.content,f={},C="";return o>0&&(C="max-line",f.WebkitLineClamp=+o),h().createElement(S,(0,e.pi)({className:l("TplField fr-view",r,(0,i.GwQ)((0,e.pi)((0,e.pi)({},this.props),{name:"baseControlClassName",id:y,themeCss:M})),(0,i.GwQ)((0,e.pi)((0,e.pi)({},this.props),{name:"wrapperCustomStyle",id:y,themeCss:T}))),style:(0,i.uBL)(c,m)},v?{title:this.getTitle(O)}:{},{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},(n=g==null?void 0:g.getChild("tpl"))===null||n===void 0?void 0:n.getTestId()),h().createElement("span",{className:C?l(C):void 0,style:P()(f)?void 0:f,dangerouslySetInnerHTML:{__html:_.filterHtml(O)}}),h().createElement(i.cWM,(0,e.pi)({},this.props,{config:{wrapperCustomStyle:T,id:y,themeCss:M,classNames:[{key:"baseControlClassName"}]},env:_})))},s.defaultProps={inline:!0,placeholder:""},(0,e.gn)([i.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",Promise)],s.prototype,"updateContent",null),(0,e.gn)([i.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",void 0)],s.prototype,"getContent",null),(0,e.gn)([i.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",Promise)],s.prototype,"getAsyncContent",null),(0,e.gn)([i.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[String]),(0,e.w6)("design:returntype",void 0)],s.prototype,"getTitle",null),(0,e.gn)([i.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],s.prototype,"handleClick",null),(0,e.gn)([i.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],s.prototype,"handleMouseEnter",null),(0,e.gn)([i.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object]),(0,e.w6)("design:returntype",void 0)],s.prototype,"handleMouseLeave",null),s}(h().Component),L=function(d){(0,e.ZT)(s,d);function s(){return d!==null&&d.apply(this,arguments)||this}return s=(0,e.gn)([(0,i.Thl)({type:"tpl",alias:["html"],name:"tpl"}),x.txp],s),s}(E)}}]);
