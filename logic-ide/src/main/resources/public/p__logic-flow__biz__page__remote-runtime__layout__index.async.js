"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[1960],{78325:function(y,f,e){e.r(f),e.d(f,{default:function(){return O}});var b=e(48305),s=e.n(b),p=e(12864),u=e(87363),E={navs:"navs___mgtnr"},m=e(27491),v=e(53105),U=e(63124),d=e(46793),h=e(74706),g=e(17767),D=e(41648),c=e(22191),t=e(62086),o=m.Z.Content,i=m.Z.Header,n=m.Z.Sider,_=m.Z.Footer;function r(a,l,C,T){var j,P;return((j=l)===null||j===void 0?void 0:j.toString().length)>1?a=_jsx(Link,{to:l.toString(),children:a}):l=(P=a)===null||P===void 0?void 0:P.toString(),{key:l,icon:C,children:T,label:a}}function O(a){var l=(0,u.useState)(!1),C=s()(l,2),T=C[0],j=C[1],P=(0,u.useState)([]),w=s()(P,2),B=w[0],W=w[1],I=(0,p.UO)(),K=I.pageId,M=I.runtime,k=(0,u.useState)("x"),S=s()(k,2),Z=S[0],J=S[1],$=(0,u.useState)(null),L=s()($,2),F=L[0],G=L[1];(0,u.useEffect)(function(){c.S.getRemoteRuntimeConfig()},[]),(0,u.useEffect)(function(){new g.Z(M).getAppJson("remote-list").then(function(R){W(R.menus);var x=D.j.getRemoteRuntimes();if(x){var A=x.find(function(H){return H.name==M});J(A==null?void 0:A.title)}}).catch(function(R){console.error(R)})},[M]);var z=v.Z.useToken(),N=z.token.colorBgContainer;return(0,t.jsx)("div",{className:E.navs,children:(0,t.jsxs)(m.Z,{style:{minHeight:"100vh"},children:[(0,t.jsxs)(i,{title:"\u4E1A\u52A1\u7F16\u6392\u5DE5\u5177",style:{position:"sticky",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center"},children:[(0,t.jsx)("img",{style:{marginRight:"20px",width:"30px",height:"30px"},src:"/api/ide/papi/".concat(M,"/logic/logo.png")}),(0,t.jsx)("div",{style:{color:"ButtonFace",fontSize:"18px",fontFamily:"\u9ED1\u4F53",fontWeight:"bolder",cursor:"pointer"},onClick:function(){p.m8.push("/")},children:Z}),(0,t.jsx)(U.Z,{mode:"horizontal",defaultSelectedKeys:["1"],items:B,theme:"dark",style:{marginLeft:"100px",color:"whitesmoke",fontSize:"16px",fontFamily:"\u9ED1\u4F53"},onClick:function(x){p.m8.push("/remote/".concat(M,"/page/").concat(x.key))}})]}),(0,t.jsx)(m.Z,{children:(0,t.jsxs)(o,{style:{margin:"10px 16px"},ref:G,children:[(0,t.jsx)(p.j3,{}),(0,t.jsx)(d.Z,{offsetBottom:2,target:function(){return F},style:{position:"absolute",right:16},children:(0,t.jsx)(p.rU,{to:"/set/design/page/".concat(K),target:"_blank",children:(0,t.jsx)(h.Z,{})})})]})})]})})}},17767:function(y,f,e){e.d(f,{Z:function(){return D}});var b=e(90228),s=e.n(b),p=e(87999),u=e.n(p),E=e(25298),m=e.n(E),v=e(17069),U=e.n(v),d=e(82092),h=e.n(d),g=e(96179),D=function(){function c(t){m()(this,c),h()(this,"runtime",void 0),this.runtime=t}return U()(c,[{key:"isValidRuntime",value:function(){return this.runtime!=null&&this.runtime!=""&&this.runtime!=null}},{key:"initApp",value:function(){var t=u()(s()().mark(function i(){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,g.U2)("/setting/app.json");case 2:return _.abrupt("return",_.sent.data);case 3:case"end":return _.stop()}},i)}));function o(){return t.apply(this,arguments)}return o}()},{key:"getAppJson",value:function(){var t=u()(s()().mark(function i(n){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,g.U2)("/logic/setting/apps/".concat(n,".json"));case 2:return r.abrupt("return",r.sent.data);case 3:case"end":return r.stop()}},i)}));function o(i){return t.apply(this,arguments)}return o}()},{key:"getIndexJson",value:function(){var t=u()(s()().mark(function i(){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,g.U2)("/logic/setting/apps/index.json");case 2:return _.abrupt("return",_.sent.data);case 3:case"end":return _.stop()}},i)}));function o(){return t.apply(this,arguments)}return o}()}]),c}()},22191:function(y,f,e){e.d(f,{S:function(){return g}});var b=e(90228),s=e.n(b),p=e(87999),u=e.n(p),E=e(25298),m=e.n(E),v=e(17069),U=e.n(v),d=e(41648),h=e(96179),g=function(){function D(){m()(this,D)}return U()(D,null,[{key:"getEnvJson",value:function(){var c=u()(s()().mark(function o(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.U2)("/api/runtime/env").then(function(_){return _.data.data}).then(function(_){return d.j.setModel(_.UI_CONFIG_MODEL),d.j.setEnv(JSON.stringify(_)),d.j.setApiUrlPrefix(_.API_GATEWAY_PREFIX),d.j.setReryApi(_.CUSTOM_RETRY_URL),d.j.setReryApi(_.CUSTOM_RETRY_URL),_}));case 1:case"end":return n.stop()}},o)}));function t(){return c.apply(this,arguments)}return t}()},{key:"getRemoteRuntimeConfig",value:function(){var c=u()(s()().mark(function o(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.v_)("/api/ide/remote-runtimes").then(function(_){return _.data}).then(function(_){return console.log("remote runtimes:",_.data),d.j.setRemoteRuntimes(JSON.stringify(_.data)),_}));case 1:case"end":return n.stop()}},o)}));function t(){return c.apply(this,arguments)}return t}()}]),D}()},96179:function(y,f,e){e.d(f,{U2:function(){return U},gz:function(){return h},v_:function(){return t}});var b=e(90228),s=e.n(b),p=e(26068),u=e.n(p),E=e(87999),m=e.n(E),v=e(59321);function U(n,_){return d.apply(this,arguments)}function d(){return d=m()(s()().mark(function n(_,r){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",v.Z.get(_,i(r)));case 1:case"end":return a.stop()}},n)})),d.apply(this,arguments)}function h(n,_,r){return g.apply(this,arguments)}function g(){return g=m()(s()().mark(function n(_,r,O){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",v.Z.put(_,r,i(O)));case 1:case"end":return l.stop()}},n)})),g.apply(this,arguments)}function D(n,_){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function n(_,r){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",axios.delete(_,i(r)));case 1:case"end":return a.stop()}},n)})),c.apply(this,arguments)}function t(n,_,r){return o.apply(this,arguments)}function o(){return o=m()(s()().mark(function n(_,r,O){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",v.Z.post(_,r,i(O)));case 1:case"end":return l.stop()}},n)})),o.apply(this,arguments)}function i(n){var _={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(_.Authorization="Bearer "+localStorage.getItem("token")),u()(u()({},n),{},{headers:u()(u()({},_),n==null?void 0:n.headers)})}}}]);
