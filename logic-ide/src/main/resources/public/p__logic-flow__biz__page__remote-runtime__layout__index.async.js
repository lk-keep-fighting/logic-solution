"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[1960],{24425:function(A,f,e){e.r(f),e.d(f,{default:function(){return O}});var b=e(48305),s=e.n(b),p=e(9413),r=e(87363),E={navs:"navs___mgtnr"},m=e(67703),v=e(55469),U=e(75818),d=e(67454),h=e(74706),g=e(35836),D=e(33627),c=e(370),t=e(62086),a=m.Z.Content,u=m.Z.Header,n=m.Z.Sider,_=m.Z.Footer;function o(i,l,C,k){var j,P;return((j=l)===null||j===void 0?void 0:j.toString().length)>1?i=_jsx(Link,{to:l.toString(),children:i}):l=(P=i)===null||P===void 0?void 0:P.toString(),{key:l,icon:C,children:k,label:i}}function O(i){var l=(0,r.useState)(!1),C=s()(l,2),k=C[0],j=C[1],P=(0,r.useState)([]),w=s()(P,2),B=w[0],W=w[1],I=(0,p.UO)(),K=I.pageId,M=I.runtime,x=(0,r.useState)("x"),S=s()(x,2),Z=S[0],J=S[1],$=(0,r.useState)(null),L=s()($,2),F=L[0],G=L[1];(0,r.useEffect)(function(){c.S.getRemoteRuntimeConfig()},[]),(0,r.useEffect)(function(){new g.Z(M).getAppJson("remote-list").then(function(R){W(R.menus);var y=D.j.getRemoteRuntimes();if(y){var T=y.find(function(H){return H.name==M});J(T==null?void 0:T.title)}}).catch(function(R){console.error(R)})},[M]);var z=v.Z.useToken(),N=z.token.colorBgContainer;return(0,t.jsx)("div",{className:E.navs,children:(0,t.jsxs)(m.Z,{style:{minHeight:"100vh"},children:[(0,t.jsxs)(u,{title:"\u4E1A\u52A1\u7F16\u6392\u5DE5\u5177",style:{position:"sticky",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center"},children:[(0,t.jsx)("img",{style:{marginRight:"20px",width:"30px",height:"30px"},src:"/api/ide/papi/".concat(M,"/logic/logo.png")}),(0,t.jsx)("div",{style:{color:"ButtonFace",fontSize:"18px",fontFamily:"\u9ED1\u4F53",fontWeight:"bolder",cursor:"pointer"},onClick:function(){p.m8.push("/")},children:Z}),(0,t.jsx)(U.Z,{mode:"horizontal",defaultSelectedKeys:["1"],items:B,theme:"dark",style:{marginLeft:"100px",color:"whitesmoke",fontSize:"16px",fontFamily:"\u9ED1\u4F53"},onClick:function(y){p.m8.push("/remote/".concat(M,"/page/").concat(y.key))}})]}),(0,t.jsx)(m.Z,{children:(0,t.jsxs)(a,{style:{margin:"10px 16px"},ref:G,children:[(0,t.jsx)(p.j3,{}),(0,t.jsx)(d.Z,{offsetBottom:2,target:function(){return F},style:{position:"absolute",right:16},children:(0,t.jsx)(p.rU,{to:"/set/design/page/".concat(K),target:"_blank",children:(0,t.jsx)(h.Z,{})})})]})})]})})}},35836:function(A,f,e){e.d(f,{Z:function(){return D}});var b=e(90228),s=e.n(b),p=e(87999),r=e.n(p),E=e(25298),m=e.n(E),v=e(17069),U=e.n(v),d=e(82092),h=e.n(d),g=e(72591),D=function(){function c(t){m()(this,c),h()(this,"runtime",void 0),this.runtime=t}return U()(c,[{key:"isValidRuntime",value:function(){return this.runtime!=null&&this.runtime!=""&&this.runtime!=null}},{key:"initApp",value:function(){var t=r()(s()().mark(function u(){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,g.U2)("/setting/app.json");case 2:return _.abrupt("return",_.sent.data);case 3:case"end":return _.stop()}},u)}));function a(){return t.apply(this,arguments)}return a}()},{key:"getAppJson",value:function(){var t=r()(s()().mark(function u(n){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,g.U2)("/logic/setting/apps/".concat(n,".json"));case 2:return o.abrupt("return",o.sent.data);case 3:case"end":return o.stop()}},u)}));function a(u){return t.apply(this,arguments)}return a}()},{key:"getIndexJson",value:function(){var t=r()(s()().mark(function u(){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,g.U2)("/logic/setting/apps/index.json");case 2:return _.abrupt("return",_.sent.data);case 3:case"end":return _.stop()}},u)}));function a(){return t.apply(this,arguments)}return a}()}]),c}()},370:function(A,f,e){e.d(f,{S:function(){return g}});var b=e(90228),s=e.n(b),p=e(87999),r=e.n(p),E=e(25298),m=e.n(E),v=e(17069),U=e.n(v),d=e(33627),h=e(72591),g=function(){function D(){m()(this,D)}return U()(D,null,[{key:"getEnvJson",value:function(){var c=r()(s()().mark(function a(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.U2)("/api/runtime/env").then(function(_){return _.data.data}).then(function(_){return d.j.setModel(_.UI_CONFIG_MODEL),d.j.setEnv(JSON.stringify(_)),d.j.setApiUrlPrefix(_.API_GATEWAY_PREFIX),d.j.setReryApi(_.CUSTOM_RETRY_URL),d.j.setReryApi(_.CUSTOM_RETRY_URL),_}));case 1:case"end":return n.stop()}},a)}));function t(){return c.apply(this,arguments)}return t}()},{key:"getRemoteRuntimeConfig",value:function(){var c=r()(s()().mark(function a(){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.v_)("/api/ide/remote-runtimes").then(function(_){return _.data}).then(function(_){return console.log("remote runtimes:",_.data),d.j.setRemoteRuntimes(JSON.stringify(_.data)),_}));case 1:case"end":return n.stop()}},a)}));function t(){return c.apply(this,arguments)}return t}()}]),D}()},72591:function(A,f,e){e.d(f,{U2:function(){return U},gz:function(){return h},v_:function(){return t}});var b=e(90228),s=e.n(b),p=e(26068),r=e.n(p),E=e(87999),m=e.n(E),v=e(950);function U(n,_){return d.apply(this,arguments)}function d(){return d=m()(s()().mark(function n(_,o){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",v.Z.get(_,u(o)));case 1:case"end":return i.stop()}},n)})),d.apply(this,arguments)}function h(n,_,o){return g.apply(this,arguments)}function g(){return g=m()(s()().mark(function n(_,o,O){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",v.Z.put(_,o,u(O)));case 1:case"end":return l.stop()}},n)})),g.apply(this,arguments)}function D(n,_){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function n(_,o){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",axios.delete(_,u(o)));case 1:case"end":return i.stop()}},n)})),c.apply(this,arguments)}function t(n,_,o){return a.apply(this,arguments)}function a(){return a=m()(s()().mark(function n(_,o,O){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",v.Z.post(_,o,u(O)));case 1:case"end":return l.stop()}},n)})),a.apply(this,arguments)}function u(n){var _={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(_.Authorization="Bearer "+localStorage.getItem("token")),r()(r()({},n),{},{headers:r()(r()({},_),n==null?void 0:n.headers)})}}}]);
