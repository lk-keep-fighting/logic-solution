"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[1960],{24425:function(I,h,e){e.r(h),e.d(h,{default:function(){return L}});var C=e(48305),o=e.n(C),a=e(9413),_=e(87363),x={navs:"navs___mgtnr"},u=e(67703),j=e(55469),S=e(75818),l=e(67454),p=e(74706),O=e(35836),m=e(33627),d=e(370),n=e(62086),c=u.Z.Content,b=u.Z.Header,s=u.Z.Sider,t=u.Z.Footer;function H(g,i,E,U){var R,v;return((R=i)===null||R===void 0?void 0:R.toString().length)>1?g=_jsx(Link,{to:i.toString(),children:g}):i=(v=g)===null||v===void 0?void 0:v.toString(),{key:i,icon:E,children:U,label:g}}function L(g){var i=(0,_.useState)(!1),E=o()(i,2),U=E[0],R=E[1],v=(0,_.useState)([]),M=o()(v,2),B=M[0],W=M[1],P=(0,a.UO)(),K=P.pageId,f=P.runtime,Z=(0,_.useState)("x"),T=o()(Z,2),w=T[0],F=T[1],k=(0,_.useState)(null),A=o()(k,2),J=A[0],z=A[1];(0,_.useEffect)(function(){d.S.getRemoteRuntimeConfig()},[]),(0,_.useEffect)(function(){new O.Z(f).getAppJson("remote-list").then(function(r){W(r.menus);var D=m.j.getRemoteRuntimes();if(D){var y=D.find(function(N){return N.name==f});F(y==null?void 0:y.title)}}).catch(function(r){console.error(r)})},[f]);var G=j.Z.useToken(),Y=G.token.colorBgContainer;return(0,n.jsx)("div",{className:x.navs,children:(0,n.jsxs)(u.Z,{style:{minHeight:"100vh"},children:[(0,n.jsxs)(b,{title:"\u4E1A\u52A1\u7F16\u6392\u5DE5\u5177",style:{position:"sticky",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center"},children:[(0,n.jsx)("img",{style:{marginRight:"20px",width:"30px",height:"30px"},src:"/api/ide/papi/".concat(f,"/logic/logo.png")}),(0,n.jsx)("div",{style:{color:"ButtonFace",fontSize:"18px",fontFamily:"\u9ED1\u4F53",fontWeight:"bolder",cursor:"pointer"},onClick:function(){a.m8.push("/")},children:w}),(0,n.jsx)(S.Z,{mode:"horizontal",defaultSelectedKeys:["1"],items:B,theme:"dark",style:{marginLeft:"100px",color:"whitesmoke",fontSize:"16px",fontFamily:"\u9ED1\u4F53"},onClick:function(D){a.m8.push("/remote/".concat(f,"/page/").concat(D.key))}})]}),(0,n.jsx)(u.Z,{children:(0,n.jsxs)(c,{style:{margin:"10px 16px"},ref:z,children:[(0,n.jsx)(a.j3,{}),(0,n.jsx)(l.Z,{offsetBottom:2,target:function(){return J},style:{position:"absolute",right:16},children:(0,n.jsx)(a.rU,{to:"/set/design/page/".concat(K),target:"_blank",children:(0,n.jsx)(p.Z,{})})})]})})]})})}},370:function(I,h,e){e.d(h,{S:function(){return O}});var C=e(90228),o=e.n(C),a=e(87999),_=e.n(a),x=e(25298),u=e.n(x),j=e(17069),S=e.n(j),l=e(33627),p=e(72591),O=function(){function m(){u()(this,m)}return S()(m,null,[{key:"getEnvJson",value:function(){var d=_()(o()().mark(function c(){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.U2)("/api/runtime/env").then(function(t){return t.data.data}).then(function(t){return l.j.setModel(t.UI_CONFIG_MODEL),l.j.setEnv(JSON.stringify(t)),l.j.setApiUrlPrefix(t.API_GATEWAY_PREFIX),l.j.setReryApi(t.CUSTOM_RETRY_URL),l.j.setReryApi(t.CUSTOM_RETRY_URL),t}));case 1:case"end":return s.stop()}},c)}));function n(){return d.apply(this,arguments)}return n}()},{key:"getRemoteRuntimeConfig",value:function(){var d=_()(o()().mark(function c(){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.v_)("/api/ide/remote-runtimes").then(function(t){return t.data}).then(function(t){return console.log("remote runtimes:",t.data),l.j.setRemoteRuntimes(JSON.stringify(t.data)),t}));case 1:case"end":return s.stop()}},c)}));function n(){return d.apply(this,arguments)}return n}()}]),m}()}}]);
