"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[2925],{72925:function(R,y,d){d.r(y),d.d(y,{CodeRenderer:function(){return S},default:function(){return E}});var v=d(15767),M=d(87363),T=d.n(M),b=d(69143),P=d.n(b),c=d(42977),E=function(f){(0,v.ZT)(r,f);function r(t){var e=f.call(this,t)||this;return e.toDispose=[],e.codeRef=T().createRef(),e}return r.prototype.shouldComponentUpdate=function(t){return(0,c.aGv)(r.propsList,this.props,t)||this.resolveLanguage(this.props)!==this.resolveLanguage(t)||(0,c.v8S)(this.props)!==(0,c.v8S)(t)},r.prototype.componentDidMount=function(){var t=this;Promise.all([d.e(3429),d.e(8526)]).then(d.bind(d,18526)).then(function(e){return t.handleMonaco(e)})},r.prototype.componentDidUpdate=function(t){var e,n;return(0,v.mG)(this,void 0,void 0,function(){var i,a,o,l,s,u,h;return(0,v.Jh)(this,function(g){switch(g.label){case 0:return i=this.props,a=this.codeRef.current,!((e=this===null||this===void 0?void 0:this.monaco)===null||e===void 0)&&e.editor&&a?(o=i.tabSize,l=(n=(0,c.v8S)(this.props))!==null&&n!==void 0?n:"",s=this.resolveLanguage(),u=this.registerAndGetTheme(),this.monaco.editor.setTheme(u),[4,this.monaco.editor.colorize(l,s,{tabSize:o})]):[3,2];case 1:h=g.sent(),a.innerHTML=h,g.label=2;case 2:return[2]}})})},r.prototype.handleMonaco=function(t){var e,n;return(0,v.mG)(this,void 0,void 0,function(){var i,a,o,l,s,u;return(0,v.Jh)(this,function(h){switch(h.label){case 0:return t?(this.monaco=t,i=this.props.tabSize,a=(e=(0,c.v8S)(this.props))!==null&&e!==void 0?e:"",o=this.resolveLanguage(),l=this.codeRef.current,l&&(!((n=this.monaco)===null||n===void 0)&&n.editor)?(s=this.registerAndGetTheme(),this.monaco.editor.setTheme(s),[4,this.monaco.editor.colorize(a,o,{tabSize:i})]):[3,2]):[2];case 1:u=h.sent(),l.innerHTML=u,h.label=2;case 2:return[2]}})})},r.prototype.resolveLanguage=function(t){var e=t!=null?t:this.props,n=e.customLang,i=e.data,a=e.language,o=a===void 0?"plaintext":a;return(0,c.SSQ)(o)&&(o=(0,c.OgC)(o,i)),n&&n.name&&(o=n.name),o},r.prototype.registerAndGetTheme=function(){var t,e,n,i,a=this.monaco,o=this.props,l=o.theme,s=o.editorTheme;if(s=s||(l==="dark"?"vs-dark":"vs"),!a)return s;if(this.customLang&&this.customLang.name&&Array.isArray(this.customLang.tokens)&&this.customLang.tokens.length){var u=this.customLang.name,h=!((n=this.customLang)===null||n===void 0)&&n.colors&&P()((i=this.customLang)===null||i===void 0?void 0:i.colors)?this.customLang.colors:{};a.languages.register({id:u});var g=[],C=[];try{for(var L=(0,v.XA)(this.customLang.tokens),m=L.next();!m.done;m=L.next()){var p=m.value,D=new RegExp(p.regex,p.regexFlags||void 0);g.push([D,p.name]),C.push({token:p.name,foreground:p.color,background:p.background,fontStyle:p.fontStyle})}}catch(O){t={error:O}}finally{try{m&&!m.done&&(e=L.return)&&e.call(L)}finally{if(t)throw t.error}}return a.languages.setMonarchTokensProvider(u,{tokenizer:{root:g}}),a.editor.defineTheme(u,{base:"vs",inherit:!1,rules:C,colors:h}),u}return s},r.prototype.render=function(){var t=(0,c.v8S)(this.props),e=this.props,n=e.className,i=e.maxHeight,a=e.style,o=a===void 0?{}:a,l=e.classnames,s=e.editorTheme,u=e.customLang,h=e.wordWrap,g=e.wrapperComponent,C=this.resolveLanguage(),L=typeof t=="string"&&t.split(/\r?\n/).length>1,m=g||(L?"pre":"code");return u&&(this.customLang=u),i&&(o.maxHeight=o.maxHeight||i,o.overflow="auto"),T().createElement(m,{ref:this.codeRef,className:l("Code",{"Code--dark":s&&["vs-dark","hc-black"].includes(s),"Code-pre-wrap":m==="pre","word-break":h},n),style:o,"data-lang":C},t)},r.propsList=["language","editorTheme","tabSize","wordWrap","customLang","style"],r.defaultProps={language:"plaintext",tabSize:4,wordWrap:!0},r}(T().Component),S=function(f){(0,v.ZT)(r,f);function r(){return f!==null&&f.apply(this,arguments)||this}return r=(0,v.gn)([(0,c.Thl)({type:"code"})],r),r}(E)}}]);
