"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[9315],{87735:function(M,w,r){r.d(w,{Z:function(){return v}});var j=r(48305),s=r.n(j),A=r(87363),d=r(67703),C=r(75818),S=r(57946),D=r(39765),X=r(63121),o=r(62086),T=function(){var E=(0,A.useState)(""),x=s()(E,2),g=x[0],b=x[1],c=(0,A.useState)("systemParams"),m=s()(c,2),f=m[0],i=m[1],e=(0,A.useState)("b_b"),a=s()(e,2),n=a[0],u=a[1],p=(0,A.useRef)(null),h=[{id:"b_b",name:"b",type:"\u5B57\u7B26\u4E32"},{id:"c_a",name:"a",type:"\u5B57\u7B26\u4E32"},{id:"tableOne",name:"items",type:"\u6570\u7EC4"},{id:"tableTwo",name:"success",type:"\u5E03\u5C14\u503C"}],R=[{name:"TXT_CONTRACT",description:"\u5B57\u7B26\u4E32\u62FC\u63A5",params:[{name:"str1",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E321"},{name:"str2",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E322"}]},{name:"TXT_LEFT",description:"\u53D6\u524D\u7F00",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"length",type:"\u6570\u5B57",description:"\u8981\u53D6\u7684\u957F\u5EA6"}]},{name:"TXT_RIGHT",description:"\u53BB\u540E\u7F00",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"length",type:"\u6570\u5B57",description:"\u8981\u53D6\u7684\u957F\u5EA6"}]},{name:"TXT_LOWER",description:"\u5B57\u6BCD\u8F6C\u4E3A\u5C0F\u5199",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]},{name:"TXT_UPPER",description:"\u5B57\u6BCD\u8F6C\u4E3A\u5927\u5199",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]},{name:"TXT_REPLACE",description:"\u66FF\u6362",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"searchValue",type:"\u5B57\u7B26\u4E32",description:"\u8981\u66FF\u6362\u7684\u503C"},{name:"replaceValue",type:"\u5B57\u7B26\u4E32",description:"\u66FF\u6362\u540E\u7684\u503C"}]},{name:"TXT_LEN",description:"\u83B7\u53D6\u957F\u5EA6",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]},{name:"TXT_SUBSTRING",description:"\u622A\u53D6\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"start",type:"\u6570\u5B57",description:"\u8D77\u59CB\u4F4D\u7F6E"},{name:"length",type:"\u6570\u5B57",description:"\u957F\u5EA6"}]},{name:"TXT_CONTAINS",description:"\u5224\u65AD\u5B57\u7B26\u4E32\u662F\u5426\u5305\u542B",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"searchValue",type:"\u5B57\u7B26\u4E32",description:"\u8981\u641C\u7D22\u7684\u503C"}]},{name:"TXT_SPLIT",description:"\u5206\u5272\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"separator",type:"\u5B57\u7B26\u4E32",description:"\u5206\u9694\u7B26"}]},{name:"TXT_TRIM",description:"\u53BB\u9664\u9996\u5C3E\u7A7A\u683C",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]},{name:"TXT_STARTS_WITH",description:"\u5224\u65AD\u5B57\u7B26\u4E32\u662F\u5426\u4EE5\u67D0\u4E2A\u503C\u5F00\u5934",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"prefix",type:"\u5B57\u7B26\u4E32",description:"\u524D\u7F00"}]},{name:"TXT_ENDS_WITH",description:"\u5224\u65AD\u5B57\u7B26\u4E32\u662F\u5426\u4EE5\u67D0\u4E2A\u503C\u7ED3\u5C3E",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"suffix",type:"\u5B57\u7B26\u4E32",description:"\u540E\u7F00"}]},{name:"TXT_FORMAT",description:"\u683C\u5F0F\u5316\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u8981\u683C\u5F0F\u5316\u7684\u5B57\u7B26\u4E32"},{name:"args",type:"\u6570\u7EC4",description:"\u683C\u5F0F\u5316\u53C2\u6570"}]},{name:"TXT_REPLACE_ALL",description:"\u66FF\u6362\u6240\u6709\u5339\u914D\u7684\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"searchValue",type:"\u5B57\u7B26\u4E32",description:"\u8981\u66FF\u6362\u7684\u503C"},{name:"replaceValue",type:"\u5B57\u7B26\u4E32",description:"\u66FF\u6362\u540E\u7684\u503C"}]},{name:"TXT_REPLACE_FIRST",description:"\u66FF\u6362\u7B2C\u4E00\u4E2A\u5339\u914D\u7684\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"searchValue",type:"\u5B57\u7B26\u4E32",description:"\u8981\u66FF\u6362\u7684\u503C"},{name:"replaceValue",type:"\u5B57\u7B26\u4E32",description:"\u66FF\u6362\u540E\u7684\u503C"}]},{name:"TXT_REPLACE_LAST",description:"\u66FF\u6362\u6700\u540E\u4E00\u4E2A\u5339\u914D\u7684\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"searchValue",type:"\u5B57\u7B26\u4E32",description:"\u8981\u66FF\u6362\u7684\u503C"},{name:"replaceValue",type:"\u5B57\u7B26\u4E32",description:"\u66FF\u6362\u540E\u7684\u503C"}]},{name:"TXT_REPLACE_REGEX",description:"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u66FF\u6362\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"pattern",type:"\u5B57\u7B26\u4E32",description:"\u6B63\u5219\u8868\u8FBE\u5F0F"},{name:"replaceValue",type:"\u5B57\u7B26\u4E32",description:"\u66FF\u6362\u540E\u7684\u503C"}]},{name:"TXT_REPLACE_ALL_REGEX",description:"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u66FF\u6362\u6240\u6709\u5339\u914D\u7684\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"pattern",type:"\u5B57\u7B26\u4E32",description:"\u6B63\u5219\u8868\u8FBE\u5F0F"},{name:"replaceValue",type:"\u5B57\u7B26\u4E32",description:"\u66FF\u6362\u540E\u7684\u503C"}]},{name:"TXT_REPLACE_FIRST_REGEX",description:"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u66FF\u6362\u7B2C\u4E00\u4E2A\u5339\u914D\u7684\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"pattern",type:"\u5B57\u7B26\u4E32",description:"\u6B63\u5219\u8868\u8FBE\u5F0F"},{name:"replaceValue",type:"\u5B57\u7B26\u4E32",description:"\u66FF\u6362\u540E\u7684\u503C"}]},{name:"TXT_REPLACE_LAST_REGEX",description:"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u66FF\u6362\u6700\u540E\u4E00\u4E2A\u5339\u914D\u7684\u5B57\u7B26\u4E32",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"},{name:"pattern",type:"\u5B57\u7B26\u4E32",description:"\u6B63\u5219\u8868\u8FBE\u5F0F"},{name:"replaceValue",type:"\u5B57\u7B26\u4E32",description:"\u66FF\u6362\u540E\u7684\u503C"}]},{name:"TXT_ESCAPE_HTML",description:"\u8F6C\u4E49HTML\u5B57\u7B26",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]},{name:"TXT_UNESCAPE_HTML",description:"\u53D6\u6D88\u8F6C\u4E49HTML\u5B57\u7B26",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]},{name:"TXT_ESCAPE_JSON",description:"\u8F6C\u4E49JSON\u5B57\u7B26",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]},{name:"TXT_UNESCAPE_JSON",description:"\u53D6\u6D88\u8F6C\u4E49JSON\u5B57\u7B26",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]},{name:"TXT_ESCAPE_URL",description:"\u8F6C\u4E49URL\u5B57\u7B26",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]}],y=[{name:"TXT_CONTAINS",params:[{name:"str",type:"\u5B57\u7B26\u4E32",description:"\u5B57\u7B26\u4E32"}]}];function _(t){var l="";return t!=null&&t.length>0&&(l=t.map(function(U){return"".concat(U.description)}).join(", ")),"(".concat(l,")")}var O=function(l,U){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=p.current.resizableTextArea.textArea,P=L.selectionStart,N=L.selectionEnd,F=l.name+U;if(console.log("insertText",F),console.log("start",P),console.log("formulaText",L),console.log("formula",g),P!==N){var G=g.substring(0,P)+F+g.substring(N);b(G)}else{var $=g.substring(0,P)+F+g.substring(P);b($)}setTimeout(function(){L.selectionStart=L.selectionEnd=P+F.length-1,p.current.resizableTextArea.textArea.focus()},0),u(l.id)},B=function(l){i(l)};function J(t,l){return t+l}function I(t,l){return t.substring(0,l)}function V(t,l){return t.substring(t.length-l)}var Z=[{key:"systemParams",label:"\u7CFB\u7EDF\u53C2\u6570",children:h.map(function(t){return{key:t.id,label:(0,o.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:[" ",t.name," ",(0,o.jsxs)("span",{style:{color:"gray"},children:[" ",t.type]})]}),onClick:function(){return O(t,"")}}})},{key:"textFunctions",label:"\u6587\u5B57\u51FD\u6570",children:R.map(function(t){return{key:t.id,label:(0,o.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:[" ",t.name," ",(0,o.jsxs)("span",{style:{color:"gray"},children:[" ",_(t.params)]})]}),onClick:function(){return O(t,_(t.params),-1)}}})},{key:"logicFunctions",label:"\u903B\u8F91\u5224\u65AD",children:y.map(function(t){return{key:t.id,label:(0,o.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:[" ",t.name," ",(0,o.jsxs)("span",{style:{color:"gray"},children:[" ",_(t.params)]})]}),description:_(t.params),onClick:function(){return O(t,_(t.params),-1)}}})}];return(0,o.jsxs)(d.Z,{style:{height:"100vh"},children:[(0,o.jsx)(d.Z.Sider,{width:500,style:{background:"#fff"},children:(0,o.jsx)(C.Z,{style:{height:"100%",width:"100%"},selectedKeys:[f],mode:"inline",items:Z,onClick:B})}),(0,o.jsx)(d.Z,{style:{background:"#fff"},children:(0,o.jsxs)(d.Z.Content,{style:{margin:"10px"},children:[(0,o.jsx)("h2",{children:"\u516C\u5F0F\u8BBE\u7F6E"}),(0,o.jsx)(S.Z.TextArea,{ref:p,value:g,style:{letterSpacing:"0.1em"},onChange:function(l){return b(l.target.value)}}),(0,o.jsxs)("div",{className:"bottom-buttons",children:[(0,o.jsx)(D.ZP,{type:"primary",className:"confirm-btn",onClick:function(){var l=J(I(I("Hello",4),2),V("World",1));X.ZP.success("\u516C\u5F0F\u8BA1\u7B97\u7ED3\u679C: ".concat(l))},children:"\u786E\u5B9A"}),(0,o.jsx)(D.ZP,{type:"primary",className:"test-btn",children:"\u6D4B\u8BD5"})]})]})})]})},v=T},99294:function(M,w,r){r.d(w,{CD:function(){return x},UD:function(){return k},n4:function(){return b},wx:function(){return m}});var j=r(90228),s=r.n(j),A=r(87999),d=r.n(A),C=r(33627),S=r(25298),D=r.n(S),X=r(17069),o=r.n(X),T=r(72591),v=function(){function i(){D()(this,i)}return o()(i,null,[{key:"getAssetFromDb",value:function(){var e=d()(s()().mark(function n(u,p){var h;return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,T.U2)("/api/ide/settings/asset/".concat(u,"/").concat(p));case 2:return h=y.sent.data,y.abrupt("return",JSON.parse(h.data.config));case 4:case"end":return y.stop()}},n)}));function a(n,u){return e.apply(this,arguments)}return a}()},{key:"saveAssetToDb",value:function(){var e=d()(s()().mark(function n(u,p,h){return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,T.v_)("/api/ide/settings/asset/".concat(u,"/").concat(p),h));case 1:case"end":return y.stop()}},n)}));function a(n,u,p){return e.apply(this,arguments)}return a}()},{key:"getRemoteAssetFromDb",value:function(){var e=d()(s()().mark(function n(u,p,h){var R;return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,T.U2)("/api/ide/papi/".concat(u,"/api/ide/settings/asset/").concat(p,"/").concat(h));case 2:return R=_.sent.data,_.abrupt("return",JSON.parse(R.data.config));case 4:case"end":return _.stop()}},n)}));function a(n,u,p){return e.apply(this,arguments)}return a}()},{key:"saveRemoteAssetToDb",value:function(){var e=d()(s()().mark(function n(u,p,h,R){return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,T.v_)("/api/ide/papi/".concat(u,"/api/ide/settings/asset/").concat(p,"/").concat(h),R));case 1:case"end":return _.stop()}},n)}));function a(n,u,p,h){return e.apply(this,arguments)}return a}()}]),i}();function k(i){return E.apply(this,arguments)}function E(){return E=d()(s()().mark(function i(e){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(C.j.getModel()!="db"){n.next=4;break}return n.abrupt("return",v.getAssetFromDb("page",e));case 4:return n.next=6,(0,T.U2)("/logic/setting/pages/".concat(e,".json"));case 6:return n.abrupt("return",n.sent.data);case 7:case"end":return n.stop()}},i)})),E.apply(this,arguments)}function x(i){return g.apply(this,arguments)}function g(){return g=d()(s()().mark(function i(e){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(C.j.getModel()!="db"){n.next=4;break}return n.abrupt("return",v.getAssetFromDb("form",e));case 4:return n.next=6,(0,T.U2)("/logic/setting/forms/".concat(e,".json"));case 6:return n.abrupt("return",n.sent.data);case 7:case"end":return n.stop()}},i)})),g.apply(this,arguments)}function b(i,e){return c.apply(this,arguments)}function c(){return c=d()(s()().mark(function i(e,a){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(C.j.getModel()!="db"){u.next=4;break}return u.abrupt("return",v.getAssetFromDb(e,a));case 4:return u.next=6,(0,T.U2)("/logic/setting/".concat(e,"s/").concat(a,".json"));case 6:return u.abrupt("return",u.sent.data);case 7:case"end":return u.stop()}},i)})),c.apply(this,arguments)}function m(i,e,a){return f.apply(this,arguments)}function f(){return f=d()(s()().mark(function i(e,a,n){return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(C.j.getModel()!="db"){p.next=2;break}return p.abrupt("return",v.saveAssetToDb(e,a,n));case 2:case"end":return p.stop()}},i)})),f.apply(this,arguments)}},72591:function(M,w,r){r.d(w,{U2:function(){return X},gz:function(){return T},v_:function(){return x}});var j=r(90228),s=r.n(j),A=r(26068),d=r.n(A),C=r(87999),S=r.n(C),D=r(950);function X(c,m){return o.apply(this,arguments)}function o(){return o=S()(s()().mark(function c(m,f){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.Z.get(m,b(f)));case 1:case"end":return e.stop()}},c)})),o.apply(this,arguments)}function T(c,m,f){return v.apply(this,arguments)}function v(){return v=S()(s()().mark(function c(m,f,i){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D.Z.put(m,f,b(i)));case 1:case"end":return a.stop()}},c)})),v.apply(this,arguments)}function k(c,m){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function c(m,f){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",axios.delete(m,b(f)));case 1:case"end":return e.stop()}},c)})),E.apply(this,arguments)}function x(c,m,f){return g.apply(this,arguments)}function g(){return g=S()(s()().mark(function c(m,f,i){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",D.Z.post(m,f,b(i)));case 1:case"end":return a.stop()}},c)})),g.apply(this,arguments)}function b(c){var m={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(m.Authorization="Bearer "+localStorage.getItem("token")),d()(d()({},c),{},{headers:d()(d()({},m),c==null?void 0:c.headers)})}}}]);
