"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[1474],{81474:function(C,u,r){r.r(u),r.d(u,{RadiosControlRenderer:function(){return _},default:function(){return f}});var i=r(15767),y=r(87363),d=r.n(y),g=r(42977),O=r(45581),f=function(s){(0,i.ZT)(e,s);function e(){var t=s!==null&&s.apply(this,arguments)||this;return t.highlightIndex=-1,t.prevIndex=-1,t}return e.prototype.chartRef=function(t){var n=this,o;this.chart=t,(o=this.chart)===null||o===void 0||o.on("click","series",function(h){n.props.onToggle(n.props.options[h.dataIndex])}),setTimeout(function(){return n.highlight()})},e.prototype.highlight=function(t){t===void 0&&(t=this.highlightIndex),!this.props.static&&(this.highlightIndex=t,!(!this.chart||this.prevIndex===t)&&(~this.prevIndex&&this.chart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:this.prevIndex}),~t&&(this.chart.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t}),this.props.showTooltipOnHighlight&&this.chart.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:t})),this.prevIndex=t))},e.prototype.componentDidMount=function(){this.props.selectedOptions.length&&this.highlight(this.props.options.indexOf(this.props.selectedOptions[0]))},e.prototype.componentDidUpdate=function(){this.props.selectedOptions.length&&this.highlight(this.props.options.indexOf(this.props.selectedOptions[0]))},e.prototype.renderStatic=function(t){t===void 0&&(t="-"),this.prevIndex=-1,this.highlightIndex=-1;var n=this.props,o=n.options,h=o===void 0?[]:o,a=n.selectedOptions,p=n.labelField,c=p===void 0?"label":p,l=n.valueField,v=l===void 0?"value":l,F=n.chartValueField;if(h.length&&a.length){var I=h.reduce(function(E,m){return E+m[F||v]},0);if(I>0){var R=(+a[0][F||v]/I*100).toFixed(2);t="".concat(a[0][c],"\uFF1A").concat(R,"%")}}return d().createElement(d().Fragment,null,t)},e.prototype.render=function(){var t=this.props,n=t.options,o=t.labelField,h=t.chartValueField,a=t.valueField,p=t.render,c=(0,i.pi)((0,i.pi)({legend:{top:10},tooltip:{formatter:function(l){return"".concat(l.name,"\uFF1A").concat(l.value[h||a||"value"],"\uFF08").concat(l.percent,"%\uFF09")}},series:[{type:"pie",top:30,bottom:0}]},this.props.config),{dataset:{dimensions:[o||"label",h||a||"value"],source:n}});return p("chart",{type:"chart"},{config:c,chartRef:this.chartRef})},(0,i.gn)([g.NjZ,(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[Object]),(0,i.w6)("design:returntype",void 0)],e.prototype,"chartRef",null),(0,i.gn)([(0,O.i)(),(0,i.w6)("design:type",Function),(0,i.w6)("design:paramtypes",[]),(0,i.w6)("design:returntype",void 0)],e.prototype,"render",null),e}(d().Component),_=function(s){(0,i.ZT)(e,s);function e(){return s!==null&&s.apply(this,arguments)||this}return e.defaultProps={multiple:!1},e=(0,i.gn)([(0,g.oZB)({type:"chart-radios",sizeMutable:!1})],e),e}(f)}}]);
