!(function(){"use strict";var Ae=Object.defineProperty;var X=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var K=(L,A,M)=>A in L?Ae(L,A,{enumerable:!0,configurable:!0,writable:!0,value:M}):L[A]=M,F=(L,A)=>{for(var M in A||(A={}))Ne.call(A,M)&&K(L,M,A[M]);if(X)for(var M of X(A))Ie.call(A,M)&&K(L,M,A[M]);return L};(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[8427],{88427:function(L,A,M){M.r(A),M.d(A,{QRCodeRenderer:function(){return Me},default:function(){return H}});var T=M(15767),D=M(87363),w=M.n(D),W=M(84875),Z=M.n(W),P=M(42977);function O(a,r,n){return n=C(n),`M ${C(a-n)}, ${C(r)} a ${n},${n} 0 1,0 ${2*n},0 a ${n},${n} 0 1,0 ${-2*n},0`}function Q(a,r,n){a=C(a),r=C(r);const s=C(a+n),l=C(r+n);return`M ${a}, ${r} L ${s}, ${r} L ${s}, ${l} L ${a}, ${l} Z `}function G(a,r,n,s){a=C(a),r=C(r);const l=C(a+s),u=C(r+s),d=C(a+n-s),f=C(r+n-s),m=C(a+n),e=C(r+n);return`M${l} ${r}L${m} ${r}L${m} ${e}L${a} ${e}L${a} ${r}L${l} ${r}L${l} ${f}L${d} ${f}L${d} ${u}L${l} ${u}Z `}function q(a,r,n,s,l){a=C(a),r=C(r),l=C(l);const u=C(a+l),d=C(a+n-l),f=C(r+l),m=C(r+n-l),e=C(a+s),t=C(r+s),o=C(a+n-s),i=C(r+n-s),c=C(a+n),g=C(r+n),h=C(l-s/2),p=C(e+h),y=C(t+h),z=C(o-h),S=C(i-h),$=C(u+h);return`M${u} ${r}L${d} ${r}A${l} ${l} 0 0 1 ${c} ${f}L${c} ${m}A${l} ${l} 0 0 1 ${d} ${g}L${u} ${g}A${l} ${l} 0 0 1 ${a} ${m}L${a} ${f}A${l} ${l} 0 0 1 ${u} ${r}L${u} ${r}L${$} ${i}L${z} ${i}A${h} ${h} 0 0 0 ${o} ${S}L${o} ${y}A${h} ${h} 0 0 0 ${z} ${t}L${p} ${t}A${h} ${h} 0 0 0 ${e} ${y}L${e} ${S}A${h} ${h} 0 0 0 ${p} ${i}L${$} ${i}Z`}function j(a,r,n,s){const l=C(n),u=C(n-s);r=C(r),a=C(a);const d=C(r-l),f=C(r-u),m=C(r+l),e=C(r+u);return`M${a},${d} A${l},${l} 0 1,1 ${a},${m} A${l},${l} 0 1,1 ${a},${d} M${a},${f} A${u},${u} 0 1,0 ${a},${e} A${u},${u} 0 1,0 ${a},${f} Z`}function J(a){const{size:r,dotSize:n,borderSize:s,x:l,y:u}=a,d=G(l,u,r,n*s),f=Q(l+n*2,u+n*2,r-n*4);return{eyeBorder:d,eyeInner:f}}function _(a){const{size:r,dotSize:n,borderSize:s,x:l,y:u}=a,d=q(l,u,r,n*s,n*2),f=O(l+r/2,u+r/2,r/2-n*2);return{eyeBorder:d,eyeInner:f}}function ee(a){const{size:r,dotSize:n,borderSize:s,x:l,y:u}=a,d=j(l+r/2,u+r/2,r/2,n*s),f=O(l+r/2,u+r/2,r/2-n*2);return{eyeBorder:d,eyeInner:f}}const te={default:J,rounded:_,circle:ee};function oe(a){const r={default:1,sm:.8,xs:.5};return n=>{const{size:s,dotSize:l,borderSize:u,margin:d}=n,{eyeSize:f,positions:m}=de(s,l,d);let e="",t="";for(const o of m){const{eyeBorder:i,eyeInner:c}=a({size:f,dotSize:l,borderSize:r[u],x:o.x,y:o.y});e+=i,t+=c}return{eyeBorder:e,eyeInner:t}}}function ne(a){const r=te[a];return oe(r)}function re(a){const{x:r,y:n,dotSize:s,dotScale:l,margin:u}=a;let d="";const f=s*l;return d+=Q(r*s+(s-f)/2+u,n*s+(s-f)/2+u,f),d}function ie(a){const{x:r,y:n,dotSize:s,dotScale:l,margin:u}=a;let d="",f=s/2*l,m=r*s+(s-f*2)/2+f+u,e=n*s+(s-f*2)/2+f+u;return d+=O(m,e,f),d}const se={default:re,circle:ie};function ae(a){const r={default:1,sm:.8,xs:.5};return n=>{const{modules:s,dotSize:l,pointSize:u,customSize:d,margin:f}=n;let m="";for(let e=0;e<s.length;e++)for(let t=0;t<s.length;t++)if(s[e][t]&&!fe(s,t,e)){let o=d[e][t]||1;m+=a({x:t,y:e,dotSize:l,dotScale:r[u]*o,margin:f})}return m}}function le(a){const r=se[a];return ae(r)}var B;(a=>{const r=class E{constructor(e,t,o,i){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<E.MIN_VERSION||e>E.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let c=[];for(let h=0;h<this.size;h++)c.push(!1);for(let h=0;h<this.size;h++)this.modules.push(c.slice()),this.isFunction.push(c.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(o);if(this.drawCodewords(g),i==-1){let h=1e9;for(let p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);const y=this.getPenaltyScore();y<h&&(i=p,h=y),this.applyMask(p)}}u(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(e,t){const o=a.QrSegment.makeSegments(e);return E.encodeSegments(o,t)}static encodeBinary(e,t){const o=a.QrSegment.makeBytes(e);return E.encodeSegments([o],t)}static encodeSegments(e,t,o=1,i=40,c=-1,g=!0){if(!(E.MIN_VERSION<=o&&o<=i&&i<=E.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");let h,p;for(h=o;;h++){const $=E.getNumDataCodewords(h,t)*8,R=f.getTotalBits(e,h);if(R<=$){p=R;break}if(h>=i)throw new RangeError("Data too long")}for(const $ of[E.Ecc.MEDIUM,E.Ecc.QUARTILE,E.Ecc.HIGH])g&&p<=E.getNumDataCodewords(h,$)*8&&(t=$);let y=[];for(const $ of e){s($.mode.modeBits,4,y),s($.numChars,$.mode.numCharCountBits(h),y);for(const R of $.getData())y.push(R)}u(y.length==p);const z=E.getNumDataCodewords(h,t)*8;u(y.length<=z),s(0,Math.min(4,z-y.length),y),s(0,(8-y.length%8)%8,y),u(y.length%8==0);for(let $=236;y.length<z;$^=253)s($,8,y);let S=[];for(;S.length*8<y.length;)S.push(0);return y.forEach(($,R)=>S[R>>>3]|=$<<7-(R&7)),new E(h,t,S,c)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}drawFunctionPatterns(){for(let o=0;o<this.size;o++)this.setFunctionModule(6,o,o%2==0),this.setFunctionModule(o,6,o%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let o=0;o<t;o++)for(let i=0;i<t;i++)o==0&&i==0||o==0&&i==t-1||o==t-1&&i==0||this.drawAlignmentPattern(e[o],e[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let o=t;for(let c=0;c<10;c++)o=o<<1^(o>>>9)*1335;const i=(t<<10|o)^21522;u(i>>>15==0);for(let c=0;c<=5;c++)this.setFunctionModule(8,c,l(i,c));this.setFunctionModule(8,7,l(i,6)),this.setFunctionModule(8,8,l(i,7)),this.setFunctionModule(7,8,l(i,8));for(let c=9;c<15;c++)this.setFunctionModule(14-c,8,l(i,c));for(let c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,l(i,c));for(let c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,l(i,c));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let o=0;o<12;o++)e=e<<1^(e>>>11)*7973;const t=this.version<<12|e;u(t>>>18==0);for(let o=0;o<18;o++){const i=l(t,o),c=this.size-11+o%3,g=Math.floor(o/3);this.setFunctionModule(c,g,i),this.setFunctionModule(g,c,i)}}drawFinderPattern(e,t){for(let o=-4;o<=4;o++)for(let i=-4;i<=4;i++){const c=Math.max(Math.abs(i),Math.abs(o)),g=e+i,h=t+o;0<=g&&g<this.size&&0<=h&&h<this.size&&this.setFunctionModule(g,h,c!=2&&c!=4)}}drawAlignmentPattern(e,t){for(let o=-2;o<=2;o++)for(let i=-2;i<=2;i++)this.setFunctionModule(e+i,t+o,Math.max(Math.abs(i),Math.abs(o))!=1)}setFunctionModule(e,t,o){this.modules[t][e]=o,this.isFunction[t][e]=!0}addEccAndInterleave(e){const t=this.version,o=this.errorCorrectionLevel;if(e.length!=E.getNumDataCodewords(t,o))throw new RangeError("Invalid argument");const i=E.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][t],c=E.ECC_CODEWORDS_PER_BLOCK[o.ordinal][t],g=Math.floor(E.getNumRawDataModules(t)/8),h=i-g%i,p=Math.floor(g/i);let y=[];const z=E.reedSolomonComputeDivisor(c);for(let $=0,R=0;$<i;$++){let N=e.slice(R,R+p-c+($<h?0:1));R+=N.length;const I=E.reedSolomonComputeRemainder(N,z);$<h&&N.push(0),y.push(N.concat(I))}let S=[];for(let $=0;$<y[0].length;$++)y.forEach((R,N)=>{($!=p-c||N>=h)&&S.push(R[$])});return u(S.length==g),S}drawCodewords(e){if(e.length!=Math.floor(E.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let t=0;for(let o=this.size-1;o>=1;o-=2){o==6&&(o=5);for(let i=0;i<this.size;i++)for(let c=0;c<2;c++){const g=o-c,h=o+1&2?i:this.size-1-i;!this.isFunction[h][g]&&t<e.length*8&&(this.modules[h][g]=l(e[t>>>3],7-(t&7)),t++)}}u(t==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let o=0;o<this.size;o++){let i;switch(e){case 0:i=(o+t)%2==0;break;case 1:i=t%2==0;break;case 2:i=o%3==0;break;case 3:i=(o+t)%3==0;break;case 4:i=(Math.floor(o/3)+Math.floor(t/2))%2==0;break;case 5:i=o*t%2+o*t%3==0;break;case 6:i=(o*t%2+o*t%3)%2==0;break;case 7:i=((o+t)%2+o*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][o]&&i&&(this.modules[t][o]=!this.modules[t][o])}}getPenaltyScore(){let e=0;for(let c=0;c<this.size;c++){let g=!1,h=0,p=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[c][y]==g?(h++,h==5?e+=E.PENALTY_N1:h>5&&e++):(this.finderPenaltyAddHistory(h,p),g||(e+=this.finderPenaltyCountPatterns(p)*E.PENALTY_N3),g=this.modules[c][y],h=1);e+=this.finderPenaltyTerminateAndCount(g,h,p)*E.PENALTY_N3}for(let c=0;c<this.size;c++){let g=!1,h=0,p=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][c]==g?(h++,h==5?e+=E.PENALTY_N1:h>5&&e++):(this.finderPenaltyAddHistory(h,p),g||(e+=this.finderPenaltyCountPatterns(p)*E.PENALTY_N3),g=this.modules[y][c],h=1);e+=this.finderPenaltyTerminateAndCount(g,h,p)*E.PENALTY_N3}for(let c=0;c<this.size-1;c++)for(let g=0;g<this.size-1;g++){const h=this.modules[c][g];h==this.modules[c][g+1]&&h==this.modules[c+1][g]&&h==this.modules[c+1][g+1]&&(e+=E.PENALTY_N2)}let t=0;for(const c of this.modules)t=c.reduce((g,h)=>g+(h?1:0),t);const o=this.size*this.size,i=Math.ceil(Math.abs(t*20-o*10)/o)-1;return u(0<=i&&i<=9),e+=i*E.PENALTY_N4,u(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{const e=Math.floor(this.version/7)+2,t=Math.floor((this.version*8+e*3+5)/(e*4-4))*2;let o=[6];for(let i=this.size-7;o.length<e;i-=t)o.splice(1,0,i);return o}}static getNumRawDataModules(e){if(e<E.MIN_VERSION||e>E.MAX_VERSION)throw new RangeError("Version number out of range");let t=(16*e+128)*e+64;if(e>=2){const o=Math.floor(e/7)+2;t-=(25*o-10)*o-55,e>=7&&(t-=36)}return u(208<=t&&t<=29648),t}static getNumDataCodewords(e,t){return Math.floor(E.getNumRawDataModules(e)/8)-E.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*E.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let t=[];for(let i=0;i<e-1;i++)t.push(0);t.push(1);let o=1;for(let i=0;i<e;i++){for(let c=0;c<t.length;c++)t[c]=E.reedSolomonMultiply(t[c],o),c+1<t.length&&(t[c]^=t[c+1]);o=E.reedSolomonMultiply(o,2)}return t}static reedSolomonComputeRemainder(e,t){let o=t.map(i=>0);for(const i of e){const c=i^o.shift();o.push(0),t.forEach((g,h)=>o[h]^=E.reedSolomonMultiply(g,c))}return o}static reedSolomonMultiply(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");let o=0;for(let i=7;i>=0;i--)o=o<<1^(o>>>7)*285,o^=(t>>>i&1)*e;return u(o>>>8==0),o}finderPenaltyCountPatterns(e){const t=e[1];u(t<=this.size*3);const o=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(o&&e[0]>=t*4&&e[6]>=t?1:0)+(o&&e[6]>=t*4&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,o){return e&&(this.finderPenaltyAddHistory(t,o),t=0),t+=this.size,this.finderPenaltyAddHistory(t,o),this.finderPenaltyCountPatterns(o)}finderPenaltyAddHistory(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)}};r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];let n=r;a.QrCode=n;function s(m,e,t){if(e<0||e>31||m>>>e)throw new RangeError("Value out of range");for(let o=e-1;o>=0;o--)t.push(m>>>o&1)}function l(m,e){return(m>>>e&1)!=0}function u(m){if(!m)throw new Error("Assertion error")}const d=class v{constructor(e,t,o){if(this.mode=e,this.numChars=t,this.bitData=o,t<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}static makeBytes(e){let t=[];for(const o of e)s(o,8,t);return new v(v.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!v.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let o=0;o<e.length;){const i=Math.min(e.length-o,3);s(parseInt(e.substring(o,o+i),10),i*3+1,t),o+=i}return new v(v.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!v.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t=[],o;for(o=0;o+2<=e.length;o+=2){let i=v.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o))*45;i+=v.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o+1)),s(i,11,t)}return o<e.length&&s(v.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o)),6,t),new v(v.Mode.ALPHANUMERIC,e.length,t)}static makeSegments(e){return e==""?[]:v.isNumeric(e)?[v.makeNumeric(e)]:v.isAlphanumeric(e)?[v.makeAlphanumeric(e)]:[v.makeBytes(v.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)s(e,8,t);else if(e<16384)s(2,2,t),s(e,14,t);else if(e<1e6)s(6,3,t),s(e,21,t);else throw new RangeError("ECI assignment value out of range");return new v(v.Mode.ECI,0,t)}static isNumeric(e){return v.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return v.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let o=0;for(const i of e){const c=i.mode.numCharCountBits(t);if(i.numChars>=1<<c)return 1/0;o+=4+c+i.bitData.length}return o}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let o=0;o<e.length;o++)e.charAt(o)!="%"?t.push(e.charCodeAt(o)):(t.push(parseInt(e.substring(o+1,o+3),16)),o+=2);return t}};d.NUMERIC_REGEX=/^[0-9]*$/,d.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,d.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=d;a.QrSegment=f})(B||(B={})),(a=>{(r=>{const n=class{constructor(u,d){this.ordinal=u,this.formatBits=d}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2);let s=n;r.Ecc=s})(a.QrCode||(a.QrCode={}))})(B||(B={})),(a=>{(r=>{const n=class{constructor(u,d){this.modeBits=u,this.numBitsCharCount=d}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]);let s=n;r.Mode=s})(a.QrSegment||(a.QrSegment={}))})(B||(B={}));const x=B,ce=x.QrCode,ue={L:x.QrCode.Ecc.LOW,M:x.QrCode.Ecc.MEDIUM,Q:x.QrCode.Ecc.QUARTILE,H:x.QrCode.Ecc.HIGH};function he(a,r){const{level:n="L",minVersion:s=2,maxVersion:l,mask:u,boostLevel:d}=r||{},f=x.QrSegment.makeSegments(a),m=ce.encodeSegments(f,ue[n],s,l,u,d),e=[];for(let t=0;t<m.size;t++){e.push([]);for(let o=0;o<m.size;o++)e[t].push(m.getModule(o,t))}return e}function de(a,r,n){const s=r*7,l=[{x:n,y:n},{x:n,y:a-s-n},{x:a-s-n,y:n}];return{eyeSize:s,positions:l}}function fe(a,r,n){const s=a.length,l=8;return r<l&&n<l||r<l&&n>s-l||r>s-l&&n<l}function ge(a){const{modules:r,size:n,dotSize:s,margin:l=0,eyeType:u="default",eyeBorderSize:d="default",pointType:f="default",customSize:m,pointSize:e="default"}=a,t=le(f)({margin:l,modules:r,dotSize:s,pointSize:e,customSize:m}),{eyeBorder:o,eyeInner:i}=ne(u)({margin:l,dotSize:s,borderSize:d,size:n});return{points:t,eyeBorder:o,eyeInner:i}}function C(a,r=2){return Number(a.toFixed(r))}function k(a){const{config:r,styleConfig:n,logoConfig:s,value:l}=a,{size:u=200,margin:d=0,eyeType:f,eyeBorderSize:m,pointType:e,pointSize:t,pointSizeRandom:o}=n||{},i=w().useMemo(()=>he(l,r),[l,r]),c=w().useMemo(()=>C((u-d*2)/i.length),[i,u,d]),g=w().useMemo(()=>{let p=[];for(let y=0;y<i.length;y++){p.push([]);for(let z=0;z<i.length;z++)o?p[y].push(Math.random()<.5?1:.8):p[y].push(1)}return p},[i,o]),h=w().useMemo(()=>ge({modules:i,margin:d,size:u,dotSize:c,eyeType:f,eyeBorderSize:m,pointType:e,pointSize:t,customSize:g}),[i,c,n]);return{logo:w().useMemo(()=>{if(!s)return;let p=u-d*2,{src:y,width:z=p/5,height:S=p/5,x:$=p/2-z/2+d,y:R=p/2-S/2+d}=s||{};const N=i.length,I=Array.from({length:N},(b,ze)=>ze*c+d),V=I[I.findIndex(b=>b>$)-2]-.5||$,Y=I[I.findIndex(b=>b>R)-2]-.5||R,ve=z+($-V)*2,Re=S+(R-Y)*2;return{src:y,width:z,height:S,x:$,y:R,bg:{x:V,y:Y,width:ve,height:Re}}},[i,c,d,s]),path:h}}function me(a){const{value:r,config:n,styleConfig:s,logoConfig:l,className:u}=a,{size:d=200,margin:f=0,color:m="#000",bgColor:e="#fff",eyeBorderColor:t,eyeInnerColor:o}=s||{},{path:i,logo:c}=k({config:n,styleConfig:s,logoConfig:l,value:r}),{src:g,x:h,y:p,width:y,height:z,bg:S}=c||{};return w().createElement("svg",{width:d,height:d,viewBox:`0 0 ${d} ${d}`,style:{backgroundColor:e},className:"qr-container qr-svg"+(u?` ${u}`:"")},w().createElement("g",{fill:m},w().createElement("path",{fill:t||m,d:i.eyeBorder}),w().createElement("path",{fill:o||m,d:i.eyeInner}),w().createElement("path",{d:i.points}),g&&w().createElement(w().Fragment,null,w().createElement("rect",{fill:e,x:S==null?void 0:S.x,y:S==null?void 0:S.y,width:S==null?void 0:S.width,height:S==null?void 0:S.height}),w().createElement("image",{href:g,width:y,height:z,x:h,y:p}))))}function ye({ctx:a,bgColor:r="#fff",logo:n}){const{src:s,width:l,height:u,x:d,y:f,bg:m}=n||{};if(!s)return;const e=new Image;e.src=s,e.onload=()=>{a.fillStyle=r,a.fillRect(m.x,m.y,m.width,m.height);const t=e.width/e.height;let o=l,i=u;t>1?i=l/t:o=u*t,a.drawImage(e,d+(l-o)/2,f+(u-i)/2,o,i)}}function Ce(a){const{ctx:r,path:n,styleConfig:s}=a,{color:l="#000",bgColor:u="#fff",eyeBorderColor:d,eyeInnerColor:f}=s||{};r.clearRect(0,0,r.canvas.width,r.canvas.height),r.fillStyle=u,r.fillRect(0,0,r.canvas.width,r.canvas.height),r.fillStyle=d||l,r.fill(new Path2D(n.eyeBorder)),r.fillStyle=f||l,r.fill(new Path2D(n.eyeInner)),r.fillStyle=l,r.fill(new Path2D(n.points))}function pe(a){const{value:r,config:n,styleConfig:s,logoConfig:l,className:u}=a,{size:d=200,bgColor:f}=s||{},{path:m,logo:e}=k({config:n,styleConfig:s,logoConfig:l,value:r}),t=w().useRef(null);return(0,D.useEffect)(()=>{if(m&&t.current){const o=t.current.getContext("2d");Ce({ctx:o,path:m,styleConfig:s}),e&&ye({ctx:o,bgColor:f,logo:e})}},[m,l,s]),w().createElement("canvas",{width:d,height:d,ref:t,className:"qr-container qr-canvas"+(u?` ${u}`:"")})}function Ee(a){const{mode:r="canvas"}=a;return r==="svg"?w().createElement(me,F({},a)):w().createElement(pe,F({},a))}var $e=M(65632),Se=M.n($e),we=M(11227);function U(a,r){return(0,we.saveAs)(a,r)}var H=function(a){(0,T.ZT)(r,a);function r(n){var s=a.call(this,n)||this;return s.ref=w().createRef(),s}return r.prototype.getImageSettings=function(){var n=this.props,s=n.imageSettings,l=n.data;if(!(!s||!(0,P.Kn2)(s)||!s.src||typeof s.src!="string"))return(0,P.SSQ)(s.src)&&(s.src=(0,P.OgC)(s.src,l,"| raw")),Se()(s,function(u,d){return~["width","height","x","y"].indexOf(d)?(0,P.kEn)(u)?Number(u):null:u})},r.prototype.doAction=function(n,s,l,u){var d,f=this.props.codeSize,m=n==null?void 0:n.actionType;if(m==="saveAs"&&!((d=this.ref)===null||d===void 0)&&d.current)if(this.props.mode==="svg"){var e=this.ref.current.querySelector("svg");if(e){var t='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" height="'.concat(f,'" width="').concat(f,'" viewBox="').concat(e.getAttribute("viewBox")||"0 0 37 37",`">
         `).concat(e.innerHTML,`
         </svg>`),o=new Blob([t],{type:"image/svg+xml"});U(o,(u==null?void 0:u.name)||"qr-code.svg")}}else{var i=this.ref.current.querySelector("canvas");i&&i.toBlob(function(c){c&&U(c,u!=null&&u.name?u.name.replace(/\.svg$/,".png"):"qr-code.png")},"image/png")}},r.prototype.render=function(){var n=this.props,s=n.className,l=n.style,u=n.qrcodeClassName,d=n.codeSize,f=n.backgroundColor,m=n.foregroundColor,e=n.placeholder,t=n.level,o=n.defaultValue,i=n.data,c=n.mode,g=n.eyeType,h=n.eyeBorderColor,p=n.eyeBorderSize,y=n.eyeInnerColor,z=n.pointType,S=n.pointSize,$=n.pointSizeRandom,R=n.translate,N=n.classPrefix,I=(0,P.v8S)(this.props,function(){return(0,P.hXT)(o,i,"| raw")||void 0});return w().createElement("div",{className:Z()("".concat(N,"QrCode"),s),style:l,ref:this.ref},I?I.length>2953?w().createElement("span",{className:"text-danger"},R("QRCode.tooLong",{max:2953})):w().createElement(Ee,{className:u,value:I,config:{level:t||"L",minVersion:2,boostLevel:!0},styleConfig:{size:d,bgColor:f,color:m,eyeType:g,eyeBorderColor:h,eyeBorderSize:p,eyeInnerColor:y,pointType:z,pointSize:S,pointSizeRandom:$},logoConfig:this.getImageSettings(),mode:c}):w().createElement("span",{className:"".concat(N,"QrCode--placeholder")},e))},r.defaultProps={codeSize:128,qrcodeClassName:"",backgroundColor:"#fff",foregroundColor:"#000",level:"L",placeholder:"-",mode:"canvas"},r}(w().Component),Me=function(a){(0,T.ZT)(r,a);function r(n,s){var l=a.call(this,n)||this,u=s;return u.registerComponent(l),l}return r.prototype.componentWillUnmount=function(){var n;(n=a.prototype.componentWillUnmount)===null||n===void 0||n.call(this);var s=this.context;s.unRegisterComponent(this)},r.contextType=P.ZHe,r=(0,T.gn)([(0,P.Thl)({type:"qrcode",alias:["qr-code"],name:"qrcode"}),(0,T.w6)("design:paramtypes",[Object,Object])],r),r}(H)}}]);
}());