"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[6247,7032],{67032:function(z,F,s){s.r(F),s.d(F,{BaseTabsTransferRenderer:function(){return n},TabsTransferRenderer:function(){return b}});var e=s(15767),r=s(42977),j=s(87363),I=s.n(j),U=s(33170),N=s.n(U),W=s(94391),H=s(67199),B=s(94623),R=s(45581),m=s(8427),n=function(h){(0,e.ZT)(i,h);function i(){var t=h!==null&&h.apply(this,arguments)||this;return t.state={activeKey:0},t}return i.prototype.onTabChange=function(t){return(0,e.mG)(this,void 0,void 0,function(){var o,a;return(0,e.Jh)(this,function(l){switch(l.label){case 0:return o=this.props.dispatchEvent,[4,o("tab-change",{key:t})];case 1:return a=l.sent(),a!=null&&a.prevented?[2]:(this.setState({activeKey:t}),[2])}})})},i.prototype.handleTabSearch=function(t,o,a){return(0,e.mG)(this,void 0,void 0,function(){var l,d,y,c,v,E,p,C,f,T,u;return(0,e.Jh)(this,function(O){switch(O.label){case 0:if(l=this.props,d=l.options,y=l.labelField,c=l.valueField,v=l.env,E=l.data,p=l.searchApi,C=l.translate,!p)return[3,5];O.label=1;case 1:return O.trys.push([1,3,,4]),[4,v.fetcher(p,(0,r.nW9)(E,{term:t}),{cancelExecutor:a})];case 2:if(f=O.sent(),!f.ok)throw new Error(C(f.msg||"networkError"));if(T=f.data.options||f.data.items||f.data,!Array.isArray(T))throw new Error(C("CRUD.invalidArray"));return[2,T.map(function(_){var M=null,g=_[c||"value"];return Array.isArray(d)&&g!==null&&g!==void 0&&(M=N()(d,(0,r.IWw)(g,c))),M||_})];case 3:return u=O.sent(),v.isCancel(u)||!p.silent&&v.notify("error",u.message),[2,[]];case 4:return[3,6];case 5:return t?[2,(0,r.get)(o.children||d,function(_,M,g,P){return!!(Array.isArray(_.children)&&_.children.length||(0,m.Lu)([_].concat(P),t,{keys:[y||"label",c||"value"],threshold:m.Lu.rankings.CONTAINS}).length)},0,!0)]:[2,d];case 6:return[2]}})})},i.prototype.handleChange=function(t,o){return(0,e.mG)(this,void 0,void 0,function(){var a,l,d,y,c,v,E,p,C,f,T,u,O,_;return(0,e.Jh)(this,function(M){switch(M.label){case 0:return a=this.props,l=a.onChange,d=a.joinValues,y=a.delimiter,c=a.valueField,v=a.extractValue,E=a.options,p=a.dispatchEvent,C=a.setOptions,f=a.translate,T=t,u=E.concat(),O="UN_MATCH_RESULT",Array.isArray(t)?(T=t.map(function(g){var P=(0,r.L$8)(E,(0,r.IWw)(g[c||"value"],c||"value"));if(P){if(o){var w=(0,r.IMU)(u,P);u=(0,r.o5f)(u,P,1,(0,e.pi)((0,e.pi)({},w),g))}}else{var A=(0,r.L$8)(u,function(K){return K.value===O});if(!A)u.push({label:f("searchResult"),value:O,visible:!1,children:[g]});else{var D=(0,r.IMU)(u,A);D!=null&&D.children&&(D.children.push(g),u=(0,r.o5f)(u,A,1,(0,e.pi)((0,e.pi)({},D),g)))}}return d||v?g[c||"value"]:g}),d&&(T=T.join(y||","))):t&&(T=d||v?t[c||"value"]:t),(u.length>E.length||o)&&C(u,!0),[4,p("change",(0,r.vXk)(this.props,{value:T,options:E,items:E}))];case 1:return _=M.sent(),_!=null&&_.prevented?[2]:(l(T),[2])}})})},(0,e.gn)([r.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Number]),(0,e.w6)("design:returntype",Promise)],i.prototype,"onTabChange",null),(0,e.gn)([r.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[String,Object,Function]),(0,e.w6)("design:returntype",Promise)],i.prototype,"handleTabSearch",null),(0,e.gn)([r.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object,Boolean]),(0,e.w6)("design:returntype",Promise)],i.prototype,"handleChange",null),i}(H.BaseTransferRenderer),b=function(h){(0,e.ZT)(i,h);function i(){return h!==null&&h.apply(this,arguments)||this}return i.prototype.optionItemRender=function(t,o){var a=this.props,l=a.menuTpl,d=a.render,y=a.data,c=a.classnames,v=arguments[2]||{};return l?d("item/".concat(o.index),l,{data:(0,r.nW9)((0,r.nW9)(y,(0,e.pi)((0,e.pi)({},o),v)),t)}):B.PA.itemRender(t,(0,e.pi)((0,e.pi)({},o),{classnames:c}))},i.prototype.doAction=function(t,o,a,l){var d,y,c;a===void 0&&(a=!1);var v=this.props,E=v.resetValue,p=v.onChange,C=v.formStore,f=v.store,T=v.name,u=l==null?void 0:l.activeKey;switch(t.actionType){case"clear":p==null||p("");break;case"reset":p==null||p((c=(y=(0,r.E04)((d=C==null?void 0:C.pristine)!==null&&d!==void 0?d:f==null?void 0:f.pristine,T))!==null&&y!==void 0?y:E)!==null&&c!==void 0?c:"");break;case"changeTabKey":this.setState({activeKey:u});break}},i.prototype.render=function(){var t=this.props,o=t.className,a=t.style,l=t.classnames,d=t.options,y=t.selectedOptions,c=t.sortable,v=t.loading,E=t.searchResultMode,p=t.selectMode,C=t.searchable,f=t.showArrow,T=t.deferLoad,u=t.leftDeferLoad,O=t.disabled,_=t.selectTitle,M=t.resultTitle,g=t.itemHeight,P=t.virtualThreshold,A=t.onlyChildren,D=t.loadingConfig,w=t.valueField,K=w===void 0?"value":w,L=t.labelField,x=L===void 0?"label":L,Z=t.valueTpl,V=t.menuTpl,S=t.data,k=t.mobileUI,$=t.initiallyOpen,G=$===void 0?!0:$,J=t.testIdBuilder;return I().createElement("div",{className:l("TabsTransferControl",o)},I().createElement(W.C5l,{onlyChildren:A,activeKey:this.state.activeKey,value:y,disabled:O,options:d,onChange:this.handleChange,option2value:this.option2value,sortable:c,searchResultMode:E,onSearch:this.handleTabSearch,showArrow:f,onDeferLoad:T,onLeftDeferLoad:u,selectTitle:_,resultTitle:M,selectMode:p,searchable:C,optionItemRender:V?this.optionItemRender:void 0,resultItemRender:Z?this.resultItemRender:void 0,onTabChange:this.onTabChange,itemHeight:(0,r.He2)(g)>0?(0,r.He2)(g):void 0,virtualThreshold:P,labelField:x,valueField:K,ctx:S,mobileUI:k,initiallyOpen:G,testIdBuilder:J}),I().createElement(W.$jN,{overlay:!0,key:"info",show:v,loadingConfig:D}))},i.defaultProps={multiple:!0},(0,e.gn)([r.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object,Object]),(0,e.w6)("design:returntype",void 0)],i.prototype,"optionItemRender",null),(0,e.gn)([(0,R.i)(),(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",void 0)],i.prototype,"render",null),i=(0,e.gn)([(0,r.oZB)({type:"tabs-transfer"})],i),i}(n)},76247:function(z,F,s){s.r(F),s.d(F,{TabsTransferPickerRenderer:function(){return H}});var e=s(15767),r=s(42977),j=s(87363),I=s.n(j),U=s(94391),N=s(67032),W=s(45581),H=function(B){(0,e.ZT)(R,B);function R(){var m=B!==null&&B.apply(this,arguments)||this;return m.state={activeKey:0},m}return R.prototype.dispatchEvent=function(m){var n=this.props,b=n.dispatchEvent,h=n.value;b(m,(0,r.vXk)(this.props,{value:h}))},R.prototype.optionItemRender=function(m,n){var b=this.props,h=b.menuTpl,i=b.render,t=b.data,o=b.classnames,a=arguments[2]||{};return h?i("item/".concat(n.index),h,{data:(0,r.nW9)((0,r.nW9)(t,(0,e.pi)((0,e.pi)({},n),a)),m)}):U.Y19.itemRender(m,(0,e.pi)((0,e.pi)({},n),{classnames:o}))},R.prototype.doAction=function(m){var n,b,h,i=this.props,t=i.resetValue,o=i.onChange,a=i.formStore,l=i.store,d=i.name;switch(m.actionType){case"clear":o==null||o("");break;case"reset":o==null||o((h=(b=(0,r.E04)((n=a==null?void 0:a.pristine)!==null&&n!==void 0?n:l==null?void 0:l.pristine,d))!==null&&b!==void 0?b:t)!==null&&h!==void 0?h:"");break}},R.prototype.render=function(){var m=this,n=this.props,b=n.className,h=n.style,i=n.classnames,t=n.options,o=n.selectedOptions,a=n.sortable,l=n.loading,d=n.searchResultMode,y=n.showArrow,c=n.deferLoad,v=n.disabled,E=n.selectTitle,p=n.resultTitle,C=n.pickerSize,f=n.leftMode,T=n.leftOptions,u=n.itemHeight,O=n.virtualThreshold,_=n.loadingConfig,M=n.labelField,g=M===void 0?"label":M,P=n.valueField,A=P===void 0?"value":P,D=n.deferField,w=D===void 0?"defer":D,K=n.mobileUI,L=n.env,x=n.maxTagCount,Z=n.overflowTagPopover,V=n.placeholder,S=n.initiallyOpen,k=S===void 0?!0:S;return I().createElement("div",{className:i("TabsTransferControl",b)},I().createElement(U.u9Y,{activeKey:this.state.activeKey,onTabChange:this.onTabChange,placeholder:V,value:o,disabled:v,options:t,onChange:this.handleChange,option2value:this.option2value,sortable:a,searchResultMode:d,onSearch:this.handleTabSearch,showArrow:y,onDeferLoad:c,selectTitle:E,resultTitle:p,size:C,leftMode:f,leftOptions:T,optionItemRender:this.optionItemRender,resultItemRender:this.resultItemRender,onFocus:function(){return m.dispatchEvent("focus")},onBlur:function(){return m.dispatchEvent("blur")},itemHeight:(0,r.He2)(u)>0?(0,r.He2)(u):void 0,virtualThreshold:O,labelField:g,valueField:A,deferField:w,mobileUI:K,popOverContainer:L==null?void 0:L.getModalContainer,maxTagCount:x,overflowTagPopover:Z,initiallyOpen:k}),I().createElement(U.$jN,{loadingConfig:_,overlay:!0,key:"info",show:l}))},(0,e.gn)([r.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[String]),(0,e.w6)("design:returntype",void 0)],R.prototype,"dispatchEvent",null),(0,e.gn)([r.NjZ,(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[Object,Object]),(0,e.w6)("design:returntype",void 0)],R.prototype,"optionItemRender",null),(0,e.gn)([(0,W.i)(),(0,e.w6)("design:type",Function),(0,e.w6)("design:paramtypes",[]),(0,e.w6)("design:returntype",void 0)],R.prototype,"render",null),R=(0,e.gn)([(0,r.oZB)({type:"tabs-transfer-picker"})],R),R}(N.BaseTabsTransferRenderer)}}]);
