"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[715],{20715:function(k,b,s){s.r(b),s.d(b,{InputGroup:function(){return I},default:function(){return _}});var l=s(15767),D=s(87363),y=s.n(D),h=s(42977),I=function(u){(0,l.ZT)(r,u);function r(t){var o=u.call(this,t)||this;return o.toDispose=[],o.handleFocus=o.handleFocus.bind(o),o.handleBlur=o.handleBlur.bind(o),o.validateHook=o.validateHook.bind(o),o.state={isFocused:!1},o}return r.prototype.componentDidMount=function(){var t=this.props,o=t.addHook,e=t.name;e&&o&&this.toDispose.push(o(this.validateHook,"validate"))},r.prototype.componentDidUpdate=function(t){var o;(0,h.aGv)(["errorCode","delimiter"],t==null?void 0:t.validationConfig,(o=this.props)===null||o===void 0?void 0:o.validationConfig)&&this.validateHook()},r.prototype.componentWillUnmount=function(){this.toDispose.forEach(function(t){return t()}),this.toDispose=[]},r.prototype.getValidationConfig=function(){var t=this.props.validationConfig;return{errorMode:(t==null?void 0:t.errorMode)!=="partial"?"full":"partial",delimiter:t!=null&&t.delimiter&&typeof t.delimiter=="string"?t.delimiter:"; "}},r.prototype.validateHook=function(){var t,o=this.props,e=o.formStore,i=o.formItem,d=o.name,m=this.getValidationConfig().delimiter;if(d){var p=(t=e==null?void 0:e.inputGroupItems)===null||t===void 0?void 0:t[d];if(Array.isArray(p)){var g=p.map(function(a,v){if(a.errors.length<=0)return"";var C=a.label?"(".concat(v+1,")").concat(a.label):"(".concat(v+1,")");return"".concat(C,": ").concat(a.errors.join(m))}).filter(Boolean);i&&i.setError(g)}}},r.prototype.handleFocus=function(){this.setState({isFocused:!0})},r.prototype.handleBlur=function(){this.setState({isFocused:!1})},r.prototype.renderControl=function(t,o,e){var i=this.props,d=i.render,m=i.onChange;if(!t)return null;var p=t;return d("".concat(o),p,(0,l.pi)({onChange:m},e))},r.prototype.validate=function(){var t=this.props.formItem,o=[];return t==null||t.subFormItems.forEach(function(e){e.errors.length&&o.push.apply(o,(0,l.ev)([],(0,l.CR)(e.errors),!1))}),o.length?o:""},r.prototype.render=function(){var t=this,o=this.props,e=o.body,i=o.controls,d=o.className,m=o.style,p=o.mode,g=o.horizontal,a=o.formMode,v=o.formHorizontal,C=o.data,M=o.classnames,O=o.static,G=o.disabled,A=o.mobileUI,H=this.getValidationConfig().errorMode;a=p||a;var f=Array.isArray(i)?i:e;Array.isArray(f)||(f=[]),f=f.filter(function(n){if(n&&(n.hidden||n.visible===!1))return!1;var c=(0,h.Lti)(n||{},C);return!(c.hidden||c.visible===!1)});var B=g||(v?(0,h.HTu)(v,f.length):void 0);return y().createElement("div",{className:M("InputGroup","InputGroup-validation--".concat(H),d,{"is-focused":this.state.isFocused},{"is-mobile":A})},f.map(function(n,c){var F=~["icon","plain","tpl","button","submit","reset"].indexOf(n&&n.type),E=t.renderControl(n,c,{formHorizontal:B,formMode:"normal",inputOnly:!0,inputGroupControl:{name:t.props.name,path:t.props.$path,schema:t.props.$schema},key:c,static:O,disabled:G,onFocus:t.handleFocus,onBlur:t.handleBlur});return F?y().createElement("span",{key:c,className:M(n.addOnclassName,~["button","submit","reset"].indexOf(n&&n.type)?"InputGroup-btn":"InputGroup-addOn")},E):E}))},r.defaultProps={validationConfig:{errorMode:"full",delimiter:"; "}},r}(y().Component),_=function(u){(0,l.ZT)(r,u);function r(){return u!==null&&u.apply(this,arguments)||this}return r=(0,l.gn)([(0,h.xJW)({type:"input-group",strictMode:!1})],r),r}(I)}}]);
