"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[935],{16740:function(ce,F,e){e.d(F,{E:function(){return te},Z:function(){return _e}});var U=e(15558),s=e.n(U),L=e(48305),v=e.n(L),b=e(17069),j=e(25298),Y=e(82092),_=e(87363),p=e.n(_),T=e(91505),c=e(54231),J=e(81376),k=e(61943),ae=e(90541),Q=e(66508),G=e(36088),x=e(37348),P=e(31964),N=e(54337),g=e(41159),r=e(27491),f=e(95719),i=e(74912),h=e(15146),u=e(62086);function K(W){return(0,u.jsxs)("div",{style:{margin:0,height:"95vh",overflowY:"scroll"},children:[(0,u.jsx)(h.Z,{isStatic:W.isStatic,editNode:W.editNode,jsTipMap:W.jsTipMap,onSubmit:W.onSubmit}),W!=null&&W.isCollapsed?"":(0,u.jsx)(i.ZP,{type:"text",style:{position:"absolute",top:10,right:15,fontSize:20,textAlign:"center"},onClick:function(){W==null||W.onClose()},children:"x"})]})}var oe=K,A=e(20281),o=e(9939),M=function(t,l){var $,q,z,fe,le=l.getData(),re=l.getPosition(),ve=t.getNodes(),I;if(["ExtSharp","polygon"].indexOf(l.shape)>-1&&le!=null&&le.config&&le.config.type)switch(le.config.type){case"switch":var he=200,ie=t.addNode({shape:"switch",position:re,width:he,height:40,ports:o.Tt,data:l.data,attrs:{body:{stroke:"#8f8f8f",strokeWidth:1,fill:"#fff",rx:6,ry:6}}});t.removeNode(l);var d=t.addNode({shape:"switch-case",position:{y:re.y+100,x:re.x-he/2},width:120,height:40,ports:o.Tt,data:{config:{type:"switch-case"}}}),m=t.addNode({shape:"switch-default",position:{y:re.y+100,x:re.x+he},width:120,height:40,ports:o.Tt,data:{config:{type:"switch-default"}}}),S=t.addEdge({source:ie,sourcePort:($=ie.ports.items.find(function(V){return V.group=="bottom"}))===null||$===void 0?void 0:$.id,target:d,targetPort:(q=d.ports.items.find(function(V){return V.group=="top"}))===null||q===void 0?void 0:q.id,zIndex:0}),O=t.addEdge({source:ie,sourcePort:(z=ie.ports.items.find(function(V){return V.group=="bottom"}))===null||z===void 0?void 0:z.id,target:m,targetPort:(fe=m.ports.items.find(function(V){return V.group=="top"}))===null||fe===void 0?void 0:fe.id,zIndex:0});I=ie;break;case"switch-case":var C=t.createNode({shape:"switch-case",position:l.position(),width:120,height:40,ports:o.Tt,data:l.data});t.removeNode(l),t.addNode(C),I=C;break;case"switch-default":var se=t.createNode({shape:"switch-default",position:l.position(),width:120,height:40,ports:o.Tt,data:l.data});t.removeNode(l),t.addNode(se),I=se;break;case"switch-cases":var D=t.createNode({shape:"switch-cases",position:l.position(),width:120,height:50,ports:o.Tt,data:l.data});t.removeNode(l),t.addNode(D),I=D;break;case"string":var pe=t.createNode({shape:"string",position:l.position(),width:100,height:50,ports:o.Tt,data:l.data});t.removeNode(l),t.addNode(pe),I=pe;break;case"num":var xe=t.createNode({shape:"num",position:l.position(),width:100,height:50,ports:o.Tt,data:l.data});t.removeNode(l),t.addNode(xe),I=xe;break;case"assign-global":var ye=t.createNode({shape:"assign-global",position:l.position(),width:150,height:40,ports:o.Tt,data:l.data});t.removeNode(l),t.addNode(ye),I=ye;break;case"assign-local":var ue=t.createNode({shape:"assign-local",position:l.position(),width:150,height:40,ports:o.Tt,data:l.data});t.removeNode(l),t.addNode(ue),I=ue;break;default:break}if(["\u5DE5\u5E8F\u7EC4"].indexOf(l.getAttrByPath("text/text"))>-1&&(l.zIndex=-1),console.log("node:added"),I&&ve.length==1){var be,H;t.addEdge({source:ve[0],sourcePort:(be=ve[0].ports.items.find(function(V){return V.group=="bottom"}))===null||be===void 0?void 0:be.id,target:I,targetPort:(H=I)===null||H===void 0||(H=H.ports)===null||H===void 0||(H=H.items)===null||H===void 0||(H=H.find(function(V){return V.group=="top"}))===null||H===void 0?void 0:H.id,zIndex:0})}},R=e(54397),Z=null,te=p().createContext({}),X=function(t,l){for(var $=0,q=t.length;$<q;$+=1)t[$].style.visibility=l?"visible":"hidden"},ge=function(t){var l,$,q,z=(0,_.useState)(),fe=v()(z,2),le=fe[0],re=fe[1],ve=(0,_.useState)(!t.showLeft),I=v()(ve,2),he=I[0],ie=I[1],d=(0,_.useState)(!t.showRight),m=v()(d,2),S=m[0],O=m[1],C=(0,_.useState)(t.panelData),se=v()(C,2),D=se[0],pe=se[1],xe=(0,_.useState)(),ye=v()(xe,2),ue=ye[0],be=ye[1],H=(0,_.useState)(),V=v()(H,2),de=V[0],Pe=V[1],je=(0,_.useState)(),De=v()(je,2),Ae=De[0],Oe=De[1],we=(0,_.useState)(t.graphIns),Te=v()(we,2),me=Te[0],Me=Te[1],Re=(0,_.useState)(),Ce=v()(Re,2),Be=Ce[0],Ne=Ce[1];(0,_.useEffect)(function(){try{var w;if((w=t.panelData)!==null&&w!==void 0&&w.Shapes){var n;(n=t.panelData)===null||n===void 0||n.Shapes.forEach(function(a){console.log("\u56FE\u5185\u90E8\u6CE8\u518C\u65B0\u8282\u70B9:"+a.name),T.kJ.registerNode(a.name,a.config,!0)})}}catch(a){console.error("\u6CE8\u518C\u8282\u70B9\u51FA\u9519\uFF1A"),console.error(a)}},[(l=t.panelData)===null||l===void 0?void 0:l.Shapes]),(0,_.useEffect)(function(){me&&(me.options.connecting.createEdge=t.createEdge)},[t.createEdge]),(0,_.useEffect)(function(){de&&Ie(de)},[de]),(0,_.useEffect)(function(){if(me&&t.graphJson)try{me.fromJSON(t.graphJson),me.centerContent()}catch(w){g.ZP.error("\u56FE\u6570\u636E\u6709\u8BEF\uFF0C\u5DF2\u5FFD\u7565"),console.error(w),console.log(t.graphJson)}},[t.graphJson]),(0,_.useEffect)(function(){ie(!(t!=null&&t.showLeft))},[t.showLeft]);function Ie(w){if(console.log("initGraph"),!!w){var n=t.graphIns;return n||(n=new T.kJ({container:w,embedding:{enabled:!0,findParent:function(y){var E=y.node,B=E.getBBox();return this.getNodes().filter(function(ee){var ne=ee.getData();if(ne&&ne.parent){var Se=ee.getBBox();return B.isIntersectWithRect(Se)}return!1})}},mousewheel:{enabled:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:15}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,allowMulti:!0,snap:{radius:20},createEdge:t.createEdge,validateConnection:function(y){var E=y.targetMagnet;return!!E}},background:{color:"#fff"},grid:!0})),n.use(new Q.H({enabled:!0,sharp:!0})).use(new J.A({enabled:!0})).use(new ae.Y({enabled:!0,multiple:!0,strict:!0,rubberband:!0,movable:!0,showNodeSelectionBox:!0,pointerEvents:"none"})).use(new x.T({enabled:!0})).use(new k.N).use(new c.T({enabled:!0})).use(new P.D).use(new R.w({resizing:{enabled:!0,minWidth:50,maxWidth:0,minHeight:50,maxHeight:0,orthogonal:!1,restrict:!1,preserveAspectRatio:!1}})).use(new N.a({container:Ae})),n.on("edge:dblclick",function(a){var y=a.cell}),n.on("edge:change:router",function(a){console.log("edge:change:router")}),n.on("edge:mouseenter",function(a){var y=a.cell;t.edgeTools&&t.edgeTools.forEach(function(E){switch(E){case"edge-editor":break;case"button-remove":y.addTools([{name:"button-remove",args:{distance:-10}}]);break;case"segments":y.addTools(["segments"]);break;case"vertices":y.addTools(["vertices"]);break;default:break}})}),n.on("edge:mouseleave",function(a){var y=a.cell;y.removeTools()}),n.on("node:mouseenter",function(a){var y,E=a.cell;((y=E.data)===null||y===void 0||(y=y.config)===null||y===void 0?void 0:y.type)!="start"&&(E.addTools([{name:"button-remove",args:{x:"100%",y:0,offset:{x:-10,y:10}}}]),E.setData({selected:!0}));var B=de==null?void 0:de.querySelectorAll(".x6-port-body");X(B,!0)}),n.on("node:mouseleave",function(a){var y=a.cell;y.setData({selected:!1}),y.removeTools();var E=de==null?void 0:de.querySelectorAll(".x6-port-body");X(E,!1)}),n.on("node:click",function(a){var y=a.e,E=a.x,B=a.y,ee=a.node,ne=a.view;ee.removeTools(),re(ee)}),n.on("node:added",function(a){var y=a.node,E=a.index,B=a.options;M(n,y)}),n.on("node:dblclick",function(a){var y=a.e,E=a.x,B=a.y,ee=a.node,ne=a.view;O(!1),re(ee)}),n.bindKey(["meta+c","ctrl+c"],function(){var a=n.getSelectedCells();return a.length&&n.copy(a,{useLocalStorage:!0}),!1}),n.bindKey(["meta+v","ctrl+v"],function(){debugger;if(!n.isClipboardEmpty({useLocalStorage:!0})){var a=n.paste({offset:32,useLocalStorage:!0});n.cleanSelection(),n.select(a)}return!1}),n.bindKey(["meta+x","ctrl+x"],function(){var a=n.getSelectedCells();return a.length&&n.cut(a),!1}),n.bindKey(["meta+z","ctrl+z"],function(){return n.canUndo()&&n.undo(),!1}),n.bindKey(["meta+shift+z","ctrl+shift+z"],function(){return n.canRedo()&&n.redo(),!1}),n.bindKey("backspace",function(){var a=n.getSelectedCells();n.removeCells(a)}),n.bindKey("delete",function(){var a=n.getSelectedCells();n.removeCells(a)}),n.on("blank:click",function(a){var y=a.e,E=a.x,B=a.y;console.log("blank:click",E,B),O(!0)}),n.on("blank:dblclick",function(a){var y=a.e,E=a.x,B=a.y;console.log("blank:dbclick",E,B),t.autoLayout&&t.autoLayout(n)}),n.bindKey(["ctrl+1","meta+1"],function(){var a=n.zoom();a<1.5&&n.zoom(.1)}),n.bindKey(["ctrl+2","meta+2"],function(){var a=n.zoom();a>.5&&n.zoom(-.1)}),Me(n),t.graphJson&&Object.keys(t.graphJson).length>0?n.fromJSON(t.graphJson):t.onGraphJsonEmpty&&t.onGraphJsonEmpty(n),t.onGraphInsChange&&t.onGraphInsChange(n),n.centerContent(),n}}(0,_.useEffect)(function(){var w;if((w=t.panelData)!==null&&w!==void 0&&w.Groups&&t.panelData.Nodes){var n,a,y=new G.t({title:"\u5C55\u5F00/\u6536\u8D77",target:me,search:function(ee,ne){var Se=ee.getData(),Ee=Se.config;return!Ee||!Ee.name?!1:Ee.name.indexOf(ne)!==-1},placeholder:"\u641C\u7D22\u8282\u70B9",notFoundText:"\u672A\u627E\u5230",collapsable:!0,stencilGraphWidth:250,groups:(n=t.panelData)===null||n===void 0?void 0:n.Groups,layoutOptions:{rowHeight:70,columns:2}}),E={};t.panelData.Nodes.forEach(function(B){var ee=me.createNode(B.getNodeConfig());t.panelData.Groups.forEach(function(ne){B.getGroups().includes(ne.name)&&(E[ne.name]?E[ne.name].push(ee):E[ne.name]=[ee])})}),Object.keys(E).forEach(function(B){y.load(s()(E[B]),B)}),ue==null||(a=ue.children.item(0))===null||a===void 0||a.remove(),ue==null||ue.appendChild(y.container),Ne(y)}},[($=t.panelData)===null||$===void 0?void 0:$.Nodes,(q=t.panelData)===null||q===void 0?void 0:q.Groups]);function Fe(){t.onSave&&t.onSave(me)}var Ue=(0,_.useMemo)(function(){if(t.toolElements){var w;return(0,u.jsx)(r.Z.Header,{style:{padding:0,backgroundColor:"white"},children:(0,u.jsx)(f.Z,{style:{height:"50px"},children:(w=t.toolElements)===null||w===void 0?void 0:w.map(function(n){return n})})})}else return(0,u.jsx)("span",{})},[t.toolElements]);return(0,u.jsx)(te.Provider,{value:t.editorCtx,children:(0,u.jsxs)(r.Z,{style:{height:"100vh",width:"100%",margin:0},children:[Ue,(0,u.jsxs)(r.Z,{style:{height:"100vh"},children:[(0,u.jsx)(r.Z.Sider,{theme:"light",collapsed:he,collapsedWidth:0,width:250,ref:function(n){return be(n)}}),(0,u.jsxs)(r.Z.Content,{className:"app-content",children:[(0,u.jsx)(A.Z,{ref:function(n){return Pe(n)}}),(0,u.jsx)("div",{className:"app-minimap",ref:function(n){return Oe(n)}})]}),(0,u.jsx)(r.Z.Sider,{style:{background:"transparent"},collapsed:S,collapsedWidth:0,width:600,children:(0,u.jsx)(oe,{isStatic:t.isStatic,editNode:le,onSubmit:Fe,jsTipMap:t.jsTipMap,onClose:function(){O(!0)},isCollapsed:S})})]})]})})},_e=ge},20281:function(ce,F,e){e.d(F,{Z:function(){return v}});var U=e(87363),s=e(62086),L=(0,U.forwardRef)(function(b,j){return(0,s.jsx)("div",{className:"drag-graph",ref:j})}),v=L},15146:function(ce,F,e){var U=e(26068),s=e.n(U),L=e(48305),v=e.n(L),b=e(52670),j=e(87363),Y=e.n(j),_=e(62086);F.Z=function(p){var T,c=(0,j.useState)(""),J=v()(c,2),k=J[0],ae=J[1],Q=(0,j.useState)({}),G=v()(Q,2),x=G[0],P=G[1],N=function(r){var f,i,h;(f=p.editNode)===null||f===void 0||f.setAttrByPath("text/text",r.name);var u=(i=p.editNode)===null||i===void 0?void 0:i.data.config;r.type=="switch-cases"&&r.caseItems&&(r.cases=r.caseItems.map(function(K){return K.value})),p.editNode&&(console.log("update graph data",r),p.editNode.setData(s()(s()({},p.editNode.data),{},{config:s()(s()({},u),r)}),{overwrite:!0})),console.log("submit---props.editNode.data.config"),console.log((h=p.editNode)===null||h===void 0?void 0:h.data.config),p==null||p.onSubmit()};return(0,j.useEffect)(function(){if(p.editNode&&p.editNode.data){var g=p.editNode.data.config||{};ae(p.editNode.data.configSchema||g.type)}},[p.editNode]),(0,j.useEffect)(function(){var g;if((g=p.editNode)!==null&&g!==void 0&&g.data){var r,f,i=((r=p.editNode)===null||r===void 0?void 0:r.data.config)||{},h=s()({},i),u=(f=p.editNode)===null||f===void 0?void 0:f.attrs;u&&u.text&&u.text.text&&(h.name=u.text.text),P(h)}},[(T=p.editNode)===null||T===void 0?void 0:T.data]),(0,_.jsx)(b.Z,{isStatic:p.isStatic,formId:k,values:s()({},x),onSubmit:N,jsTipMap:p.jsTipMap})}},9939:function(ce,F,e){e.d(F,{Tt:function(){return U}});var U={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]},s={groups:{right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"right"}]},L={groups:{bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}},zIndex:1}},items:[{group:"bottom"}]}},52670:function(ce,F,e){e.d(F,{Z:function(){return oe}});var U=e(26068),s=e.n(U),L=e(48305),v=e.n(L),b=e(87363),j=e.n(b),Y=e(4793),_=e(59321),p=e(874),T=e.n(p),c=e(51857),J=e(91416),k=e(31759),ae=e.n(k),Q=function A(o){if(o=o==null)return o;var M="{";return Object.keys(o).forEach(function(R){var Z=o[R];M+="".concat(R,":"),Array.isArray(Z)?M+="[],":ae()(Z)=="object"?M+=A(Z)+",":typeof Z=="string"?M+="'".concat(Z,"',"):M+="".concat(Z,",")}),M+="}",M},G=function(o,M){var R="";M&&(Object.keys(M).forEach(function(te){var X=M[te];R+="".concat(te,":"),Array.isArray(X)?R+="[],":ae()(X)=="object"?R+=Q(X)+",":typeof X=="string"?R+="'".concat(X,"',"):R+="".concat(X,",")}),R=R.substring(0,R.length-1));var Z="const ".concat(o,"={").concat(R,"}");return Z},x=e(76465),P=e(51084),N=e(47787),g=e(52758),r=e(16740),f=e(38129),i=e(62086),h=function(o){var M=(0,b.useContext)(r.E),R=(0,b.useState)(o==null?void 0:o.config),Z=v()(R,2),te=Z[0],X=Z[1],ge=(0,b.useState)(o==null?void 0:o.values),_e=v()(ge,2),W=_e[0],t=_e[1],l=M==null?void 0:M.jsTips,$=(0,b.useState)(),q=v()($,2),z=q[0],fe=q[1];function le(d,m,S){d==="formSubmited"?(console.log("\u5185\u90E8\u8868\u5355\u63D0\u4EA4\u4E86",S),o.onSubmit(S)):console.log("\u5185\u90E8\u8868\u5355\u89E6\u53D1\u4E86Broadcast",S)}(0,b.useEffect)(function(){(0,f.m)(_.Z)},[]),(0,b.useEffect)(function(){if(o.config&&o.config.body){var d,m=o.config.body[0];(d=m.body)===null||d===void 0||d.forEach(function(O){ie(O)});var S=z==null?void 0:z.getComponentByName("page1.form1");S==null||S.props.store.clear(),X(o.config)}},[o.config]),(0,b.useEffect)(function(){var d=z==null?void 0:z.getComponentByName("page1.form1");d==null||d.props.store.clear(),d==null||d.props.store.setValues(o.values)},[te]),(0,b.useEffect)(function(){var d=z==null?void 0:z.getComponentByName("page1.form1");d==null||d.props.store.clear(),d==null||d.props.store.setValues(o.values),t(o.values)},[o.values]);var re=(0,b.useState)(),ve=v()(re,2),I=ve[0],he=ve[1];function ie(d){d.type=="editor"&&d.language=="javascript"?d.editorDidMount=function(m,S){return he(S),l&&Object.keys(l).forEach(function(O){var C=G(O,JSON.parse(l[O]));S==null||S.languages.typescript.javascriptDefaults.addExtraLib(C,"".concat(O,".ts"))}),function(){try{var O,C;console.log("effect dispose"),m==null||m.dispose(),m==null||(O=m.current)===null||O===void 0||O.dispose(),S==null||(C=S.current)===null||C===void 0||C.dispose()}catch(se){console.error("error in findEditorItem"),console.error(se)}}}:d.body&&d.body.forEach(function(m){ie(m)})}return(0,b.useEffect)(function(){l&&Object.keys(l).forEach(function(d){var m=G(d,JSON.parse(l[d]));I==null||I.languages.typescript.javascriptDefaults.addExtraLib(m,"".concat(d,".ts"))})},[l]),(0,i.jsxs)("div",{children:[(0,i.jsx)(J.qR,{theme:"cxd",position:"top-right",locale:"zh-CN"},"toast"),(0,i.jsx)(J.wx,{theme:"cxd",locale:"zh-CN"},"alert"),(0,c.sYA)(te,{onBroadcast:le,data:W,scopeRef:function(m){return fe(m)}},{fetcher:function(m){var S=m.url,O=m.method,C=m.data,se=m.responseType,D=m.config,pe=m.headers;return D=D||{},D.withCredentials=!0,se&&(D.responseType=se),D.cancelExecutor&&(D.cancelToken=new _.Z.CancelToken(D.cancelExecutor)),D.headers=pe||{},D.headers.Authorization||(D.headers.Authorization="Bearer "+g.F.getTokenFormLocal()),O!=="post"&&O!=="put"&&O!=="patch"?(C&&(D.params=C),_.Z[O](S,D)):(C&&C instanceof FormData?(D.headers=D.headers||{},D.headers["Content-Type"]="multipart/form-data"):C&&typeof C!="string"&&!(C instanceof Blob)&&!(C instanceof ArrayBuffer)&&(C=JSON.stringify(C),D.headers=D.headers||{},D.headers["Content-Type"]="application/json"),_.Z[O](S,C,D))},isCancel:function(m){return _.Z.isCancel(m)},copy:function(m){T()(m),J.Am.success("\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},theme:"cxd",jumpTo:function(m,S){debugger;S.blank==!0?window.open(window.location.origin+window.location.pathname+"#"+m,"_blank"):window.location.hash=m}})]})},u=j().memo(h),K=function(o){var M=(0,b.useState)({type:"page"}),R=v()(M,2),Z=R[0],te=R[1];return(0,b.useEffect)(function(){if(o.formId){var X=o.isStatic?o.formId+"-static":o.formId;(0,Y.CD)(X).then(function(ge){te(ge)}).catch(function(ge){console.log(ge),(0,Y.CD)(o.formId).then(function(_e){te(_e)})})}},[o.formId]),(0,i.jsx)("div",{children:(0,i.jsx)(u,s()(s()({},o),{},{config:Z}))})},oe=K},38129:function(ce,F,e){e.d(F,{m:function(){return b}});var U=e(90228),s=e.n(U),L=e(87999),v=e.n(L);function b(Y){return j.apply(this,arguments)}function j(){return j=v()(s()().mark(function Y(_){return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:_.interceptors.response.use(function(c){return console.log("axios response"),console.log(c),c&&c.data?(console.log("--\u8BF7\u6C42\u672A\u62A5\u9519\uFF0C\u9002\u914Dstatus=0"),c.data.error||(c.data.error={code:0}),c.data.code==500&&(c.data.error={code:500,message:c.data.msg}),c.data.data&&c.data.data.records&&(c.data.data.items=c.data.data.records),c):(console.log("--\u8FD4\u56DE\u6570\u636E\u4E3A\u7A7A\uFF0C\u5224\u65AD\u4E3A\u5F02\u5E38"),console.log(c.data),Promise.reject(new Error(c.data.message)))},function(c){if(console.log("\u6355\u6349axios error"),console.log(c),c.response&&c.response.data){var J,k=c.response;return console.log("--data\u6709\u8FD4\u56DE\u503C\uFF0C\u5224\u5B9A\u4E3A\u4E1A\u52A1\u5F02\u5E38\uFF0C\u7EE7\u7EED\u8FD4\u56DEresponse,\u9002\u914Dstatus=500\uFF01"),((J=c.response.data.error)===null||J===void 0?void 0:J.code)==0&&(c.response.data.error.code=500),console.log(k),k}return Promise.reject(c)});case 1:case"end":return T.stop()}},Y)})),j.apply(this,arguments)}},52758:function(ce,F,e){e.d(F,{F:function(){return U}});var U={getTokenFormLocal:function(){return localStorage.getItem("token")},setTokenToLocal:function(L){return localStorage.setItem("token",L)}}},4793:function(ce,F,e){e.d(F,{CD:function(){return ae},UD:function(){return J},n4:function(){return G},wx:function(){return P}});var U=e(90228),s=e.n(U),L=e(87999),v=e.n(L),b=e(41648),j=e(25298),Y=e.n(j),_=e(17069),p=e.n(_),T=e(96179),c=function(){function g(){Y()(this,g)}return p()(g,null,[{key:"getAssetFromDb",value:function(){var r=v()(s()().mark(function i(h,u){var K;return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,T.U2)("/api/ide/settings/asset/".concat(h,"/").concat(u));case 2:return K=A.sent.data,A.abrupt("return",JSON.parse(K.data.config));case 4:case"end":return A.stop()}},i)}));function f(i,h){return r.apply(this,arguments)}return f}()},{key:"saveAssetToDb",value:function(){var r=v()(s()().mark(function i(h,u,K){return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,T.v_)("/api/ide/settings/asset/".concat(h,"/").concat(u),K));case 1:case"end":return A.stop()}},i)}));function f(i,h,u){return r.apply(this,arguments)}return f}()},{key:"getRemoteAssetFromDb",value:function(){var r=v()(s()().mark(function i(h,u,K){var oe;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,T.U2)("/api/ide/papi/".concat(h,"/api/ide/settings/asset/").concat(u,"/").concat(K));case 2:return oe=o.sent.data,o.abrupt("return",JSON.parse(oe.data.config));case 4:case"end":return o.stop()}},i)}));function f(i,h,u){return r.apply(this,arguments)}return f}()},{key:"saveRemoteAssetToDb",value:function(){var r=v()(s()().mark(function i(h,u,K,oe){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,T.v_)("/api/ide/papi/".concat(h,"/api/ide/settings/asset/").concat(u,"/").concat(K),oe));case 1:case"end":return o.stop()}},i)}));function f(i,h,u,K){return r.apply(this,arguments)}return f}()}]),g}();function J(g){return k.apply(this,arguments)}function k(){return k=v()(s()().mark(function g(r){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(b.j.getModel()!="db"){i.next=4;break}return i.abrupt("return",c.getAssetFromDb("page",r));case 4:return i.next=6,(0,T.U2)("/logic/setting/pages/".concat(r,".json"));case 6:return i.abrupt("return",i.sent.data);case 7:case"end":return i.stop()}},g)})),k.apply(this,arguments)}function ae(g){return Q.apply(this,arguments)}function Q(){return Q=v()(s()().mark(function g(r){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(b.j.getModel()!="db"){i.next=4;break}return i.abrupt("return",c.getAssetFromDb("form",r));case 4:return i.next=6,(0,T.U2)("/logic/setting/forms/".concat(r,".json"));case 6:return i.abrupt("return",i.sent.data);case 7:case"end":return i.stop()}},g)})),Q.apply(this,arguments)}function G(g,r){return x.apply(this,arguments)}function x(){return x=v()(s()().mark(function g(r,f){return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(b.j.getModel()!="db"){h.next=4;break}return h.abrupt("return",c.getAssetFromDb(r,f));case 4:return h.next=6,(0,T.U2)("/logic/setting/".concat(r,"s/").concat(f,".json"));case 6:return h.abrupt("return",h.sent.data);case 7:case"end":return h.stop()}},g)})),x.apply(this,arguments)}function P(g,r,f){return N.apply(this,arguments)}function N(){return N=v()(s()().mark(function g(r,f,i){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(b.j.getModel()!="db"){u.next=2;break}return u.abrupt("return",c.saveAssetToDb(r,f,i));case 2:case"end":return u.stop()}},g)})),N.apply(this,arguments)}},96179:function(ce,F,e){e.d(F,{U2:function(){return _},gz:function(){return T},v_:function(){return ae}});var U=e(90228),s=e.n(U),L=e(26068),v=e.n(L),b=e(87999),j=e.n(b),Y=e(59321);function _(x,P){return p.apply(this,arguments)}function p(){return p=j()(s()().mark(function x(P,N){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Y.Z.get(P,G(N)));case 1:case"end":return r.stop()}},x)})),p.apply(this,arguments)}function T(x,P,N){return c.apply(this,arguments)}function c(){return c=j()(s()().mark(function x(P,N,g){return s()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Y.Z.put(P,N,G(g)));case 1:case"end":return f.stop()}},x)})),c.apply(this,arguments)}function J(x,P){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function x(P,N){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",axios.delete(P,G(N)));case 1:case"end":return r.stop()}},x)})),k.apply(this,arguments)}function ae(x,P,N){return Q.apply(this,arguments)}function Q(){return Q=j()(s()().mark(function x(P,N,g){return s()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Y.Z.post(P,N,G(g)));case 1:case"end":return f.stop()}},x)})),Q.apply(this,arguments)}function G(x){var P={"Content-Type":"application/json;charset=UTF-8"};return localStorage.getItem("token")&&(P.Authorization="Bearer "+localStorage.getItem("token")),v()(v()({},x),{},{headers:v()(v()({},P),x==null?void 0:x.headers)})}}}]);
