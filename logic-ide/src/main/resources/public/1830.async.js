"use strict";(self.webpackChunkxuanwu_logic_web_design=self.webpackChunkxuanwu_logic_web_design||[]).push([[1830],{81830:function(Ee,H,b){b.r(H),b.d(H,{Navigation:function(){return k},NavigationRenderer:function(){return he},default:function(){return ee}});var r=b(15767),de=b(87363),y=b.n(de),Q=b(61533),_e=b.n(Q),q=b(8427),le=b(31223),B=b.n(le),se=b(56549),ue=b.n(se),ce=b(32222),pe=b.n(ce),d=b(42977),L=b(94391),ve=b(30788),k=function(m){(0,r.ZT)(s,m);function s(){var e=m!==null&&m.apply(this,arguments)||this;return e.startPoint={y:0,x:0},e.menuParentRef=y().createRef(),e.state={keyword:"",filteredLinks:[]},e}return s.prototype.handleClick=function(e,o){return(0,r.mG)(this,void 0,void 0,function(){var t,n,i;return(0,r.Jh)(this,function(l){switch(l.label){case 0:return t=this.props,n=t.env,i=t.onSelect,e&&e.to&&(n==null||n.tracker({eventType:"link",eventData:{label:e.label,link:e.to}})),[4,i==null?void 0:i(e,o)];case 1:return l.sent(),[2,!1]}})})},s.prototype.handleChange=function(e){return(0,r.mG)(this,void 0,void 0,function(){var o;return(0,r.Jh)(this,function(t){return o=this.props.onChange,o&&o(e),[2]})})},s.prototype.toggleLink=function(e,o,t){var n,i;(i=(n=this.props).onToggle)===null||i===void 0||i.call(n,e,o,t)},s.prototype.getDropInfo=function(e,o,t){var n,i,l=this.props,u=l.dragOnSameLevel,c=l.indentSize,h=e.target.getBoundingClientRect(),f=(n=this.dragNode)===null||n===void 0?void 0:n.link,a=h.top,g=h.height,p=h.width,C=e.clientY,E=e.clientX,v=t*((i=parseInt(c,10))!==null&&i!==void 0?i:16),w=v+p*.2,_;return C>=a+g/2?_="bottom":_="top",!u&&_==="bottom"&&E>=this.startPoint.x+w&&(_="self"),{nodeId:o,dragLink:f,position:_,rect:h,height:g,left:v}},s.prototype.updateDropIndicator=function(e){var o,t=this.props,n=t.dragOnSameLevel,i=t.overflow,l=e.target.querySelector("a"),u=l==null?void 0:l.getAttribute("data-id"),c=Number(l==null?void 0:l.getAttribute("data-depth")),h=i&&i.enable&&i.wrapperComponent||"ul";if(n&&((o=this.dragNode)===null||o===void 0?void 0:o.node.closest("".concat(h,'[role="menu"]')))!==(l==null?void 0:l.closest("".concat(h,'[role="menu"]')))){this.setState({dropIndicator:void 0}),this.dropInfo=null;return}this.dropInfo=this.getDropInfo(e,u,c);var f=this.dropInfo,a=f.position,g=f.rect,p=f.dragLink,C=f.height,E=f.left;if(u===(p==null?void 0:p.__id)){this.setState({dropIndicator:void 0}),this.dropInfo=null;return}var v=(0,Q.findDOMNode)(this).firstChild;if(a==="self"){var w={top:g.top-v.getBoundingClientRect().top,left:E,width:v.getBoundingClientRect().width-E,height:C,opacity:.2};(!this.state.dropIndicator||this.state.dropIndicator&&!B()(this.state.dropIndicator,w))&&this.setState({dropIndicator:w})}else{var w={top:(a==="bottom"?g.top+g.height:g.top)-v.getBoundingClientRect().top,left:E,width:v.getBoundingClientRect().width-E};(!this.state.dropIndicator||this.state.dropIndicator&&!B()(this.state.dropIndicator,w))&&this.setState({dropIndicator:w})}},s.prototype.handleDragStart=function(e){var o=this;return function(t){t.stopPropagation();var n=t.currentTarget;t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage(n,0,0),o.dragNode={node:n,link:e},o.dropInfo=null,o.startPoint={x:t.clientX,y:t.clientY},n.addEventListener("dragend",o.handleDragEnd),document.body.addEventListener("dragover",o.handleDragOver)}},s.prototype.handleDragOver=function(e){if(e.preventDefault(),e.stopPropagation(),!!this.dragNode){var o=e.target.querySelector("a"),t=o==null?void 0:o.getAttribute("data-id");t&&this.updateDropIndicator(e)}},s.prototype.handleDragEnd=function(e){var o,t,n;e.preventDefault(),e.stopPropagation(),this.setState({dropIndicator:void 0});var i=e.currentTarget,l=i.getAttribute("data-id");if(!l){var u=i.querySelector("a");u&&(l=u.getAttribute("data-id"))}var c=(o=this.dropInfo)===null||o===void 0?void 0:o.nodeId;!this.dropInfo||!c||l===c||(i.removeEventListener("dragend",this.handleDragEnd),document.body.removeEventListener("dragover",this.handleDragOver),(n=(t=this.props).onDragUpdate)===null||n===void 0||n.call(t,this.dropInfo),this.dragNode=null,this.dropInfo=null)},s.prototype.normalizeNavigations=function(e,o){var t=this,n=this.props,i=n.level,l=n.stacked,u=n.mode,c=n.itemActions,h=n.render,f=n.popOverContainer,a=n.env,g=n.classnames,p=n.data,C=n.collapsed;if(!e)return[];if(i&&o>i)return[];var E=C&&o===1;return e.filter(function(v){return!(v.hidden===!0||v.visible===!1)}).map(function(v){var w=[],_=[];v.icon&&(Array.isArray(v.icon)?v.icon:[v.icon]).forEach(function(O,D){if(y().isValidElement(O))w.push(O);else if(ue()(O))w.push(y().createElement(L.JO$,{key:"icon-".concat(D),cx:g,icon:O,className:E?"":"mr-2"}));else if(O&&(0,d.Kn2)(O)){var K=O.position==="after",W=y().createElement(L.JO$,{key:"icon-".concat(D),cx:g,icon:O.icon||O,className:E?"":K?"ml-2":"mr-2"});K?_.push(W):w.push(W)}});var R=typeof v.label=="string"?(0,d.hXT)(v.label,p):y().isValidElement(v.label)?y().cloneElement(v.label):h("inline",v.label),U=l&&u!=="float"&&!v.expanded&&v.overflow&&(0,d.Kn2)(v.overflow)&&v.overflow.enable,N=v.children;if(U){var P=v.overflow,z=P.maxVisibleCount,j=P.overflowIndicator,G=j===void 0?"fa fa-ellipsis-h":j,T=P.overflowLabel,x=P.overflowClassName,A=z||2;A<((N==null?void 0:N.length)||0)&&(N=N==null?void 0:N.map(function(O,D){return(0,r.pi)((0,r.pi)({},O),{label:D===A?y().createElement("span",{className:g(x)},y().createElement(L.JO$,{icon:G,className:"icon Nav-item-icon"}),T&&(0,d.Kn2)(T)?h("nav-overflow-label",T):T):O.label,hidden:D>A?!0:v.hidden,expandMore:D===A})}))}return{link:v,label:R,labelExtra:_.length?y().createElement("i",{className:g("Nav-Menu-item-icon-after")},_):null,icon:w.length?y().createElement("i",null,w):null,children:N?t.normalizeNavigations(N,v.mode==="group"?o:o+1):[],path:v.to,open:v.unfolded,extra:c?h("inline",c,{data:(0,d.nW9)(p,v),popOverContainer:f||(a&&a.getModalContainer?a.getModalContainer:function(){return document.body}),closeOnClick:!0}):null,disabled:!!v.disabled,disabledTip:v.disabledTip,hidden:v.hidden,className:v.className,mode:v.mode}})},s.prototype.handleSearch=function(e){return(0,r.mG)(this,void 0,void 0,function(){var o,t,n,i,l,u,c;return(0,r.Jh)(this,function(h){return o=this.props,t=o.links,n=o.searchConfig,i=n===void 0?{}:n,l=pe()(t!=null?t:[]),u=i==null?void 0:i.matchFunc,e?(u&&typeof u=="string"?u=(0,d.PqP)(u,"link","keyword"):typeof u=="function"||(u=function(f,a){var g,p,C=(g=(0,q.Lu)([f],a,{keys:["label","title","key"],threshold:q.Lu.rankings.CONTAINS}))===null||g===void 0?void 0:g.length;return C||(f==null?void 0:f.children)&&((p=f.children)===null||p===void 0?void 0:p.length)>0}),c=function(f,a){var g=function(p,C){if(u(C,a))return p.push((0,r.pi)((0,r.pi)({},C),{unfolded:!0})),p;if(Array.isArray(C.children)){var E=C.children.reduce(g,[]);E.length&&p.push((0,r.pi)((0,r.pi)({},C),{unfolded:!0,children:E}))}return p};return f.reduce(g,[])},this.setState({keyword:e,filteredLinks:c(l,e)}),[2]):(this.setState({keyword:"",filteredLinks:[]}),[2])})})},s.prototype.renderSearchBox=function(){var e,o,t,n=this.props,i=n.classnames,l=n.searchable,u=n.searchConfig,c=u===void 0?{}:u,h=this.state.keyword;return y().createElement(y().Fragment,null,l?y().createElement(L.Rj2,{className:i("Nav-SearchBox",c==null?void 0:c.className),mini:(e=c.mini)!==null&&e!==void 0?e:!1,enhance:(o=c.enhance)!==null&&o!==void 0?o:!1,clearable:(t=c.clearable)!==null&&t!==void 0?t:!0,searchImediately:c.searchImediately,placeholder:c.placeholder,defaultValue:"",value:h!=null?h:"",onSearch:this.handleSearch,onChange:d.ZTd}):null)},s.prototype.render=function(){var e,o=this,t=this.props,n=t.className,i=t.style,l=t.stacked,u=t.mode,c=t.classnames,h=t.links,f=t.loading,a=t.overflow,g=t.loadingConfig,p=t.itemBadge,C=t.badge,E=t.data,v=t.location,w=t.collapsed,_=t.expandIcon,R=t.indentSize,U=t.accordion,N=t.draggable,P=t.themeColor,z=t.expandPosition,j=t.popupClassName,G=t.disabled,T=t.id,x=t.render,A=t.popOverContainer,O=t.env,D=t.searchable,K=t.testIdBuilder,W=t.classPrefix,te=this.state,ne=te.dropIndicator,J=te.filteredLinks,oe=null;if(a&&(0,d.Kn2)(a)&&a.enable){var re=a.overflowIndicator,ge=re===void 0?"fa fa-ellipsis-h":re,F=a.overflowLabel,me=a.overflowClassName;oe=y().createElement("span",{className:c(me)},y().createElement(L.JO$,{icon:ge,className:"icon Nav-item-icon"}),F&&(0,d.Kn2)(F)?x("nav-overflow-label",F):F)}var X=null,M="";if(i)try{X=(0,d.uBL)(i,E);var ye=JSON.stringify(X).replace(/\,/g,";").replace(/\"/g,"").replace(/[A-Z]/g,function(S){return"-"+S.toLowerCase()});M=c("Nav-PopupClassName-".concat(T)),document.getElementById(M)||(0,d.CQn)({style:".".concat(M," ").concat(ye),classId:M})}catch(S){}var $=Array.isArray(J)&&J.length>0?J:h,ae=function(S,V){return y().createElement(y().Fragment,null,Array.isArray($)?y().createElement(L.v2r,{navigations:o.normalizeNavigations($,1),isActive:function(I,Z){if(Z===void 0&&(Z=""),I.link&&typeof I.link.active!="undefined")return I.link.active;var Y=I.path,Ce=v.pathname===Y;return!!Ce},isOpen:function(I){return!!I.open},stacked:!!l,mode:u,testIdBuilder:K,themeColor:P,onSelect:function(I,Z){return new Promise(function(Y){o.handleClick(I,Z),setTimeout(function(){V==null||V(),Y(void 0)},100)})},onToggle:o.toggleLink,onChange:o.handleChange,renderLink:function(I){return I.link},badge:p||C,collapsed:w,overflowedIndicator:oe,overflowMaxCount:a==null?void 0:a.maxVisibleCount,overflowedIndicatorPopupClassName:c(a==null?void 0:a.overflowPopoverClassName),overflowSuffix:a!=null&&a.overflowSuffix?x("nav-overflow-suffix",a==null?void 0:a.overflowSuffix):null,overflowItemWidth:a==null?void 0:a.itemWidth,overflowComponent:a==null?void 0:a.wrapperComponent,overflowStyle:a==null?void 0:a.style,popupClassName:"".concat(j||"").concat(M?" ".concat(M):""),expandIcon:_?typeof _=="string"?_:x("expand-icon",_):null,expandBefore:z!=="after",inlineIndent:R,accordion:U,draggable:N,data:E,disabled:G,onDragStart:o.handleDragStart,disabledOverflow:S,popOverContainer:A||(O&&O.getModalContainer?O.getModalContainer:function(){return document.body})}):null,y().createElement(L.$jN,{show:!!f,overlay:!0,loadingConfig:g}))},ie=!l&&(a!=null&&a.enable)&&a.mode==="swipe"?Array.isArray($)?y().createElement(ve.Z,{classPrefix:W,classnames:c,getScrollParentElement:function(){var S=c("Nav-Menu-root");return o.menuParentRef.current?o.menuParentRef.current.querySelector(".".concat(S)):void 0},activeChildClassName:[c("Nav-Menu-item-selected"),c("Nav-Menu-submenu-selected")]},function(S){return ae(!0,S)}):null:ae(!1);return y().createElement("div",{className:c("Nav",n,(e={},e["Nav-horizontal"]=!l,e["Nav--searchable"]=!!D,e)),style:X,ref:this.menuParentRef},D?y().createElement(y().Fragment,null,this.renderSearchBox(),ie):ie,ne?y().createElement("div",{className:c("Nav-dropIndicator"),style:ne}):null)},s.defaultProps={indentSize:16},(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,Number]),(0,r.w6)("design:returntype",Promise)],s.prototype,"handleClick",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Array]),(0,r.w6)("design:returntype",Promise)],s.prototype,"handleChange",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object,Number,Boolean]),(0,r.w6)("design:returntype",void 0)],s.prototype,"toggleLink",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[DragEvent,String,Number]),(0,r.w6)("design:returntype",Object)],s.prototype,"getDropInfo",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[DragEvent]),(0,r.w6)("design:returntype",void 0)],s.prototype,"updateDropIndicator",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],s.prototype,"handleDragStart",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[DragEvent]),(0,r.w6)("design:returntype",void 0)],s.prototype,"handleDragOver",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[DragEvent]),(0,r.w6)("design:returntype",void 0)],s.prototype,"handleDragEnd",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String]),(0,r.w6)("design:returntype",Promise)],s.prototype,"handleSearch",null),s}(y().Component),ee=(0,d.YYN)(k),fe=(0,L.it4)({adaptor:function(m,s){var e=Array.isArray(m)?m:m.links||m.options||m.items||m.rows;if(!Array.isArray(e))throw new Error("payload.data.options is not array.");return e},afterLoad:function(m,s,e){return(0,r.mG)(void 0,void 0,void 0,function(){var o,t,n,i;return(0,r.Jh)(this,function(l){switch(l.label){case 0:return o=e.dispatchEvent,t=e.data,[4,o("loaded",(0,d.nW9)(t,{data:m.value,items:m.links}))];case 1:return n=l.sent(),n!=null&&n.prevented?[2]:(m.value&&!(0,d.Jyg)(s,function(u){return u.active})&&(i=e.env,i.jumpTo((0,d.hXT)(m.value,e.data),void 0,e.data)),[2])}})})},normalizeConfig:function(m,s,e,o){if(Array.isArray(m)&&o!=="toggle"){var t=e.data,n=e.env,i=e.unfoldedField,l=e.foldedField,u=e.location,c=e.level,h=e.defaultOpenLevel,f=e.disabled,a=e.valueField,g=function(p,C){return f||p.disabled?!1:o&&!["location-change","data-change"].includes(o)&&typeof p.active!="undefined"?p.active:(C===c?!!(0,d.hEs)(p.children||[],function(E){return!!(E.hasOwnProperty("to")&&n&&n.isCurrentUrl((0,d.hXT)(E.to,t),p))}):!1)||(p.activeOn?(0,d.fz_)(p.activeOn,t)||(0,d.fz_)(p.activeOn,u):!!(p.hasOwnProperty("to")&&p.to!==null&&n&&n.isCurrentUrl((0,d.hXT)(p.to,t),p)))};m=(0,d.GyU)(m,function(p,C,E){var v,w=(0,r.pi)((0,r.pi)((0,r.pi)({},p),(0,d.Lti)(p,t)),{active:g(p,E),__id:(v=p.__id)!==null&&v!==void 0?v:(0,d.M8z)()}),_=null;return!p.defer&&a&&p[a]&&(_=(0,d.hEs)(s||[],function(R){return R[a]===p[a]})),w.unfolded=_?(0,d.FCL)(_,{unfoldedField:i,foldedField:l}):typeof p.unfolded!="undefined"?(0,d.FCL)(w,{unfoldedField:i,foldedField:l}):h&&E<=h?!0:p.children&&!!(0,d.hEs)(p.children,function(R,U,N){return g(R,E+N)}),w},1,!0)}return m},beforeDeferLoad:function(m,s,e){return(0,d.o5f)(e,s,1,(0,r.pi)((0,r.pi)({},m),{loading:!0}))},afterDeferLoad:function(m,s,e,o,t){var n,i,l,u;return(0,r.mG)(this,void 0,void 0,function(){var c,h,f,a,g;return(0,r.Jh)(this,function(p){switch(p.label){case 0:return c=t.dispatchEvent,h=t.data,[4,c("loaded",(0,d.nW9)(h,{data:e.data,item:(0,r.pi)({},m)}))];case 1:return f=p.sent(),f!=null&&f.prevented?[2]:(a=(0,r.pi)((0,r.pi)({},m),{loading:!1,loaded:!0,error:e.ok?void 0:e.msg}),g=Array.isArray(e.data)?e.data:((n=e.data)===null||n===void 0?void 0:n.links)||((i=e.data)===null||i===void 0?void 0:i.options)||((l=e.data)===null||l===void 0?void 0:l.items)||((u=e.data)===null||u===void 0?void 0:u.rows),Array.isArray(g)&&(a.children=g.concat(),a.unfolded=!0),[2,(0,d.o5f)(o,s,1,a)])}})})}})(function(m){(0,r.ZT)(s,m);function s(e){var o=m.call(this,e)||this;return o.state={currentKey:e.showKey||"",collapsed:e.collapsed||!1},o.toggleLink=o.toggleLink.bind(o),o.handleSelect=o.handleSelect.bind(o),o.dragUpdate=o.dragUpdate.bind(o),o.handleChange=o.handleChange.bind(o),e==null||e.onRef(o),o}return s.prototype.componentDidMount=function(){Array.isArray(this.props.links)&&this.props.updateConfig(this.props.links,"mount")},s.prototype.componentDidUpdate=function(e,o){B()(this.props.location,e.location)?B()(this.props.links,e.links)?(0,d.RjM)(this.props.data,e.data,!1,void 0,void 0,10)&&this.props.updateConfig(this.props.config,"data-change"):this.props.updateConfig(this.props.links,"update"):this.props.updateConfig(this.props.config,"location-change"),e.defaultOpenLevel!==this.props.defaultOpenLevel&&this.props.updateConfig(this.props.config,"update"),e.collapsed!==this.props.collapsed&&this.setState({collapsed:this.props.collapsed}),o.collapsed!==this.state.collapsed&&this.props.dispatchEvent("collapsed",(0,d.nW9)(this.props.data,{collapsed:this.state.collapsed}))},s.prototype.getCurrentLink=function(e){var o=null,t=this.props,n=t.config,i=t.data,l=t.valueField,u=(0,d.OgC)(e,i,"| raw");return e&&(o=(0,d.hEs)(n,function(c){return l?c[l]===u:c.label==u||c.key==u})),o},s.prototype.toggleLink=function(e,o,t){return(0,r.mG)(this,void 0,void 0,function(){var n,i,l,u,c,h,f,a,g,p,C;return(0,r.Jh)(this,function(E){switch(E.label){case 0:return n=this.props,i=n.config,l=n.updateConfig,u=n.deferLoad,c=n.dispatchEvent,h=n.stacked,f=n.mode,a=n.accordion,g=n.data,p=h&&f!=="float"&&a,[4,c("toggled",(0,d.nW9)(g,{item:(0,r.pi)({},e),open:typeof t!="undefined"?!t:!e.unfolded}))];case 1:return C=E.sent(),C!=null&&C.prevented?[2]:(e.defer&&!e.loaded?u(e):l((0,d.GyU)(i,function(v){return e.__id===v.__id?(0,r.pi)((0,r.pi)({},v),{unfolded:typeof t!="undefined"?!t:!v.unfolded}):(0,r.pi)((0,r.pi)({},v),{unfolded:p?!!(0,d.hEs)(v.children||[],function(w){return w===e}):v.unfolded})}),"toggle"),[2])}})})},s.prototype.dragUpdate=function(e){var o,t;return(0,r.mG)(this,void 0,void 0,function(){var n,i,l,u,c,h;return(0,r.Jh)(this,function(f){switch(f.label){case 0:return n=this.props.config,i=e.nodeId,l=e.dragLink,u=e.position,l&&(c=(0,d.L$8)(n,function(a){return a.__id===l.__id}),n=(0,d.o5f)(n,c,1),u==="self"?(0,d.GyU)(n,function(a){return a.__id===i&&(a.children||(a.children=[]),a.children.push(l)),a}):(h=(0,d.L$8)(n,function(a){return a.__id===i}),u==="bottom"&&h&&h.push(h.pop()+1),n=(0,d.o5f)(n,h,0,l))),this.props.updateConfig(n,"update"),(t=(o=this.props).onOrderChange)===null||t===void 0||t.call(o,n),[4,this.saveOrder((0,d.GyU)(n,function(a){for(var g in a)/^__.*$/.test(g)&&delete a[g];return a}))];case 1:return f.sent(),[2]}})})},s.prototype.saveOrder=function(e){return(0,r.mG)(this,void 0,void 0,function(){var o,t,n,i,l;return(0,r.Jh)(this,function(u){switch(u.label){case 0:return o=this.props,t=o.saveOrderApi,n=o.env,i=o.data,l=o.reload,t&&(0,d.X1t)(t)?[4,n==null?void 0:n.fetcher(t,(0,d.nW9)(i,{data:e}),{method:"post"})]:[3,2];case 1:return u.sent(),l(),[3,3];case 2:this.props.onOrderChange||n==null||n.alert("NAV saveOrderApi is required!"),u.label=3;case 3:return[2]}})})},s.prototype.expandLink=function(e){var o=this.props,t=o.config,n=o.updateConfig;n((0,d.GyU)(t,function(i){return(0,d.hEs)((i==null?void 0:i.children)||[],function(l){return l.__id===e.__id})?(0,r.pi)((0,r.pi)({},i),{expanded:!0}):(0,r.pi)({},i)}),"expand")},s.prototype.handleChange=function(e){var o=this.props,t=o.dispatchEvent,n=o.data;setTimeout(function(){t("change",(0,d.nW9)(n,{value:e}))})},s.prototype.handleSelect=function(e,o){return(0,r.mG)(this,void 0,void 0,function(){var t,n,i,l,u,c,h,f,a;return(0,r.Jh)(this,function(g){switch(g.label){case 0:return t=this.props,n=t.onSelect,i=t.env,l=t.data,u=t.level,c=t.dispatchEvent,h=t.updateConfig,f=t.config,[4,c("click",(0,d.nW9)(l,{item:(0,r.pi)({},e)}))];case 1:return a=g.sent(),a!=null&&a.prevented?[2]:n&&n(e)===!1?[2]:o===u?(h((0,d.GyU)(f,function(p){return(0,r.pi)((0,r.pi)({},p),{active:p.__id===e.__id})}),"select"),[2]):e.expandMore?(this.expandLink(e),[2]):e.to?(i==null||i.jumpTo((0,d.hXT)(e.to,l),e,l),[2]):[2]}})})},s.prototype.render=function(){var e=this.props,o=e.disabled,t=e.loading,n=e.config,i=e.deferLoad,l=e.updateConfig,u=(0,r._T)(e,["disabled","loading","config","deferLoad","updateConfig"]),c=this.getCurrentLink(this.state.currentKey);return y().createElement(ee,(0,r.pi)({},u,{loading:t,links:(c==null?void 0:c.children)||n,collapsed:this.state.collapsed,disabled:o||t,onSelect:this.handleSelect,onToggle:this.toggleLink,onChange:this.handleChange,onDragUpdate:this.dragUpdate}))},s}(y().Component)),he=function(m){(0,r.ZT)(s,m);function s(e,o){var t=m.call(this,e)||this;t.remoteRef=void 0;var n=o;return n.registerComponent(t),t}return s.prototype.remoteConfigRef=function(e){this.remoteRef=e},s.prototype.getRef=function(e){this.navRef=e},s.prototype.componentDidUpdate=function(e){this.remoteRef&&this.props.source!==e.source&&this.remoteRef.syncConfig()},s.prototype.componentWillUnmount=function(){var e=this.context;e.unRegisterComponent(this)},s.prototype.doAction=function(e,o,t,n){var i,l=e==null?void 0:e.actionType,u=(n==null?void 0:n.value)||((i=e==null?void 0:e.data)===null||i===void 0?void 0:i.value);if(l==="updateItems"){var c=this.props.valueField,h=[];if(u){if(Array.isArray(u)){if(u.length>0){var f=u.find(function(_){return _.children&&_.children.length});if(f){var a=c?f[c]:(f==null?void 0:f.key)||(f==null?void 0:f.label);this.navRef.state.currentKey!==a&&(this.navRef.setState({currentKey:a}),h=f.children)}else this.navRef.setState({currentKey:""})}}else if(typeof u=="string"&&this.navRef.state.currentKey!==u){this.navRef.setState({currentKey:u});var g=this.navRef.getCurrentLink(u);h=g==null?void 0:g.children}}if(h.length>0){var p=this.props,C=p.env,E=p.data,v=(0,d.hEs)(h,function(_){return C&&C.isCurrentUrl((0,d.hXT)(_.to,E),_)});C==null||C.jumpTo((0,d.hXT)(v?v.to:h[0].to,E),void 0,E)}}else if(l==="collapse"){var w=typeof u!="undefined"?u:!this.navRef.state.collapsed;this.navRef.setState({collapsed:w})}else l==="reset"&&this.navRef.setState({currentKey:""})},s.prototype.reload=function(e,o,t){var n;if(o)return this.receive(o);var i=this.props,l=i.data,u=i.translate,c=t?(0,d.nW9)(l,t):l;(n=this.remoteRef)===null||n===void 0||n.loadConfig(c)},s.prototype.receive=function(e){this.reload(void 0,void 0,e)},s.prototype.render=function(){var e=this.props,o=e.id,t=(0,r._T)(e,["id"]);return y().createElement(fe,(0,r.pi)({},t,{id:o||(0,d.M8z)(),onRef:this.getRef,reload:this.reload,remoteConfigRef:this.remoteConfigRef}))},s.contextType=d.ZHe,(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],s.prototype,"remoteConfigRef",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],s.prototype,"getRef",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[String,Object,Object]),(0,r.w6)("design:returntype",void 0)],s.prototype,"reload",null),(0,r.gn)([d.NjZ,(0,r.w6)("design:type",Function),(0,r.w6)("design:paramtypes",[Object]),(0,r.w6)("design:returntype",void 0)],s.prototype,"receive",null),s=(0,r.gn)([(0,d.Thl)({type:"nav",alias:["navigation"],name:"nav"}),(0,r.w6)("design:paramtypes",[Object,Object])],s),s}(y().Component)}}]);
